!function(e){function t(r){if(i[r])return i[r].exports;var a=i[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var i={};t.m=e,t.c=i,t.d=function(e,i,r){t.o(e,i)||Object.defineProperty(e,i,{enumerable:!0,get:r})},t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,i){if(1&i&&(e=t(e)),8&i)return e;if(4&i&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&i&&"string"!=typeof e)for(var a in e)t.d(r,a,function(t){return e[t]}.bind(null,a));return r},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=177)}([function(e,t,i){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}i.d(t,"a",(function(){return o}));var a=i(47);const n={NO_APPROPRIATE_VIDEO_SOURCE:52,MEDIA_ERR_ABORTED:101,MEDIA_ERR_NETWORK:102,MEDIA_ERR_SRC_NOT_SUPPORTED:104,VIDEO_ERROR:10,INVALID_VAST_XML:40,YANDEX_INVALID_VAST_XML:40,INCORRECT_SKIPOFFSET_FORMAT:46,YANDEX_INCORRECT_SKIPOFFSET_FORMAT:46,ADFOX_VAST_LOAD_ERROR:47,VAST_LOAD_ERROR:48,NO_AD_SECTION:53,VAST_LOAD_TIMEOUT:60,YANDEX_VAST_LOAD_TIMEOUT:60,NO_INLINE_OR_WRAPPER_NODE:58,YANDEX_NO_INLINE_OR_WRAPPER_NODE:58,INLINE_AND_WRAPPER_NODE_IN_ONE_AD_SECTION:59,YANDEX_INLINE_AND_WRAPPER_NODE_IN_ONE_AD_SECTION:59,VIDEO_TIMEOUT:62,BUFFER_FULL_TIMEOUT:63,BUFFER_EMPTY_LIMIT:64,VPAID_START_TIMEOUT:65,VMAP_CONFIG_WITHOUT_PARTNER_ID:1003,NO_AD_TO_DISPLAY:51,VPAIDLoadingError:68,VPAIDPlayingError:67,VpaidEventBusCallbackError:81,CANNOT_LOAD_VPAID_MEDIA_FILE:82,CANNOT_LOAD_MODULE:91,CANNOT_INIT_MODULE:92,TOO_MANY_CREATE_AD_DISPLAY_CONTROLLER_REQUESTS:21002,PUBLIC_CONTROLLER_PLAY_ERROR:21010,NO_AD_CUSTOM_MARKER:21101};class o extends a.a{constructor(e,t){void 0===e&&(e={}),void 0===t&&(t={});const i=t.message||e.message;var a,o,s;super(e,r({},t,{message:"AdSDK Error ["+(t.code||e.code)+"]"+(i?"["+i+"]":"")})),s=void 0,(o="id")in(a=this)?Object.defineProperty(a,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[o]=s,this.id=function(e){return n[e]||0}(this.code)}}},function(e,t,i){"use strict";function r(e){var t;return(void 0===t&&(t=window),void 0===Q&&(Q=t.JSON),Q).stringify(e,function(){const e=[],t=function(){const e="undefined"!==typeof WeakMap?new WeakMap:void 0,t=[];return{set:(i,r)=>{if(void 0!==e)try{e.set(i,r)}catch(a){t.push({path:r,value:i})}else t.push({path:r,value:i})},get:i=>{const r=Object(G.a)(t,e=>e.value===i);return void 0!==e&&void 0===r?e.get(i):r?r.path:void 0}}}();return(i,r)=>{if(Object(w.a)(r))return Object(X.a)(r.name)?r.name:"[Function]";if(Object(Y.a)(r))return Object(K.c)(r);if(!Object(q.a)(r))return r;const a=t.get(r);if(a)return"[Circular "+a+"]";for(;e.length>0&&e[e.length-1].value[i]!==r;)e.pop();const n=(e.length>0?e[e.length-1].path:"")+(i?"/"+i:"~");return e.push({path:n,value:r}),t.set(r,n),r}}())}function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}var o=i(30);var s=i(16),d=i(18),l=i(35),c=i(41),u=i(101);var h=i(32),p=i(0),A=i(25),m=i(12),v=i(63),f=i(8),b=i(109),_=i(47),g=i(147);const O=Object(g.a)(window);var y=i(80),E=i(102),T=i(72),S=i(38),w=i(11),P=i(69),I=i(132),C=i(53),D=i(44),N=i(43),R=i(133);const k=Object(R.a)(window),V=64;var j=i(42);Object(j.a)({propertyName:"YANDEX_STATS_GLOBAL_CALLBACK_PROPERTY_NAME",win:window});var L=i(46),M=i(58),B=i(103),U=i(104),x=i(99),F=i(135),H=i(136),z=i(137),W=i(145),G=i(45),Y=i(74),q=i(2),X=i(17),K=i(87);let Q;var J=i(60),Z=i(146),$=i(105),ee=i(139),te=i(106);const ie=e=>{let{eventType:t,eventName:i,value:r,values:a}=e;const o={};return Object(D.a)(a,(e,r)=>{o[t+"_"+i+"_"+r]=e}),n({[t+"_"+i]:r},o)},re=n({},ee.a,{[F.a]:String(Z.a.serialize()),bannerTypeFromNanpu:W.a,bundleName:A.c,abFlags:L.a,iCookie:B.a,testIds:U.a,ecmaVer:"ES2017"});class ae{constructor(e){a(this,"rootFields",{}),a(this,"labels",{}),a(this,"params",void 0),a(this,"event",e=>{let{name:t,data:i,labels:r,probability:a,extraRootFields:n,queryParams:o}=e;this.push({eventType:"event",eventName:t,data:i,additionalStatsLabels:r,probability:a,extraRootFields:n,queryParams:o})}),a(this,"error",e=>{let{error:t,labels:i,probability:r,extraRootFields:a}=e;const n=new _.a(t);this.push({eventName:String(n.code),eventType:"fatal",data:n,additionalStatsLabels:i,probability:r,extraRootFields:a})}),a(this,"values",e=>{let{name:t,values:i,data:r,labels:a,probability:n,extraRootFields:o}=e;this.push({eventName:t,eventType:"values",data:r,additionalStatsLabels:a,probability:n,values:i,extraRootFields:o})}),a(this,"warning",e=>{let{name:t,message:i,probability:r,extraRootFields:a}=e;Object(J.a)(i),this.push({eventName:t,eventType:"warning",data:{message:i},probability:r,extraRootFields:a})}),a(this,"getParams",()=>{return function(e,t){if(null==e)return{};var i,r,a={},n=Object.keys(e);for(r=0;r<n.length;r++)i=n[r],t.indexOf(i)>=0||(a[i]=e[i]);return a}(this.params,["onLogError"])}),a(this,"setRootFields",e=>{const t=Object(N.a)(e);Object(f.a)(t,e=>{let[t,i]=e;void 0===i?delete this.rootFields[t]:this.rootFields[t]=i})}),a(this,"setLabels",e=>{const t=Object(N.a)(e);Object(f.a)(t,e=>{let[t,i]=e;void 0===i?delete this.labels[t]:this.labels[t]=i})}),a(this,"errorToStats",(e,t,i)=>{const r=new _.a(e);this.push({eventName:String(r.code),eventType:"fatal",data:r,additionalStatsLabels:t,extraRootFields:i})});const{onLogError:t}=e;this.params=n({},e,{sid:e.sid||Object(S.a)(V),rnd:e.rnd,onLogError:t?e=>{try{t(e)}catch(e){Object(o.a)(e)}}:o.a})}push(e){let{eventName:t,eventType:i,data:a={},additionalStatsLabels:o,value:s=1,probability:l=1,values:c={},extraRootFields:u={},queryParams:h={}}=e;if(!Object(te.a)(l))return;const{service:p,version:A}=this.params,m={service:p,version:A,data:a,eventName:t,eventType:i,additionalStatsLabels:o,value:s,values:c};if(void 0!==ae.sendingEventName)throw new _.a({message:"RecursiveStatsRequests",details:{service:p,version:A,eventType:i,eventName:t,sendingEventName:ae.sendingEventName}});ae.sendingEventName=t;try{const e=Object(d.b)(ne,n({[p]:A,[i]:t},o,h)),a=this.createFullStatsObject(m,u);this.sendData(e,r(a))}catch(v){ae.sendingEventName=void 0,this.params.onLogError(new _.a(v,{details:{service:p,version:A,eventType:i,eventName:t}}))}ae.sendingEventName=void 0}sendData(e,t){(function(e,t){return!!k&&window.navigator.sendBeacon(e,t)})(e,t)||Object(I.a)({url:e,data:t,method:"POST"})}createFullStatsObject(e,t){const{service:i,version:r,eventName:a,eventType:o,data:s,additionalStatsLabels:d,value:l}=e,c=ie(e),u=n({},this.labels,d,{version:this.params.version}),h=Object(N.a)(c),p=Object(C.a)(h),A=Object(N.a)(u),m={service:i,tags:p,labels:Object(C.a)(A)},{location:f,referrer:_}=Object(E.a)(document),g=b.a?Object(H.a)(window):void 0;return n({},t,re,this.rootFields,m,{timestamp:Date.now(),eventType:o,eventName:a,data:s,sid:this.params.sid,version:r,location:Object(T.a)(window),topLocation:f,topAncestor:y.b,isTopAncestorUndetermined:!y.a||void 0,ancestorOrigins:O,documentIsVisible:Object($.a)(document),referrer:window.document.referrer,topReferrer:_,currentScriptSrc:x.a,secureIFrame:P.a,isVideoADB:Object(w.a)(v.a),value:l,rnd:this.params.rnd,topDocumentFocus:Object(z.a)(),pcodeActiveTestIds:M.a.getActiveTestIds(),deviceOrientation:g})}}a(ae,"sendingEventName",void 0),i.d(t,"a",(function(){return ne})),i.d(t,"b",(function(){return oe})),i.d(t,"c",(function(){return se}));const ne="https://jstracer.yandex.ru/jstracer",oe=Object(d.e)(ne).hostname,se=new ae({service:"AdSDKJS",version:String(h.a),sid:c.a,rnd:u.a,onLogError:Object(m.a)(e=>{Object(o.a)(e),se.error({error:new p.a(e,{code:"STATS_LOG_ERROR",details:void 0})})})});void 0===l.a.flags.VAS_STABLE_VERSION&&se.error({error:new p.a({code:"NO_VAS_STABLE_VERSION_IN_AB_FLAGS",details:{WEBPACK_BUNDLE_NAME:A.c}})}),s.a.addErrorHandler(e=>{se.error({error:new p.a(e,{code:"DESTROYABLE_CALLBACK_ERROR",details:void 0})})})},function(e,t,i){"use strict";function r(e){const t=typeof e;return Boolean(e)&&("object"===t||"function"===t)}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";function r(e){var t;const i=(a.a||window).console;if(!o.a||void 0===i)return;const r="AdSDKJS["+s.c+"]:";null===(t=i.log)||void 0===t||t.call(i,r,e)}var a=i(26),n=i(98);Object(n.a)(window);i(99);var o=i(100),s=(i(156),i(25)),d=i(42);Object(d.a)({propertyName:"DEBUG_LOG_GLOBAL_CALLBACK_PROPERTY_NAME",win:window});i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";function r(e){return Object(a.a)(e)&&e.length>0}i.d(t,"a",(function(){return r}));var a=i(17)},function(e,t,i){"use strict";function r(){return Math.random()<d}i.d(t,"b",(function(){return s})),i.d(t,"e",(function(){return r})),i.d(t,"a",(function(){return c})),i.d(t,"c",(function(){return u})),i.d(t,"d",(function(){return h}));var a=i(106),n=i(35),o=i(100);const s=1,d=.001,l=o.a||n.a.isInternalNetwork||!1,c=l?s:.05,u=l?s:d,h=Object(a.a)(c)},function(e,t,i){"use strict";function r(){}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));const r=(e,t,i)=>{const r=new Array(e.length);for(let a=0;a<e.length;a++)r[a]=t.call(i,e[a],a,e);return r}},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));const r=(e,t,i)=>{for(let r=0;r<e.length;r++)t.call(i,e[r],r,e)}},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var r=i(13),a=i(123);class n extends r.a{constructor(e,t){void 0===t&&(t=(e,t)=>e===t),super(),this.checkToEqualFunction=t,this.value=e}getValue(){return this.value}subscribeValueCondition(e,t){return this.add(i=>{e(i)&&Object(a.a)(t,i)})}subscribeValueConditionOnce(e,t){const i=this.subscribeValueCondition(e,e=>{i(),Object(a.a)(t,e)});return i}dispatch(e){this.checkToEqualFunction(this.value,e)||(this.value=e,super.dispatch(e))}}},function(e,t,i){"use strict";function r(e){if("function"===typeof Object.keys)return Object.keys(e);{const t=[];for(const i in e)Object(a.a)(e,i)&&t.push(i);return t}}i.d(t,"a",(function(){return r}));var a=i(73)},function(e,t,i){"use strict";function r(e){return"function"===typeof e||"Function"===Object(a.a)(e)}i.d(t,"a",(function(){return r}));var a=i(55)},function(e,t,i){"use strict";function r(e){let t=function(){let i;return t=()=>i,i=e.apply(this,arguments)};return function(){return t.apply(this,arguments)}}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";function r(e,t){e.forEach(e=>{Object(a.a)(e,t)})}var a=i(123);i.d(t,"a",(function(){return n}));class n{constructor(){this.on=[],this.once=[]}add(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.on.push(...t),()=>this.remove(...t)}addOne(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.once.push(...t),()=>this.remove(...t)}promise(){return new Promise(e=>this.addOne(e))}dispatch(e){const{once:t}=this;this.once=[],r(this.on,e),r(t,e)}removeAll(){this.on.length=0,this.once.length=0}remove(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.on=this.on.filter(e=>t.indexOf(e)<0),this.once=this.once.filter(e=>t.indexOf(e)<0)}}},function(e,t,i){"use strict";function r(e){let{element:t,eventName:i,listener:r,options:l,ignoreBubbling:c=!1}=e;const u=c?function(e){e.target===t&&r.call(this,e)}:r,h=function(e){let t=!1,i=!1,r=!1;return!0===e?t=!0:"object"===typeof e&&(t=Boolean(e.capture),i=Boolean(e.passive),r=Boolean(e.once)),{capture:t,passive:i,once:r}}(l),p=n.a?h:h.capture,A=h.once&&!n.b?function(e){m(),u.call(this,e)}:u,m=()=>{Object(a.b)(t,i,A,p)};try{Object(a.a)(t,i,A,p)}catch(v){const e=Object(s.a)(v)?v:new o.a({code:"ADD_EVENT_LISTENER_FUNCTION_CALL_ERROR",details:{error:v}});throw d.c.error({error:e}),e}return m}i.d(t,"a",(function(){return r}));var a=i(79),n=i(115),o=i(0),s=i(49),d=i(1)},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));const r=(e,t,i)=>{const r=[];for(let a=0;a<e.length;a++){const n=e[a];t.call(i,n,a,e)&&r.push(n)}return r}},function(e,t,i){"use strict";i(47);var r=i(97);const a=function(e,t){void 0===e&&(e=document);const i=e.currentScript;if(i)return i;{const i=e.getElementsByTagName("script"),r=[];for(let e=0;e<i.length;e++)r.push(i[e]);if("function"===typeof t){const e=r.filter(t);return e[e.length-1]}return r[r.length-1]}}();a&&a.src;i(38);var n=i(33),o=i(42);Object(o.a)({propertyName:"YANDEX_DESTROYABLE_GLOBAL_CALLBACK_PROPERTY_NAME",win:window});i.d(t,"a",(function(){return s}));class s{constructor(){this._isDestroyed=!1,this.destroyHandlers=[]}get destroyReason(){return this._destroyReason}get isDestroyed(){return this._isDestroyed}static addErrorHandler(e){s.errorHandlers.push(e)}onDestroy(e){this._addDestroyHandler(e)}addDestroyListener(e){this._addDestroyHandler(e)}addDestroyHandler(e){this._addDestroyHandler(e)}destroy(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const[a]=t;if(!this._isDestroyed){this._isDestroyed=!0,this._destroyReason=a;try{Object(r.a)(this.destroyHandlers,...t)}catch(n){Object(r.a)(s.errorHandlers,n)}this.destroyHandlers.length=0}}getIsDestroyed(){return this._isDestroyed}ignoreAfterDestroy(e){var t=this;let i=e;return function(){t.isDestroyed&&(i=n.a);for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];i.apply(t,r)}}_addDestroyHandler(e){this._isDestroyed?e(this._destroyReason):this.destroyHandlers.push(e)}}s.errorHandlers=[]},function(e,t,i){"use strict";function r(e){return"string"===typeof e}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function a(e){A.a.href=e;let t=A.a.pathname||"";"/"!==t.charAt(0)&&(t="/"+t);const i=(A.a.search||"")+(A.a.hash||""),n=e.lastIndexOf(i),o=-1===n?e:e.slice(0,n);if(m.test(e)){const t=a(e.replace(m,"https:"));return A.a.href=e,r({},t,{originalPath:o,protocol:e.slice(0,e.indexOf(":")+1),href:A.a.href})}const s=A.a.protocol&&/^[a-z\-]+:/i.test(A.a.protocol)?A.a.protocol:"";return{originalPath:o,href:A.a.href,protocol:s,host:A.a.host,hostname:A.a.hostname,port:A.a.port,pathname:t,search:A.a.search,hash:A.a.hash}}function n(e,t){if(void 0===t&&(t=!1),t){const t=e.originalPath,i="/"===e.pathname&&"/"!==t[t.length-1];return e.originalPath+(i?"/":"")+e.search+e.hash}const i="443"===e.port||"80"===e.port?e.hostname:e.host;return e.protocol+"//"+i+e.pathname+e.search+e.hash}function o(e){const t={},i=e.replace(/^[?#]+/,"").replace(/#.*$/,"").split("&");for(let r=0;r<i.length;r++){const e=i[r].indexOf("=");let a,n;if(-1===e?(a=v(i[r]),n=""):(a=v(i[r].slice(0,e)),n=i[r].slice(e+1)),a){const e=Boolean(/(\[\])$/.exec(a));a=a.replace(/\[\]$/,""),e?void 0===t[a]?t[a]=[v(n)]:t[a]=[].concat(t[a],v(n)):t[a]=v(n)}}return t}function s(e){return o(a(e).search)}function d(e){const t=[];for(const i in e)if(e.hasOwnProperty(i)){const r=e[i];Object(u.a)(r)?t.push(f(i,r)):void 0!==r&&t.push(i+"="+encodeURIComponent(r))}return"?"+t.join("&")}function l(e,t,i){if(void 0===i)return e;const s=a(e),l=o(s.search);return l[t]=i,n(r({},s,{search:d(l)}))}function c(e,t,i){let{override:s=!0,saveOriginalPath:l=!1}=void 0===i?{}:i;const c=a(e),u=o(c.search);return Object(p.a)(t,(e,t)=>{(void 0===u[t]||s)&&(u[t]=e)}),n(r({},c,{search:d(u)}),l)}i.d(t,"e",(function(){return a})),i.d(t,"f",(function(){return n})),i.d(t,"d",(function(){return o})),i.d(t,"c",(function(){return s})),i.d(t,"a",(function(){return l})),i.d(t,"b",(function(){return c}));var u=i(39),h=i(129),p=i(44),A=i(37);Object(h.a)(e=>{return r({},a(e))});const m=/^(android-app:|chrome-extension:)/,v=e=>{try{return decodeURIComponent(e)}catch(t){return e}},f=(e,t)=>t.map(t=>e+"[]="+encodeURIComponent(t)).join("&")},function(e,t,i){"use strict";function r(e,t){return-1!==Object(a.a)(e,t)}i.d(t,"a",(function(){return r}));var a=i(134)},function(e,t,i){"use strict";i.d(t,"a",(function(){return r})),i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return n})),i.d(t,"d",(function(){return o}));const r=["a","n.ya","nd","ex.ru"].join(""),a=["y","a","nde","x.ru"].join(""),n=["ya","sta","tic.net"].join(""),o=[a,r,n]},function(e,t,i){"use strict";function r(e,t){var i,r=e[1]||"",a=e[3];if(!a)return r;if(t&&"function"===typeof btoa){var n=(i=a,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),o=a.sources.map((function(e){return"/*# sourceURL="+a.sourceRoot+e+" */"}));return[r].concat(o).concat([n]).join("\n")}return[r].join("\n")}e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i=r(t,e);return t[2]?"@media "+t[2]+"{"+i+"}":i})).join("")},t.i=function(e,i){"string"===typeof e&&(e=[[null,e,""]]);for(var r={},a=0;a<this.length;a++){var n=this[a][0];null!=n&&(r[n]=!0)}for(a=0;a<e.length;a++){var o=e[a];null!=o[0]&&r[o[0]]||(i&&!o[2]?o[2]=i:i&&(o[2]="("+o[2]+") and ("+i+")"),t.push(o))}},t}},function(e,t,i){"use strict";i.d(t,"g",(function(){return o})),i.d(t,"k",(function(){return s})),i.d(t,"c",(function(){return d})),i.d(t,"d",(function(){return l})),i.d(t,"i",(function(){return c})),i.d(t,"j",(function(){return u})),i.d(t,"a",(function(){return h})),i.d(t,"b",(function(){return p})),i.d(t,"h",(function(){return A})),i.d(t,"e",(function(){return m})),i.d(t,"f",(function(){return v}));var r=i(61),a=i(86);const n=r.a?Object(a.b)(r.a):void 0;r.a&&Object(a.a)(r.a);const o=null===n||void 0===n?void 0:n.SID,s=null===n||void 0===n?void 0:n.VSID,d=null===n||void 0===n?void 0:n.ICOOKIE,l=null===n||void 0===n?void 0:n.LOADER_LOADED_FROM_AN_YANDEX_RU,c=null===n||void 0===n?void 0:n.TEST_IDS,u=null===n||void 0===n?void 0:n.VAS_UAAS_CONFIG,h=null===n||void 0===n?void 0:n.AB_FLAGS,p=null===n||void 0===n?void 0:n.AB_FLAGS_STORE,A=null===n||void 0===n?void 0:n.AdditionalStatsRootFields,m=null===n||void 0===n?void 0:n.VAS_USER_SESSION_RANDOM,v=null===n||void 0===n?void 0:n.RUM_WRAPPER},function(e,t,i){(t=e.exports=i(21)(!1)).push([e.i,"",""]),t.locals={AD_FONT:'YS Text, -apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", "Roboto", "Helvetica", "Arial", sans-serif'}},function(e,t,i){"use strict";function r(e){if(!e||!e.toString)return!1;const t=e.toString();return/\[native code\]/.test(t)||/\/\* source code not available \*\//.test(t)}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){return n}));const r="",a="AdLoader",n=1633615456492},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var r=i(78);const{length:a}=r.a,n=a>0?r.a[a-1].ownerDocument.defaultView:window},function(e,t,i){"use strict";function r(e,t){const i={UrlParams:()=>m[t],SessionStorage:()=>e.sessionStorage.getItem(t),LocalStorage:()=>e.localStorage.getItem(t),GlobalVariable:()=>{for(const a of Object(o.a)(e)){var i,r;const e=null===(i=a.Ya)||void 0===i?void 0:null===(r=i.hardcodedParams)||void 0===r?void 0:r[t];if(e)return String(e)}}};for(const[r,a]of Object(d.a)(i)){const e=Object(p.a)(a);if(Object(l.a)(e))return Object(A.a)("VAS WARNING! Hardcoded parameter=["+t+"] with value=["+e+"] found in ["+r+"]"),e}}function a(e,t,i){const a=r(e,t);return a?Number(a):function(e){const t=100*Object(u.a)();let i=0;for(let r=0;r<e.length;r++)if(t<(i+=e[r].percent))return e[r].id;return e[0].id}(i)}var n=i(67),o=i(84),s=i(130),d=i(43),l=i(4),c=i(18),u=i(59),h=i(68),p=i(51),A=i(60);i.d(t,"b",(function(){return r})),i.d(t,"a",(function(){return a}));const m={},v=Object(s.a)(document);for(const{location:f}of v){const e=Object(c.c)(f);Object(n.a)(e,(e,t)=>{0===h.b[t]&&(m[t]=e)})}},function(e,t,i){"use strict";function r(e){if(!e)return;const{parentElement:t}=e;t&&t.removeChild(e)}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var r=i(84),a=i(11),n=i(75),o=i(122);const s=function(e){if(void 0===e&&(e=window),o.a)return o.a;const t=Object(r.a)(e);for(;t.length;){const e=t.pop();if(!e)continue;const i=Object(n.a)(e,"ya.videoAd.encodeUrl");if(Object(a.a)(i))return i}}},function(e,t,i){"use strict";function r(e){setTimeout(()=>{throw e},0)}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));const r=e=>{let t=0;return{promise:new Promise(i=>{t=window.setTimeout(i,e)}),clear(){clearTimeout(t)},timeoutId:t}}},function(e,t,i){"use strict";let r;i.d(t,"b",(function(){return r})),i.d(t,"a",(function(){return a}));try{r={build:434168,code:[{id:434168,percent:100}]}}catch(n){r={}}const a=r.build},function(e,t,i){"use strict";function r(){}i.d(t,"a",(function(){return r}))},function(e,t,i){(t=e.exports=i(21)(!1)).i(i(23),""),t.push([e.i,".croF6dfV7h{position:absolute;z-index:1;box-sizing:border-box;overflow:hidden;background-color:#fff;opacity:0;transition:opacity .1s ease-in,height .1s ease-in;pointer-events:none;will-change:opacity,height}.croF6dfV7h:not(.AobIZD2){visibility:hidden}.AobIZD2{opacity:1;pointer-events:auto}.croF6dfV7h:not(.Db6Z1g){top:36px;right:4px;width:240px;border-radius:16px;box-shadow:4px 4px 40px rgba(0,21,64,.22)}.Db6Z1g{top:0;right:0;bottom:0;left:0}.a6avHUq{box-sizing:border-box;padding:8px}.Db6Z1g .a6avHUq{height:100%;overflow:auto}.YDWQsgr{display:flex;align-items:center;height:36px}.u5tbgAjLAS{box-sizing:border-box;width:100%;height:112px;padding:8px 12px;color:#575c66;font-size:14px;font-family:"+i(23).locals.AD_FONT+";line-height:20px;background-color:#f4f6fb;border-color:transparent;border-radius:8px;outline:none;resize:none;pointer-events:auto}.u5tbgAjLAS:focus{border-color:#498bff}.gUmuR6lAyq{margin-top:8px;background-color:#498bff;border-radius:8px}.gUmuR6lAyq:hover{background-color:#2e71e5}.sD1JtCy0{justify-content:center;height:26px;color:#fff;font-weight:400;line-height:20px}.Zl9XdmCq6I{padding:8px;color:#3a3d40}.sD1JtCy0,.RKDf7GeaN,.Zl9XdmCq6I{font-size:15px}.RKDf7GeaN{color:#a3acbf;line-height:16px;word-break:break-word}.hk81WwRI .RKDf7GeaN,.J7m9 .RKDf7GeaN{padding:10px 8px}.a7W3mCHhn7 .RKDf7GeaN{margin-right:15px;margin-left:10px}.RKDf7GeaN,.Zl9XdmCq6I{font-weight:600;font-family:"+i(23).locals.AD_FONT+";line-height:16px}.zvltbC{display:flex;align-items:center;justify-content:center;width:28px;height:28px;margin-right:2px;margin-left:2px;border-radius:50%;cursor:pointer;transition:background-color .1s ease-in;pointer-events:auto}.zvltbC:hover{background-color:#f4f8ff}.Gsmbex0ZiT{display:flex;flex-direction:column}.tTXJybFJl8{max-height:70px;margin:8px;overflow-y:auto;color:#a3acbf;font-size:11px;font-family:"+i(23).locals.AD_FONT+";line-height:14px;white-space:pre-line}.Db6Z1g .tTXJybFJl8{margin-right:18px}",""]),t.locals={AD_FONT:""+i(23).locals.AD_FONT,AbuseDisplay:"croF6dfV7h",AbuseDisplay_visible:"AobIZD2",AbuseDisplay_fullSize:"Db6Z1g",AbuseDisplay__content:"a6avHUq",AbuseDisplay__customReasonDisplayHeader:"YDWQsgr",AbuseDisplay__customReasonDisplayTextarea:"u5tbgAjLAS",AbuseDisplay__customReasonDisplayButton:"gUmuR6lAyq",AbuseDisplay__customReasonDisplayButtonContent:"sD1JtCy0",AbuseDisplay__text:"Zl9XdmCq6I",AbuseDisplay__hint:"RKDf7GeaN",AbuseDisplay__complaintDisplay:"hk81WwRI",AbuseDisplay__hideDisplay:"J7m9",AbuseDisplay__customReasonDisplay:"a7W3mCHhn7",AbuseDisplay__arrowLeftIcon:"zvltbC",AbuseDisplay__messageBox:"Gsmbex0ZiT",AbuseDisplay__legal:"tTXJybFJl8"}},function(e,t,i){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}var a=i(12),n=(i(168),i(8)),o=i(39),s=i(74),d=i(10),l=i(2),c=i(17),u=i(114);const h=(e,t)=>{if(!Object(l.a)(t))throw new Error("Parsed replaced macro is not an object: "+e);if(function(e){if(void 0!==e){if(!Object(c.a)(e))throw new Error("testIdsString is not a string or undefined ["+e+"]");if(0===e.length)throw new Error("testIdsString string is empty");for(const t of e.split(";")){const i=t.split(",");if(3!==i.length)throw new Error("testIdParts length error ["+e+"]");const[r,,a]=i;if(0===r.trim().length)throw new Error("testId length error ["+e+"]");if(0===a.trim().length)throw new Error("testId bucket length error ["+e+"]")}}}(t.testIds),!("flags"in t)||!Object(l.a)(t.flags))throw new Error("Parsed replaced macro has no flags field: "+e);return!0},p=e=>{const t=function(e,t){if(null==e)return{};var i,r,a={},n=Object.keys(e);for(r=0;r<n.length;r++)i=n[r],t.indexOf(i)>=0||(a[i]=e[i]);return a}(e,["expFlags"]),i={},a={};return Object(n.a)(e.expFlags,e=>{Object(n.a)(e,e=>{let{CONTEXT:{FLAGS:t},TESTID:r}=e;Object(l.a)(t)&&Object(n.a)(Object(d.a)(t),e=>{var n;const o=t[e];i[e]=o,a[e]=null!==(n=a[e])&&void 0!==n?n:[],a[e].push({value:o,testId:r[0]})})})}),r({flags:i,flagsMap:a},t)},A={testIds:"",flags:{}};const m=Object(a.a)(()=>{try{return null!==u.a&&void 0!==u.a?u.a:__UAAS_CFG__}catch(e){return e}}),v=e=>{if(Object(s.a)(e))return{error:e,config:A};try{const t=Object(l.a)(e)?e:JSON.parse(""+(e||"")),i=(e=>!!Object(l.a)(e)&&!!("expFlags"in e&&Object(o.a)(e.expFlags)))(t)?p(t):t;if(!h(String(e),i))throw new Error("UAAS config is not valid: "+e);return{error:void 0,config:i}}catch(t){return{error:t,config:A}}},f=Object(a.a)(()=>v(m()));var b=i(22);i.d(t,"a",(function(){return O})),i.d(t,"b",(function(){return y}));let _,g=b.j||A;try{const e=f();if(e.error)throw e.error;g=e.config}catch(E){_=E}const O=g,y=_},function(e,t,i){(t=e.exports=i(21)(!1)).push([e.i,"",""]),t.locals={NORMAL_BUTTON_HEIGHT:"32px",MIDDLE_BUTTON_HEIGHT:"40px",NORMAL_BUTTON_LEFT_RIGHT_MARGIN:"8px",MIDDLE_BUTTON_LEFT_RIGHT_MARGIN:"12px"}},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));const r=document.createElement("a")},function(e,t,i){"use strict";function r(e){let t="";for(let i=0;i<e;i++)t+=(16*Object(a.a)()|0).toString(16);return t}i.d(t,"a",(function(){return r}));var a=i(59)},function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var r=i(55),a=i(89);const n=Object(a.a)(Array,"isArray"),o=Boolean(n)?e=>n.call(Array,e):e=>"Array"===Object(r.a)(e)},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));const r=function(e,t,i){let r=0;for(arguments.length<3&&(r=1,i=e[0]);r<e.length;r++)i=t(i,e[r],r,e);return i}},function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var r=i(38),a=i(3),n=i(22);const o=n.g||Object(r.a)(64);Object(a.a)((n.g?"Use existing SID":"Generate new SID")+" ["+o+"]")},function(e,t,i){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}var a=i(126),n=i(33);const o=n.a,s=n.a;i.d(t,"a",(function(){return d}));const d=e=>{let{win:t,propertyName:i}=e;return{call:e=>Object(a.a)(r({win:t,propertyName:i},e)),subscribe:e=>s(r({win:t,propertyName:i},e)),wait:e=>(e=>{let{propertyName:t,win:i}=e;return new Promise(e=>{s({callback:function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return e(i)},propertyName:t,win:i})})})(r({win:t,propertyName:i},e)),waitUntil:e=>(e=>{let{propertyName:t,win:i,comparator:r}=e;return new Promise(e=>{s({propertyName:t,win:i,callback:function(){r(...arguments)&&e()}})})})(r({win:t,propertyName:i},e)),clear:e=>o(r({win:t,propertyName:i},e))}}},function(e,t,i){"use strict";function r(e){return"function"===typeof Object.entries?Object.entries(e):Object(a.a)(e).map(t=>[t,e[t]])}i.d(t,"a",(function(){return r}));var a=i(10)},function(e,t,i){"use strict";function r(e,t,i){for(const r in e)Object(a.a)(e,r)&&t.call(i,e[r],r,e)}i.d(t,"a",(function(){return r}));var a=i(73)},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var r=i(24);const a=[].find,n=Object(r.a)(a)?(e,t)=>a.call(e,t):(e,t)=>{for(let i=0;i<e.length;i++){const r=e[i];if(t(r,i,e))return r}}},function(e,t,i){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}i.d(t,"a",(function(){return v}));var a=i(40),n=i(26),o=(i(2),i(17)),s=i(18),d=i(35),l=i(22),c=i(27);const u=d.a.flags;const h=Object(s.d)(location.search).adsdkabflags,p=Object(c.b)(n.a,"adsdkabflags"),A=null!==h&&void 0!==h?h:p,m=Object(o.a)(A)?Object(a.a)(A.split(","),(e,t)=>{const[i,a]=t.split("=");return r({},e,{[i]:a})},{}):{},v=r({},{},u,l.a,m)},function(e,t,i){"use strict";function r(e){return void 0===e&&(e=window),void 0===u&&(u=function(e){void 0===e&&(e=window);return e.JSON&&Object(c.a)(e.JSON.stringify)&&Object(c.a)(e.JSON.parse)}(e)?e.JSON:{stringify:p("stringify"),parse:p("parse")}),u}function a(e){return r().stringify(e,function(){const e=[],t=function(){const e="undefined"!==typeof WeakMap?new WeakMap:void 0,t=[];return{set:(i,r)=>{if(void 0!==e)try{e.set(i,r)}catch(a){t.push({path:r,value:i})}else t.push({path:r,value:i})},get:i=>{const r=Object(o.a)(t,e=>e.value===i);return void 0!==e&&void 0===r?e.get(i):r?r.path:void 0}}}();return(i,r)=>{if(Object(s.a)(r))return Object(m.a)(r.name)?r.name:"[Function]";if(!Object(A.a)(r))return r;const a=t.get(r);if(a)return"[Circular "+a+"]";for(;e.length>0&&e[e.length-1].value[i]!==r;)e.pop();const n=(e.length>0?e[e.length-1].path:"")+(i?"/"+i:"~");return e.push({path:n,value:r}),t.set(r,n),r}}())}var n=i(15),o=i(45),s=i(11),d=i(128),l=i(28),c=i(24);let u;const h=function(e){void 0===e&&(e=document.body);const t=function(e){const t=Object(d.a)(e);return t.width="0",t.height="0",t.style.position="absolute",t}(e);return{JSON:t.contentWindow.JSON,clean:()=>(function(e){e.src="",Object(l.a)(e)})(t)}},p=e=>t=>{const{JSON:i,clean:r}=h();try{return i[e](t)}finally{r()}};var A=i(2),m=i(17);const v={message:"DEFAULT_ERROR_MESSAGE",code:0,details:"",stack:"?:?:?",isFatal:!0};i.d(t,"a",(function(){return b}));const f=i(170);class b extends Error{constructor(e,t){void 0===t&&(t={});const i="object"===typeof e?e:{message:String(e||v.message)};super(),f(this,b.prototype),this.message=t.message||i.message||v.message,this.code=t.code||i.code||i.id||v.code,this.isFatal=Boolean(function(e){const[t]=Object(n.a)(e,e=>void 0!==e);return t}([t.isFatal,i.isFatal,v.isFatal])),this.details=t.details||i.details||v.details;const r=t.stack||i.stack||function(e){const{url:t,line:i,col:r,fileName:a,columnNumber:n,lineNumber:o}=e;return(t||a||"?")+":"+(i||o||"?")+":"+(r||n||"?")}(i);let o=r===v.stack?this.stack:r;if(o&&o!==v.stack)this.stack=o;else if(!this.stack)try{throw new Error(this.message)}catch(s){this.stack=o=s.stack||v.stack}this.toString=()=>a(this.toJSON()),this.toJSON=()=>({message:this.message,code:this.code,isFatal:this.isFatal,details:this.details,stack:o})}}},function(e,t,i){"use strict";var r=i(10),a=i(2),n=i(4),o=i(51);i.d(t,"b",(function(){return l})),i.d(t,"a",(function(){return c}));const{rootFields:s,extractionError:d}=(e=>{let t,i;return{rootFields:t=Object(o.a)(()=>(e=>{var t,i;const o=null===e||void 0===e?void 0:null===(t=e.ya)||void 0===t?void 0:null===(i=t.videoAd)||void 0===i?void 0:i.statsRootParams;if(Object(a.a)(o)){const e={},{vsid:t,contentPlayerVersion:i,pcodeVersion:a,widgetVersion:s}=o;if(Object(n.a)(t)&&(e.vsid=t),Object(n.a)(i)&&(e.contentPlayerVersion=i),Object(n.a)(a)&&(e.pcodeVersion=a),Object(n.a)(s)&&(e.widgetVersion=s),Object(r.a)(e).length>0)return e}})(e),e=>{i=e})||void 0,extractionError:i}})(window),l=s,c=d},function(e,t,i){"use strict";function r(e){return Object(a.a)(e)&&Boolean(e.code)}i.d(t,"a",(function(){return r}));var a=i(87)},function(e,t,i){(t=e.exports=i(21)(!1)).push([e.i,".obfkCv1Ha{border-radius:16px;cursor:pointer;transition:background-color .1s ease-in;will-change:background-color}.obfkCv1Ha:not(.WrgynP),.WrgynP{background-color:rgba(35,37,38,.1)}.obfkCv1Ha:not(.WrgynP):hover,.WrgynP:hover{background-color:rgba(35,37,38,.4)}.GxCl4HiWF{transform:translate(12px,12px);will-change:transform}.pbi{transform:rotate(45deg);opacity:0}.EY7w3XyPC,.pbi{transition:transform .1s ease-in,opacity .1s ease-in;will-change:transform,opacity}.WrgynP .EY7w3XyPC{opacity:0}.WrgynP .pbi{opacity:1}.WrgynP .vucAh5{transform:translateY(6px)}.WrgynP .yMek8JK{transform:translateY(-6px)}.WrgynP .jTwdBqmM{transform:rotate(0deg)}.WrgynP .N9wDTyfiUF{transform:rotate(90deg)}",""]),t.locals={AbuseAnimationIcon:"obfkCv1Ha",AbuseAnimationIcon_cross:"WrgynP",AbuseAnimationIcon__lines:"GxCl4HiWF",AbuseAnimationIcon__line:"pbi",AbuseAnimationIcon__dot:"EY7w3XyPC",AbuseAnimationIcon__dot_top:"vucAh5",AbuseAnimationIcon__dot_bottom:"yMek8JK",AbuseAnimationIcon__line_left:"jTwdBqmM",AbuseAnimationIcon__line_right:"N9wDTyfiUF"}},function(e,t,i){"use strict";function r(e,t){try{return e()}catch(i){"function"===typeof t&&t(i)}}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";function r(e){let t=function(){let i;return t=()=>i,i=e.apply(this,arguments)};return function(){return t.apply(this,arguments)}}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";function r(e){const t={};return e.forEach(e=>{let[i,r]=e;t[i]=r}),t}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";function r(e,t){return function(){try{e(...arguments)}catch(i){h.c.error({error:new c.a(i,{code:t})}),Object(v.a)(i)}}}function a(e,t,i){var r,a,n,o,s,d,l;const c=null===(r=i.ya)||void 0===r?void 0:null===(a=r.videoAd)||void 0===a?void 0:null===(n=a.loadedModules)||void 0===n?void 0:n[e];return c||(void 0!==t?null===(o=i.ya)||void 0===o?void 0:null===(s=o.videoAd)||void 0===s?void 0:null===(d=s.modules)||void 0===d?void 0:null===(l=d[t])||void 0===l?void 0:l[e]:void 0)}function n(e){let{moduleName:t,version:i=d.a,onSuccess:n,onError:v,win:f,timeout:b}=e,_="loading";const O=Date.now(),E=Object(m.a)(r(e=>{_="success";const r=Date.now()-O;h.c.values({name:"ModuleLoaded",labels:{bundleName:t},data:{loaderVersion:l.a,bundleVersion:i},values:{timeSpent:r}}),n(e)},"LOAD_MODULE_CALLBACK_ERROR")),T=Object(m.a)(r(e=>{_="error",h.c.error({error:e}),v(e)},"LOAD_MODULE_CALLBACK_ERROR")),S=a(t,i,f);if(S)return E(S),A.a;const w=P({version:i,bundleName:t,win:f,ecmaVersion:g}),{promise:I,teardown:C}=N({src:w,win:f}),{promise:D,clear:R}=Object(o.a)(b),k=Object(p.a)({element:f,eventName:"unload",listener:()=>{T(new c.a({code:"LOAD_MODULE_REJECTED_BY_WINDOW_UNLOAD",details:{moduleName:t,version:i,timeout:b}}))}}),V=()=>{k(),R()};return D.then(()=>{T(new c.a({code:"LOAD_MODULE_TIMEOUT",details:{moduleName:t,version:i,timeout:b}}))}),I.then(()=>{V();const e=a(t,i,f),r=y(t);e?(u.a&&s.a.logTimingAndLoadRum(r,w),E(e)):T(new c.a({code:"CANNOT_INIT_MODULE",details:{moduleName:t,version:i}}))}).catch(e=>{V(),T(new c.a(e,{code:"CANNOT_LOAD_MODULE",details:{moduleName:t,version:i}}))}),()=>{V(),C(),"loading"===_&&h.c.event({name:"LoadModuleTeardownCalled",data:void 0})}}var o=i(31),s=i(108),d=i(107),l=i(32),c=i(0),u=i(141),h=i(1),p=i(14),A=i(6),m=i(12),v=i(30),f=i(133);const b=(e=>(e=>{try{if("noModule"in e.HTMLScriptElement.prototype)return!0}catch(t){}return!1})(e)&&Object(f.a)(e))(window);var _=i(120);const g=(()=>"ES2017"===_.a?"ES2017":"ES5"===_.a?"ES5":b?"ES2017":"ES5")();var O=i(142);const y=e=>O.b[e]+".bundle.js";var E=i(29),T=i(11),S=i(143),w=i(110);const P=e=>{let{bundleName:t,win:i,ecmaVersion:r,version:a}=e;const n=S.a[r],o=Object(E.a)(i),s=y(t),d=""+Object(w.a)(a)+n+"/"+s;return Object(T.a)(o)?o(d):d};var I=i(111),C=i(121);const D=e=>{var t;(e=>{e.crossOrigin="anonymous"})(e),null===(t=C.a.onBeforeLoad)||void 0===t||t.call(C.a,e)},N=e=>{let{src:t,win:i}=e;return Object(I.a)({src:t,onBeforeLoad:D,win:i})};i.d(t,"a",(function(){return R})),i.d(t,"b",(function(){return n}));const R=3e4},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));const r={}.toString,a=/\[object (\w+)\]/,n=e=>{const t=r.call(e);if(!t)return null;const i=t.match(a);if(!i)return null;const n=i[1];return n||null}},function(e,t,i){"use strict";function r(e){void 0===e&&(e=window);try{return(e.navigator||{}).userAgent||""}catch(t){return""}}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";function r(e){if(!e)return[];const t=[];for(let i=0;i<e.length;i++)t.push(e[i]);return t}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var r=i(112),a=i(22);const n=null!==a.b&&void 0!==a.b?a.b:r.a},function(e,t,i){"use strict";var r=i(24);const a=!Object(r.a)(Math.random)||Math.random()===Math.random();var n=i(119),o=i(11);const s="undefined"===typeof window?void 0:window.performance,d=s&&Object(o.a)(s.now),l=s&&s.timing&&s.timing.navigationStart?s.timing.navigationStart:Object(n.a)();let c=0;const u=d?()=>s.now():()=>(()=>{const e=Object(n.a)()-l;return c=Math.max(e,c)})(),h=2147483647,p=16807;let A=Date.now()*u()%h;const m=h-1;i.d(t,"a",(function(){return v}));const v=a?function(){return((A=A*p%h)-1)/m}:function(){return Math.random()}},function(e,t,i){"use strict";function r(e){Object(n.a)(console)&&Object(a.a)(console.warn)&&console.warn(e)}i.d(t,"a",(function(){return r}));var a=i(11),n=i(2)},function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var r=i(45),a=i(57),n=i(86);let o=document.currentScript;if(!o){const e=Object(a.a)(document.getElementsByTagName("script"));(o=Object(r.a)(e,n.c))||(o=e[e.length-1])}const s=o},function(e,t,i){(t=e.exports=i(21)(!1)).i(i(36),""),t.push([e.i,".aR7,.GlCjzpMRj,.BFzw2ImP9{position:static}.KnR,.seJOnRIs{display:flex;align-items:center;justify-content:center}.seJOnRIs{width:"+i(36).locals.NORMAL_BUTTON_HEIGHT+";height:"+i(36).locals.NORMAL_BUTTON_HEIGHT+"}.X76{width:"+i(36).locals.MIDDLE_BUTTON_HEIGHT+";height:"+i(36).locals.MIDDLE_BUTTON_HEIGHT+"}.UZs00{width:29px;height:24px}.Dsc4{position:relative;bottom:1px;margin-right:"+i(36).locals.NORMAL_BUTTON_LEFT_RIGHT_MARGIN+"}.YUrgZc2LR6{white-space:nowrap;transform-origin:left center}.xiH1x4Hlll{margin-right:"+i(36).locals.MIDDLE_BUTTON_LEFT_RIGHT_MARGIN+"}",""]),t.locals={NORMAL_BUTTON_HEIGHT:""+i(36).locals.NORMAL_BUTTON_HEIGHT,MIDDLE_BUTTON_HEIGHT:""+i(36).locals.MIDDLE_BUTTON_HEIGHT,NORMAL_BUTTON_LEFT_RIGHT_MARGIN:""+i(36).locals.NORMAL_BUTTON_LEFT_RIGHT_MARGIN,MIDDLE_BUTTON_LEFT_RIGHT_MARGIN:""+i(36).locals.MIDDLE_BUTTON_LEFT_RIGHT_MARGIN,MuteButton:"aR7",UnmuteButton:"GlCjzpMRj",VolumeButton:"BFzw2ImP9",VolumeButton__content:"KnR",VolumeButton__iconContainer:"seJOnRIs",VolumeButton__iconContainer_middle:"X76",VolumeButton__icon:"UZs00",UnmuteButton__text:"Dsc4",UnmuteButton__text_animation:"YUrgZc2LR6",UnmuteButton__text_middle:"xiH1x4Hlll"}},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i(29);const a=Object(r.a)(window)},function(e,t,i){"use strict";function r(e){return function(e){return Boolean(e.PointerEvent)}(e)&&function(e){const t=e.navigator||{},{msMaxTouchPoints:i,maxTouchPoints:r}=t;return i||r||0}(e)>0&&!d(e)}function a(e,t){if(!Object(c.a)(e.matchMedia))return!1;const i=e.matchMedia(t);return Object(u.a)(i)&&Boolean(i.matches)}function n(e){return void 0===e&&(e=window),r(e)||function(e){return a(e,p)}(e)||function(e){return a(e,A)}(e)||function(e){const{DocumentTouch:t}=e;return Boolean(t)&&e.document instanceof t}(e)||Object(o.a)(e)}var o=i(127),s=i(71);const d=function(e){return void 0===e&&(e=window),Object(s.a)(e)>11};var l=i(7),c=i(11),u=i(2),h=i(85);const p=Object(l.a)(h.a,e=>"("+e+"any-pointer:coarse)").join(","),A=Object(l.a)(h.a,e=>"("+e+"touch-enabled)").join(",");var m=i(113),v=i(56);const f=function(e){void 0===e&&(e=window);const t=Object(v.a)(e).toLowerCase();if(t.indexOf("android")>-1)return!1;const i=t.replace(/\(.+?\)/gi,"").split(" ").map(e=>e.trim().split("/")[0]).filter(e=>e&&"mobile"!==e);return 4===i.length&&"mozilla"===i[0]&&"applewebkit"===i[1]&&"version"===i[2]&&"safari"===i[3]};i.d(t,"a",(function(){return b}));const b=(void 0===_&&(_=window),f(_)||Object(m.a)(_)||function(e){return void 0===e&&(e=window),/Apple/.test(e.navigator.vendor)&&n(e)}(_));var _},function(e,t,i){"use strict";function r(e){const{src:t,win:i,onBeforeLoad:r=s.a}=e,d=new a.a({});let l=s.a;return{promise:new Promise((e,s)=>{const c=i.document.createElement("script");let u=!1;l=()=>{u=!0,Object(n.a)(c)};c.type="text/javascript",c.async=!0,c.onload=()=>{u||e()},c.onerror=e=>{u||(s(new a.a(d,{message:"Failed to load script ["+t+"]",details:{src:t,isSelfWindow:i===window,event:e}})),l())},c.src=t,c.charset=o,r(c),function(e){const t=e.document;let i=t.getElementsByTagName("head")[0];return i||(i=t.createElement("head"),t.documentElement.appendChild(i)),i}(i).appendChild(c)}),teardown:l}}var a=i(47),n=i(28);const o="utf-8";var s=i(6);i.d(t,"a",(function(){return r}))},function(e,t,i){(t=e.exports=i(21)(!1)).push([e.i,"",""]),t.locals={AD_FONT_WEIGHT:"500"}},function(e,t,i){"use strict";var r=i(44);i.d(t,"a",(function(){return r.a}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return a})),i.d(t,"b",(function(){return n}));var r=i(10);const a="aim-banner-id",n={adsdkver:0,adsdkdebug:0,adsdknovastconvertation:0,adsdkmotionoldanimation:0,adsdkecmaver:0,adsdktracelogs:0,adsdksecuremode:0,adsdkwithcredentials:0,adsdkthemeemptyactionbutton:0,adsdkabflags:0,adsdkuaas:0,[a]:0};Object(r.a)(n)},function(e,t,i){"use strict";var r=i(7),a=i(78);i.d(t,"a",(function(){return n}));const n=function(){const e=Object(r.a)(a.a,e=>e.ownerDocument),{length:t}=e,i=(t?e[t-1]:document).defaultView;return!!i&&i.self!==i.parent}()},function(e,t,i){(t=e.exports=i(21)(!1)).push([e.i,".xr4M{position:absolute;bottom:60px;left:0;display:flex;flex-direction:row;box-sizing:border-box;width:100%}.hTXHl2 .xr4M{top:50%;bottom:auto;transform:translateY(-50%)}.qiyd5Q7Dt .xr4M{top:50%;bottom:auto;flex-direction:row-reverse;transform:translateY(-50%)}.tOmi5C .xr4M{flex-direction:row-reverse}.cTbHdjnX{position:relative;display:flex;flex:1 1;align-items:center;padding:0 5%}.RhOFjnGf{position:relative;flex:0 0 auto;padding:0 .5em;pointer-events:auto}.w6YJzx{position:absolute;top:50%;left:50%;z-index:0;overflow:hidden;transform:translateY(-50%) translateX(-50%)}",""]),t.locals={OldActionButton__body:"xr4M",OldActionButton__bannerPosition_right_center:"hTXHl2",OldActionButton__bannerPosition_left_center:"qiyd5Q7Dt",OldActionButton__bannerPosition_left_bottom:"tOmi5C",OldActionButton__context:"cTbHdjnX",OldActionButton__buttonContainer:"RhOFjnGf",OldActionButton__wrapper:"w6YJzx"}},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));const r=i(169),a=function(e){void 0===e&&(e=window);const t=r(e);return"boolean"===typeof t?-1:t}},function(e,t,i){"use strict";function r(e){if(e&&e.location){const{location:t}=e;return"function"===typeof t.toString?t.toString():t.href||""}return""}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i(55);const a=e=>e instanceof Error||"Error"===Object(r.a)(e)},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i(2);const a=(e,t)=>{for(const i of t.split(".")){if(!Object(r.a)(e)){e=void 0;break}e=e[i]}return e}},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));const r=["aw","ap","s-a","d-sd","k-j","s"].join("")},function(e,t,i){"use strict";var r=i(46),a=i(139),n=i(58),o=i(103),s=i(18),d=i(140),l=i(99),c=i(20),u=i(22);const h=l.a?Object(s.e)(l.a).hostname:void 0,p=d.a&&h===c.a||u.d;var A=i(104),m=i(35),v=i(108),f=i(41),b=i(101),_=i(148);i.d(t,"a",(function(){return g}));const g={SID:f.a,VSID:_.a,VAS_USER_SESSION_RANDOM:b.a,AB_FLAGS:r.a,AB_FLAGS_STORE:n.a,ICOOKIE:o.a,TEST_IDS:A.a,VAS_UAAS_CONFIG:m.a,AdditionalStatsRootFields:a.a,RUM_WRAPPER:v.a,LOADER_LOADED_FROM_AN_YANDEX_RU:p}},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i(96);const a=Object(r.a)(document.documentElement)},function(e,t,i){"use strict";i.d(t,"a",(function(){return a})),i.d(t,"b",(function(){return n}));var r=i(89);let a=function(e,t,i){e.attachEvent("on"+t,i)},n=function(e,t,i){e.detachEvent("on"+t,i)};Object(r.a)(document,"addEventListener")&&Object(r.a)(document,"removeEventListener")&&(a=function(e,t,i,a){const n=e&&Object(r.a)(e,"addEventListener");n&&n.call(e,t,i,a)},n=function(e,t,i,a){const n=e&&Object(r.a)(e,"removeEventListener");n&&n.call(e,t,i,a)})},function(e,t,i){"use strict";var r=i(26),a=i(98),n=i(102),o=i(69),s=i(18),d=i(147);i.d(t,"b",(function(){return u})),i.d(t,"a",(function(){return h}));const{topAncestor:l,isTrusted:c}=function(e){void 0===e&&(e=window);const t=Object(d.a)(e);if(t.length>0)return{topAncestor:t[t.length-1],isTrusted:!0};const{location:i,referrer:l}=Object(n.a)(e.document),c=o.a?l:i,u=!o.a||Object(a.a)(r.a).length<2,{protocol:h,hostname:p,host:A,port:m}=Object(s.e)(c);return{topAncestor:Object(s.f)({protocol:h,hostname:p,host:A,port:m,originalPath:"",href:"",pathname:"",search:"",hash:""}),isTrusted:u}}(),u=l,h=c},function(e,t,i){(t=e.exports=i(21)(!1)).i(i(23),""),t.push([e.i,".Gu8smbJ{position:relative}.Du2U4yQ1V{cursor:pointer}.nZQM{position:absolute;top:0;left:0;display:flex;align-items:center;justify-content:center;width:100%;height:100%}.Pr3Gz2BdP5{position:absolute;top:0;left:0}.zBKcG9NcF{position:absolute;bottom:10px;display:flex;justify-content:center;width:100%;color:#fff;font-family:"+i(23).locals.AD_FONT+"}.ucbVruwlQF{position:absolute;bottom:0;width:100%;height:2px}",""]),t.locals={AD_FONT:""+i(23).locals.AD_FONT,PackshotScreen:"Gu8smbJ",PackshotScreen_clickable:"Du2U4yQ1V",PackshotScreen__buttonWrapper:"nZQM",PackshotScreen__packshotOverlayWrapper:"Pr3Gz2BdP5",PackshotScreen__textBlock:"zBKcG9NcF",PackshotScreen__timelineBarWrapper:"ucbVruwlQF"}},function(e,t,i){(t=e.exports=i(21)(!1)).i(i(23),""),t.push([e.i,".Gv3oyhxlOF{font-family:"+i(23).locals.AD_FONT+"}.iHI7{position:relative;min-width:42px;height:100%}.VLeR{position:relative;display:flex;align-items:stretch;box-sizing:border-box;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;height:100%;padding:0 10px;overflow:hidden;background-color:rgba(38,38,38,.65);border-radius:4px;cursor:pointer;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);pointer-events:auto}.RrwfaaDv{position:absolute;top:50%;left:10px;display:flex;align-items:center;justify-content:center;width:32px;min-width:32px;height:32px;border-radius:16px;transform:translateY(-50%)}.PGzhRz{display:flex;flex-wrap:nowrap;align-items:center;margin-left:40px;overflow:hidden}.bkFKwsv{margin-left:10px}.RrwfaaDv img{border-radius:2px}",""]),t.locals={AD_FONT:""+i(23).locals.AD_FONT,YoutubeLikeActionButton:"Gv3oyhxlOF",YoutubeLikeActionButton__content:"iHI7",YoutubeLikeActionButton__mask:"VLeR",YoutubeLikeActionButton__favicon:"RrwfaaDv",YoutubeLikeActionButton__wrapper:"PGzhRz",YoutubeLikeActionButton__wrapper_wide:"bkFKwsv"}},function(e,t,i){(t=e.exports=i(21)(!1)).push([e.i,".y7TSj{position:static;margin-left:auto}.q0PU7JB{position:relative;margin-left:4px}.jES{position:relative;bottom:1px;display:flex;align-items:center;margin-left:8px}.WXgH{position:relative;justify-content:center;width:35px;text-align:center}.Z8QE{display:flex}.Z8QE>span:first-child{width:16px;text-align:right}.DBKMlr0{position:relative;top:0;width:19px;height:13px}",""]),t.locals={SkipButtonWithText:"y7TSj",SkipButtonWithText__text:"q0PU7JB",SkipButtonWithText__content:"jES",SkipButtonWithText__timeToSkipString:"WXgH",SkipButtonWithText__digitsContainer:"Z8QE",SkipButtonWithText__icon:"DBKMlr0"}},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i(72);const a=e=>{const t=[];for(;e;)try{if(Object(r.a)(e),t.push(e),e.parent===e)break;e=e.parent}catch(i){break}return t}},function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"a",(function(){return a}));const r=["","webkit","moz","o","ms"],a=["","-webkit-","-ms-","-moz-","-o-"]},function(e,t,i){"use strict";i.d(t,"c",(function(){return a})),i.d(t,"d",(function(){return n})),i.d(t,"b",(function(){return o})),i.d(t,"a",(function(){return s}));var r=i(2);const a=e=>Object(r.a)(e.__AD_SDK_SCRIPT_SESSION_PARAMETERS__),n=(e,t)=>{e.__AD_SDK_SCRIPT_SESSION_PARAMETERS__=t},o=e=>e.__AD_SDK_SCRIPT_SESSION_PARAMETERS__,s=e=>{delete e.__AD_SDK_SCRIPT_SESSION_PARAMETERS__}},function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"b",(function(){return s}));var r=i(2),a=i(17);const n=e=>!!Object(r.a)(e)&&(!!Object(a.a)(e.name)&&!!Object(a.a)(e.message)),o=e=>({name:e.name,message:e.message,stack:e.stack}),s=e=>{const t=new Error;return t.name=e.name,t.message=e.message,t.stack=e.stack,t}},function(e,t,i){"use strict";function r(e,t,i){void 0===i&&(i=" ");const r=t-e.length;if(r>0){let t=i;for(;t.length<r;)t+=t;return(t.length>r?t.substr(0,r):t)+e}return e}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";function r(e,t){let i=e[t];if(!Object(a.a)(i)){const a=i;try{delete e[t];const r=e[t];"function"===typeof r&&(i=r),e[t]=a}catch(r){}}return i}i.d(t,"a",(function(){return r}));var a=i(24)},function(e,t,i){(t=e.exports=i(21)(!1)).push([e.i,".qM35Jq{width:100%;transform-origin:0;will-change:transform}.qM35Jq,.TzKus{position:absolute;height:2px}.PmJhr{background-color:#ff1a2d;transform:scaleX(0)}.RomfpM{background-color:#cdcdcd;transform:scaleX(1)}",""]),t.locals={TimelineBar:"qM35Jq",TimelineBar__container:"TzKus",TimelineBar__progress:"PmJhr",TimelineBar__background:"RomfpM"}},function(e,t,i){(t=e.exports=i(21)(!1)).i(i(23),""),t.push([e.i,".yx3jc{-ms-flex:1 1 0;flex:1 1 0;margin-right:8px;color:#fff;font-weight:700;font-size:1em;font-family:"+i(23).locals.AD_FONT+";line-height:1.3}.e1Nkk7zI{line-height:1.3;-webkit-line-clamp:2}.X6CGWeHuV .e1Nkk7zI{font-size:.9em}.bQU{position:fixed;white-space:nowrap;visibility:hidden}.absp{font-weight:400;font-size:.8em;white-space:-moz-pre-wrap;white-space:pre-wrap;white-space:-o-pre-wrap;word-break:break-all;-webkit-line-clamp:1}.absp,.e1Nkk7zI{display:-webkit-box;overflow:hidden;text-overflow:ellipsis;-webkit-box-orient:vertical}",""]),t.locals={AD_FONT:""+i(23).locals.AD_FONT,InfoBlock:"yx3jc",InfoBlock__title:"e1Nkk7zI",InfoBlock_multiline:"X6CGWeHuV",InfoBlock__titleSpy:"bQU",InfoBlock__greenUrl:"absp"}},function(e,t,i){(t=e.exports=i(21)(!1)).i(i(23),""),t.i(i(66),""),t.i(i(36),""),t.push([e.i,".BHSHZh00z{display:inline-block;color:#000;font-weight:"+i(66).locals.AD_FONT_WEIGHT+";font-size:16px;font-family:"+i(23).locals.AD_FONT+";cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ma5XWP4A{cursor:pointer}.xKl6qWUG{text-decoration:none}.ma5XWP4A .GcamW{opacity:.915}.ma5XWP4A:hover .GcamW{opacity:1}.mDjQpVpB{padding:4px;pointer-events:auto}.GcamW{display:flex;align-items:center;height:"+i(36).locals.NORMAL_BUTTON_HEIGHT+";opacity:.6}",""]),t.locals={AD_FONT:""+i(23).locals.AD_FONT,AD_FONT_WEIGHT:""+i(66).locals.AD_FONT_WEIGHT,NORMAL_BUTTON_HEIGHT:""+i(36).locals.NORMAL_BUTTON_HEIGHT,Button:"BHSHZh00z",Button_active:"ma5XWP4A",Button_link:"xKl6qWUG",Button__content:"GcamW",Button__clickable:"mDjQpVpB"}},function(e,t,i){(t=e.exports=i(21)(!1)).push([e.i,".Mjn{width:100%;color:#498bff;font-weight:400;border-radius:8px;transition:background-color .1s ease-in}.hBe{display:flex;align-items:center;margin-right:13px}.YIMgF{margin-left:auto}.Mjn:hover{background-color:#e5f2ff}.Mjn .mDjQpVpB{padding:0}.kzTrLm9{padding:8px}.QREg{height:auto;font-size:15px;line-height:16px}",""]),t.locals={AbuseOptionButton:"Mjn",AbuseOptionButton__leftIcon:"hBe",AbuseOptionButton__rightIcon:"YIMgF",Button__clickable:"mDjQpVpB",AbuseOptionButton__clickable:"kzTrLm9",AbuseOptionButton__content:"QREg"}},function(e,t,i){(t=e.exports=i(21)(!1)).i(i(36),""),t.push([e.i,".nyVWSUlka{font-size:18px}.nyVWSUlka .FMzQaWQ{height:"+i(36).locals.MIDDLE_BUTTON_HEIGHT+"}.MKeYH{color:#fff;text-shadow:0 2px 2px rgba(0,0,0,.1)}.MKeYH .JVrkV7{position:relative;background-color:rgba(38,38,38,.3);border-radius:4px;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px)}.MKeYH.Mvp9:hover .JVrkV7{background-color:rgba(0,0,0,.65)}.Mvp9 .GcamW{opacity:1}.Mvp9 .JVrkV7{background-color:rgba(38,38,38,.65)}",""]),t.locals={MIDDLE_BUTTON_HEIGHT:""+i(36).locals.MIDDLE_BUTTON_HEIGHT,SquareButton_middle:"nyVWSUlka",SquareButton__basecontent:"FMzQaWQ",SquareButton:"MKeYH",SquareButton__basebutton:"JVrkV7",SquareButton_active:"Mvp9",Button__content:"GcamW"}},function(e,t,i){(t=e.exports=i(21)(!1)).i(i(36),""),t.push([e.i,".vK9{cursor:pointer}.xpsPv{font-size:18px}.xpsPv .tu5zE{height:"+i(36).locals.MIDDLE_BUTTON_HEIGHT+"}.IuGwn{width:60px;height:60px}.qkhs{width:80px;height:80px}",""]),t.locals={MIDDLE_BUTTON_HEIGHT:""+i(36).locals.MIDDLE_BUTTON_HEIGHT,CirclePlayButton:"vK9",CirclePlayButton_middle:"xpsPv",CirclePlayButton__basecontent:"tu5zE",CirclePlayButton__icon:"IuGwn",CirclePlayButton__icon_middle:"qkhs"}},function(e,t,i){"use strict";function r(e,t){if(void 0===t&&(t=!0),a.a&&t)return[];{const t=[];let r=e;for(;;)try{if(!(r=r.ownerDocument.defaultView.frameElement))return t;t.push(r)}catch(i){return t}}}i.d(t,"a",(function(){return r}));var a=i(64)},function(e,t,i){"use strict";function r(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];Object(a.a)(e)&&e.forEach(e=>{"function"===typeof e&&e(...i)})}i.d(t,"a",(function(){return r}));var a=i(39)},function(e,t,i){"use strict";function r(e){let t=e;const i=[e],{top:r}=e;for(;t!==r;)t=t.parent,i.push(t);return i}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i(61);const a=r.a?r.a.src:""},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i(131);const a=Boolean(r.a)},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var r=i(59),a=i(22);const n=null!==a.e&&void 0!==a.e?a.e:Object(r.a)()},function(e,t,i){"use strict";function r(e){let t="",i="";if(e){Object(a.a)(e).reverse().forEach(e=>{let{location:r,referrer:a}=e;t=t||r,i=i||a})}return{location:t,referrer:i}}i.d(t,"a",(function(){return r}));var a=i(130)},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var r=i(22),a=i(35);const n=r.c||a.a.iCookie},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var r=i(22),a=i(35);const n=r.i||(null===a.a||void 0===a.a?void 0:a.a.testIds)||void 0},function(e,t,i){"use strict";function r(e,t){void 0===t&&(t=!0);const i=Object(a.a)(e);return i?!e[i]:t}i.d(t,"a",(function(){return r}));var a=i(138)},function(e,t,i){"use strict";function r(e){return a.a<e}i.d(t,"a",(function(){return r}));var a=i(101)},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var r=i(27),a=i(32);const n=Object(r.a)(window,"adsdkver",a.b.code)},function(e,t,i){"use strict";function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var a=i(19),n=i(109),o=i(59),s=i(9);const d="production";var l=i(32),c=i(1),u=i(6),h=i(3);const p={idle:["initializing"],initializing:["initialized","disabled"]};var A=i(22);i.d(t,"a",(function(){return m}));const m=null!==A.f&&void 0!==A.f?A.f:new class{constructor(e){r(this,"state",new s.a({name:"idle"},(e,t)=>{const i=p[e.name];return!i||!Object(a.a)(i,t.name)||(Object(h.a)("RumWrapperClass: change state from ["+e.name+"] to ["+t.name+"]"),!1)})),r(this,"config",void 0),this.config=e,this.state.subscribeValueCondition(e=>"initializing"===e.name,()=>this.loadRum()),this.state.subscribeValueCondition(e=>"disabled"===e.name,()=>c.c.event({name:"RumIsDisabled",data:void 0}))}init(){this.state.dispatch({name:"initializing"})}logBundleTiming(e,t){const i=this.state.getValue();"disabled"!==i.name&&("initialized"===i.name?this.sendResTiming({name:e,src:t,state:i}):this.state.subscribeValueCondition(e=>"initialized"===e.name,i=>{this.sendResTiming({name:e,src:t,state:i})}))}logTimingAndLoadRum(e,t){"idle"===this.state.getValue().name&&this.init(),this.logBundleTiming(e,t)}isLoading(){return"initializing"===this.state.getValue().name}isLoaded(){return"initialized"===this.state.getValue().name}loadRum(){var e;let t=null===(e=this.config)||void 0===e?void 0:e.loadModule;t||(t=i(171).loadRumModule),t().then(e=>{this.initLoadedRum(e),e.isRumInited()?this.state.dispatch({name:"initialized",rum:e}):this.state.dispatch({name:"disabled"})}).catch(u.a)}initLoadedRum(e){const t={clck:"https://yandex.ru/clck/click",reqid:Date.now()+":adsdk:"+Object(o.a)(),scrollLatencyMetric:!0,sendAutoElementTiming:!0,isDevMode:!1},i=n.a?"touch":"desktop",r={rum_id:"ru.adsdk."+i,"-project":"adsdk","-page":window.location.host,"-version":l.a,"-platform":i,"-env":d,"-url":window.location.href,"-domain":window.location.host,"-blocker":void 0};e.init(t,r)}sendResTiming(e){let{state:t,name:i,src:r}=e;t.rum.sendResTiming(i,r)}}},function(e,t,i){"use strict";var r=i(127);i.d(t,"a",(function(){return a}));const a=(void 0===n&&(n=window),Object(r.a)(n));var n},function(e,t,i){"use strict";function r(e){return a.b||function(e){return n.a+"1.0-"+e+"/"}(e)}var a=i(25),n=i(144);i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";function r(e,t){void 0===t&&(t=window);const{hostname:i}=Object(s.e)(e),r=Object(o.a)(t);return r?-1===d.d.indexOf(i)?e:r(e):e}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function n(e){const{src:t,win:i}=e;return Object(l.a)(a({},c.a,e,{src:r(t,i)}))}i(26),i(11);var o=i(29),s=i(18),d=i(20),l=i(65),c=i(121);i.d(t,"a",(function(){return n}))},function(e,t,i){"use strict";function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i(26);var a=i(35),n=i(46),o=i(45),s=i(8),d=i(19);i.d(t,"a",(function(){return l}));const l=new class{constructor(e,t){r(this,"vasUaasConfig",void 0),r(this,"abFlags",void 0),r(this,"initialAbFlags",void 0),r(this,"activeTestIds",[]),r(this,"getFlagValueAndActivateTestId",e=>{const t=this.abFlags[e],i=this.vasUaasConfig.flagsMap,r=this.vasUaasConfig.testIds;return r&&i&&i[e]&&Object(s.a)(i[e],e=>{let{value:i,testId:a}=e;if(i===t){const e=Object(o.a)(r.split(";"),e=>0===e.indexOf(a));e&&!Object(d.a)(this.activeTestIds,e)&&this.activeTestIds.push(e)}}),t}),r(this,"getActiveTestIds",()=>this.activeTestIds),r(this,"__setAbFlags",e=>{this.abFlags=e}),r(this,"__restoreAbFlags",()=>{this.abFlags=this.initialAbFlags}),this.vasUaasConfig=e,this.abFlags=t,this.initialAbFlags=t}}(a.a,n.a);l.getFlagValueAndActivateTestId("ADSDKVER")},function(e,t,i){"use strict";function r(e){void 0===e&&(e=window);const t=e.navigator.userAgent.toLowerCase();return/ipad|iphone|ipod/.test(t)&&!e.MSStream&&!a(e)}const a=function(e){return void 0===e&&(e=window),e.navigator.userAgent.indexOf("UCBrowser")>-1};i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i(27);const a=Object(r.b)(window,"adsdkuaas")},function(e,t,i){"use strict";var r=i(33),a=i(79);i.d(t,"b",(function(){return n})),i.d(t,"a",(function(){return s}));let n=!1,o=!1,s=!1;try{if(function(e){void 0===e&&(e=window);const t=e.Object;try{const e={};return t.defineProperty(e,"sentinel",{}),"sentinel"in e}catch(i){return!1}}()){const e=document.createElement("div"),t={};Object.defineProperty(t,"once",{get:()=>n=!0}),Object.defineProperty(t,"passive",{get:()=>o=!0}),Object.defineProperty(t,"capture",{get:()=>s=!0}),Object(a.a)(e,"click",r.a,t)}}catch(d){}},function(e,t,i){(t=e.exports=i(21)(!1)).push([e.i,".yJjKgz{position:static;margin-left:auto}.n1fKIm8WMI{display:flex;align-items:center;justify-content:center;width:32px;height:32px}.xzJvy{opacity:.5;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.dGNRw3DPGc{width:17px}",""]),t.locals={SkipButtonSmall:"yJjKgz",SkipButtonSmall__content:"n1fKIm8WMI",SkipButtonSmall__disabled:"xzJvy",SkipButtonSmall__timeToSkipString__icon:"dGNRw3DPGc"}},function(e,t,i){(t=e.exports=i(21)(!1)).push([e.i,".BNLuuFZOWl{position:absolute;right:0;bottom:0;left:0;display:flex;flex-flow:column nowrap}.QT7{display:flex;align-items:flex-end;margin:2px 6px 16px}.l41gkoT{}.LhJ{margin-bottom:10px}",""]),t.locals={BottomControls__container:"BNLuuFZOWl",ButtonControls:"QT7",DisclaimerContainer:"l41gkoT",ButtonControls_OnDisclaimers:"LhJ"}},function(e,t,i){(t=e.exports=i(21)(!1)).i(i(23),""),t.i(i(66),""),t.i(i(154),""),t.i(i(155),""),t.push([e.i,".sin{position:absolute;top:2px;left:6px;display:inline-block;padding:4px;color:#fff;font-weight:"+i(66).locals.AD_FONT_WEIGHT+";font-size:10px;font-family:"+i(23).locals.AD_FONT+";line-height:"+i(154).locals.AD_LABEL_SMALL_HEIGHT+";letter-spacing:1px;text-transform:uppercase;text-decoration:none;text-shadow:0 0 20px rgba(0,0,0,.2),1px 0 1px rgba(0,0,0,.1),0 1px 1px rgba(0,0,0,.1);transform-origin:bottom left;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:auto}.fqe{top:4px}.lH3niNQDmT{top:4px;font-size:12px;line-height:"+i(155).locals.AD_LABEL_MIDDLE_HEIGHT+"}.fqe.lH3niNQDmT{top:6px}.FRBgfU{filter:drop-shadow(0 2px 3px rgba(0,0,0,.2));fill:#fff}",""]),t.locals={AD_FONT:""+i(23).locals.AD_FONT,AD_FONT_WEIGHT:""+i(66).locals.AD_FONT_WEIGHT,AD_LABEL_SMALL_HEIGHT:""+i(154).locals.AD_LABEL_SMALL_HEIGHT,AD_LABEL_MIDDLE_HEIGHT:""+i(155).locals.AD_LABEL_MIDDLE_HEIGHT,AdLabel:"sin",AdLabel_withIcon:"fqe",AdLabel_middle:"lH3niNQDmT",AdLabel_icon:"FRBgfU"}},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i(11);const a=Date&&Object(r.a)(Date.now)?()=>Date.now():()=>(new Date).getTime()},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var r=i(27);const a=(""+Object(r.b)(window,"adsdkecmaver")).toUpperCase(),n="ES2017"===a||"ES5"===a?a:void 0},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var r=i(77),a=i(86);const n={onBeforeLoad:e=>{Object(a.d)(e,r.a)}}},function(e,t,i){"use strict";var r=i(11),a=i(2);const n="__ADB_CONFIG__";i.d(t,"a",(function(){return s}));const o=Object(a.a)(n)&&n.fn&&Object(r.a)(n.fn.encodeUrl)?n.fn.encodeUrl:void 0,s=void 0!==o?e=>o(e):void 0},function(e,t,i){"use strict";function r(e,t){!function(e){return"function"===typeof e.dispatch}(e)?e(t):e.dispatch(t)}i.d(t,"a",(function(){return r}))},function(e,t,i){(t=e.exports=i(21)(!1)).i(i(23),""),t.i(i(66),""),t.push([e.i,".mkGpdqpS{display:inline-block;box-sizing:content-box;min-width:1em;min-height:1em;padding:0;overflow:hidden;color:#000;font-weight:"+i(66).locals.AD_FONT_WEIGHT+";font-size:inherit;font-family:"+i(23).locals.AD_FONT+";line-height:inherit;white-space:nowrap;text-align:center;text-decoration:none;text-overflow:ellipsis;background-color:#ffdc00;border:.05em solid transparent;border-radius:1em;outline:none;box-shadow:0 6px 8px rgba(255,220,0,.53);cursor:pointer}.llqG6V9eR8{display:flex;align-items:center;justify-content:center;height:1em;padding:0 .3em}.PS7H5p{display:inline;min-width:1em;min-height:1em;padding-right:.4em;font-size:.47em}",""]),t.locals={AD_FONT:""+i(23).locals.AD_FONT,AD_FONT_WEIGHT:""+i(66).locals.AD_FONT_WEIGHT,ArrowButton:"mkGpdqpS",ArrowButton__content:"llqG6V9eR8",ArrowButton__textContent:"PS7H5p"}},function(e,t,i){(t=e.exports=i(21)(!1)).push([e.i,".OUS{position:relative;padding-left:10px;overflow:hidden}.mRTk{}.xLxK2 .OUS{right:0;bottom:50%;left:auto;transform:translateY(50%)}.LyUnWHhWn1 .OUS{bottom:50%;transform:translateY(50%)}.l5w6uzjNPU .OUS{right:0;left:auto}.oUoR{bottom:50%;transform:translateY(50%)}",""]),t.locals={SkinActionButton:"OUS",SkinActionButton__middle:"mRTk",SkinActionButton__position_right_center:"xLxK2",SkinActionButton__position_left_center:"LyUnWHhWn1",SkinActionButton__position_right_bottom:"l5w6uzjNPU",SkinActionButton__lifted:"oUoR"}},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));i(84),i(97);const r=i(33).a},function(e,t,i){"use strict";function r(e){return"ontouchstart"in e}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";function r(e,t){let{content:i,size:r}=void 0===t?{}:t;const a=e.ownerDocument.createElement("iframe");a.scrolling="no",a.setAttribute("allowfullscreen",""),a.style.display="block",r&&(a.height=r.height,a.width=r.width),e.appendChild(a);const n=a.contentDocument;return n.open(),i&&n.write(i),n.close(),n.body.style.margin="0",a.style.borderWidth="0",a}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));class r{constructor(e){this.cache=e}get(e){return this.cache[e]}has(e){return e in this.cache}set(e,t){this.cache[e]=t}}const a=function(e,t,i){return void 0===t&&(t=e=>e),void 0===i&&(i=new r({})),function(){const r=t.apply(this,arguments);if(i.has(r))return i.get(r);const a=e.apply(this,arguments);return i.set(r,a),a}}},function(e,t,i){"use strict";function r(e){const t=Object(n.a)(e.documentElement).map(e=>e.ownerDocument);return t.unshift(e),t.map(e=>({location:Object(a.a)(e.defaultView),referrer:e.referrer}))}i.d(t,"a",(function(){return r}));var a=i(72),n=i(96)},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i(27);const a=Object(r.b)(window,"adsdkdebug")},function(e,t,i){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function a(e){const{method:t,url:i,async:c=!0,data:u,responseType:h="text",onBeforeSend:p=o.a,onRetry:A=o.a,checkStatus:m=(e=>d===e),headers:v={},xhrConstructor:f=XMLHttpRequest,retries:b=0,timeout:_=0,withCredentials:g,onAbort:O,onSetup:y}=e;if(!f)return;const E=e.onSuccess?Object(n.a)(e.onSuccess):o.a,T=e.onError?Object(n.a)(e.onError):o.a;let S,w=!1,P=0,I=e=>{w=!0,I=o.a,S=e,C(new Error("Abort request")),"function"===typeof O&&O(e)};const C=t=>{if(D.onerror=null,D.onreadystatechange=null,P&&clearTimeout(P),P&&D.readyState!==l||w)try{D.abort()}catch(t){}if(!w)if(b>0){const i=A(t,D);if("boolean"!==typeof i||Boolean(i)||I(),w)return;a(r({},e,{onSetup:e=>{let{abort:t}=e;I=e=>t(e),w&&t(S)},retries:b-1}))}else I=o.a,T(t,D)},D=new f;try{D.open(t,i,c)}catch(N){return void C(N)}if(D.responseType=h,D.withCredentials=Boolean(g),Object(s.a)(v,(e,t)=>{try{D.setRequestHeader(t,e)}catch(N){}}),_>0&&isFinite(_)&&(P=window.setTimeout(()=>{C(new Error("Request timeout, "+i))},_)),D.onerror=C,D.onreadystatechange=()=>{if(D.readyState===l){const{status:e}=D;m(e)?(I=o.a,clearTimeout(P),E(D)):C(new Error("Invalid request status "+e+", "+i))}},("function"!==typeof y||(y({abort:e=>I(e)}),!w))&&(p(D,e),!w))try{D.send(u)}catch(N){C(N)}}i.d(t,"a",(function(){return a}));var n=i(52),o=i(33),s=i(44);const d=200,l=4},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i(24);const a=e=>Object(r.a)(e.navigator.sendBeacon)},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));const r=function(e,t,i,r){void 0===i&&(i=0),void 0===r&&(r=a);for(let a=i;a<e.length;a++)if(r(e[a],t))return a;return-1},a=(e,t)=>e===t},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));const r="adsdk-test-tag"},function(e,t,i){"use strict";function r(e){return e.screen.availHeight>e.screen.availWidth?"portrait":"landscape"}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";function r(){if(a.a&&void 0!==a.a.document&&"function"===typeof a.a.document.hasFocus)try{return a.a.document.hasFocus()}catch(e){}}i.d(t,"a",(function(){return r}));var a=i(26)},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));const r=e=>"hidden"in e?"hidden":"webkitHidden"in e?"webkitHidden":void 0},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var r=i(22),a=i(48);const n=r.h||a.b||void 0},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));const r="AdSDKLoader"===i(25).c},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var r=i(5),a=i(106);const n=Object(a.a)(r.a)},function(e,t,i){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}i.d(t,"a",(function(){return a})),i.d(t,"b",(function(){return n}));const a={MotionTGO:"motion_ad_creative",InteractiveElementsAdCreative:"interactive_elements_ad_creative",ThemeEmpty:"theme_empty",Survey:"survey_ad_creative"},n=r({},{InPage:"inpage",VideoPlayer:"video_player",AdLoader:"loader",VideoBannerAd:"videobannerad",Multiroll:"multiroll",YaMusicAPI:"ya-music-api",VpaidPlayer:"vpaid_player",Rum:"rum"},a)},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));const r={ES5:"bundles",ES2017:"bundles-es2017"}},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i(76);const a="https://"+i(20).c+"/"+r.a+"-bundles/"},function(e,t,i){"use strict";const r=i(84).a;i.d(t,"a",(function(){return a}));const a=function(e){const t=r(e);for(const i of t){const{BANNER_TYPE_FROM_NANPU:e}=i;if("string"===typeof e&&e.length>0)return e}}(window)},function(e,t,i){"use strict";function r(e){const t=[];for(const[i,r]of e){const e=a(r,i);t.push(e)}return function(e){if(e.length>53)throw new Error("bitUtils.toDecimal: \u0431\u043e\u043b\u044c\u0448\u0435 53 \u0431\u0438\u0442 \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0438\u0437-\u0437\u0430 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043d\u043e\u0439 \u0442\u043e\u0447\u043d\u043e\u0441\u0442\u0438, \u043d\u043e \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u0430 \u0441\u0442\u0440\u043e\u043a\u0430 \u0434\u043b\u0438\u043d\u043e\u0439 "+e.length+" \u0431\u0438\u0442.");return parseInt(e,2)}(t.reverse().join(""))}function a(e,t){return n(function(e,t){return Number(e)&Math.pow(2,t)-1}(e,t).toString(2),t)}function n(e,t){return Object(h.a)(e,t,"0")}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}var s=i(63),d=i(11),l=i(8),c=i(7),u=i(2),h=i(88);class p{constructor(e){void 0===e&&(e={}),this.props={},this.setProps(o({},this.defaults(),e))}static sliceBits(e,t,i){return function(e,t,i){const r=t+i,a=n(e.toString(2),r).substr(-r,i);return parseInt(a,2)}(e,t,i)}defaults(){return{}}toString(){return this.serialize().toString()}setProps(e){return Object(u.a)(e)&&Object(l.a)(this.getTemplate(),t=>{let[,i]=t;i&&e.hasOwnProperty(i)&&(this.props[i]=e[i])},this),this}getProps(){return o({},this.props)}clone(){return new(0,this.constructor)(this.props)}serialize(){var e,t;return r((e=this.getTemplate(),t=this.props,Object(c.a)(e,e=>{let[i,r]=e;return[i,r&&t[r]||null]})))}slice(e,t){return p.sliceBits(this.serialize(),e,t)}}var A=i(32),m=i(25);i.d(t,"a",(function(){return f}));const v={AdSDKLoader:0,VpaidPlayerLoader:1,AdLoader:11,InPage:13,VideoPlayer:15,Multiroll:16,VideoBannerAd:17,YaMusicAPI:19,MotionTGO:20,InteractiveElementsAdCreative:24,VpaidPlayer:21,VASFrame:24,ThemeEmpty:26,Rum:27,Survey:28,Examples:30,TestStand:29,Test:31,TestVpaid:31};const f=new class extends p{getTemplate(){return[[10,"VERSION"],[5,"BUNDLE"],[36,"UNUSED"],[1,"ADBLOCK"]]}defaults(){return{VERSION:A.a,BUNDLE:v[m.c],UNUSED:0,ADBLOCK:Object(d.a)(s.a)}}}},function(e,t,i){"use strict";function r(e){return a?Object(n.a)(e.location.ancestorOrigins):[]}const a=Boolean(window.location.ancestorOrigins);var n=i(57);i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";var r=i(38),a=i(88),n=i(32);const o="VAS",s=e=>Object(a.a)(String(e%Math.pow(10,4)),4,"0"),d=()=>Object(a.a)(Date.now().toString().slice(0,10),10,"0");var l=i(3),c=i(22);i.d(t,"a",(function(){return u}));const u=(null===c.h||void 0===c.h?void 0:c.h.vsid)||c.k||(void 0===h&&(h=n.a),[Object(r.a)(44),o,s(h),d()].join("x"));var h;Object(l.a)(((null===c.h||void 0===c.h?void 0:c.h.vsid)?"Use VSID from player":c.k?"Use VSID from session":"Generate new VSID")+" ["+u+"]")},function(e,t,i){(t=e.exports=i(21)(!1)).i(i(23),""),t.push([e.i,".Akky{display:inline-block;color:#000;font-size:16px;font-family:"+i(23).locals.AD_FONT+";background-color:#ffd400;border-radius:3px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:auto}.eWLEfve{padding:10px 16px;line-height:16px}",""]),t.locals={AD_FONT:""+i(23).locals.AD_FONT,PackshotButton:"Akky",PackshotButton__content:"eWLEfve"}},function(e,t,i){(t=e.exports=i(21)(!1)).i(i(23),""),t.push([e.i,".YFQGKxNAp{display:flex;align-items:center;box-sizing:border-box;min-width:0;height:100%;padding:10px 0}.iF9ofqzA{display:flex;align-items:center;height:2.4em;padding:0 .5em;color:#000;font-weight:700;font-size:1em;font-family:"+i(23).locals.AD_FONT+";line-height:3;white-space:nowrap;background-color:#ffd500;border-radius:2px;cursor:pointer;pointer-events:auto}",""]),t.locals={AD_FONT:""+i(23).locals.AD_FONT,ActionButton:"YFQGKxNAp",ActionButton__content:"iF9ofqzA"}},function(e,t,i){(t=e.exports=i(21)(!1)).push([e.i,".vMoFJkPoZ{position:absolute;top:4px;right:4px;width:24px;height:24px;cursor:pointer;pointer-events:auto}.cyT{z-index:2}",""]),t.locals={AbuseBurgerButton:"vMoFJkPoZ",AbuseBurgerButton_inFullSize:"cyT"}},function(e,t,i){(t=e.exports=i(21)(!1)).push([e.i,".iBSe2agP2{width:100%;height:100%;font-weight:100;fill:#c4c4c4}.aRBw{text-transform:uppercase}",""]),t.locals={DisclaimerSvg:"iBSe2agP2",DisclaimerSvg_text:"aRBw"}},function(e,t,i){(t=e.exports=i(21)(!1)).i(i(23),""),t.push([e.i,".XYZVwdGs{display:flex;flex:1;flex-flow:column nowrap;max-height:calc(100% - 56px);padding:4px 10px;overflow:hidden;font-size:16px;font-family:"+i(23).locals.AD_FONT+";letter-spacing:0;text-shadow:0 2px 2px rgba(0,0,0,.1)}.qQ3K9vwEPe{margin:2px auto 0;padding:.25em;color:#fff;white-space:pre-wrap;text-align:center;background-color:rgba(38,38,38,.65);border-radius:4px}",""]),t.locals={AD_FONT:""+i(23).locals.AD_FONT,Subtitles__container:"XYZVwdGs",Subtitles__subtitle:"qQ3K9vwEPe"}},function(e,t,i){(t=e.exports=i(21)(!1)).push([e.i,"",""]),t.locals={AD_LABEL_SMALL_HEIGHT:"18px"}},function(e,t,i){(t=e.exports=i(21)(!1)).push([e.i,"",""]),t.locals={AD_LABEL_MIDDLE_HEIGHT:"20px"}},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var r=i(27);const a=Object(r.b)(window,"adsdktracelogs"),n=Boolean(a)||void 0},function(e,t,i){(t=e.exports=i(21)(!1)).push([e.i,".ggfL0{background-color:#000;opacity:.5}",""]),t.locals={PackshotOverlay:"ggfL0"}},function(e,t,i){(t=e.exports=i(21)(!1)).push([e.i,".M6o4{}",""]),t.locals={AbuseContainer:"M6o4"}},function(e,t,i){(t=e.exports=i(21)(!1)).push([e.i,".jpBk{display:flex;box-sizing:border-box;width:100%;padding:2px .2em;font-family:Arial,Helvetica,sans-serif;background:rgba(0,0,0,.4)}",""]),t.locals={Disclaimer:"jpBk"}},function(e,t,i){(t=e.exports=i(21)(!1)).push([e.i,".FC0FWPX{filter:drop-shadow(0 2px 3px rgba(0,0,0,.2))}",""]),t.locals={MuteIcon:"FC0FWPX"}},function(e,t,i){(t=e.exports=i(21)(!1)).push([e.i,".HTJAnL1G{filter:drop-shadow(0 2px 3px rgba(0,0,0,.2))}",""]),t.locals={UnmuteIcon:"HTJAnL1G"}},function(e,t,i){(t=e.exports=i(21)(!1)).push([e.i,".GCLS0PDg{position:absolute;bottom:0;left:0;width:100%;height:2px}",""]),t.locals={Timeline:"GCLS0PDg"}},function(e,t,i){(t=e.exports=i(21)(!1)).push([e.i,"@keyframes BevBd{0%{transform:translate(-50%,-50%) rotate(0deg)}to{transform:translate(-50%,-50%) rotate(1turn)}}.JaMkQ{animation-name:BevBd;animation-duration:1s;animation-timing-function:linear;animation-iteration-count:infinite}",""]),t.locals={SpinnerIcon__css_animated:"JaMkQ",spin:"BevBd"}},function(e,t,i){(t=e.exports=i(21)(!1)).push([e.i,".DtIUQHDu{position:absolute;top:50%;left:50%;width:38px;height:38px;transform:translate(-50%,-50%)}",""]),t.locals={Spinner:"DtIUQHDu"}},function(e,t,i){(t=e.exports=i(21)(!1)).push([e.i,".yIIfWiYI{position:absolute;top:50%;left:50%;display:flex;transform:translate(-50%,-50%)}",""]),t.locals={CenterControls:"yIIfWiYI"}},function(e,t,i){(t=e.exports=i(21)(!1)).i(i(23),""),t.push([e.i,".RpaylXlFb5{position:absolute;top:10px;left:10px;display:inline-block;height:16px;padding:0 6px;color:#000;font-weight:500;font-size:11px;font-family:"+i(23).locals.AD_FONT+";text-decoration:none;background-color:#fff;border:1px solid #e5e5e5;border-radius:2px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:auto}",""]),t.locals={AD_FONT:""+i(23).locals.AD_FONT,SocialAdvertisingAdLabel:"RpaylXlFb5"}},function(e,t,i){(t=e.exports=i(21)(!1)).push([e.i,".DkpEk8bSWA{position:absolute;top:0;right:0;left:0}",""]),t.locals={TopControls:"DkpEk8bSWA"}},function(e,t){},function(e,t){e.exports=function(e){e||(e=window);var t=e.navigator.userAgent,i=t.indexOf("MSIE ");if(i>0)return parseInt(t.substring(i+5,t.indexOf(".",i)),10);if(t.indexOf("Trident/")>0){var r=t.indexOf("rv:");return parseInt(t.substring(r+3,t.indexOf(".",r)),10)}var a=t.indexOf("Edge/");return a>0&&parseInt(t.substring(a+5,t.indexOf(".",a)),10)}},function(e,t){e.exports=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){return e.__proto__=t,e}:function(e,t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i]);return e})},function(e,t,i){"use strict";i.r(t),i.d(t,"loadRumModule",(function(){return a}));var r=i(54);const a=()=>new Promise((e,t)=>{Object(r.b)({moduleName:"Rum",version:void 0,onSuccess:t=>{e(t)},onError:t,win:window,timeout:r.a})})},function(e,t){Array.prototype.find||(Array.prototype.find=function(e){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!==typeof e)throw new TypeError("predicate must be a function");for(var t,i=Object(this),r=i.length>>>0,a=arguments[1],n=0;n<r;n++)if(t=i[n],e.call(a,t,n,i))return t})},function(e){e.exports={be:{adsdk:{ABUSE_ADS_TEXT:"",ABUSE_COPIED:"",ABUSE_COPY_TEXT:"",ABUSE_CUSTOM_FIELD_PLACEHOLDER:"",ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT:"",ABUSE_IMPROVE_REASON_TEXT:"",ABUSE_OPTION_ABOUT:"",ABUSE_OPTION_ALREADY_PURCHASED:"",ABUSE_OPTION_ANOTHER_REASON:"",ABUSE_OPTION_COMPLAINT:"",ABUSE_OPTION_FALSE_INFO_SOCIAL:"",ABUSE_OPTION_HIDE:"",ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE:"",ABUSE_OPTION_NOT_INTERESTED:"",ABUSE_OPTION_OVERLAP_CONTENT:"",ABUSE_OPTION_POLITICAL_SOCIAL:"",ABUSE_OPTION_SCAMMERS:"",ABUSE_OPTION_SEEN_TOO_OFTEN:"",ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL:"",ABUSE_OPTION_UNPLEASANT_CONTENT:"",ABUSE_SCREEN_DESCRIPTION:"",ABUSE_SCREEN_DESCRIPTION_SHORT:"",ABUSE_SCREEN_TITLE:"",ABUSE_VARIANT_ANNOYING:"",ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD:"",ABUSE_VARIANT_NOT_INTERESTED:"",ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD:"",ABUSE_VARIANT_POLITICAL_SOCIAL_AD:"",ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD:"",ABUSE_VARIANT_SPAM:"",ABUSE_VARIANT_SPAM_SHORT:"",AD_TITLE:"",LEARN_MORE:"",MORE:"",MOTION_BTN:"",MOTION_BTN_WITHOUT_GREEN_URL:"",MOTION_DIETARYSUPPL_DISCLAIMER:"",MOTION_DISTANCE_SALES:"",MOTION_DRUG_DISCLAIMER:"",MOTION_HIDE_DISCLAIMER:"",MOTION_SHOW_DISCLAIMER:"",REPEAT:"",REWARDED_TIMER_1:"",REWARDED_TIMER_2:"",SECONDS:"",SKIP:"",SKIP_TIME_LEFT:"",SOCIAL_ADVERTISING_AD_LABEL:"",THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE:"",THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE:"",THEME_EMPTY_ACTION_BUTTON_LABEL:"",TIME_LEFT:"",UNMUTE:"",UNMUTE_INVITE:"",VISIT_SITE:"",YANDEX_DIRECT:"",YANDEX_DIRECT_LINK:""}},en:{adsdk:{ABUSE_ADS_TEXT:"Ad",ABUSE_COPIED:"Copied",ABUSE_COPY_TEXT:"Copy link",ABUSE_CUSTOM_FIELD_PLACEHOLDER:"Enter your message",ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT:"Submit",ABUSE_IMPROVE_REASON_TEXT:"State the reason:",ABUSE_OPTION_ABOUT:"Ads on Yandex",ABUSE_OPTION_ALREADY_PURCHASED:"Already purchased",ABUSE_OPTION_ANOTHER_REASON:"Another reason",ABUSE_OPTION_COMPLAINT:"Report",ABUSE_OPTION_FALSE_INFO_SOCIAL:"Speculation",ABUSE_OPTION_HIDE:"Hide",ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE:"Illegal goods or services",ABUSE_OPTION_NOT_INTERESTED:"Not interested",ABUSE_OPTION_OVERLAP_CONTENT:"Covers page content",ABUSE_OPTION_POLITICAL_SOCIAL:"Political ad",ABUSE_OPTION_SCAMMERS:"Scammers",ABUSE_OPTION_SEEN_TOO_OFTEN:"I see this ad too often",ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL:"Shocking content",ABUSE_OPTION_UNPLEASANT_CONTENT:"I don't like it",ABUSE_SCREEN_DESCRIPTION:"We try to show you ads that match your interests. Tell us why you didn't like this video. This will help us select better ads for you.",ABUSE_SCREEN_DESCRIPTION_SHORT:"Please tell us why you didn't like this video. This will help us select better ads for you.",ABUSE_SCREEN_TITLE:"Report this ad",ABUSE_VARIANT_ANNOYING:"Intrusive or annoying",ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD:"False information",ABUSE_VARIANT_NOT_INTERESTED:"I'm not interested in this",ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD:"I'm not interested in this",ABUSE_VARIANT_POLITICAL_SOCIAL_AD:"Political ad",ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD:"Shocking content",ABUSE_VARIANT_SPAM:"Inappropriate content or spam",ABUSE_VARIANT_SPAM_SHORT:"Looks like spam",AD_TITLE:"Ad",LEARN_MORE:"Learn more",MORE:"More",MOTION_BTN:"",MOTION_BTN_WITHOUT_GREEN_URL:"",MOTION_DIETARYSUPPL_DISCLAIMER:"",MOTION_DISTANCE_SALES:"",MOTION_DRUG_DISCLAIMER:"",MOTION_HIDE_DISCLAIMER:"",MOTION_SHOW_DISCLAIMER:"",REPEAT:"Repeat",REWARDED_TIMER_1:"",REWARDED_TIMER_2:"",SECONDS:"sec",SKIP:"Skip",SKIP_TIME_LEFT:"Skip ad",SOCIAL_ADVERTISING_AD_LABEL:"Social ad",THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE:"Read more",THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE:"Read more on the website",THEME_EMPTY_ACTION_BUTTON_LABEL:"Go",TIME_LEFT:"Ad",UNMUTE:"Unmute",UNMUTE_INVITE:"Move mouse over ad<br>to hear sound",VISIT_SITE:"Go to advertiser\u2019s site",YANDEX_DIRECT:"",YANDEX_DIRECT_LINK:""}},kk:{adsdk:{ABUSE_ADS_TEXT:"",ABUSE_COPIED:"",ABUSE_COPY_TEXT:"",ABUSE_CUSTOM_FIELD_PLACEHOLDER:"",ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT:"",ABUSE_IMPROVE_REASON_TEXT:"",ABUSE_OPTION_ABOUT:"",ABUSE_OPTION_ALREADY_PURCHASED:"",ABUSE_OPTION_ANOTHER_REASON:"",ABUSE_OPTION_COMPLAINT:"",ABUSE_OPTION_FALSE_INFO_SOCIAL:"",ABUSE_OPTION_HIDE:"",ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE:"",ABUSE_OPTION_NOT_INTERESTED:"",ABUSE_OPTION_OVERLAP_CONTENT:"",ABUSE_OPTION_POLITICAL_SOCIAL:"",ABUSE_OPTION_SCAMMERS:"",ABUSE_OPTION_SEEN_TOO_OFTEN:"",ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL:"",ABUSE_OPTION_UNPLEASANT_CONTENT:"",ABUSE_SCREEN_DESCRIPTION:"",ABUSE_SCREEN_DESCRIPTION_SHORT:"",ABUSE_SCREEN_TITLE:"",ABUSE_VARIANT_ANNOYING:"",ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD:"",ABUSE_VARIANT_NOT_INTERESTED:"",ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD:"",ABUSE_VARIANT_POLITICAL_SOCIAL_AD:"",ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD:"",ABUSE_VARIANT_SPAM:"",ABUSE_VARIANT_SPAM_SHORT:"",AD_TITLE:"",LEARN_MORE:"",MORE:"",MOTION_BTN:"",MOTION_BTN_WITHOUT_GREEN_URL:"",MOTION_DIETARYSUPPL_DISCLAIMER:"",MOTION_DISTANCE_SALES:"",MOTION_DRUG_DISCLAIMER:"",MOTION_HIDE_DISCLAIMER:"",MOTION_SHOW_DISCLAIMER:"",REPEAT:"",REWARDED_TIMER_1:"",REWARDED_TIMER_2:"",SECONDS:"",SKIP:"",SKIP_TIME_LEFT:"",SOCIAL_ADVERTISING_AD_LABEL:"",THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE:"",THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE:"",THEME_EMPTY_ACTION_BUTTON_LABEL:"",TIME_LEFT:"",UNMUTE:"",UNMUTE_INVITE:"",VISIT_SITE:"",YANDEX_DIRECT:"",YANDEX_DIRECT_LINK:""}},ru:{adsdk:{ABUSE_ADS_TEXT:"\u0420\u0435\u043a\u043b\u0430\u043c\u043d\u043e\u0435 \u043e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u0435",ABUSE_COPIED:"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u043e",ABUSE_COPY_TEXT:"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443",ABUSE_CUSTOM_FIELD_PLACEHOLDER:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c",ABUSE_IMPROVE_REASON_TEXT:"\u0423\u0442\u043e\u0447\u043d\u0438\u0442\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u0443:",ABUSE_OPTION_ABOUT:"\u0420\u0435\u043a\u043b\u0430\u043c\u0430 \u043d\u0430 \u042f\u043d\u0434\u0435\u043a\u0441\u0435",ABUSE_OPTION_ALREADY_PURCHASED:"\u0423\u0436\u0435 \u043f\u0440\u0438\u043e\u0431\u0440\u0435\u0442\u0435\u043d\u043e",ABUSE_OPTION_ANOTHER_REASON:"\u0414\u0440\u0443\u0433\u0430\u044f \u043f\u0440\u0438\u0447\u0438\u043d\u0430",ABUSE_OPTION_COMPLAINT:"\u041f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c\u0441\u044f",ABUSE_OPTION_FALSE_INFO_SOCIAL:"\u041d\u0435\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",ABUSE_OPTION_HIDE:"\u0421\u043a\u0440\u044b\u0442\u044c",ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE:"\u041d\u0435\u0437\u0430\u043a\u043e\u043d\u043d\u044b\u0439 \u0442\u043e\u0432\u0430\u0440/\u0443\u0441\u043b\u0443\u0433\u0430",ABUSE_OPTION_NOT_INTERESTED:"\u041d\u0435 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u0435\u0442",ABUSE_OPTION_OVERLAP_CONTENT:"\u041f\u0435\u0440\u0435\u043a\u0440\u044b\u0432\u0430\u0435\u0442 \u043a\u043e\u043d\u0442\u0435\u043d\u0442",ABUSE_OPTION_POLITICAL_SOCIAL:"\u041f\u043e\u043b\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0440\u0435\u043a\u043b\u0430\u043c\u0430",ABUSE_OPTION_SCAMMERS:"\u042d\u0442\u043e \u043c\u043e\u0448\u0435\u043d\u043d\u0438\u043a\u0438",ABUSE_OPTION_SEEN_TOO_OFTEN:"\u0412\u0438\u0436\u0443 \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u0447\u0430\u0441\u0442\u043e",ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL:"\u0428\u043e\u043a\u0438\u0440\u0443\u044e\u0449\u0438\u0439 \u043a\u043e\u043d\u0442\u0435\u043d\u0442",ABUSE_OPTION_UNPLEASANT_CONTENT:"\u041c\u043d\u0435 \u044d\u0442\u043e \u043d\u0435\u043f\u0440\u0438\u044f\u0442\u043d\u043e",ABUSE_SCREEN_DESCRIPTION:"\u041c\u044b \u0441\u0442\u0430\u0440\u0430\u0435\u043c\u0441\u044f \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u0435\u0437\u043d\u0443\u044e \u0432\u0430\u043c \u0440\u0435\u043a\u043b\u0430\u043c\u0443, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043e\u0442\u0432\u0435\u0447\u0430\u0435\u0442 \u0432\u0430\u0448\u0438\u043c \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u0430\u043c. \u041f\u043e\u044f\u0441\u043d\u0438\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0447\u0435\u043c\u0443 \u0432\u0430\u043c \u043d\u0435 \u043f\u043e\u0434\u043e\u0448\u0451\u043b \u0440\u043e\u043b\u0438\u043a. \u042d\u0442\u043e \u043f\u043e\u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u043c \u043b\u0443\u0447\u0448\u0435 \u043e\u0442\u0431\u0438\u0440\u0430\u0442\u044c \u0434\u043b\u044f \u0432\u0430\u0441 \u0440\u0435\u043a\u043b\u0430\u043c\u0443.",ABUSE_SCREEN_DESCRIPTION_SHORT:"\u041f\u043e\u044f\u0441\u043d\u0438\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0447\u0435\u043c\u0443 \u0432\u0430\u043c \u043d\u0435 \u043f\u043e\u043d\u0440\u0430\u0432\u0438\u043b\u0441\u044f \u0440\u043e\u043b\u0438\u043a. \u042d\u0442\u043e \u043f\u043e\u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u043c \u043b\u0443\u0447\u0448\u0435 \u043e\u0442\u0431\u0438\u0440\u0430\u0442\u044c \u0434\u043b\u044f \u0432\u0430\u0441 \u0440\u0435\u043a\u043b\u0430\u043c\u0443.",ABUSE_SCREEN_TITLE:"\u041f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043d\u0430&nbsp;\u0440\u0435\u043a\u043b\u0430\u043c\u0443",ABUSE_VARIANT_ANNOYING:"\u041d\u0430\u0432\u044f\u0437\u0447\u0438\u0432\u043e \u0438\u043b\u0438 \u043d\u0430\u0434\u043e\u0435\u043b\u043e",ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD:"\u041d\u0435\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",ABUSE_VARIANT_NOT_INTERESTED:"\u041d\u0435 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u044e\u0441\u044c \u044d\u0442\u043e\u0439 \u0442\u0435\u043c\u043e\u0439",ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD:"\u041d\u0435\u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u0430\u044f \u0442\u0435\u043c\u0430",ABUSE_VARIANT_POLITICAL_SOCIAL_AD:"\u041f\u043e\u043b\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0440\u0435\u043a\u043b\u0430\u043c\u0430",ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD:"\u0428\u043e\u043a\u0438\u0440\u0443\u044e\u0449\u0438\u0439 \u043a\u043e\u043d\u0442\u0435\u043d\u0442",ABUSE_VARIANT_SPAM:"\u0421\u043e\u043c\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u044f \u0438\u043b\u0438 \u0441\u043f\u0430\u043c",ABUSE_VARIANT_SPAM_SHORT:"\u041f\u043e\u0445\u043e\u0436\u0435 \u043d\u0430 \u0441\u043f\u0430\u043c",AD_TITLE:"\u0420\u0435\u043a\u043b\u0430\u043c\u0430",LEARN_MORE:"\u0423\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435",MORE:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435",MOTION_BTN:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435",MOTION_BTN_WITHOUT_GREEN_URL:"\u0410\u0434\u0440\u0435\u0441 \u0438 \u0442\u0435\u043b\u0435\u0444\u043e\u043d",MOTION_DIETARYSUPPL_DISCLAIMER:"\u041d\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043b\u0435\u043a\u0430\u0440\u0441\u0442\u0432\u043e\u043c",MOTION_DISTANCE_SALES:"\u0420\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b \u043f\u0440\u043e\u0434\u0430\u0432\u0446\u0430 \u043d\u0430 \u0440\u0435\u043a\u043b\u0430\u043c\u0438\u0440\u0443\u0435\u043c\u043e\u043c \u0441\u0430\u0439\u0442\u0435.",MOTION_DRUG_DISCLAIMER:"\u0415\u0441\u0442\u044c \u043f\u0440\u043e\u0442\u0438\u0432\u043e\u043f\u043e\u043a\u0430\u0437\u0430\u043d\u0438\u044f. \u041f\u043e\u0441\u043e\u0432\u0435\u0442\u0443\u0439\u0442\u0435\u0441\u044c \u0441 \u0432\u0440\u0430\u0447\u043e\u043c.",MOTION_HIDE_DISCLAIMER:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0443",MOTION_SHOW_DISCLAIMER:"\u042e\u0440. \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",REPEAT:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c",REWARDED_TIMER_1:"\u0414\u043e \u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f \u043d\u0430\u0433\u0440\u0430\u0434\u044b",REWARDED_TIMER_2:"\u0441\u0435\u043a",SECONDS:"\u0441\u0435\u043a",SKIP:"\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c",SKIP_TIME_LEFT:"\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0440\u0435\u043a\u043b\u0430\u043c\u0443",SOCIAL_ADVERTISING_AD_LABEL:"\u0421\u043e\u0446\u0438\u0430\u043b\u044c\u043d\u0430\u044f \u0440\u0435\u043a\u043b\u0430\u043c\u0430",THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435",THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 \u043d\u0430 \u0441\u0430\u0439\u0442\u0435",THEME_EMPTY_ACTION_BUTTON_LABEL:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438",TIME_LEFT:"\u0420\u0435\u043a\u043b\u0430\u043c\u0430",UNMUTE:"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0437\u0432\u0443\u043a",UNMUTE_INVITE:"\u041d\u0430\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u0443\u0440\u0441\u043e\u0440,<br>\u0447\u0442\u043e\u0431\u044b \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0437\u0432\u0443\u043a",VISIT_SITE:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0441\u0430\u0439\u0442 \u0440\u0435\u043a\u043b\u0430\u043c\u043e\u0434\u0430\u0442\u0435\u043b\u044f",YANDEX_DIRECT:"\u042f\u043d\u0434\u0435\u043a\u0441.\u0414\u0438\u0440\u0435\u043a\u0442",YANDEX_DIRECT_LINK:"https://direct.yandex.ru/?partner"}},tr:{adsdk:{ABUSE_ADS_TEXT:"Reklam",ABUSE_COPIED:"Kopyaland\u0131",ABUSE_COPY_TEXT:"Ba\u011flant\u0131y\u0131 kopyala",ABUSE_CUSTOM_FIELD_PLACEHOLDER:"Mesaj\u0131n\u0131z\u0131 girin",ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT:"G\xf6nder",ABUSE_IMPROVE_REASON_TEXT:"Nedenini a\xe7\u0131klay\u0131n:",ABUSE_OPTION_ABOUT:"Yandex'te reklam",ABUSE_OPTION_ALREADY_PURCHASED:"Zaten sat\u0131n al\u0131nd\u0131",ABUSE_OPTION_ANOTHER_REASON:"Ba\u015fka bir neden var",ABUSE_OPTION_COMPLAINT:"\u015eikayet et",ABUSE_OPTION_FALSE_INFO_SOCIAL:"Yanl\u0131\u015f bilgi",ABUSE_OPTION_HIDE:"Gizle",ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE:"Yasad\u0131\u015f\u0131 mal/hizmet",ABUSE_OPTION_NOT_INTERESTED:"\u0130lgilenmiyorum",ABUSE_OPTION_OVERLAP_CONTENT:"\u0130\xe7eri\u011fin \xfczerini kapl\u0131yor",ABUSE_OPTION_POLITICAL_SOCIAL:"Siyasi i\xe7erikli reklam",ABUSE_OPTION_SCAMMERS:"Doland\u0131r\u0131c\u0131lar",ABUSE_OPTION_SEEN_TOO_OFTEN:"Bunu \xe7ok s\u0131k g\xf6r\xfcyorum",ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL:"Rahats\u0131z edici i\xe7erik",ABUSE_OPTION_UNPLEASANT_CONTENT:"Ho\u015fuma gitmiyor",ABUSE_SCREEN_DESCRIPTION:"\u0130lgi alanlar\u0131n\u0131za uygun reklamlar g\xf6stermeye \xe7al\u0131\u015f\u0131yoruz. Sizin i\xe7in daha faydal\u0131 reklamlar se\xe7ebilmemiz i\xe7in bu videoyu neden be\u011fenmedi\u011finizi a\xe7\u0131klar m\u0131s\u0131n\u0131z?",ABUSE_SCREEN_DESCRIPTION_SHORT:"Size daha uygun reklamlar se\xe7ebilmemiz i\xe7in bu videoyu neden be\u011fenmedi\u011finizi a\xe7\u0131klar m\u0131s\u0131n\u0131z?",ABUSE_SCREEN_TITLE:"Reklam\u0131 \u015fikayet et",ABUSE_VARIANT_ANNOYING:"Israrc\u0131 veya b\u0131kt\u0131r\u0131c\u0131",ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD:"",ABUSE_VARIANT_NOT_INTERESTED:"Bu konuyla ilgilenmiyorum",ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD:"",ABUSE_VARIANT_POLITICAL_SOCIAL_AD:"",ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD:"",ABUSE_VARIANT_SPAM:"G\xfcvenilir olmayan i\xe7erik veya spam",ABUSE_VARIANT_SPAM_SHORT:"Spam gibi g\xf6r\xfcn\xfcyor",AD_TITLE:"Reklam",LEARN_MORE:"Daha fazla bilgi edinin",MORE:"Daha fazla",MOTION_BTN:"",MOTION_BTN_WITHOUT_GREEN_URL:"",MOTION_DIETARYSUPPL_DISCLAIMER:"",MOTION_DISTANCE_SALES:"",MOTION_DRUG_DISCLAIMER:"",MOTION_HIDE_DISCLAIMER:"",MOTION_SHOW_DISCLAIMER:"",REPEAT:"Tekrarla",REWARDED_TIMER_1:"",REWARDED_TIMER_2:"",SECONDS:"sn",SKIP:"Atla",SKIP_TIME_LEFT:"Reklam\u0131 atla",SOCIAL_ADVERTISING_AD_LABEL:"",THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE:"",THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE:"",THEME_EMPTY_ACTION_BUTTON_LABEL:"",TIME_LEFT:"Reklam",UNMUTE:"Sesi a\xe7",UNMUTE_INVITE:"Sesi a\xe7mak i\xe7in<br>imleci \xfczerine getirin",VISIT_SITE:"Reklam verenin sitesine git",YANDEX_DIRECT:"",YANDEX_DIRECT_LINK:""}},uk:{adsdk:{ABUSE_ADS_TEXT:"",ABUSE_COPIED:"",ABUSE_COPY_TEXT:"",ABUSE_CUSTOM_FIELD_PLACEHOLDER:"",ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT:"",ABUSE_IMPROVE_REASON_TEXT:"",ABUSE_OPTION_ABOUT:"",ABUSE_OPTION_ALREADY_PURCHASED:"",ABUSE_OPTION_ANOTHER_REASON:"",ABUSE_OPTION_COMPLAINT:"",ABUSE_OPTION_FALSE_INFO_SOCIAL:"",ABUSE_OPTION_HIDE:"",ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE:"",ABUSE_OPTION_NOT_INTERESTED:"",ABUSE_OPTION_OVERLAP_CONTENT:"",ABUSE_OPTION_POLITICAL_SOCIAL:"",ABUSE_OPTION_SCAMMERS:"",ABUSE_OPTION_SEEN_TOO_OFTEN:"",ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL:"",ABUSE_OPTION_UNPLEASANT_CONTENT:"",ABUSE_SCREEN_DESCRIPTION:"",ABUSE_SCREEN_DESCRIPTION_SHORT:"",ABUSE_SCREEN_TITLE:"",ABUSE_VARIANT_ANNOYING:"",ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD:"",ABUSE_VARIANT_NOT_INTERESTED:"",ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD:"",ABUSE_VARIANT_POLITICAL_SOCIAL_AD:"",ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD:"",ABUSE_VARIANT_SPAM:"",ABUSE_VARIANT_SPAM_SHORT:"",AD_TITLE:"",LEARN_MORE:"",MORE:"",MOTION_BTN:"",MOTION_BTN_WITHOUT_GREEN_URL:"",MOTION_DIETARYSUPPL_DISCLAIMER:"",MOTION_DISTANCE_SALES:"",MOTION_DRUG_DISCLAIMER:"",MOTION_HIDE_DISCLAIMER:"",MOTION_SHOW_DISCLAIMER:"",REPEAT:"",REWARDED_TIMER_1:"",REWARDED_TIMER_2:"",SECONDS:"",SKIP:"",SKIP_TIME_LEFT:"",SOCIAL_ADVERTISING_AD_LABEL:"",THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE:"",THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE:"",THEME_EMPTY_ACTION_BUTTON_LABEL:"",TIME_LEFT:"",UNMUTE:"",UNMUTE_INVITE:"",VISIT_SITE:"",YANDEX_DIRECT:"",YANDEX_DIRECT_LINK:""}},uz:{adsdk:{ABUSE_ADS_TEXT:"",ABUSE_COPIED:"",ABUSE_COPY_TEXT:"",ABUSE_CUSTOM_FIELD_PLACEHOLDER:"",ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT:"",ABUSE_IMPROVE_REASON_TEXT:"",ABUSE_OPTION_ABOUT:"",ABUSE_OPTION_ALREADY_PURCHASED:"",ABUSE_OPTION_ANOTHER_REASON:"",ABUSE_OPTION_COMPLAINT:"",ABUSE_OPTION_FALSE_INFO_SOCIAL:"",ABUSE_OPTION_HIDE:"",ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE:"",ABUSE_OPTION_NOT_INTERESTED:"",ABUSE_OPTION_OVERLAP_CONTENT:"",ABUSE_OPTION_POLITICAL_SOCIAL:"",ABUSE_OPTION_SCAMMERS:"",ABUSE_OPTION_SEEN_TOO_OFTEN:"",ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL:"",ABUSE_OPTION_UNPLEASANT_CONTENT:"",ABUSE_SCREEN_DESCRIPTION:"",ABUSE_SCREEN_DESCRIPTION_SHORT:"",ABUSE_SCREEN_TITLE:"",ABUSE_VARIANT_ANNOYING:"",ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD:"",ABUSE_VARIANT_NOT_INTERESTED:"",ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD:"",ABUSE_VARIANT_POLITICAL_SOCIAL_AD:"",ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD:"",ABUSE_VARIANT_SPAM:"",ABUSE_VARIANT_SPAM_SHORT:"",AD_TITLE:"",LEARN_MORE:"",MORE:"",MOTION_BTN:"",MOTION_BTN_WITHOUT_GREEN_URL:"",MOTION_DIETARYSUPPL_DISCLAIMER:"",MOTION_DISTANCE_SALES:"",MOTION_DRUG_DISCLAIMER:"",MOTION_HIDE_DISCLAIMER:"",MOTION_SHOW_DISCLAIMER:"",REPEAT:"",REWARDED_TIMER_1:"",REWARDED_TIMER_2:"",SECONDS:"",SKIP:"",SKIP_TIME_LEFT:"",SOCIAL_ADVERTISING_AD_LABEL:"",THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE:"",THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE:"",THEME_EMPTY_ACTION_BUTTON_LABEL:"",TIME_LEFT:"",UNMUTE:"",UNMUTE_INVITE:"",VISIT_SITE:"",YANDEX_DIRECT:"",YANDEX_DIRECT_LINK:""}}}},function(e,t){e.exports={initMoatTracking:function(e,t,i,r){var a=document.createElement("script"),n={events:[],addEvent:function(e){s.sendEvent?(n.events&&(s.sendEvent(n.events),n.events=!1),s.sendEvent(e)):n.events.push(e)}},o=function(t){return function(){var r,a=-1;if(e&&e.getAdVolume&&(r=e.getAdVolume()),"number"==typeof r&&!isNaN(r)&&0<=r&&(a=r),n.addEvent({type:t,adVolume:a}),-1!==h.indexOf(t)&&e&&e.unsubscribe&&!u)for(var o in u=!0,c)if(c.hasOwnProperty&&c.hasOwnProperty(o))try{e.unsubscribe(c[o],o)}catch(i){}}},s={adData:{ids:i,vpaid:e,build:"cc07a80-clean"},dispatchEvent:n.addEvent};i="_moatApi"+Math.floor(1e8*Math.random());var d,l,c={AdStarted:o("AdStarted"),AdStopped:o("AdStopped"),AdSkipped:o("AdSkipped"),AdLoaded:o("AdLoaded"),AdLinearChange:o("AdLinearChange"),AdSizeChange:o("AdSizeChange"),AdExpandedChange:o("AdExpandedChange"),AdSkippableStateChange:o("AdSkippableStateChange"),AdDurationChange:o("AdDurationChange"),AdRemainingTimeChange:o("AdRemainingTimeChange"),AdVolumeChange:o("AdVolumeChange"),AdImpression:o("AdImpression"),AdClickThru:o("AdClickThru"),AdInteraction:o("AdInteraction"),AdVideoStart:o("AdVideoStart"),AdVideoFirstQuartile:o("AdVideoFirstQuartile"),AdVideoMidpoint:o("AdVideoMidpoint"),AdVideoThirdQuartile:o("AdVideoThirdQuartile"),AdVideoComplete:o("AdVideoComplete"),AdUserAcceptInvitation:o("AdUserAcceptInvitation"),AdUserMinimize:o("AdUserMinimize"),AdUserClose:o("AdUserClose"),AdPaused:o("AdPaused"),AdPlaying:o("AdPlaying"),AdError:o("AdError")},u=!1,h=["AdStopped","AdSkipped","AdVideoComplete"];!function(){if(e&&e.subscribe)for(var t in c)c.hasOwnProperty&&c.hasOwnProperty(t)&&e.subscribe(c[t],t)}();try{l=(d=t.ownerDocument).defaultView||d.parentWindow}catch(p){d=document,l=window}return l[i]=s,a.type="text/javascript",t&&t.insertBefore(a,t.childNodes[0]||null),a.src="https://z.moatads.com/"+r+"/moatvideo.js#"+i,s}}},function(e,t){!function(e){function t(){this.intersectionSupport=!!e.IntersectionObserver,this.intersectionRatio=-1,this.observerData=[{percent:.5,duration:2e3,useFocus:!0,name:"MRC"}],this.audibilityFired=!1,this.secondsAudible=0,this.started=!1}function i(e){return e!=t.eventsMap.AdImpression||n?e==t.eventsMap.AdClickThru?"{{protocol}}//{{domain}}/fcgi-bin/dispatch.fcgi?a.A=cl&a.si={{account}}&a.te={{tte}}&a.aap={{aap}}&a.agi={{agi}}&g.lu=":"{{protocol}}//{{domain}}/fcgi-bin/dispatch.fcgi?a.A=ev&a.si={{account}}&a.te={{tte}}&a.aap={{aap}}&a.agi={{agi}}&a.evn="+e+"&g.ra={{random}}&a.ycp={{siteID}}":(n=!0,"{{protocol}}//{{domain}}/fcgi-bin/dispatch.fcgi?a.A=im&a.si={{account}}&a.te={{tte}}&a.aap={{aap}}&a.agi={{agi}}&a.hr=XC&g.ra={{random}}&a.ycp={{siteID}}")}function r(e,t){for(var i in t)t.hasOwnProperty(i)&&(e=e.replace(new RegExp("{{"+i+"}}","g"),t[i]));return e}function a(e){(new Image).src=e}var n=!1;t.prototype.version=function(){console.log("[Viewability Observer JS] 2018.02.20")},t.VOLUME_ON="Audible",t.VOLUME_OFF="Inaudible",t.INITIALLY_ON="initially_unmuted",t.INITIALLY_OFF="initially_muted",t.FIRE_TIME=2e3,t.DELAY=250,t.ON_PAGE="OnPage",t.S_FRAME="SameDomainFrame",t.X_FRAME="CrossDomainFrame",t.VIEWABLE="Viewable",t.NOT_VIEWABLE="Unviewable",t.UNDETERMINED="Undetermined",t.VISIBILITY_RATIO=.5,t.USE_FOCUS=!0,t.eventsMap={AdLoaded:"load",AdStarted:"creativeView",AdVideoStart:"start",AdImpression:"",AdImpressionYandex:"AdImpressionYandex",AdVideoFirstQuartile:"firstQuartile",AdVideoMidpoint:"midpoint",AdVideoThirdQuartile:"thirdQuartile",AdVideoComplete:"complete",AdUserClose:"close",AdStopped:"stop",AdSkipped:"skip",AdClickThru:"click",AdPaused:"pause",AdPlaying:"resume",AdError:"error"},t.audioEventsMap={AdVideoStart:"start",AdVideoFirstQuartile:"firstQuartile",AdVideoMidpoint:"midpoint",AdVideoThirdQuartile:"thirdQuartile",AdVideoComplete:"complete"},t.playerSizeParams={PlayerSmallDesktop:[0,480],PlayerNormalDesktop:[480,720],PlayerBigDesktop:[720,960],PlayerHugeDesktop:[960,0],PlayerSmallMobile:[0,260],PlayerNormalMobile:[260,320],PlayerBigMobile:[320,380],PlayerHugeMobile:[380,0]},t.prototype.hasFocus=function(){return("undefined"===this.realDocument.hidden||!0!==this.realDocument.hidden)&&(this.getPosition()===t.X_FRAME||"function"!==typeof this.realWindow.top.document.hasFocus||this.realWindow.top.document.hasFocus())},t.prototype.getPosition=function(){if(!this.position)if(e.top===this.realWindow)this.position=t.ON_PAGE;else{this.position=t.S_FRAME;try{for(var i=this.realWindow;i.parent!==i;){if(i.parent.document.domain!==i.document.domain){this.position=t.X_FRAME;break}i=i.parent}}catch(r){this.position=t.X_FRAME}}return this.position},t.prototype.init=function(e,n,o){this.rootElement=e,this.realDocument=this.rootElement.ownerDocument,this.realWindow=this.realDocument.defaultView||this.realDocument.parentWindow,this.adParameters=JSON.parse(n),this.adParameters.agi=Math.round(1e3*Math.random()),this.adParameters.random=Math.round(1e8*Math.random()),this.adParameters.protocol="https:",this.vpaidObject=o,this.volume=-1,this.completeDispatched=this.durationChecked=!1,e={cet:0,pg:0,ulv:0,dnn:0};try{if("undefined"!==typeof this.adParameters.cp){var s=decodeURIComponent(this.adParameters.cp).split("|");for(n=0;n<s.length;n++)if(s[n]){var d=s[n].split(":");e[d[0]]=2!=d.length||("undefined"!==typeof e[d[0]]?isNaN(parseInt(d[1],10))?e[d[0]]:parseInt(d[1],10):d[1])}}}catch(c){}for(var l in this.customParams=e,0<this.customParams.pg&&(this.observerData=[{percent:.5,duration:2e3,useFocus:!0,name:"MRC"},{percent:.7,duration:2e3,useFocus:!0,name:"70and2"},{percent:.99,duration:2e3,useFocus:!0,name:"100and2"},{percent:.75,duration:5e3,useFocus:!0,name:"MRC75Prc"}]),0<this.customParams.ulv&&(this.observerData=[{percent:.5,duration:2e3,useFocus:!0,name:"MRC"},{percent:.5,duration:2e3,useFocus:!0,name:"visibility_2sec"},{percent:.5,duration:4e3,useFocus:!0,name:"visibility_4sec"},{percent:.5,duration:7e3,useFocus:!0,name:"visibility_7sec"},{percent:.5,duration:1e4,useFocus:!0,name:"visibility_10sec"},{percent:.5,duration:15e3,useFocus:!0,name:"visibility_15sec"},{percent:.5,duration:2e4,useFocus:!0,name:"visibility_20sec"},{percent:.5,duration:3e4,useFocus:!0,name:"visibility_30sec"}]),0<this.customParams.dnn&&(this.observerData=[{percent:.5,duration:2e3,useFocus:!0,name:"MRC"},{percent:.7,duration:5e3,useFocus:!0,name:"MRC70"}]),a(r(i(this.getPosition()),this.adParameters)),t.eventsMap)t.eventsMap.hasOwnProperty(l)&&o.subscribe(this.onVPAIDEvent.bind(this,l),l);if(this.intersectionSupport)this.intersectionObserver=new IntersectionObserver(function(e){this.intersectionRatio=Math.round(100*e[0].intersectionRatio)/100}.bind(this),{threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]}),this.intersectionObserver.observe(this.rootElement);else if(this.getPosition()==t.X_FRAME)return a(r(i(this.observerData.shift().name+t.UNDETERMINED),this.adParameters)),!1},t.prototype.checkDuration=function(){if(this.vpaidObject&&"function"==typeof this.vpaidObject.getAdDuration&&this.vpaidObject.getAdDuration()){var e=Math.round(this.vpaidObject.getAdDuration());if(0<e){this.durationChecked=!0;for(var t=0;t<this.observerData.length;t++)this.observerData[t].duration>1e3*e&&(this.observerData.splice(t,1),t--)}else setTimeout(this.checkDuration,250)}},t.prototype.onVPAIDEvent=function(e){if(0<this.customParams.ulv&&!this.durationChecked&&"AdVideoStart"==e&&this.checkDuration(),"AdVideoStart"==e){this.onVPAIDEvent("AdImpression"),this.onVPAIDEvent("AdImpressionYandex"),this.started||(this.started=!0,this.updater=setInterval(t.updateTime.bind(this),t.DELAY),this.updaterAudibility=setInterval(t.updateTimeAudibility.bind(this),t.DELAY)),this.volume=parseFloat(this.vpaidObject.getAdVolume(),10),a(r(i(c=this.volume>0?t.INITIALLY_ON:t.INITIALLY_OFF),this.adParameters));var n=t.playerSizeParams,o=parseFloat(this.vpaidObject.getAdWidth(),10);for(var s in n)if(n.hasOwnProperty(s)){var d=n[s];(!d[0]||o>=d[0])&&(!d[1]||o<d[1])&&a(r(i(s),this.adParameters))}}if("AdVideoComplete"==e){if(this.completeDispatched)return;if(this.completeDispatched=!0,0<this.customParams.pg)(l=this.getViewAbility(t.VISIBILITY_RATIO,t.USE_FOCUS)).state===t.VIEWABLE&&a(r(i("AdVideoCompleteMRC"),this.adParameters))}if("AdClickThru"==e&&0<this.customParams.cet&&(0<(l=this.vpaidObject.getAdDuration()-this.vpaidObject.getAdRemainingTime())&&a(r(i("AdVideoClick"+parseInt(l,10)),this.adParameters))),"AdPaused"==e&&(clearInterval(this.updater),clearInterval(this.updaterAudibility)),-1!=["AdStopped","AdSkipped","AdUserClose"].indexOf(e)&&this.stop(),t.eventsMap.hasOwnProperty(e)){var l=this.getViewAbility(t.VISIBILITY_RATIO,t.USE_FOCUS);a(r(i(t.eventsMap[e]),this.adParameters)),"AdImpression"!=e&&"AdImpressionYandex"!=e&&l.state&&a(r(i(e+l.state),this.adParameters))}if("AdVideoThirdQuartile"==e&&this.checkTwoSeconds(),t.audioEventsMap.hasOwnProperty(e)){this.volume=parseFloat(this.vpaidObject.getAdVolume(),10);var c=this.volume>0?t.VOLUME_ON:t.VOLUME_OFF;a(r(i(t.eventsMap[e]+c),this.adParameters))}},t.prototype.checkTwoSeconds=function(){if(!this.completeDispatched){var e=this.vpaidObject.getAdRemainingTime();if(0<e&&1.1>e)this.completeDispatched=!0,e=this.getViewAbility(t.VISIBILITY_RATIO,t.USE_FOCUS),0<this.customParams.pg&&e.state===t.VIEWABLE&&a(r(i("AdVideoCompleteMRC"),this.adParameters)),a(r(i(t.eventsMap.AdVideoComplete),this.adParameters)),e.state&&a(r(i("AdVideoComplete"+e.state),this.adParameters)),this.stop();else{var n=this;setTimeout((function(){n.checkTwoSeconds()}),250)}}},t.prototype.stop=function(){if(clearInterval(this.updater),clearInterval(this.updaterAudibility),this.started=!1,t.updateTime.call(this),this.observerData&&this.observerData.length)for(;this.observerData.length;)a(r(i(this.observerData.shift().name+t.NOT_VIEWABLE),this.adParameters));this.updater&&clearInterval(this.updater),this.audibilityFired||(this.audibilityFired=!0,a(r(i(t.VOLUME_OFF),this.adParameters)))},t.prototype.getViewAbility=function(i,r){if(this.intersectionSupport)return t.match(this.hasFocus(),r,this.intersectionRatio,i);if(this.getPosition()==t.X_FRAME)return{error:t.UNDETERMINED,state:t.UNDETERMINED,percent:0,focus:!1};var a=this.realWindow,n=this.rootElement.getBoundingClientRect(),o=t.calculateArea(n,a);try{for(;a!==e.top;){var s=a.name||(a.name="wb-"+Math.round(1e6*Math.random()).toString(16));n=(a=a.parent).frames[s].frameElement.getBoundingClientRect(),o=Math.min(t.calculateArea(n,a),o)}}catch(d){return{error:t.UNDETERMINED,state:t.UNDETERMINED,percent:0,focus:!1}}return t.match(this.hasFocus(),r,o,i)},t.updateTime=function(){var e=this.getViewAbility();if(!this.observerData||!this.observerData.length)return clearInterval(this.updater);for(var n=[],o=0;o<this.observerData.length;o++){var s=this.observerData[o];s.timeInView=(!s.useFocus||e.focus)&&e.percent>=s.percent?t.DELAY+(s.timeInView||0):0,s.timeInView>=s.duration?a(r(i(s.name+t.VIEWABLE),this.adParameters)):n.push(s)}this.observerData=n},t.updateTimeAudibility=function(){if(this.audibilityFired)return clearInterval(this.updaterAudibility);this.volume=parseFloat(this.vpaidObject.getAdVolume(),10),this.volume<=0||isNaN(this.volume)?this.secondsAudible=0:this.secondsAudible+=t.DELAY,this.secondsAudible>=t.FIRE_TIME&&(this.audibilityFired=!0,a(r(i(t.VOLUME_ON),this.adParameters)))},t.match=function(e,i,r,a){var n=t.NOT_VIEWABLE;return(e||!i)&&r>=a&&(n=t.VIEWABLE),{state:n,focus:e,percent:r}},t.calculateArea=function(e,t){var i=e.width*e.height,r=e.width,a=e.height;return 0>e.top&&(a+=e.top),e.bottom>t.innerHeight&&(a-=e.bottom-t.innerHeight),0>e.left&&(r+=e.left),e.right>t.innerWidth&&(r-=e.right-t.innerWidth),r*a/i},e.WBViewAbility=t}(window)},function(e,t,i){"use strict";function r(e,t,i,r,a,n,o){var s,d,l=document.createElement("script"),c=[],u={vidIntType:"3",vidIntVersion:"1.0",adData:{ids:t,duration:i,url:n},dispatchEvent:function(e){u.sendEvent?(c&&(c.push(e),e=c,c=!1),u.sendEvent(e)):c&&c.push(e)},clientCallback:o};t="_moatApi"+Math.floor(1e8*Math.random());try{d=(s=e.ownerDocument).defaultView||s.parentWindow}catch(h){s=document,d=window}return d[t]=u,l.type="text/javascript",e&&e.insertBefore(l,e.childNodes[0]||null),l.src=["https://yast","atic.net/pc","ode-static/measurers/"].join("")+a+"/moat/"+r+"/moatvideo.js#"+t,u}i.r(t),i.d(t,"initMoatTracking",(function(){return r}))},function(e,t,i){"use strict";function r(e,t){return void 0===t&&(t=1e6),function(e){let t="",i=0;for(;i<e.length;){const r=e.charCodeAt(i++),a=e.charCodeAt(i++),n=e.charCodeAt(i++),o=r>>2,s=(3&r)<<4|a>>4;let d=(15&a)<<2|n>>6,l=63&n;isNaN(a)?d=l=64:isNaN(n)&&(l=64),t=t+No.charAt(o)+No.charAt(s)+No.charAt(d)+No.charAt(l)}return t}(function(e,t){e=e.replace(/\r\n/g,"\n");let i="";for(let r=0;r<e.length;r++){const a=e.charCodeAt(r);let n;if(a<128?n=String.fromCharCode(a):a>127&&a<2048?(n=String.fromCharCode(a>>6|192),n+=String.fromCharCode(63&a|128)):(n=String.fromCharCode(a>>12|224),n+=String.fromCharCode(a>>6&63|128),n+=String.fromCharCode(63&a|128)),i.length+n.length>t)break;i+=n}return i}(e,3*t/4|0))}function a(e){return function(e){const t=[];let i=0;for(;i<e.length;){const r=e.charCodeAt(i);if(r<128)t.push(String.fromCharCode(r)),i++;else if(r>191&&r<224){const a=e.charCodeAt(i+1);t.push(String.fromCharCode((31&r)<<6|63&a)),i+=2}else{const a=e.charCodeAt(i+1),n=e.charCodeAt(i+2);t.push(String.fromCharCode((15&r)<<12|(63&a)<<6|63&n)),i+=3}}return t.join("")}(function(e){const t=[];let i=0;e=e.replace(/[^A-Za-z0-9\-_=]/g,"");for(;i<e.length;){const r=No.indexOf(e.charAt(i++)),a=No.indexOf(e.charAt(i++)),n=No.indexOf(e.charAt(i++)),o=No.indexOf(e.charAt(i++)),s=r<<2|a>>4,d=(15&a)<<4|n>>2,l=(3&n)<<6|o;t.push(String.fromCharCode(s)),64!==n&&t.push(String.fromCharCode(d)),64!==o&&t.push(String.fromCharCode(l))}return t.join("")}(e))}function n(e){return"number"===typeof e&&isFinite(e)}function o(e){return"number"===typeof e&&isFinite(e)&&e>0}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function d(e){const t=function(e){if("function"===typeof e.getVideoPlaybackQuality){const t=e.getVideoPlaybackQuality();if(Object(Ro.a)(t)){const{droppedVideoFrames:e,corruptedVideoFrames:i,totalVideoFrames:r}=t;return{droppedVideoFrames:e,corruptedVideoFrames:i||0,totalVideoFrames:r}}}const t=e;return"number"===typeof t.webkitDroppedFrameCount&&"number"===typeof t.webkitDecodedFrameCount?s({},Vo,{droppedVideoFrames:t.webkitDroppedFrameCount,totalVideoFrames:t.webkitDecodedFrameCount}):Vo}(e),{droppedVideoFrames:i,totalVideoFrames:r}=t;let a=jo.droppedVideoFramesRatio;return o(r)&&n(i)&&(a=i/r),s({},t,{droppedVideoFramesRatio:a})}function l(e,t){const i=e.style;for(const r in t)if(t.hasOwnProperty(r)){i[fs(r)]=t[r]}}function c(e,t){Object(bs.a)(t).forEach(i=>{const r=t[i];null===r?e.removeAttribute(i):e.setAttribute(i,r)})}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function p(e,t){try{return e()}catch(i){"function"===typeof t&&t(i)}}function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function v(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function b(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _(e){return[].concat.apply([],e)}function g(e,t){const i=[],r=[];return Object(Co.a)(e,(a,n)=>{t(a,n,e)?i.push(a):r.push(a)}),[i,r]}function O(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.join("")}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function E(e,t){return t===e.substring(e.length-t.length)}function T(e){const{hostname:t}=Object(Ad.e)(e);return t===dl||E(t,"."+dl)}function S(e){if(!e)return!1;const{hostname:t}=Object(Ad.e)(e);return!(!t||0===t.length)&&ll(ul,e=>e===t||E(t,"."+e))}function w(e){let{url:t,options:i,ignoreAbd:r=!1,win:a}=e;if(Object(ns.a)(ud.a)&&!r)return t;if(!S(t)&&!T(t))return t;const n=Math.round(100*i.visibility),o=Math.round(i.size.width),s=Math.round(i.size.height),d=Math.round(100*i.videoVolume),l=Math.round(i.videoAvatarSize.width),c=Math.round(i.videoAvatarSize.height),u=Object(sl.a)();return Object(Ad.b)(t,{[gd]:String(ss.a),[Od]:Ud.c,[yd]:String(n),[Ed]:String(o),[Td]:String(s),[Sd]:String(l),[wd]:String(c),[fd.a]:String(hl.a.serialize()),[Pd]:nl(),[Id]:vd.a,[jd]:ol(a),[Dd]:pd.b,[Nd]:pd.a?"0":"1",[bd]:String(Date.now()),[_d]:String((new Date).getTimezoneOffset()),[Cd]:ml?"0":"1",[Rd]:String(d),[kd]:i.videoMuted?"1":"0",[Vd]:md.a.getActiveTestIds().join(";")||void 0,[Ld]:void 0===u?"unknown":String(u),[Md]:void 0===i.isFullscreen?"unknown":String(i.isFullscreen),[Bd]:hd.a?Object(xd.a)(a):void 0},{override:!1})}function P(e){if(void 0===e||null===e)return"";const{documentElement:t}=e,{tagName:i}=t;return"string"===typeof i?i:""}function I(e){if(!e)return null;try{const t=(new DOMParser).parseFromString(e,"application/xml");return null===t.querySelector("parsererror")?t:null}catch(t){return null}}function C(e,t,i){if(void 0===i&&(i=""),e.hasAttribute(t)){var r;const i=e.getAttribute(t);return null!==(r=null===i||void 0===i?void 0:i.trim())&&void 0!==r?r:""}return i}function D(e){var t,i;return null!==(t=null===e||void 0===e?void 0:null===(i=e.textContent)||void 0===i?void 0:i.trim())&&void 0!==t?t:""}function N(e){return Boolean(e&&D(e).length)}function R(e){try{return Object(cs.a)(e)?JSON.parse(e):void 0}catch(t){return}}function k(e){const t=parseInt(C(e,"width",0),10),i=parseInt(C(e,"height",0),10),r=parseInt(C(e,"bitrate",0),10),a=C(e,"minBitrate",""),n=a?parseInt(a,10):void 0,s=C(e,"maxBitrate",""),d=s?parseInt(s,10):void 0,l=C(e,"vmafAvg",""),c=l?parseFloat(l):void 0,u=C(e,"codec",""),h={width:t,height:i,bitrate:r,type:C(e,"type"),url:D(e)};return Object(ks.a)(u)&&(h.codec=u),o(n)&&(h.minBitrate=n),o(d)&&(h.maxBitrate=d),o(n)&&o(d)&&n>d&&xo.c.error({error:new Uo.a({code:"MIN_BITRATE_GREATER_THAN_MAX_BITRATE",details:{adMediaFile:h}})}),o(c)&&(h.vmafAvg=c),h.url?h.type?h:(xo.c.error({error:new Uo.a({code:"INVALID_MEDIA_FILE_TYPE",details:{adMediaFile:h}})}),null):(xo.c.error({error:new Uo.a({code:"INVALID_MEDIA_FILE_URL",details:{adMediaFile:h}})}),null)}function V(e){const t=e.querySelector("StaticResource");return{width:parseInt(C(e,"width",0),10),height:parseInt(C(e,"height",0),10),type:t?C(t,"creativeType"):null,url:t?D(t):"",bitrate:0,minBitrate:void 0,maxBitrate:void 0}}function j(e){const t={};return Object(Ro.a)(e)&&Object(Co.a)(Object(bs.a)(e),i=>{const r=e[i];Array.isArray(r)&&(t[i]=Object(To.a)(r,e=>"string"===typeof e))}),t}function L(){const e={};for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return Object(Co.a)(i,t=>{Object(Co.a)(Object(bs.a)(t),i=>{const r=e[i]||[],a=t[i]||[];e[i]=[...r,...a]})}),e}function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function B(e){if(Dl&&Rl)return;if(void 0===e)return;const t=Number(e);return o(t)?t:void 0}function U(e,t){const i={};return Object(bs.a)(e).forEach(r=>{i[r]=t(e[r],r)}),i}function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function F(e){const t=dd(Ml);if(!Object(Ro.a)(e))return t;const i=(e,i)=>{void 0===t.controlsVisibility[i]&&"boolean"===typeof e&&(t.controlsVisibility[i]=e)};return i(e.showSoundButton,"mute"),i(e.showSkipButton,"skip"),Object(Ro.a)(e.controlsSettings)&&(Object(Ro.a)(e.controlsSettings.controlsVisibility)&&Object(wl.a)(e.controlsSettings.controlsVisibility,(e,i)=>{jl.indexOf(i)>-1&&"boolean"===typeof e&&(t.controlsVisibility[i]=e)}),Object(Ro.a)(!1===e.controlsSettings.visibility)&&(t.controlsVisibility=x({},Ll))),delete t.visibility,t}function H(){return(H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function z(e){const{packshotSettings:t}=e;if(!Object(Ro.a)(t))return Bl;const{isEnabled:i}=t;return H({},Bl,{isEnabled:!1!==i&&void 0})}function W(e){const t=Object(Ro.a)(e)?e:{},i=[],r="number"===typeof t.bufferFullTimeout?Math.min(t.bufferFullTimeout,Sl):void 0;let a;return void 0!==t.skipDelay&&(n(t.skipDelay)&&t.skipDelay>=0?a=t.skipDelay:i.push(new Uo.a({code:"INCORRECT_SKIP_DELAY_FORMAT",details:{value:t.skipDelay,stringValue:String(t.skipDelay),type:typeof t.skipDelay}}))),{config:{autoplay:void 0===t.autoplay?void 0:Boolean(t.autoplay),pauseOnClickThrough:void 0===t.pauseOnClickThrough||Boolean(t.pauseOnClickThrough),showGuiForVpaid:"boolean"===typeof t.showGuiForVpaid?t.showGuiForVpaid:void 0,backgroundBlur:void 0===t.backgroundBlur?void 0:Boolean(t.backgroundBlur),description:"string"===typeof t.description?t.description:void 0,skipDelay:a,videoTimeout:o(t.videoTimeout)?t.videoTimeout:void 0,vpaidTimeout:o(t.vpaidTimeout)?t.vpaidTimeout:void 0,bufferFullTimeout:r,bufferEmptyLimit:o(t.bufferEmptyLimit)?t.bufferEmptyLimit:void 0,clickThroughUrl:"string"===typeof t.clickThroughUrl?t.clickThroughUrl:void 0,trackingEvents:t.trackingEvents?j(t.trackingEvents):{},controlsSettings:F(t),videoSlotCanAutoPlay:void 0===t.videoSlotCanAutoPlay?void 0:Boolean(t.videoSlotCanAutoPlay),desiredBitrate:B(t.desiredBitrate),lang:"string"===typeof t.lang?t.lang:yl,packshotSettings:z(t)},errors:i}}function G(e){(new Image).src=e}function Y(e,t){if(S(e)||T(e)){if(function(e,t){return!!Ul&&window.navigator.sendBeacon(e,t)}(e,t))return}else S(e)&&xo.c.event({name:"TrackYandexUrlWithImage",data:{url:e},probability:Fo.c});G(e)}function q(e){let{error:t,trackingUrls:i}=e;Object(Jo.a)("Track error=["+t+"]"),function(e){if(!Array.isArray(e))return;const t=Object(Io.a)(e,e=>w({url:e,options:Bo,win:window}));Object(Co.a)(t,e=>Y(e))}(i)}function X(e,t){void 0===t&&(t=[]),xo.c.errorToStats(e),q({error:e,trackingUrls:t})}function K(e){return"string"!==typeof e?NaN:Object(wo.a)(e.split(":").reverse(),(e,t,i)=>e+parseFloat(t)*60**i,0)}function Q(e){if(e.indexOf("%")>-1){const t=parseFloat(e);return n(t)?{unit:"portion",value:t/100}:void 0}const t=K(e);if(n(t))return{unit:"seconds",value:t}}function J(e){return"number"===typeof e&&isFinite(e)&&e>=0}function Z(){return(Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function $(){return($=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function ee(){return(ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function te(e){let{url:t,data:i,timeout:r,doRequest:a=Ql,withCredentials:n}=e;return new Promise(async(e,o)=>{"https:"===window.location.protocol&&(t=function(e){return Kl.a.href=e,Kl.a.protocol="https:",Kl.a.href}(t));const s=Xl(r),d=a({url:t,data:i,withCredentials:n});try{const t=await Promise.race([d,s]);if(t){return e(ee({},t,{xml:I(t.responseText)}))}return o({reason:"timeout",error:new Error("XHR Timeout")})}catch(l){return o(l)}})}function ie(e){Object(Co.a)(e,e=>xo.c.error({error:e}))}function re(e,t){let i=!1;const r=function(){const r=i?t:e;return i=!0,r.apply(this,arguments)};return function(){return r.apply(this,arguments)}}function ae(e){let{win:t,methodName:i,data:r,id:a}=e;t.postMessage({methodName:i,data:r,id:a},"*")}function ne(e){const t=Object.values;if("function"===typeof t)return t(e);{const t=[];for(const i in e)Object(ac.a)(e,i)&&t.push(e[i]);return t}}function oe(){return(oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function se(){return(se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function de(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function le(e,t){const i=window,a=i.document;if(t&&(n=function(e){return e.location.host}(i))&&n&&0!==n.length&&ll(uc,e=>e===n||function(e,t){return t===e.substring(e.length-t.length)}(n,"."+e)))return t;var n;let o=ce(e,a);if("t\n"===o&&i.top!==i.self)try{o=ce(e,i.parent.document)}catch(s){}return r(o,e)}function ce(e,t){const i=[];let r=0;i.push("t"+(t.title||"")),r+=i[0].length;for(let a=1;a<4&&r<e;a++){const e=t.getElementsByTagName("h"+a),n=e.length;for(let t=0;t<n;t++){const n=ue(e[t]);r+=n.length,i.push(""+a+n)}}return i.join("\n")+"\n"}function ue(e){const t=[];let i="";if(!e)return i;for(t.push(e);t.length>0;){if(3===(e=t.pop()).nodeType)i+=e.nodeValue+" ";else if(e.childNodes&&e.childNodes.length>0){const i=e.childNodes;for(let e=i.length-1;e>=0;e--)t.push(i[e])}}return i.replace(/\s+/g," ")}function he(e){let t;try{t=JSON.stringify(e)}catch(i){}return t}function pe(e){return Boolean(e.YA_TURBO_PAGES)}function Ae(e){return void 0===e&&(e=window),Boolean(e.ampSeen)}function me(e){void 0===e&&(e=window);let t="";const i=e.context,r=e.Ya;return Ae(e)&&i&&i.master.Ya&&i.master.Ya.getSkipToken?t=i.master.Ya.getSkipToken():r&&r.Context&&r.Context.AdvManager&&r.Context.AdvManager.getSkipToken&&(t=r.Context.AdvManager.getSkipToken()),t}function ve(e){void 0===e&&(e=window);const{navigator:t}=e,{connection:i={}}=t;if("number"===typeof i.downlink)return i.downlink;if("number"===typeof i.downlinkMax)return i.downlinkMax;if("string"===typeof i.type||"number"===typeof i.type)switch(i.type){case vc.BLUETOOTH:return 3;case mc.CELL_2G:return.384;case mc.CELL_3G:case vc.CELLULAR:return 2;case vc.WIMAX:return 37;case vc.NONE:return 0;case mc.ETHERNET:case vc.ETHERNET:case mc.WIFI:case vc.WIFI:case vc.MIXED:return 10;case mc.UNKNOWN:case vc.UNKNOWN:case vc.OTHER:}return-1}function fe(){const e={width:window.innerWidth,height:window.innerHeight},t=Ac(),i={win_width:fc(e.width),win_height:fc(e.height),pixel_ratio:hc(),bandwidth:ve()};return t&&(i.quirks=t),i}function be(){const e=function(){const e=window;let t=0;return e.Ya&&e.Ya.Context&&e.Ya.Context.AdvManager&&e.Ya.Context.AdvManager.getCapturedCount&&(t=e.Ya.Context.AdvManager.getCapturedCount()),t}();return gc()+e}function _e(e){return void 0===e&&(e=window),String(e.location)}function ge(e){return void 0===e&&(e=window),r(Tc(e.document,"_ym_uid")||"")}function Oe(e){return void 0===e&&(e=window),e.location.hostname}function ye(){return(ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Ee(){return(Ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Te(e,t){void 0===t&&(t="");const{params:i,bids:a,matchIdDirect:n=!1,reloadCounter:o}=e,s=Ee({},function(e){const t=e.win||window,i=void 0===e.isTurbo?pe(t):e.isTurbo,r=ll(Ic,e=>e.test(t.location.hostname));return wc(Ee({},e,{win:t,isTurbo:i,addsSsSkipToken:r}))}(e),i||{},n?{"matchid-direct":1}:{},{"enable-page-options":65536});if(Object(Co.a)(Cc,e=>{s[e]=void 0}),s.pk)try{s.pk=decodeURIComponent(s.pk)}catch(d){}if(a){const e=a.map(e=>Ee({},e,{placement_id:e.placement_id?String(e.placement_id):void 0}));e.toJSON&&(e.toJSON=void 0),s.bids=r(he(e)||"")}return s.grab=le(Pc-t.length),s.utf8="\u2713",o&&(s.adf_refresh=o),s}function Se(e){!function(e){const{ownerId:t}=e;if(!t)throw new Error("there is no `ownerId` for getAdfoxBulkUrl()")}(e);const t=function(e){let t,{adblock:i,useXhr:r,ownerId:a,domain:n=Dc}=e;return"https://"+n+("/"+a+"/"+(t=r?"getBulk/v2":i?"getCodeTest":"prepareCode"))}(e);return{base:t,queryParams:Te(e,t)}}function we(e){const t=e.trim();return"//"===t.substr(0,2)||"http://"===t.substr(0,7)||"https://"===t.substr(0,8)}function Pe(){return(Pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Ie(e,t){const i=Object(as.a)(window);let r;try{r=function(e){const{base:t,queryParams:i}=Se(e);return Object(Ad.b)(t,i)}(Pe({},e,{layoutConfig:new bc,useXhr:!0,domain:Nc}))}catch(n){throw new Uo.a(n,{code:"CREATE_ADFOX_URL_ERROR",details:{adFoxParameters:e}})}if(!we(r))throw new Uo.a({code:"CANNOT_CREATE_ADFOX_URL",details:{adFoxParameters:e}});const a=w({url:r,options:t,ignoreAbd:!0,win:window});return i?i(a):a}async function Ce(e){let{adFoxParameters:t,adPlacementOptions:i,secureMode:r}=e;const a=Ie(t,i),n=cc({secureMode:r,url:a})?ad:Ql;try{const e=await n({url:a,withCredentials:!0});if(200!==e.responseStatus)throw new Error("Invalid status ["+e.responseStatus+"]");const{creative:t,errors:i}=function(e){const t=R(e),i=[];if(!Object(Ro.a)(t))throw new Uo.a({code:"ADFOX_AD_DATA_IS_NOT_VALID_JSON_OBJECT",details:{adFoxDataString:e}});const{error:r,data:a}=t;if(Array.isArray(r)&&r.length>0)throw new Uo.a({code:"ADFOX_AD_DATA_ERROR",details:{adFoxData:t}});if(!Array.isArray(a))throw new Uo.a({code:"INVALID_ADFOX_DATA_FORMAT",details:{adFoxData:t}});const n=Object(To.a)(a,(e,r)=>{if(!Object(Ro.a)(e)||!Object(Ro.a)(e.attributes))return i.push(new Uo.a({code:"INVALID_ADFOX_CREATIVE_DATA",details:{adFoxData:t,index:r}})),!1;const{campaignId:a,vastBase64:n}=e.attributes;return"string"===typeof n&&n.length>0||("string"===typeof a&&a.length>0||(i.push(new Uo.a({code:"NO_REQUIRED_PARAMETERS_IN_ADFOX_CREATIVE",details:{adFoxData:t,index:r}})),!1))});if(0===n.length)throw new Uo.a({code:"NO_ADS_IN_ADFOX_DATA",details:{adFoxData:t}});return n.length>1&&i.push(new Uo.a({code:"EXTRA_ADFOX_DATA",details:{adFoxData:t}})),{creative:n[0].attributes,errors:i}}(e.responseText);return ie(i),t}catch(o){if(Object(Xo.a)(o))throw o;throw new Uo.a(o,{code:"ADFOX_AD_DATA_LOADING_ERROR",details:{adFoxParameters:t,adFoxUrl:a}})}}function De(){return(De=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Ne(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Re(e){return!!Object(Ro.a)(e)&&("string"===typeof e.url&&(!!e.url.trim()&&("string"===typeof e.type&&!!e.type.trim())))}function ke(){return(ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Ve(){return(Ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function je(e,t){if(!("video-banner_theme_empty"===e||"video-banner_theme_caucasus"===e||"video-banner_theme_moroz"===e||"video-banner_theme_lake"===e))return!1;if(!Object(Ro.a)(t))return!1;const{AUCTION_DC_PARAMS:i}=t;if(!Object(Ro.a)(i))return!1;const{data_params:r}=i;if(!Object(Ro.a)(r))return!1;const{misc:a}=r;if(!Object(Ro.a)(a))return!1;const{layout_type:n}=a;return"clickable_video"===n}function Le(e){let t;try{t=JSON.parse(e)}catch(u){throw new Uo.a({code:"CANNOT_DETECT_VAS_MEDIA_FILE_BY_INVALID_JSON",details:{adParametersString:e}})}if(!Object(Ro.a)(t))throw new Uo.a({code:"CANNOT_DETECT_VAS_MEDIA_FILE_BY_NON_OBJECT_JSON",details:{adParametersString:e}});const{mediaFiles:i}=t;if(!Object(So.a)(i)||0===i.length)return{url:Kc,isNonLinear:!1,adFormatType:"motion",isOldVastFormat:!0};const[r]=i;if(!Re(r))throw new Uo.a({code:"FIRST_MEDIA_FILE_IN_AD_PARAMETERS_IS_INVALID",details:{adParametersString:e}});const a=function(e){const{type:t}=e;return t===Hc.Motion?"MotionTGO":t===Hc.VpaidCreative?"ThemeEmpty":void 0}(r);if(a)return{url:Fc[a],isNonLinear:!1,adFormatType:qc[a],isOldVastFormat:!1};const{theme:n}=t,o=Object(ks.a)(n),s="video-banner_theme_empty"===n,d="video-banner_survey"===n,l="video-banner_interactive-viewer"===n,c={url:Bc,isNonLinear:!1,adFormatType:"interactiveViewer",isOldVastFormat:rc(i,e=>e.url!==Yc.url)};if(l)return c;if(je(n,t))return{url:tu,isNonLinear:!1,adFormatType:"clickableVideo",isOldVastFormat:!0};if(o){const e=(()=>{switch(!0){case s:return"themeEmpty";case d:return"survey";default:return"vpaidCreative"}})();return{url:s||d?tu:eu,isNonLinear:!1,adFormatType:e,isOldVastFormat:!0}}return xo.c.event({name:"DetectInteractiveViewerAsDefault",probability:Fo.a,data:{adParametersObject:t}}),c}function Me(){return(Me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Be(){return(Be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Ue(){return(Ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function xe(){return(xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Fe(){return(Fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function He(){return(He=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function ze(e,t){if(null==e)return{};var i,r,a={},n=Object.keys(e);for(r=0;r<n.length;r++)i=n[r],t.indexOf(i)>=0||(a[i]=e[i]);return a}function We(e){const{adParametersObject:t,description:i}=e;if(!Object(Ro.a)(t))throw new Uo.a({code:"CANNOT_CONVERT_IV_INTO_AD_CREATE_WITHOUT_AD_PARAMETERS",details:{vastAd:e}});const{tickerData:r,interactiveElements:a,mediaFiles:n}=t,o=ze(t,["tickerData","interactiveElements","mediaFiles"]),s=r&&r.isVisible&&Object(ks.a)(r.text),d=Array.isArray(a)&&a.length>0,l=!s&&!d;const c=He({},o,{adParameters:{description:i,tickerData:r,interactiveElements:a},mediaFiles:!("DO_NOT_LOAD"===ru.a.getFlagValueAndActivateTestId("IV_CONCEALED_ANIMATION_LOADING_POLICY"))||!l?[...n,Yc]:n});return He({},e,{mediaFiles:[ou],adParametersObject:c,adParameters:JSON.stringify(c)})}function Ge(e){const{adParametersObject:t}=e;if(!Object(Ro.a)(t))throw new Uo.a({code:"CANNOT_CONVERT_MOTION_INTO_AD_CREATIVE_WITHOUT_AD_PARAMETERS",details:{vastAd:e}});const{AUCTION_DC_PARAMS:i,HAS_BUTTON:r,HAS_DOMAIN:a,HAS_AGE:n,HAS_LEGAL:o,LEGAL_TEXT:s}=t,d=He({},ze(t,["AUCTION_DC_PARAMS","HAS_BUTTON","HAS_DOMAIN","HAS_AGE","HAS_LEGAL","LEGAL_TEXT"]),{adParameters:He({AUCTION_DC_PARAMS:i},"HAS_BUTTON"in t?{HAS_BUTTON:r}:{},"HAS_DOMAIN"in t?{HAS_DOMAIN:a}:{},"HAS_AGE"in t?{HAS_AGE:n}:{},"HAS_LEGAL"in t?{HAS_LEGAL:o}:{},"LEGAL_TEXT"in t?{LEGAL_TEXT:s}:{}),mediaFiles:[su]});return He({},e,{mediaFiles:[ou],adParametersObject:d,adParameters:JSON.stringify(d)})}function Ye(e){var t;const{adParametersObject:i}=e;if(!Object(Ro.a)(i))throw new Uo.a({code:"CANNOT_CONVERT_EMPTY_INTO_AD_CREATIVE_WITHOUT_AD_PARAMETERS",details:{vastAd:e}});const r=He({},i,{mediaFiles:[lu,...null!==(t=i.mediaFiles)&&void 0!==t?t:[]],adParameters:He({},i)}),{duration:a}=i,n=o(a)?a:void 0;return He({},e,{mediaFiles:[ou],adParametersObject:r,adParameters:JSON.stringify(r),durationLimit:n})}function qe(e){const{adParametersObject:t}=e;if(!Object(Ro.a)(t))throw new Uo.a({code:"CANNOT_CONVERT_VAST_AD_INTO_CLICKABLE_VIDEO_AD_CREATIVE_WITHOUT_AD_PARAMETERS",details:{vastAd:e}});const i=function(e){if(!Object(Ro.a)(e))return;const{AUCTION_DC_PARAMS:t}=e;if(!Object(Ro.a)(t))return;const{data_params:i}=t;if(!Object(Ro.a)(i))return;const{misc:r}=i;if(!Object(Ro.a)(r))return;const{object_id:a}=r;if(!Object(cs.a)(a))return;const n=i[a];if(!Object(Ro.a)(n))return;const{click_url:o}=n;if(!Object(Ro.a)(o))return;const{action_button:s}=o;return Object(cs.a)(s)?s:void 0}(e.adParametersObject),r=He({},e.adParametersObject,{adParameters:e.adParametersObject});return He({},e,{mediaFiles:[ou],adParametersObject:r,adParameters:JSON.stringify(r),playbackAdParameters:He({clickThroughUrl:i},t.playbackParameters)})}function Xe(e){var t;const{adParametersObject:i}=e;if(!Object(Ro.a)(i))throw new Uo.a({code:"CANNOT_CONVERT_SURVEY_INTO_AD_CREATIVE_WITHOUT_AD_PARAMETERS",details:{vastAd:e}});const r=He({},i,{mediaFiles:[du,...null!==(t=i.mediaFiles)&&void 0!==t?t:[]],adParameters:He({},i)}),{duration:a}=i,n=o(a)?a:void 0;return He({},e,{mediaFiles:[ou],adParametersObject:r,adParameters:JSON.stringify(r),durationLimit:n})}function Ke(e){if(void 0===e.mediaFiles[0])return{vastAd:e,reason:void 0};let t;try{t=Le(e.adParameters)}catch(s){return xo.c.event({name:"PrepareYandexVastDetectionError",data:s}),{vastAd:e,reason:void 0}}const i="motion"===t.adFormatType,r="themeEmpty"===t.adFormatType,a="survey"===t.adFormatType,n="interactiveViewer"===t.adFormatType,o="clickableVideo"===t.adFormatType;if(e.adParametersObject){const{theme:t,mediaFiles:r}=e.adParametersObject;n&&t&&xo.c.error({error:new Uo.a({code:"IV_THEME_SET_IN_AD_PARAMETERS",details:{vastAd:e}})}),i&&Array.isArray(r)&&r.length>0&&xo.c.error({error:new Uo.a({code:"MOTION_MEDIA_FILES_IS_NOT_EMPTY_IN_AD_PARAMETERS",details:{vastAd:e}})})}if(t.isOldVastFormat&&!Uc){if(o)return{vastAd:qe(e),reason:"ConvertClickableOnlyVideo"};if(r)return{vastAd:Ye(e),reason:"ConvertVideoBannerThemeEmpty"};if(n)return{vastAd:We(e),reason:"ConvertInteractiveViewerVpaidIntoAdCreative"};if(i)return{vastAd:Ge(e),reason:"ConvertMotionVpaidIntoAdCreative"};if(a)return{vastAd:Xe(e),reason:"ConvertVideoBannerSurveyAdCreative"}}return{vastAd:e,reason:void 0}}function Qe(e){const{adParametersObject:t}=e;return!!t&&je(t.theme,t)}function Je(e){const t=e.split("?")[0].split("#")[0];return Object(Ko.a)($c,t)}function Ze(e){let{mediaFiles:t,adParametersObject:i}=e;if((null===i||void 0===i?void 0:i.theme)===uu)return!0;const[r]=t;return void 0!==r&&function(e){const t=e.split("?")[0].split("#")[0];return Object(Ko.a)(cu,t)}(r.url)}function $e(e){const{adParametersObject:t}=e;return(null===t||void 0===t?void 0:t.theme)===pu&&hu(e)}function et(e){return o(e)&&function(e){return n(e)&&Math.floor(e)===e}(e)}function tt(){return(tt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function it(){return(it=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function rt(e){return new Promise((t,i)=>{Object(Yu.a)(it({},e,{onSuccess:t,onError:i}))})}function at(){return(at=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function nt(e,t){$u.ya||($u.ya={}),$u.ya.isDeploying=!0,function e(t,i){const r=i.split(".");let a=window;for(let o=0;o<r.length-1;o++)a=a[r[o]];const n=r[r.length-1];if(void 0===a[n])a[n]=t;else if("object"===typeof a[n])for(const o in t)t.hasOwnProperty(o)&&e(t[o],i+"."+o)}(e,t),delete $u.ya.isDeploying}function ot(e){return void 0===e?e:Array.isArray(e)?e.join("\n"):String(e)}function st(e){if(!Object(Ro.a)(e))return;const t={},i=["string","number","boolean"];for(const r in e)e.hasOwnProperty(r)&&i.indexOf(typeof e[r])>=0&&(t[r]=e[r]);return t}function dt(){return(dt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function lt(e){return"number"===typeof e.repeatNumber}function ct(){return(ct=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function ut(e){const{adBreak:t}=e;return Object(ns.a)(ud.a)?t.adTagURI:function(e){const{adBreak:t,adPlacementOptions:i}=e,{adTagURI:r}=t;return S(r)?w({url:Object(Ad.b)(r,oh(e)),options:i,win:window}):r}(e)}function ht(e){return function(e,t){let i=e;return Object(Co.a)(Object(wu.a)(t),r=>{let[a,n]=r;if(void 0===n)return;const o="["+a+"]";if(n!==o)for(;i.indexOf(o)>-1;)Object(Fo.e)()&&xo.c.event({name:"ReplaceVastMacro",data:{macroName:a,macroValue:n,stringToReplace:e,macros:t}}),i=i.replace(o,n)}),i}(e,uh)}function pt(e){let{trackingUrls:t,options:i,sendBeaconParams:r}=e;if(!Array.isArray(t))return;const a=Object(To.a)(t,we),n=Object(Io.a)(a,ht),o=Object(Io.a)(n,e=>w({url:e,options:i,win:window}));Object(Co.a)(o,e=>Y(e,r))}function At(){return(At=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function mt(e){let{eventName:t,trackingEventDetails:i,trackingUrls:r,options:{devicePixelRatio:a,downlink:n,relativeSizeRatio:o,screenSize:s,size:d,visibility:l,videoContentSize:c,videoSlotSize:u,videoAvatarSize:h,videoPixelRatio:p,videoToDevicePixelRatio:A,videoFramesInfo:m,videoSrc:v,videoCurrentSrc:f,videoMuted:b,videoVolume:_,bufferingTime:g,bufferingTimeRatio:O,currentTime:y,remainingBufferedTime:E,adBreakType:T,adFormatType:S,isFullscreen:w}}=e;const P=Ah[t],I=void 0===P?1:P+1;Ah[t]=I;const C={videoSlotSize:u,videoContentSize:c,videoAvatarSize:{width:Math.round(h.width),height:Math.round(h.height)},videoPixelRatio:p,videoToDevicePixelRatio:A,videoFramesInfo:m,videoSrc:v,bufferingTime:g,bufferingTimeRatio:O,currentTime:y,remainingBufferedTime:E},D=At({trackingUrls:r,trackingEventDetails:i,isVisibilityReliable:ml,counterInBundle:I},C,{devicePixelRatio:a,downlink:n,relativeSizeRatio:o,screenSize:s,size:d,visibility:l,videoCurrentSrc:f,videoMuted:b,videoVolume:_,adBreakType:T,adFormatType:S,isFullscreen:w});I===mh&&xo.c.error({error:new Uo.a({code:"NORMAL_EVENT_TRACKING_COUNT_EXCEEDED",details:At({eventName:t,eventTrackingsCounts:Ah},D)})}),xo.c.event({name:ph(t),probability:Object(Ko.a)(hh,t)?Fo.b:Fo.a,data:D,labels:{},queryParams:{"pcode-version":null===Su.b||void 0===Su.b?void 0:Su.b.pcodeVersion,"widget-version":null===Su.b||void 0===Su.b?void 0:Su.b.widgetVersion}})}function vt(){return(vt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function ft(e){try{mt(e=vt({},e,{options:bt(e.options)})),pt(e)}catch(t){xo.c.error({error:new Uo.a({code:"TRACK_EVENT_WITH_STATS_ERROR",details:{trackingUrlsParams:e}})})}}function bt(e){const{size:t,screenSize:i,videoContentSize:r}=e;return vt({},e,{size:U(t,Math.round),screenSize:U(i,Math.round),videoContentSize:r&&U(r,Math.round)})}function _t(e){const{text:t,textColor:i,isVisible:r}=e||bh;return{text:Object(ks.a)(t)?t:bh.text,textColor:i||bh.textColor,isVisible:"boolean"===typeof r?r:bh.isVisible}}function gt(e){const t=[];if(!Array.isArray(e))throw new Uo.a({code:"INVALID_MEDIA_FILES_PARAMETER_IN_AD_PARAMETERS",details:{rawMediaFiles:e}});if(0===e.length)throw new Uo.a({code:"NO_MEDIA_FILES_IN_AD_PARAMETERS",details:{rawMediaFiles:e}});const i=Object(To.a)(e,Re);if(i.length!==e.length&&t.push("AD_PARAMETERS_CONTAINS_INVALID_MEDIA_FILES"),0===i.length)throw new Uo.a({code:"NO_VALID_MEDIA_FILES_IN_AD_PARAMETERS",details:{mediaFiles:e}});const r=[],a=[],n=[];let o;if(Object(Co.a)(i,e=>{const{type:t}=e;switch(t){case Hc.Overlay:r.push(e);break;case Hc.Motion:case Hc.VpaidCreative:case Hc.Survey:a.push(e);break;default:n.push(e)}}),r.length>0){if(i.length>1)throw new Uo.a({code:"OVERLAY_HAS_TOO_MANY_MEDIA_FILES_IN_AD_PARAMETERS",details:{mediaFiles:e}});o=r[0]}else{if(a.length>1)throw new Uo.a({code:"LINEAR_AD_CREATIVE_HAS_TOO_MANY_ANIMATION_MEDIA_FILES_IN_AD_PARAMETERS",details:{mediaFiles:e}});o=a[0]}return{errorCodes:t,videoMediaFiles:n,animationMediaFile:o}}function Ot(e){const t=[];let i={};if("string"!==typeof e)throw new Uo.a({code:"NO_INTERACTIVE_AD_PARAMETERS",details:{}});try{i=JSON.parse(e)}catch(h){throw new Uo.a(h,{code:"INVALID_INTERACTIVE_AD_PARAMETERS",details:{adParametersString:e}})}if(!Object(Ro.a)(i))throw new Uo.a({code:"CANNOT_PARSE_NON_OBJECT_AD_PARAMETERS",details:{adParametersJson:i}});const{tickerData:r,adParameters:a,interactiveElements:n=[],mediaFiles:o}=i,{errorCodes:s,animationMediaFile:d,videoMediaFiles:l}=gt(o),c=Object(Io.a)(s,t=>new Uo.a({code:t,details:{adParametersString:e}}));return t.push(...c),{raw:i,parsed:{tickerData:_t(r),animationMediaFile:d,videoMediaFiles:l,adParameters:(u=a,"string"===typeof u?u:Object(Ro.a)(u)?he(u):void 0),interactiveElements:n},errors:t};var u}function yt(e){for(const{width:t,height:i}of e){const e=Number(t),r=Number(i);if(o(e)&&o(r))return{width:e,height:r}}}function Et(e){let{type:t}=e;return au.indexOf(t)>-1?"js":"video"}function Tt(){return(Tt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function St(e,t){let i=e;return"OnlyYandexCreatives"===t&&(i=Object(To.a)(i,e=>"video"===Et(e)||S(e.url))),i=Object(Io.a)(i,e=>"video"!==Et(e)?e:Oh(e))}function wt(e,t){return Object(yh.a)(St(e,t),e=>"js"===Et(e))}function Pt(e){let{url:t}=e;return t===xc}function It(e){let{mediaFiles:t,isNonLinear:i}=e;const[r]=t;return void 0!==r&&Pt(r)}function Ct(e){let{adParametersObject:t}=e;const i=null===t||void 0===t?void 0:t.mediaFiles,r=Array.isArray(i)?i[0]:void 0;return Object(Ro.a)(r)&&r.url===su.url}function Dt(e,t,i){return e>i?i:e<t?t:e}function Nt(e){let{animationMediaFile:t,win:i}=e;const{url:r}=t,a=Gc[r];if(void 0!==a){0;let e=Vs.a;const t=new Promise((t,r)=>{e=Object(Zu.b)({moduleName:a,version:void 0,onSuccess:e=>{t(e.initAdCreative)},onError:e=>{r(e)},win:i,timeout:Zu.a})});return{teardown:e,promise:t}}const{promise:n,teardown:o}=Object(wh.a)({src:r,win:i});return{promise:n.then(()=>i.initAdCreative),teardown:o}}function Rt(e){let t;try{t=e.devicePixelRatio}catch(i){}return o(t)?t:1}function kt(e){if(!Object(ks.a)(e))return;return e.split(",")[0].trim()}function Vt(e){return 0===e.indexOf("avc1.")}function jt(e){return 0===e.indexOf("hvc1.")}function Lt(e){return"vp8"===e||"vp08"===e||0===e.indexOf("vp08.")||0===e.indexOf("vp8.")}function Mt(e){return"vp9"===e||"vp09"===e||0===e.indexOf("vp9.")||0===e.indexOf("vp09.")}function Bt(e){return Dh.indexOf(e.toLowerCase())>-1}function Ut(e){return"number"===typeof e&&e>0}function xt(e){const{minBitrate:t,maxBitrate:i}=e;return Ut(t)&&Ut(i)}function Ft(e,t){let{desiredBitrate:i}=t;if(function(e){return Bt(e.type)&&rc(Nh,t=>!Ut(e[t]))}(e))return 0;if(xt(e)){const{minBitrate:t,maxBitrate:r}=e;return i<t?t-i:i>r?i-r:0}const{bitrate:r}=e;return o(r)?Math.abs(r-i):Rh}function Ht(){return(Ht=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function zt(e,t){let{desiredBitrate:i}=t;const r=Object(Io.a)(e,e=>{let{bitrate:t}=e;return Ht({},function(e,t){if(null==e)return{};var i,r,a={},n=Object.keys(e);for(r=0;r<n.length;r++)i=n[r],t.indexOf(i)>=0||(a[i]=e[i]);return a}(e,["bitrate"]),{bitrate:o(t)?t:Rh})}),a=Object(Io.a)(r,e=>Ht({},e,{prioritySolution:Ft(e,{desiredBitrate:i})}));let n=[...a].sort((e,t)=>{let{prioritySolution:i}=e,{prioritySolution:r}=t;return i-r});{const e=xt(n[0])?Dt(i,n[0].minBitrate,n[0].maxBitrate):n[0].bitrate;n=[...a].sort((t,i)=>t.bitrate<=e&&i.bitrate<=e?i.height-t.height:t.prioritySolution-i.prioritySolution)}return Object(Io.a)(a,e=>Ht({},e,{rating:Ch(n,t=>{let{url:i}=t;return e.url===i})}))}function Wt(e){let{slotSize:t,videoSlotSize:i,videoContentSize:r}=e;const a=void 0===r?t.width/t.height:r.width/r.height,n=i.width/i.height>a,o=n?i.height*a:i.width/a,s=n?i.height:i.width,d={width:n?o:s,height:n?s:o},l=Math.min(t.width,d.width)/Math.min(t.height,d.height),c=t.width/t.height>l;return{adjacentSize:c?t.height*l:t.width/l,innerSize:c?t.height:t.width,extraHorizontalSpace:c}}function Gt(e){let{videoContentSize:t,slotSize:i,allowedToHideVideoSlotAreaPortion:r}=e;if(!t)return{reason:"unknownVideoContentSize",value:Bo.videoPixelRatio};let{width:a,height:o}=t;if(Object(cs.a)(a)&&(a=Number(a),jh()),Object(cs.a)(o)&&(o=Number(o),jh()),!n(a)||!n(o))return{reason:"hasIncorrectWidthAndOrHeight",value:Vh};if(a<0||o<0)return{reason:"incorrect",value:Bo.videoPixelRatio};if(0===o||0===i.height)return{reason:"incorrect",value:Bo.videoPixelRatio};if(0===a||0===i.width)return{reason:"incorrect",value:Bo.videoPixelRatio};const s=a/o;return{reason:"normal",value:(i.width/i.height>s?o/i.height:a/i.width)/(r?function(e){let{slotSize:t,adContentSize:i,allowedToHideVideoSlotAreaPortion:r}=e;if(!i)return kh;if(void 0===i.width&&void 0===i.height)return kh;const{innerSize:a,adjacentSize:n,extraHorizontalSpace:o}=Wt({slotSize:t,videoContentSize:i,videoSlotSize:t}),s=a/(n/(o?t.width:t.height)),d=a/(1-r);return{multiplier:Math.min(s,d)/a,isVertical:o}}({slotSize:i,adContentSize:t,allowedToHideVideoSlotAreaPortion:r}).multiplier:1)}}function Yt(e,t){const i=Cl(e);return Object(Ko.a)(t,i)?i:void 0}function qt(e){let{videoPixelRatio:t,type:i,bitrate:r,bitratePriorityFactor:a}=e;const n=function(e){const t=Rt(window);let i=e-Gh;if("DIVISION"===Bh)i=e/t-Wh;else if("SUBTRACTION"===Bh){i=e-((t-1)*("undefined"===typeof Uh?1:Uh)+1)}return 0===i?0:i<0?-i:i*zh}(t),s=function(e){if(!Boolean(e))return Kh;if(!Object(cs.a)(e))return Kh;const t=e.toLowerCase();return t===Yh?1:t===Xh?2:3}(i);let d=2e4;return o(r)&&(d=r),{videoPixelRatioDistance:n,prioritySolution:n+Mh*s+a*d}}function Xt(){return(Xt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Kt(e){let{mediaFile:t,abFlags:{enableVp9:i,enableH265:r,disable144p:a}}=e;const n=kt(t.codec);if(Object(ks.a)(n)){if(a&&144===function(e){let{width:t,height:i}=e;if(o(t)&&o(i))return Math.min(t,i)}(t))return"quality144pIsDisabled";if(Vt(n)){const e=n.substr(5,2);if(ap.indexOf(e)<0)return"unsupportedAvcPP";const t=n.substr(9,2);return np.indexOf(t)<0?"unsupportedAvcLL":void 0}if(!Lt(n))return function(e){return 0===e.indexOf("hev1.")}(n)||jt(n)?r?void 0:"h265CodecIsDisabled":Mt(n)?i?void 0:"vp9CodecIsDisabled":"unsupportedVideoCodec"}}function Qt(e){void 0===e&&(e=window);const t=e.MediaSource||e.WebKitMediaSource;return t&&Object(ns.a)(t.isTypeSupported)&&!function(e){void 0===e&&(e=window);const t=e.SourceBuffer||e.WebKitSourceBuffer;return!!t&&!(t.prototype&&Object(ns.a)(t.prototype.appendBuffer)&&Object(ns.a)(t.prototype.remove))}(e)?t:void 0}function Jt(e){return cp||hp?!cp&&hp?"noMse":cp&&!hp?"noFetch":Object(cs.a)(e.type)?-1===e.type.toLowerCase().indexOf(Yh)?"isNotWebm":lp?up?"canPlayMseForAbd":"isNotAbd":"cannotPlayWebmWithMse":"noType":"noMseAndFetch"}function Zt(){return(Zt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function $t(){return($t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function ei(e){if(!Array.isArray(e))return[];return Object(Io.a)(e,e=>{const t=function(e){if(!Object(Ro.a)(e))return{validationType:"invalidObject"};const{type:t,codec:i,url:r,width:a,height:n,bitrate:s,maxBitrate:d,minBitrate:l,vmafAvg:c}=e,u={type:t,codec:i,url:r,width:a,height:n,bitrate:s,maxBitrate:d,minBitrate:l,vmafAvg:c};return void 0===l&&void 0===d||(!o(l)||!o(d)||l>=d)&&(Ap(u),u.minBitrate=void 0,u.maxBitrate=void 0),"string"!==typeof r?Zt({},u,{validationType:"invalidUrl"}):r.trim()?"string"!==typeof t?Zt({},u,{validationType:"invalidType"}):t.trim()?Zt({},u,{validationType:"correct"}):Zt({},u,{validationType:"emptyType"}):Zt({},u,{validationType:"emptyUrl"})}(e),i=Jt(t);return $t({},t,{playability:function(e){if(!Object(cs.a)(e.type))return"noType";if(e.type===Yh&&Qh.a)return"cannotPlayWebmDueToMacOSLimitations";if(!$h(rp(e)))return"cannotPlay";const t=Kt({mediaFile:e,abFlags:{enableH265:!0===tp,enableVp9:!0===ip,disable144p:!0===ep}});return t||"canPlay"}(t),mseAvailability:i})})}function ti(e,t){if(null==e)return{};var i,r,a={},n=Object.keys(e);for(r=0;r<n.length;r++)i=n[r],t.indexOf(i)>=0||(a[i]=e[i]);return a}function ii(){return(ii=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function ri(e,t,i){const r=Date.now(),a=ei(e);let n,s;const{desiredBitrate:d,isVideoADB:l}=t;if(o(d)){n=zt(a,{desiredBitrate:d}),s="desiredBitrate"}else{n=function(e,t){if(0===e.length)return[];const i=Object(Io.a)(e,i=>{if(!Boolean(i))throw new Uo.a({code:"CANNOT_PRIORITISE_INVALID_MEDIA_FILE",details:{mediaFiles:e,opts:t}});const{value:r,reason:a}=Gt({videoContentSize:i,slotSize:t.container,allowedToHideVideoSlotAreaPortion:t.allowedToHideVideoSlotAreaPortion}),n=Xt({},i,{videoPixelRatio:r,videoPixelRatioReason:a}),{videoPixelRatioDistance:o,prioritySolution:s}=qt({type:n.type,videoPixelRatio:n.videoPixelRatio,bitrate:n.bitrate,bitratePriorityFactor:t.bitratePriorityFactor});return Xt({},n,{videoPixelRatioDistance:o,prioritySolution:s})}),r=[...i].sort((e,t)=>{let{prioritySolution:i}=e,{prioritySolution:r}=t;return i-r});return Object(Io.a)(i,e=>Xt({},e,{rating:Ch(r,t=>e===t)}))}(a,t),s="videoPixelRatio"}let c,u;if(Ih){const[e,t]=g(n,e=>{let{validationType:t,playability:i,mseAvailability:r}=e;return"correct"===t&&("canPlay"===i&&(!l||"canPlayMseForAbd"===r))});c=e,u=t}else{const[e,t]=g(n,e=>{let{validationType:t,playability:i,mseAvailability:r}=e;return"correct"===t&&"canPlay"===i&&"canPlayMseForAbd"===r});if(e.length>0)c=e,u=t;else{const[e,t]=g(n,e=>{let{validationType:t,playability:i}=e;return"correct"===t&&"canPlay"===i});c=e,u=t}}const h=function(e,t,i){if(e.length<1)return;let[r]=e,a=t(r);for(let n=1;n<e.length;n++){const o=e[n],s=t(o);i(s,a)<0&&(r=o,a=s)}return r}(c,e=>{let{rating:t}=e;return t},(e,t)=>e-t);let p,A;Object(Jo.a)("prioritisedMediaFiles=["+JSON.stringify(n)+"]"),Object(Jo.a)("filteredOutMediaFiles=["+JSON.stringify(u)+"]"),h&&(p=kt(h.codec),A=h.type.split("/")[1]);const m={codecVp8:0,codecVp9:0,codecAvc:0,codecHvc:0,codecUnknown:0};Object(ks.a)(p)?Lt(p)?m.codecVp8=1:Mt(p)?m.codecVp9=1:Vt(p)?m.codecAvc=1:jt(p)?m.codecHvc=1:m.codecUnknown=1:m.codecUnknown=1;const v={typeWebm:0,typeMp4:0,typeM3u8:0,typeUnknown:0};Object(ks.a)(A)?"webm"===A?v.typeWebm=1:"mp4"===A?v.typeMp4=1:"m3u8"===A?v.typeM3u8=1:v.typeUnknown=1:v.typeUnknown=1;const f={desiredBitrate:0,videoPixelRatio:0};for(const o of Object(bs.a)(f))if(s===o){f[o]=1;break}const{vast:b,adBreak:_,adConfig:O,adPodId:y,initiator:E}=i;return xo.c.values({name:"PrioritiseMediaFiles",data:{vast:b,adBreak:_,adConfig:O,adPodId:y,initiator:E,input:ii({mediaFiles:Object(Io.a)(e,e=>Object(Ro.a)(e)?ii({},e):e)},t,{dpr:Rt(window)}),output:{filteredOutMediaFiles:dd(u),mediaFiles:dd(n),mediaFile:h?ii({},h):void 0,methodType:s}},labels:{},values:ii({timeSpent:Date.now()-r},f,v,m)}),{validatedMediaFiles:Object(Io.a)(c,e=>{if("videoPixelRatio"===s){return ti(e,["rating","prioritySolution","videoPixelRatio","videoPixelRatioReason"])}return ti(e,["rating","prioritySolution"])}),prioritisedMediaFiles:n,prioritisedMediaFile:h}}function ai(e){let{scope:t,errorType:i,error:r,details:a}=e;return new Uo.a(r,{code:mp(t,i),details:a})}function ni(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];Object(So.a)(e)&&Object(Co.a)(e,e=>{"function"===typeof e&&e(...i)})}function oi(e,t){const i=[];i.push(Object(rs.a)({element:e,eventName:"unhandledrejection",listener:e=>{t(new Error,"UNHANDLED_PROMISE_REJECTION",{})}})),i.push(Object(rs.a)({element:e,eventName:"error",listener:(e,i,r,a,n)=>{t(e.error||new Error,"UNHANDLED_GLOBAL_ERROR",{event:e,src:i,line:r,column:a,error:n,filename:null===e||void 0===e?void 0:e.filename,message:null===e||void 0===e?void 0:e.message})}})),i.push(Object(rs.a)({element:window,eventName:"securitypolicyviolation",listener:e=>{let{blockedURI:i,columnNumber:r,documentURI:a,effectiveDirective:n,lineNumber:o,originalPolicy:s,referrer:d,sourceFile:l,statusCode:c,violatedDirective:u}=e;const h={blockedURI:i,columnNumber:r,documentURI:a,effectiveDirective:n,lineNumber:o,originalPolicy:s,referrer:d,sourceFile:l,statusCode:c,violatedDirective:u};t(new Error,"SECURITY_POLICY_VIOLATION",{securityPolicyViolationEventData:h})}}));const r=new vp({win:e,onReport:e=>{const{reportSourceEvent:i,reports:r,records:a}=e,n=new Error;0===r.length&&0===a.length&&t(n,"EMPTY_REPORT",{reportSourceEvent:i,reportSource:"empty",report:void 0}),Object(Co.a)(Object(wu.a)({reports:r,records:a}),e=>{let[r,a]=e;return Object(Co.a)(a,e=>{t(n,function(e){if(!Object(Ro.a)(e))return"EMPTY_REPORT_ITEM";const{type:t,body:i}=e;if(!Object(ks.a)(t))return"EMPTY_REPORT_TYPE";if("csp-violation"===t)return"CSP_VIOLATION_REPORT";if("intervention"===t){if(Object(Ro.a)(i)&&Object(ks.a)(i.message)){const e=i.message.toLowerCase();if(e.indexOf("network usage")>-1)return"NETWORK_USAGE_INTERVENTION_REPORT";if(e.indexOf("peak cpu")>-1)return"PEAK_CPU_INTERVENTION_REPORT";if(e.indexOf("total cpu")>-1)return"TOTAL_CPU_INTERVENTION_REPORT";if(e.indexOf("cpu usage")>-1)return"CPU_USAGE_INTERVENTION_REPORT";if(e.indexOf("touchmove")>-1)return"TOUCHMOVE_INTERVENTION_REPORT"}return"UNKNOWN_INTERVENTION_REPORT"}return"deprecation"===t?"DEPRECATION_REPORT":"feature-policy-violation"===t?"FEATURE_POLICY_VIOLATION_REPORT":"UNKNOWN_REPORT_TYPE"}(e),{reportSourceEvent:i,reportSource:r,report:e})})})}});return i.push(()=>{r.destroy()}),()=>ni(i)}function si(e,t){return oi(e,(e,i,r)=>{if("SECURITY_POLICY_VIOLATION"===i){const{securityPolicyViolationEventData:e}=r;if(void 0!==e){const{blockedURI:t}=e;if(t&&t.indexOf(xo.b)>-1)return}}t(e,i,r)})}function di(e){return 0===_p.length&&(bp=window.setInterval(()=>{_p.forEach(e=>e())},fp)),_p.push(e),()=>{const t=_p.indexOf(e);t>-1&&_p.splice(t,1),0===_p.length&&clearInterval(bp)}}function li(e,t){const i=e.ownerDocument.createElement("iframe");if(t&&c(i,t),i.scrolling="no",i.setAttribute("allowfullscreen",""),i.style.display="block",e.appendChild(i),void 0!==i.contentDocument&&null!==i.contentDocument)return i.contentDocument.open(),i.contentDocument.close(),i.contentDocument.body.style.margin="0",i.style.borderWidth="0",i.contentDocument.body.style.width="100%",i.contentDocument.body.style.height="100%",i;Object(es.a)(i)}function ci(){return(ci=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function ui(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function hi(e){if(Ep.a&&console&&console.error){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];console.error(e,...i)}}function pi(e){let{mediaFiles:t,isNonLinear:i}=e;const[r]=t;return void 0!==r&&(!!i||Pt(r))}function Ai(){return(Ai=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function mi(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function vi(){return(vi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function fi(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function bi(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _i(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function gi(e){return"overlay"===e.adType||"inroll-overlay"===e.adType}function Oi(){return(Oi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function yi(e){let t,{adBreak:{vastTimeout:i,wrapperMaxCount:r,wrapperTimeout:a},isAdFox:n,url:o,adPlacementOptions:s,adConfig:d}=e;return{adPlacementOptions:s,vastSourceType:t=n||o&&T(o)?"AD_FOX":o&&S(o)?"YANDEX":"EXTERNAL",vastTimeout:i,wrapperMaxCount:r,wrapperTimeout:a,requestMethod:cc({secureMode:d.secureMode,url:o})?"VASFrame":"XMLHttpRequest"}}function Ei(e){let{adConfig:t,adBreak:i,adPlacementOptions:r,win:a}=e;const n=i.adFoxParameters||t.adFoxParameters;if(n)return async function(e){return new Rc(e).loadVastPromise}({adConfig:Oi({},t,{adFoxParameters:n}),adBreak:i,adPlacementOptions:r});const{loadHarmlessVastCallback:o}=t,s=t.hasOwnProperty("vast")?t.vast:void 0,d=i.inlineVast,l=null!==s&&void 0!==s?s:d,c=yi({adConfig:t,adBreak:i,isAdFox:!1,adPlacementOptions:r});if(l)return ql({xmlString:l,loadParameters:c,vastUrl:void 0}).then(e=>(o&&0===e.children.length&&o({adPods:Object(Io.a)(e.ads,e=>{let{clickThrough:t}=e;return{clickThroughUrl:t}})}),e));const u=t.vastUrl?t.vastUrl:ut({adConfig:t,adBreak:i,random:Math.random(),adPlacementOptions:r,win:a});return $l({url:u,loadParameters:yi({adConfig:t,adBreak:i,isAdFox:!1,url:u,adPlacementOptions:r})})}async function Ti(e){const{adConfig:t,adBreak:i}=e;let r;try{r=await Ei(e)}catch(l){throw l.details||(l.details={}),l.details.adConfig=t,X(l),l}const a=[];for(const c of r.ads)try{var n;const e=c.mediaFiles[0],t=null!==(n=null===e||void 0===e?void 0:e.url)&&void 0!==n?n:"",i=t.split("?")[0].split("#")[0]===Bc||Je(t)||$e(c)||Qe(c)||Ze(c);if(Boolean(e)&&i){const{vastAd:e,reason:t}=Ke(c);t&&xo.c.event({name:t,data:{previous:c,next:e},probability:Fo.a}),a.push(e)}else a.push(c)}catch(l){xo.c.error({error:l})}r.children.length>0&&xo.c.event({name:"WrapperVASTLoaded",data:{vast:r}});const o=Object(Io.a)(a,e=>(e.vast=r,new kp(i,e,t))),s=function(e,t,i){const r=gi(i);return Object(To.a)(e,e=>{const{isNonLinear:a}=e.vastAd;return a===r||(e.trackError(new Uo.a({code:a?"CANNOT_PLAY_NONLINEAR_IN_LINEAR_AD_BREAK":"CANNOT_PLAY_LINEAR_IN_NONLINEAR_AD_BREAK",details:{adConfig:t,adBreak:i}})),!1)})}(o,t,i),d=new Vp(s);if(0===d.mediaAds.length)throw new Uo.a({code:"NO_AD_SECTION",details:void 0});if(Object(To.a)(d.mediaAds,e=>e.hasMediaFiles()).length>0)return{mediaAds:d,vast:r};if(d.hasFilteredOutMediaFiles()){const e=Po(Object(Io.a)(o,e=>e.vastAd.mediaFiles));throw new Uo.a({code:"ALL_MEDIA_FILES_FILTERED_OUT",details:{adConfig:t,unfilteredMediaFiles:e}})}throw new Uo.a({code:"NO_AD_TO_DISPLAY",details:void 0})}function Si(e,t){return Object(To.a)(e,e=>e.adType===t)}function wi(e,t){const i=U(t,(t,i)=>e.style[i]);return l(e,t),Object(Fd.a)(()=>{l(e,i)})}function Pi(e,t){return void 0===t&&(t=window),("function"===typeof t.getComputedStyle?t.getComputedStyle(e,null):e.currentStyle)||{}}function Ii(e){const t=e.getRootNode;if(Object(ns.a)(t))return t.call(e);let i=e;for(;i.parentNode;)i=i.parentNode;return i}function Ci(e){return!!e&&"ShadowRoot"===Object(Is.a)(e)}function Di(e){const t=e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;let i=e;for(;i;){if(i&&t.document.body.contains(i))return!0;const e=Ii(i);if(!Ci(e)||!jp(e.host))return!1;i=e.host}return!1}function Ni(e,t){const i={};return Object(bs.a)(t).forEach(t=>{i[t]=e.getAttribute(t)}),c(e,t),Object(Fd.a)(()=>{c(e,i)})}function Ri(e){e&&"function"===typeof e.catch&&e.catch(e=>void 0)}function ki(e,t){if(void 0===t&&(t=window),!t||!t[e]||!t[e].prototype)return;const{play:i}=t[e].prototype;return i&&Object(Cs.a)(i)?i:void 0}function Vi(e){if(!Zh)return Promise.reject();const t=(i=e.play)[zp]||i;var i;if(Object(Cs.a)(t))return t.call(e);const r=ki("HTMLVideoElement")||ki("HTMLMediaElement");if(r)return r.call(e);const a=document.createElement("div");a.style.display="none",document.body.appendChild(a);const n=ki("HTMLMediaElement",Object(Hp.a)(a).contentWindow);if(n){const t=n.call(e);return Object(es.a)(a),t}return e.play()}function ji(e,t,i,r){const a=function(e){let t=!1,i=!1,r=!1;return!0===e?t=!0:"object"===typeof e&&(t=Boolean(e.capture),i=Boolean(e.passive),r=Boolean(e.once)),{capture:t,passive:i,once:r}}(r),n=iA.a?a:a.capture,o=a.once&&!iA.b?function(e){s(),i.call(this,e)}:i,s=()=>{Object(tA.b)(e,t,o,n)};return Object(tA.a)(e,t,o,n),s}function Li(e,t){void 0===t&&(t={});let i=0;const r=[],a=(t,a)=>{r.push(ji(e,t,a,aA)),clearTimeout(i)},n=()=>Object(rA.a)(r),o=new Promise((r,n)=>{const o=t=>{e.paused&&n(t)},s=Vi(e);if(o(eA.VideoTagPaused),a("durationchange",()=>o(eA.VideoTagPausedAfterDurationChange)),a("error",()=>o(eA.VideoTagPausedAfterError)),a("pause",()=>n(eA.PauseEvent)),a("playing",()=>{r(eA.PlayingEvent)}),s)t.useProgressEvent&&a("progress",()=>{r(eA.ProgressEvent)}),s.then(()=>r(eA.PromiseResolve)).catch(e=>n(function(e){return e?eA.PromiseReject+"["+e.code+"]["+e.name+"]["+e.message+"]":eA.PromiseReject}(e)));else{const{timeoutForNonPromisePlay:e}=t;"number"===typeof e&&e>0&&(i=window.setTimeout(()=>{n(eA.Timeout)},t.timeoutForNonPromisePlay))}});return o.then(n,n),o}function Mi(e,t){const{paused:i}=e,r=t();return i||Ri(Vi(e)),r}function Bi(){return(Bi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Ui(e){let{canPlayUnMuted:t,canPlayMuted:i,detectionMethod:r}=e;return{canPlayUnMuted:t,canPlayMuted:i,requireMute:!t&&i,requireUserGesture:!t&&!i,detectionMethod:r}}function xi(e){if("boolean"===typeof e.allowedToPlay)return Promise.resolve(function(e){const t=Wp(e);return e.muted=!1,e.volume=1,e.allowedToPlay?(t(),Ui({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:Kp.YaBroAllowedToPlay})):(e.muted=!0,e.volume=0,e.allowedToPlay?(t(),Ui({canPlayUnMuted:!1,canPlayMuted:!0,detectionMethod:Kp.YaBroAllowedToPlay})):(t(),Ui({canPlayUnMuted:!1,canPlayMuted:!1,detectionMethod:Kp.YaBroAllowedToPlay})))}(e));const t=function(e){if(void 0===e&&(e=window),$p(e))return Ui({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:Kp.WebOSSmartTV})}();if(void 0!==t)return Promise.resolve(t);const i=function(e){if(void 0===e&&(e=window),Xp(e))return Ui({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:Kp.OrsaySmartTV})}();if(void 0!==i)return Promise.resolve(i);const r=function(e){if(void 0===e&&(e=window),Qp(e))return Ui({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:Kp.PlayStationSmartTV})}();if(void 0!==r)return Promise.resolve(r);if(e.isAVPlay)return Promise.resolve(Bi({},dA,{detectionMethod:Kp.TizenAVPlay}));const a=function(e){if(void 0===e&&(e=window),Jp(e))return Zp(e)?Ui({canPlayUnMuted:!1,canPlayMuted:!1,detectionMethod:Kp.Tizen23SmartTV}):Ui({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:Kp.TizenSmartTVModern})}();return void 0!==a?Promise.resolve(a):Up&&Bp<=9||nA?Promise.resolve(Bi({},sA,{detectionMethod:Kp.IOS9OrLess})):Zh?oA?Promise.resolve(Bi({},dA,{detectionMethod:Kp.OldIE})):void 0:Promise.resolve(Bi({},sA,{detectionMethod:Kp.HTML5VideoIsNotSupported}))}function Fi(){return(Fi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Hi(e){return void 0===e&&(e=""),e.replace(EA,e=>e in TA?TA[e]:e)}function zi(e){var t;const{AUCTION_DC_PARAMS:i}=e;if(!Object(Ro.a)(i)||!Object(Ro.a)(i.data_params))return;const r=wA(i.data_params);if(!Object(Ro.a)(r))return;let a=null===(t=r.click_url)||void 0===t?void 0:t.action_button;const n=md.a.getFlagValueAndActivateTestId("CHANGE_CLICK_THROUGH_LOGIC");var o,s;if("ACTION_BUTTON_PRIORITY"===n)a=(null===(o=r.click_url)||void 0===o?void 0:o.action_button)||(null===(s=r.click_url)||void 0===s?void 0:s.text_name);else if("TEXT_NAME_PRIORITY"===n){var d,l;a=(null===(d=r.click_url)||void 0===d?void 0:d.text_name)||(null===(l=r.click_url)||void 0===l?void 0:l.action_button)}return Object(ks.a)(a)?a:void 0}function Wi(e){return!Object(bs.a)(e).length}function Gi(e){if(!Object(Ro.a)(e))return[];const{AUCTION_DC_PARAMS:t}=e;if(!Object(Ro.a)(t)||!Object(Ro.a)(t.data_params))return[];const i=wA(t.data_params);if(!Object(Ro.a)(i)||!Object(Ro.a)(i.text))return[];const r=i.text,a=i.unmoderated||r.unmoderated||{};return IA(a.images)}function Yi(e){const{AUCTION_DC_PARAMS:t}=e;if(!Object(Ro.a)(t)||!Object(Ro.a)(t.data_params))return;const i=wA(t.data_params);if(!Object(Ro.a)(i))return;const r=i.target_url;return Object(ks.a)(r)?r:void 0}function qi(e){var t,i;if(!Object(Ro.a)(e))throw new Uo.a({code:"CANNOT_PARSE_DISCLAIMERS_FROM_AD_PARAMETERS",details:{adParametersJson:e}});const{AUCTION_DC_PARAMS:r,LEGAL_TEXT:a,HAS_LEGAL:n}=e,o=wA(null!==(t=null===r||void 0===r?void 0:r.data_params)&&void 0!==t?t:{}),{warning:s,dynamic_disclaimer:d,banner_flags:l}=null!==(i=null===o||void 0===o?void 0:o.text)&&void 0!==i?i:{},c=null!==l&&void 0!==l?l:[],u=Object(Ko.a)(c,"medicine"),h=Object(Ko.a)(c,"dietarysuppl"),p=Object(Ko.a)(c,"distance_sales"),A=n&&(null===a||void 0===a?void 0:a.trim())&&a,m=Object(ks.a)(s)&&"1"===d?s:void 0;return(n||Object(ks.a)(A)||Object(ks.a)(m)||u||h||p)&&CA({HAS_LEGAL:n,LEGAL_TEXT:a,dynamic_disclaimer:d,warning:s,hasDrugDisclaimer:u,hasDietarysupplDisclaimer:h,hasDistanceSales:p}),{hasDrugDisclaimer:u,hasDietarysupplDisclaimer:h,hasDistanceSales:p,legalInfoText:A||m||void 0}}function Xi(){const e=dd(Ml);for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];const a=Object(To.a)(i,e=>Boolean(e));return Object(wo.a)(a,(e,t)=>(function(e,t){const i=dd(Ml);!1===t.visibility?i.visibility=!1:i.visibility=e.visibility;for(const r of xA)!1===i.visibility?i.controlsVisibility[r]=!1:"boolean"===typeof t.controlsVisibility[r]?i.controlsVisibility[r]=t.controlsVisibility[r]:i.controlsVisibility[r]=e.controlsVisibility[r];return i})(e,t),e)}function Ki(e){const{BUTTON_LABELS:t,BUTTON_TEXT:i}=e;return Object(Ro.a)(t)&&Object(ks.a)(t[yl])?t[yl]:Object(ks.a)(i)?i:void 0}function Qi(e){const{imhoParams:t,isNonLinear:i}=e;if(i)return!1;if(function(e){let{mediaFiles:t}=e;const[i]=t;return void 0!==i&&Je(i.url)}(e))return!1;if(Ze(e))return!1;if(pi(e)){const{adParametersObject:t}=e;if(!t)return!1;const i=Object(al.a)(()=>gt(t.mediaFiles));if(!i)return!1;if(0===i.videoMediaFiles.length)return!1}return t?t.showSoundButton:zA}function Ji(e){if(Ze(e))return!1}function Zi(e){const{imhoParams:t,playbackAdParameters:i}=e,r={controlsVisibility:{adLabel:null===t||void 0===t?void 0:t.showLabel,mute:Qi(e),skip:HA,play:Ji(e)}};let a;return i&&(a=i.controlsSettings),Xi(r,a)}function $i(e){let{playbackParameters:t,secureMode:i,vastAd:r,adBreak:a}=e;const s=Xi(Zi(r),t.controlsSettings),{skipDelay:d,eventName:l}=function(e){let{vastAd:t}=e;const{skipTime:i,skipOffset:r,playbackAdParameters:a}=t;return a&&n(a.skipDelay)?{skipDelay:a.skipDelay,eventName:void 0}:n(r)?n(i)?{skipDelay:i,eventName:"UsingSkipTimeExtensionValue"}:{skipDelay:r,eventName:void 0}:{skipDelay:FA,eventName:void 0}}({vastAd:r});let c;void 0!==l&&xo.c.event({name:l,probability:Fo.a,data:void 0}),!0===t.backgroundBlur?c="blur":r.backgroundColor?c={color:r.backgroundColor}:!0===r.backgroundBlur&&!1!==t.backgroundBlur&&(c="blur");const u=!1===t.packshotSettings.isEnabled,h=Object(Ro.a)(r.adParametersObject)&&!u?function(e){const t=e.packshot_duration;if(!o(t))return;const i=e.PACKSHOT_IMAGE_URL;if(!Object(ks.a)(i))return;const r=zi(e);return void 0!==r?{packshotDuration:t,packshotImageUrl:i,packshotActionButtonClickUrl:r,packshotButtonText:Ki(e)}:void 0}(r.adParametersObject):void 0;let p,A;var m,v;(p=!0===t.showGuiForVpaid||(Boolean(r.imhoParams)||It(r)),"number"===typeof t.bufferFullTimeout)?A=t.bufferFullTimeout:A=null!==(m=null===(v=r.playbackAdParameters)||void 0===v?void 0:v.bufferFullTimeout)&&void 0!==m?m:a.bufferFullTimeout;let f;var b,_;o(t.bufferEmptyLimit)?f=t.bufferEmptyLimit:f=null!==(b=null===(_=r.playbackAdParameters)||void 0===_?void 0:_.bufferEmptyLimit)&&void 0!==b?b:a.bufferEmptyLimit;let g;var O,y;o(t.videoTimeout)?g=t.videoTimeout:g=null!==(O=null===(y=r.playbackAdParameters)||void 0===y?void 0:y.videoTimeout)&&void 0!==O?O:a.videoTimeout;const E=o(t.vpaidTimeout)?t.vpaidTimeout:a.vpaidTimeout,T=r.adParametersObject?zi(r.adParametersObject):void 0,S="string"===typeof t.clickThroughUrl||r.isClickable&&Object(ks.a)(r.clickThrough)||Object(ks.a)(T);return{controlsSettings:s,background:c,showGuiForVpaid:p,skipDelay:"number"===typeof t.skipDelay?t.skipDelay:d,bufferFullTimeout:A,bufferEmptyLimit:f,videoTimeout:g,vpaidTimeout:E,clickThroughUrl:Object(ks.a)(t.clickThroughUrl)?t.clickThroughUrl:Object(ks.a)(r.clickThrough)?r.clickThrough:Object(ks.a)(T)?T:"",isClickable:S,packshotParameters:h}}function er(e){if("error"===e.reason)return e.details}function tr(e){var t,i,r,a,n,o,s,d;const l=null!==(t=null!==(i=null!==(r=null!==(a=e.requestAnimationFrame)&&void 0!==a?a:e.mozRequestAnimationFrame)&&void 0!==r?r:e.webkitRequestAnimationFrame)&&void 0!==i?i:e.msRequestAnimationFrame)&&void 0!==t?t:t=>e.setTimeout(t,WA),c=null!==(n=null!==(o=null!==(s=null!==(d=e.cancelAnimationFrame)&&void 0!==d?d:e.mozCancelAnimationFrame)&&void 0!==s?s:e.webkitCancelAnimationFrame)&&void 0!==o?o:e.msCancelAnimationFrame)&&void 0!==n?n:t=>e.clearTimeout(t);return{requestAnimationFrame:l.bind(e),cancelAnimationFrame:c.bind(e)}}function ir(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function rr(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function ar(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function nr(e,t,i){const r=()=>Object(Io.a)(e,e=>e.getValue());let a=t(...r());i(a);const n=()=>{const e=t(...r());a!==e&&(a=e,i(e))},o=Object(Io.a)(e,e=>e.add(n));return()=>{ni(o)}}function or(e){return!!Object(Ro.a)(e)&&jp(e)}function sr(e){let{videoNodeController:t,bufferEmptyLimit:i,callback:r}=e;if(!o(i))return Vs.a;let a=0;const n=t.onBufferingAfterPlay.add(()=>{a++,Object(Jo.a)("bufferEmptyCount=["+a+"] limit=["+i+"]"),a<=i||(n(),r())});return n}function dr(e){let{videoNodeController:t,bufferFullTimeout:i,callback:r}=e,a=Vs.a;const n=t.isBuffering.add(async e=>{if(a(),!e)return;const{promise:t,clear:o}=Object(Do.a)(i);a=o,await t,a(),n(),r()});return()=>{a(),n()}}function lr(e,t){const i=Object(rs.a)({element:e,eventName:"timeupdate",listener:()=>{e.currentTime>0&&!e.paused&&(a(),t())}}),r=Object(rs.a)({element:e,eventName:"playing",listener:()=>{e.duration>0&&(a(),t())}}),a=()=>{i(),r()};return a}function cr(e){function t(){let{duration:e}=i.getCurrentPosition();return o(e)||(e=r()),o(a)?Math.min(e,a):e}let{videoNodeController:i,durationFallback:r,durationLimit:a,callbacks:{AdStarted:n,AdVideoFirstQuartile:s,AdVideoMidpoint:d,AdVideoThirdQuartile:l,AdVideoBeforeComplete:c,AdVideoComplete:u}}=e;const h=Object(js.a)(s),p=Object(js.a)(d),A=Object(js.a)(l),m=Object(js.a)(c);let v=0;const f=()=>{const e=t();if(!o(e))return;const{currentTime:r}=i.getCurrentPosition(),a=(r-v)/e;a>=.25&&h(),a>=.5&&p(),a>=.75&&A()},b=Object(js.a)((function(e){void 0===e&&(e={completeOnDurationLimit:!1}),f(),u(e)})),_=[lr(i.videoNode,()=>{v=i.getCurrentPosition().currentTime,n()}),i.currentPosition.add(e=>{let{currentTime:i}=e;const{isBeforeEnd:r,isEnd:n}=function(e){let{currentTime:t,duration:i}=e;return t>=i?{isBeforeEnd:!1,isEnd:!0}:t+JA>=i?{isBeforeEnd:!0,isEnd:!1}:{isBeforeEnd:!1,isEnd:!1}}({currentTime:i,duration:t()});r&&m(),n&&o(a)&&b({completeOnDurationLimit:!0,durationLimit:a})}),i.currentPosition.add(f),i.onEnd.add(b)];return()=>ni(_)}function ur(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function hr(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function pr(e){var t;if(!S(e)&&!T(e)||!Al.a)return e;const i=dm.a[dm.a.length-1],r=null!==(t=null===i||void 0===i?void 0:i.ownerDocument)&&void 0!==t?t:document;return Object(Ad.a)(e,"target_ref",r.referrer)}function Ar(e,t){if(e===t)return!0;if(!Object(Ro.a)(e)||!Object(Ro.a)(t))return!1;if(Object(So.a)(e)!==Object(So.a)(t))return!1;const i=Object(bs.a)(e),r=Object(bs.a)(t);if(i.length!==r.length)return!1;for(const a of r){if(!(a in e))return!1;if(!Ar(e[a],t[a]))return!1}return!0}function mr(e,t){const i=function(e){const t=Object(hm.a)(e);if(t)return t.replace(/hidden/i,"visibilitychange")}(e);return i?Object(rs.a)({element:e,eventName:i,listener:()=>{t(Object(um.a)(e))}}):Vs.a}function vr(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function fr(){return(fr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function br(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _r(){return(_r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function gr(e,t){if(!t)return;if(!function(e){return Object(Ko.a)(km,e)}(e))return;const i=Object(bs.a)(t);for(const r of i){const t=Vm[r][e];xo.c.event({name:t,data:void 0})}}function Or(e,t){let{width:i,height:r}=e;const a=Object(Io.a)([i,r],e=>Math.round(e)),n=Math.min(...a),o=Math.max(...a);return t?n>=Bm&&o*n>=Um:n>=Lm&&o*n>=Mm}function yr(){return(yr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Er(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Tr(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Sr(e,t){const i=function(e){void 0===e&&(e=window);const{document:t={}}=e;return Object(To.a)(Gm,e=>{let{enabled:i}=e;return i in t})}(e);if(i.length>0)return i[0];const r=function(e,t){var i,r;return void 0===e&&(e=window),void 0===t&&(t=null!==(i=null===(r=e.HTMLVideoElement)||void 0===r?void 0:r.prototype)&&void 0!==i?i:{}),Object(To.a)(Gm,e=>{let{enabled:i}=e;return i in t})}(e,t);return r.length>0?r[0]:void 0}function wr(e,t){const i=Sr(e,t);if(!i)return null;let r=e.document[i.element];return t&&t[i.element]&&(r=t),r||null}function Pr(e){const{videoWidth:t,videoHeight:i}=e;if(o(t)&&o(i))return{width:t,height:i}}function Ir(e){let{win:t,slotSize:i,slotVisibilityRatio:r,videoSlotSize:a,videoNode:s,bufferingTime:l,adBreakType:c,adFormatType:u}=e;const h=Wm(t),p=h.width*h.height,A=i.width*i.height,m=0===p?0:A/p,v=Rt(t),f=function(e){void 0===e&&(e=window);const{navigator:t}=e,{connection:i={}}=t;if("number"===typeof i.downlink)return i.downlink;if("number"===typeof i.downlinkMax)return i.downlinkMax;const r=i.type;if("string"===typeof r||"number"===typeof r)switch(r){case"BLUETOOTH":return 3;case Ym.CELL_2G:return.384;case Ym.CELL_3G:case"CELLULAR":return 2;case"WIMAX":return 37;case"NONE":return 0;case Ym.ETHERNET:case"ETHERNET":case Ym.WIFI:case"WIFI":case"MIXED":return 10;case Ym.UNKNOWN:}return-1}(t),b=s?Pr(s):Bo.videoContentSize;let _=Bo.videoAvatarSize,g=Bo.videoFramesInfo,O=Bo.videoSrc,y=Bo.videoCurrentSrc,E=Bo.videoMuted,T=Bo.videoVolume,S=Bo.currentTime,w=Bo.bufferingTimeRatio,P=Bo.remainingBufferedTime,I=Bo.isFullscreen;if(s){const{innerSize:e,adjacentSize:r,extraHorizontalSpace:o}=Wt({slotSize:i,videoContentSize:b,videoSlotSize:a});_={width:o?r:e,height:o?e:r},g=d(s),O=s.src,y=s.currentSrc,E=s.muted,T=s.volume;const c=function(e){const t=[];if(!e)return t;if(!e.buffered)return t;if(!n(e.buffered.length)||!Object(ns.a)(e.buffered.start)||!Object(ns.a)(e.buffered.end))return t;for(let i=0;i<e.buffered.length;i++)t.push({start:e.buffered.start(i),end:e.buffered.end(i)});return function(e){if(e.length<=1)return e;const t=e.map(e=>{let{start:t,end:i}=e;return{start:t,end:i}}).sort((e,t)=>e.start-t.start),i=[t[0]];for(let r=1;r<t.length;r++){const e=t[r],a=i[i.length-1];a.end<e.start?i.push(e):a.end<e.end&&(a.end=e.end)}return i}(t)}(s);S=s.currentTime;const u=(C=c,D=S,Object(yh.a)(C,e=>{let{start:t,end:i}=e;return t<=D&&D<=i}));u&&(P=u.end-S),n(S)&&n(l)&&l+S>0&&(w=l/(l+S)),I=function(e,t){const i=wr(e);return!!i&&i.contains(t)}(t,s)}var C,D;const{value:N}=Gt({videoContentSize:b,slotSize:i});let R=Bo.videoToDevicePixelRatio;return o(N)&&(R=N/v),{visibility:r,size:i,relativeSizeRatio:m,screenSize:h,devicePixelRatio:v,downlink:f,videoContentSize:b,videoSlotSize:a,videoAvatarSize:_,videoPixelRatio:N,videoToDevicePixelRatio:R,videoFramesInfo:g,videoSrc:O,videoCurrentSrc:y===O?void 0:y,videoMuted:E,videoVolume:T,bufferingTime:l,currentTime:S,bufferingTimeRatio:w,remainingBufferedTime:P,adBreakType:c,adFormatType:u,isFullscreen:I}}function Cr(e){const t=e.ownerDocument,i=t.defaultView,r=t.documentElement,a=e.getBoundingClientRect();return{winWidth:Xm?Math.max(r.clientWidth,(null===i||void 0===i?void 0:i.innerWidth)||0):(null===i||void 0===i?void 0:i.innerWidth)||r.clientWidth||t.body.clientWidth,winHeight:Xm?Math.max(r.clientHeight,(null===i||void 0===i?void 0:i.innerHeight)||0):(null===i||void 0===i?void 0:i.innerHeight)||r.clientHeight||t.body.clientHeight,left:a.left,top:a.top,width:a.width,height:a.height}}function Dr(e){let{width:t,height:i,top:r,left:a,winWidth:n,winHeight:o}=e;const s=a+t,d=r+i,l=Dt(a,0,n),c=Dt(r,0,o);return{winWidth:n,winHeight:o,left:l,top:c,width:Dt(s,l,n)-l,height:Dt(d,c,o)-c}}function Nr(e,t){return e.width*e.height/(t.width*t.height)}function Rr(e){const t=function(e){return[Cr(e),...Object(Io.a)(Object(qm.a)(e),Cr)]}(e);let i=Dr(t[0]),r=Nr(i,t[0]);for(let o=1;o<t.length;o++){const e=t[o];r=Nr(i=Dr((a=i,{winWidth:(n=e).winWidth,winHeight:n.winHeight,left:a.left+n.left,top:a.top+n.top,width:a.width,height:a.height})),t[0])}var a,n;return r}function kr(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Vr(e){return Object(Co.a)(Object(bs.a)(wm),t=>{const i=wm[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:()=>{if("function"===typeof e[i])try{return e[i]()}catch(r){xo.c.error({error:new Uo.a({code:"VPAID_METHOD_FOR_GETTER_ERROR",details:{propertyName:t}})})}else xo.c.error({error:new Uo.a({code:"VPAID_HAS_NO_METHOD_FOR_GETTER",details:{propertyName:t}})})}})}),Object(Co.a)(Object(bs.a)(Pm),t=>{const i=Pm[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!0,set:r=>{if("function"===typeof e[i])try{return e[i](r)}catch(a){xo.c.error({error:new Uo.a({code:"VPAID_METHOD_FOR_SETTER_ERROR",details:{propertyName:t,value:r}})})}else xo.c.error({error:new Uo.a({code:"VPAID_HAS_NO_METHOD_FOR_SETTER",details:{propertyName:t,value:r}})})}})}),e}function jr(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Lr(){return(Lr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Mr(){return(Mr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Br(){return(Br=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Ur(){return(Ur=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function xr(e){return"YandexTestMeasurerVpaidEvent_"+e}function Fr(e,t){const i={};return Object(bs.a)(e).forEach(r=>{t(e[r],r)&&(i[r]=e[r])}),i}function Hr(e){return Array.isArray(e)?Object(To.a)(e,e=>"string"===typeof e&&e.length>0):[]}function zr(e){const t=[];return Object(Ro.a)(e)?{measurers:Fr(e,(i,r)=>Object(Ro.a)(i)?-1!==bv.indexOf(r)||(t.push(new Uo.a({code:"UNSUPPORTED_MEASURER",details:{measurerName:r,measurersParameters:e}})),!1):(t.push(new Uo.a({code:"MEASURER_PARAMS_IN_NOT_AN_OBJECT",details:{measurerName:r,measurersParameters:e}})),!1)),errors:t}:(void 0!==e&&t.push(new Uo.a({code:"INVALID_MEASURERS_PARAMETERS",details:{measurersParameters:e}})),{measurers:{},errors:t})}function Wr(){return(Wr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Gr(e){const t=[],{measurers:i,AUCTION_DC_PARAMS:r}=e;let a={},n={};const{bannerParameters:o,errors:s}=function(e){const t=[];if(!Object(Ro.a)(e))return{bannerParameters:void 0,errors:t};const{data_params:i}=e;if(!Object(Ro.a)(i))return{bannerParameters:void 0,errors:t};const{misc:r}=i;if(!Object(Ro.a)(r))return{bannerParameters:void 0,errors:t};const{object_id:a}=r,n=i[a];return Object(Ro.a)(n)?{bannerParameters:n,errors:t}:{bannerParameters:void 0,errors:t}}(r);if(t.push(...s),Object(Ro.a)(o)){const{measurers:i,unmoderated:r}=o,{measurers:s,errors:d}=zr(i);if(t.push(...d),a=s,Object(Ro.a)(r)){const{measurers:i}=r;i&&t.push(new Uo.a({code:"AUCTION_DC_PARAMS_UNMODERATED_MEASURERS_ARE_USED",details:{rawAdParameters:e}}));const{measurers:a,errors:o}=zr(i);t.push(...o),n=a}}const{measurers:d,errors:l}=zr(i);t.push(...l);const c=Object(bs.a)(n).length>0,u=Object(bs.a)(a).length>0,h=Object(bs.a)(d).length>0;return Number(c)+Number(u)+Number(h)>1&&t.push(new Uo.a({code:"USING_MULTIPLE_MEASURERS_OBJECTS",details:{rawAdParameters:e}})),{measurers:Wr({},n,a,d),errors:t}}function Yr(e){return Object(Ro.a)(e)?U(_v,(t,i)=>Hr(e[i])):dd(_v)}function qr(e){const{sad:t,AUCTION_DC_PARAMS:i}=e;return"sad"===t||!!Object(Ro.a)(i)&&"sad"===i.sad}function Xr(e){if(!Object(Ro.a)(e))return;const{ids:t,partnerCode:i}=e;return"string"===typeof i?Object(Ro.a)(t)?{partnerCode:i,ids:Fr(t,e=>"string"===typeof e)}:{partnerCode:i,ids:{}}:void 0}function Kr(e){return e<2?1e3:2===e?3e3:5e3}function Qr(){return(Qr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Jr(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Zr(e,t,i){void 0===i&&(i={});const r=e,{onStop:a=Vs.a,onInitMeasurer:n=Vs.a,onTrackEvent:o=Vs.a,onExecutionError:s=Vs.a,onAdError:d=Vs.a,onPlayingStateChange:l=Vs.a,onSlotHoverStateChange:c=Vs.a,onSlotVisibilityStateChange:u=Vs.a,onSlotSizeChange:h=Vs.a}=i,p=new gv(r,t,{onStop:a,onInitMeasurer:n,onTrackEvent:o,onExecutionError:s,onAdError:d,onPlayingStateChange:l,onSlotVisibilityStateChange:u,onSlotHoverStateChange:c,onSlotSizeChange:h});return{measurableVPAIDCreative:function(e,t){let{vpaidWillCallMethod:i,vpaidWillSetProperty:r}=t;const a=U(Tm,(e,t)=>{return function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return i(t,r)}});return Object(Co.a)(Object(bs.a)(Sm),t=>{Object.defineProperty(a,t,{configurable:!0,enumerable:!0,get:()=>e[t],set:e=>{r(t,e)}})}),a}(r,p),userInteractionDispatchers:p.userInteractionDispatchers,vpaidCreativeProxyForMeasurers:p.vpaidCreativeProxyForMeasurers}}function $r(e,t){for(var i in t)e[i]=t[i];return e}function ea(e){var t=e.parentNode;t&&t.removeChild(e)}function ta(e,t,i){var r,a=arguments,n={};for(r in t)"key"!==r&&"ref"!==r&&(n[r]=t[r]);if(arguments.length>3)for(i=[i],r=3;r<arguments.length;r++)i.push(a[r]);if(null!=i&&(n.children=i),"function"==typeof e&&null!=e.defaultProps)for(r in e.defaultProps)void 0===n[r]&&(n[r]=e.defaultProps[r]);return ia(e,n,t&&t.key,t&&t.ref)}function ia(e,t,i,r){var a={type:e,props:t,key:i,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0};return wv.vnode&&wv.vnode(a),a}function ra(e){return e.children}function aa(e,t){this.props=e,this.context=t}function na(e,t){if(null==t)return e.__?na(e.__,e.__.__k.indexOf(e)+1):null;for(var i;t<e.__k.length;t++)if(null!=(i=e.__k[t])&&null!=i.__e)return i.__e;return"function"==typeof e.type?na(e):null}function oa(e){var t,i;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(i=e.__k[t])&&null!=i.__e){e.__e=e.__c.base=i.__e;break}return oa(e)}}function sa(e){(!e.__d&&(e.__d=!0)&&1===Pv.push(e)||Cv!==wv.debounceRendering)&&((Cv=wv.debounceRendering)||Iv)(da)}function da(){var e,t,i,r,a,n,o;for(Pv.sort((function(e,t){return t.__v.__b-e.__v.__b}));e=Pv.pop();)e.__d&&(i=void 0,r=void 0,n=(a=(t=e).__v).__e,(o=t.__P)&&(i=[],r=pa(o,a,$r({},a),t.__n,void 0!==o.ownerSVGElement,null,i,null==n?na(a):n),Aa(i,a),r!=n&&oa(a)))}function la(e,t,i,r,a,n,o,s,d){var l,c,u,h,p,A,m,v=i&&i.__k||kv,f=v.length;if(s==Rv&&(s=null!=n?n[0]:f?na(i,0):null),l=0,t.__k=function e(t,i,r){if(null==r&&(r=[]),null==t||"boolean"==typeof t)i&&r.push(i(null));else if(Array.isArray(t))for(var a=0;a<t.length;a++)e(t[a],i,r);else r.push(i?i("string"==typeof t||"number"==typeof t?ia(null,t,null,null):null!=t.__e||null!=t.__c?ia(t.type,t.props,t.key,null):t):t);return r}(t.__k,(function(i){if(null!=i){if(i.__=t,i.__b=t.__b+1,null===(u=v[l])||u&&i.key==u.key&&i.type===u.type)v[l]=void 0;else for(c=0;c<f;c++){if((u=v[c])&&i.key==u.key&&i.type===u.type){v[c]=void 0;break}u=null}if(h=pa(e,i,u=u||Rv,r,a,n,o,s,d),(c=i.ref)&&u.ref!=c&&(m||(m=[]),u.ref&&m.push(u.ref,null,i),m.push(c,i.__c||h,i)),null!=h){var b;if(null==A&&(A=h),void 0!==i.__d)b=i.__d,i.__d=void 0;else if(n==u||h!=s||null==h.parentNode){e:if(null==s||s.parentNode!==e)e.appendChild(h),b=null;else{for(p=s,c=0;(p=p.nextSibling)&&c<f;c+=2)if(p==h)break e;e.insertBefore(h,s),b=s}"option"==t.type&&(e.value="")}s=void 0!==b?b:h.nextSibling,"function"==typeof t.type&&(t.__d=s)}}return l++,i})),t.__e=A,null!=n&&"function"!=typeof t.type)for(l=n.length;l--;)null!=n[l]&&ea(n[l]);for(l=f;l--;)null!=v[l]&&fa(v[l],v[l]);if(m)for(l=0;l<m.length;l++)va(m[l],m[++l],m[++l])}function ca(e,t,i){"-"===t[0]?e.setProperty(t,i):e[t]="number"==typeof i&&!1===Vv.test(t)?i+"px":null==i?"":i}function ua(e,t,i,r,a){var n,o,s,d,l;if(a?"className"===t&&(t="class"):"class"===t&&(t="className"),"key"===t||"children"===t);else if("style"===t)if(n=e.style,"string"==typeof i)n.cssText=i;else{if("string"==typeof r&&(n.cssText="",r=null),r)for(o in r)i&&o in i||ca(n,o,"");if(i)for(s in i)r&&i[s]===r[s]||ca(n,s,i[s])}else"o"===t[0]&&"n"===t[1]?(d=t!==(t=t.replace(/Capture$/,"")),l=t.toLowerCase(),t=(l in e?l:t).slice(2),i?(r||e.addEventListener(t,ha,d),(e.l||(e.l={}))[t]=i):e.removeEventListener(t,ha,d)):"list"!==t&&"tagName"!==t&&"form"!==t&&"type"!==t&&"size"!==t&&!a&&t in e?e[t]=null==i?"":i:"function"!=typeof i&&"dangerouslySetInnerHTML"!==t&&(t!==(t=t.replace(/^xlink:?/,""))?null==i||!1===i?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),i):null==i||!1===i?e.removeAttribute(t):e.setAttribute(t,i))}function ha(e){this.l[e.type](wv.event?wv.event(e):e)}function pa(e,t,i,r,a,n,o,s,d){var l,c,u,h,p,A,m,v,f,b,_=t.type;if(void 0!==t.constructor)return null;(l=wv.__b)&&l(t);try{e:if("function"==typeof _){if(v=t.props,f=(l=_.contextType)&&r[l.__c],b=l?f?f.props.value:l.__:r,i.__c?m=(c=t.__c=i.__c).__=c.__E:("prototype"in _&&_.prototype.render?t.__c=c=new _(v,b):(t.__c=c=new aa(v,b),c.constructor=_,c.render=ba),f&&f.sub(c),c.props=v,c.state||(c.state={}),c.context=b,c.__n=r,u=c.__d=!0,c.__h=[]),null==c.__s&&(c.__s=c.state),null!=_.getDerivedStateFromProps&&(c.__s==c.state&&(c.__s=$r({},c.__s)),$r(c.__s,_.getDerivedStateFromProps(v,c.__s))),h=c.props,p=c.state,u)null==_.getDerivedStateFromProps&&null!=c.componentWillMount&&c.componentWillMount(),null!=c.componentDidMount&&c.__h.push(c.componentDidMount);else{if(null==_.getDerivedStateFromProps&&v!==h&&null!=c.componentWillReceiveProps&&c.componentWillReceiveProps(v,b),!c.__e&&null!=c.shouldComponentUpdate&&!1===c.shouldComponentUpdate(v,c.__s,b)){for(c.props=v,c.state=c.__s,c.__d=!1,c.__v=t,t.__e=i.__e,t.__k=i.__k,c.__h.length&&o.push(c),l=0;l<t.__k.length;l++)t.__k[l]&&(t.__k[l].__=t);break e}null!=c.componentWillUpdate&&c.componentWillUpdate(v,c.__s,b),null!=c.componentDidUpdate&&c.__h.push((function(){c.componentDidUpdate(h,p,A)}))}c.context=b,c.props=v,c.state=c.__s,(l=wv.__r)&&l(t),c.__d=!1,c.__v=t,c.__P=e,l=c.render(c.props,c.state,c.context),t.__k=null!=l&&l.type==ra&&null==l.key?l.props.children:l,null!=c.getChildContext&&(r=$r($r({},r),c.getChildContext())),u||null==c.getSnapshotBeforeUpdate||(A=c.getSnapshotBeforeUpdate(h,p)),la(e,t,i,r,a,n,o,s,d),c.base=t.__e,c.__h.length&&o.push(c),m&&(c.__E=c.__=null),c.__e=!1}else t.__e=ma(i.__e,t,i,r,a,n,o,d);(l=wv.diffed)&&l(t)}catch(e){wv.__e(e,t,i)}return t.__e}function Aa(e,t){wv.__c&&wv.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){wv.__e(e,t.__v)}}))}function ma(e,t,i,r,a,n,o,s){var d,l,c,u,h,p=i.props,A=t.props;if(a="svg"===t.type||a,null==e&&null!=n)for(d=0;d<n.length;d++)if(null!=(l=n[d])&&(null===t.type?3===l.nodeType:l.localName===t.type)){e=l,n[d]=null;break}if(null==e){if(null===t.type)return document.createTextNode(A);e=a?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type,A.is&&{is:A.is}),n=null}if(null===t.type)null!=n&&(n[n.indexOf(e)]=null),p!==A&&e.data!=A&&(e.data=A);else if(t!==i){if(null!=n&&(n[n.indexOf(e)]=null,n=kv.slice.call(e.childNodes)),c=(p=i.props||Rv).dangerouslySetInnerHTML,u=A.dangerouslySetInnerHTML,!s){if(p===Rv)for(p={},h=0;h<e.attributes.length;h++)p[e.attributes[h].name]=e.attributes[h].value;(u||c)&&(u&&c&&u.__html==c.__html||(e.innerHTML=u&&u.__html||""))}(function(e,t,i,r,a){var n;for(n in i)n in t||ua(e,n,null,i[n],r);for(n in t)a&&"function"!=typeof t[n]||"value"===n||"checked"===n||i[n]===t[n]||ua(e,n,t[n],i[n],r)})(e,A,p,a,s),t.__k=t.props.children,u||la(e,t,i,r,"foreignObject"!==t.type&&a,n,o,Rv,s),s||("value"in A&&void 0!==A.value&&A.value!==e.value&&(e.value=null==A.value?"":A.value),"checked"in A&&void 0!==A.checked&&A.checked!==e.checked&&(e.checked=A.checked))}return e}function va(e,t,i){try{"function"==typeof e?e(t):e.current=t}catch(e){wv.__e(e,i)}}function fa(e,t,i){var r,a,n;if(wv.unmount&&wv.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||va(r,null,t)),i||"function"==typeof e.type||(i=null!=(a=e.__e)),e.__e=e.__d=void 0,null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){wv.__e(e,t)}r.base=r.__P=null}if(r=e.__k)for(n=0;n<r.length;n++)r[n]&&fa(r[n],t,i);null!=a&&ea(a)}function ba(e,t,i){return this.constructor(e,i)}function _a(e,t,i){var r,a,n;wv.__&&wv.__(e,t),a=(r=i===Dv)?null:i&&i.__k||t.__k,e=ta(ra,null,[e]),n=[],pa(t,(r?t:i||t).__k=e,a||Rv,Rv,void 0!==t.ownerSVGElement,i&&!r?[i]:a?null:kv.slice.call(t.childNodes),n,i||Rv,r),Aa(n,e)}function ga(e){var t={},i={__c:"__cC"+Nv++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var r,a=this;return this.getChildContext||(r=[],this.getChildContext=function(){return t[i.__c]=a,t},this.shouldComponentUpdate=function(t){e.value!==t.value&&r.some((function(e){e.context=t.value,sa(e)}))},this.sub=function(e){r.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){r.splice(r.indexOf(e),1),t&&t.call(e)}}),e.children}};return i.Consumer.contextType=i,i}function Oa(e){wv.__h&&wv.__h(Lv);var t=Lv.__H||(Lv.__H={__:[],__h:[]});return e>=t.__.length&&t.__.push({}),t.__[e]}function Ea(e){return function(e,t,i){var r=Oa(jv++);return r.__c||(r.__c=Lv,r.__=[i?i(t):Va(void 0,t),function(t){var i=e(r.__[0],t);r.__[0]!==i&&(r.__[0]=i,r.__c.setState({}))}]),r.__}(Va,e)}function Ta(e,t){var i=Oa(jv++);ka(i.__H,t)&&(i.__=e,i.__H=t,Lv.__H.__h.push(i))}function Sa(e,t){var i=Oa(jv++);ka(i.__H,t)&&(i.__=e,i.__H=t,Lv.__h.push(i))}function wa(e){return Pa((function(){return{current:e}}),[])}function Pa(e,t){var i=Oa(jv++);return ka(i.__H,t)?(i.__H=t,i.__h=e,i.__=e()):i.__}function Ia(e,t){return Pa((function(){return e}),t)}function Ca(e){var t=Lv.context[e.__c];if(!t)return e.__;var i=Oa(jv++);return null==i.__&&(i.__=!0,t.sub(Lv)),t.props.value}function Da(){Bv.some((function(e){if(e.__P)try{e.__H.__h.forEach(Na),e.__H.__h.forEach(Ra),e.__H.__h=[]}catch(t){return wv.__e(t,e.__v),!0}})),Bv=[]}function Na(e){e.t&&e.t()}function Ra(e){var t=e.__();"function"==typeof t&&(e.t=t)}function ka(e,t){return!e||t.some((function(t,i){return t!==e[i]}))}function Va(e,t){return"function"==typeof t?t(e):t}function ja(){return(ja=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function La(e){var t,i,r="";if("string"===typeof e||"number"===typeof e)r+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(i=La(e[t]))&&(r&&(r+=" "),r+=i);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Ma(e){const[t,i]=Ea(e.getValue());return Ta(()=>(i(e.getValue()),e.add(i)),[e]),t}function Ba(e,t){var i;const r=(null!==(i=e.ownerDocument)&&void 0!==i?i:document).createElement("style");return r.type="text/css",r.textContent=t,e.appendChild(r),r}function Ua(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function xa(e){const t=$v();Sa(()=>tf.useStyleModule(t.element,e),[e])}function Fa(e){let{descriptionText:t,buttonText:i,openClickThroughUrl:r,animationProgress:a,hasTimeline:n,disableOverlay:o}=e;return{descriptionText:t,buttonText:i,openClickThroughUrl:r,disableOverlay:o,progress:Ma(a),hasTimeline:n}}function Ha(){return(Ha=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function za(){return(za=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Wa(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Ga(e){const t=new wf(e),i=Vr(t),{measurableVPAIDCreative:r,userInteractionDispatchers:a}=Zr(i,{visibilityRatio:e.visibilityRatio,measurersSlot:e.measurersSlot},{onStop:e=>{let{error:t,reason:i}=e;t?xo.c.error({error:t}):xo.c.event({name:"AdCreativeMeasured",probability:Fo.a,data:{stopReason:i}})},onInitMeasurer:e=>{!function(e){if("yandexTestMeasurer"===e.measurerName)return;const t=Rm[e.measurerName];xo.c.event({name:t,probability:Fo.a,data:void 0})}(e)},onTrackEvent:e=>{mt(e)},onExecutionError:e=>{xo.c.error({error:e})},onAdError:e=>{let{error:t}=e;xo.c.errorToStats(t)}});return{creative:r,wrapper:t,userInteractionDispatchers:a}}function Ya(e){const t="undefined"!==typeof Object.getOwnPropertyDescriptor(e.document,"hidden"),i="undefined"!==typeof Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e.document),"hidden");return t||i}function qa(e){return Boolean(e.IntersectionObserver)&&!Object(Cs.a)(e.IntersectionObserver)}function Xa(e){var t;if(null!==(t=!Boolean(e.ownerDocument))&&void 0!==t?t:!e.ownerDocument.defaultView)return null;const i=e.ownerDocument.defaultView,r=function(e,t){try{if(Object(Cs.a)(e.attachShadow))return e.attachShadow(t);if(Object(Cs.a)(e.createShadowRoot))return e.createShadowRoot();if(Object(Cs.a)(e.webkitCreateShadowRoot))return e.webkitCreateShadowRoot()}catch(i){}return null}(e,{mode:jf});if(!r)return null;const a=i.document.createElement("div");return r.appendChild(a),a}function Ka(){return(Ka=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Qa(e){let{creative:t,isYandexCreative:i,getLogDetails:r}=e;return function(e,t){let{methodCallError:i,methodAbsent:r,getterError:a,setterError:n}=t;const o=U(Tm,(t,a)=>(function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];if("function"===typeof e[a])try{return e[a].apply(e,n)}catch(s){i({methodName:a,args:n,error:s})}else r({methodName:a,args:n})}));return Object(sd.a)(Sm,(t,i)=>{Object.defineProperty(o,i,{configurable:!0,enumerable:!0,get:()=>{try{return e[i]}catch(t){a({propertyName:i,error:t})}},set:t=>{try{e[i]=t}catch(r){n({propertyName:i,error:r,value:t})}}})}),o}(t,{methodCallError:e=>{let{methodName:t,args:a,error:n}=e;xo.c.error({error:new Uo.a(n,{code:i?"YANDEX_VPAID_METHOD_CALL_ERROR":"VPAID_METHOD_CALL_ERROR",details:Ka({methodName:t,args:a},r())})}),Object(Rs.a)(n)},methodAbsent:e=>{let{methodName:t,args:a}=e;xo.c.error({error:new Uo.a({code:i?"YANDEX_VPAID_METHOD_ABSENT":"VPAID_METHOD_ABSENT",details:Ka({methodName:t,args:a},r())})})},getterError:e=>{let{propertyName:t,error:a}=e;xo.c.error({error:new Uo.a(a,{code:i?"YANDEX_VPAID_GETTER_ERROR":"VPAID_GETTER_ERROR",details:Ka({propertyName:t},r())})}),Object(Rs.a)(a)},setterError:e=>{let{propertyName:t,value:a,error:n}=e;xo.c.error({error:new Uo.a(n,{code:i?"YANDEX_VPAID_SETTER_ERROR":"VPAID_SETTER_ERROR",details:Ka({propertyName:t,value:a},r())})}),Object(Rs.a)(n)}})}function Ja(e){"function"===typeof e.catch&&e.catch(e=>void 0)}function Za(){return(Za=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function $a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function en(e,t){return zf.indexOf(e)>=zf.indexOf(t)}function tn(e){let{creativeLifeCycleStage:t,isYandexCreative:i,adCreativeWrapper:r}=e;if(en(t,"start")){if(r){const e=r.params.animationParameters,t=r.params.videoParameters;if(e&&!r.adCreativeLatch.getDispatched())return t?"YANDEX_AD_CREATIVE_WITH_VIDEO_START_TIMEOUT_NO_ANIMATION":"YANDEX_AD_CREATIVE_NO_VIDEO_START_TIMEOUT_NO_ANIMATION";if(t&&!r.videoStartedLatch.getDispatched())return e?"YANDEX_AD_CREATIVE_WITH_ANIM_VIDEO_START_TIMEOUT":"YANDEX_AD_CREATIVE_NO_ANIM_VIDEO_START_TIMEOUT"}return i?"YANDEX_VPAID_START_TIMEOUT":"VPAID_START_TIMEOUT"}return en(t,"init")?i?"YANDEX_VPAID_INIT_TIMEOUT":"VPAID_INIT_TIMEOUT":i?"YANDEX_VPAID_LOAD_TIMEOUT":"VPAID_LOAD_TIMEOUT"}function rn(){return(rn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function an(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function nn(){return(nn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function on(e){const{config:t,errors:i}=function(e){const t=[],i=Object(Ro.a)(e)?e:{};let r;return jp(i.backgroundSlot)?r=i.backgroundSlot:void 0!==i.backgroundSlot&&t.push(new Uo.a({code:"BACKGROUND_SLOT_IS_NOT_ELEMENT_OR_UNDEFINED",details:{config:e}})),{config:{backgroundSlot:r,clickThroughCallback:Object(ns.a)(i.clickThroughCallback)?i.clickThroughCallback:void 0,clickThroughConfirmation:"boolean"===typeof i.clickThroughConfirmation?i.clickThroughConfirmation:void 0,renderSkin:Object(ns.a)(i.renderSkin)?i.renderSkin:void 0,retainLastMediaAfterPlayback:"boolean"===typeof i.retainLastMediaAfterPlayback?i.retainLastMediaAfterPlayback:void 0,allowedToHideVideoSlotAreaPortion:i.allowedToHideVideoSlotAreaPortion},errors:t}}(e),{config:r,errors:a}=W(e);return{config:nn({},t,r),errors:[...i,...a]}}function sn(e,t){return Object(Io.a)(e,e=>$f(e)?{duration:e.durationPortion*t,value:e.value}:{duration:e.durationPortion*t,values:e.values,easing:"easeInOut"})}function dn(e,t,i,r,a){const n=t=>{const r=1-t;return 3*r*r*t*e+3*r*t*t*i+t*t*t},o=e=>{const i=1-e;return 3*i*i*e*t+3*i*e*e*r+e*e*e},s=t=>{const r=1-t;return 3*(2*(t-1)*t+r*r)*e+3*(-t*t*t+2*r*t)*i};return e=>{const t=e;let i,r,d,l,c,u;for(d=t,u=0;u<8;u++){if(c=n(d)-t,Math.abs(c)<a)return o(d);if(l=s(d),Math.abs(l)<1e-6)break;d-=c/l}if(r=1,(d=t)<(i=0))return o(i);if(d>r)return o(r);for(;i<r;){if(c=n(d),Math.abs(c-t)<a)return o(d);t>c?i=d:r=d,d=.5*(r-i)+i}return o(d)}}function ln(e){let{position:t,unit:i,steps:r}=e;const{step:a,stepPosition:n}=function(e,t){let i=0;const{length:r}=t;for(let a=0;a<r;a++){const n=t[a],o=i+n.duration,s=i<=e&&e<o;if(a===r-1||s)return{step:n,stepPosition:i};i=o}throw new Uo.a({code:"CANNOT_DETERMINE_ANIMATION_SCRIPT_STEP_BY_POSITION",details:{position:e,steps:t}})}(t,r);if(eb(a))return a.value;const{duration:o,values:[s,d],easing:l=ib}=a;if(s===d)return s;if(t>=n+o)return d;const c=("function"===typeof l?l:tb[l])((t-n)/o);return(0,rb[i])(c,s,d)}function cn(){return(cn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function un(){return(un=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function hn(e){let{width:t}=e;return t<lb?"small":"middle"}function pn(e,t,i,r){"undefined"!==typeof i&&"undefined"!==typeof t&&(i+=!Vb.test(t)&&i>>>0?"px":"",e.style.setProperty?e.style.setProperty(t,i,r?"important":""):e.style.cssText+=";"+t+": "+i+(r?"!important":""))}function An(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function mn(e){const{ownerDocument:t}=e;return Boolean(t)?"false"===e.getAttribute("pip")?Vs.a:function(e,t){const{pictureInPictureElement:i}=e;if(i)return i;if(t){if(t.webkitPresentationMode===Zb.pictureInPicture)return t;if(t.broughtOut)return t}return null}(t,e)===e?Vs.a:Ni(e,{pip:"false"}):Vs.a}function vn(e,t){void 0===t&&(t=window);let i=Vs.a;const r=t=>{"pagehide"===t.type&&t.persisted||(e(t),i())},a=Object(Io.a)(t_,e=>Object(rs.a)({element:t,eventName:e,listener:r}));return i=Object(js.a)(()=>{ni(a)})}function fn(e,t){void 0===t&&(t={meta:!1,strict:!0});const{meta:i=!1,strict:r=!1}=t,a=e.trim().replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n\n"),n=a.shift();if(!(null===n||void 0===n?void 0:n.startsWith("WEBVTT")))throw new Error('Must start with "WEBVTT"');const o=n.split("\n"),s=o[0].replace("WEBVTT","");if(s.length>0&&" "!==s[0]&&"\t"!==s[0])throw new Error("Header comment must start with space or tab");if(0===a.length&&1===o.length)return{valid:!0,strict:r,cues:[],errors:[]};if(!i&&o.length>1&&""!==o[1])throw new Error("Missing blank line after signature");const{cues:d,errors:l}=function(e,t){const i=[];return{cues:Object(To.a)(Object(Io.a)(e,(e,r)=>{try{return function(e,t,i){let r="",a=0,n=.01,o="",s="";const d=Object(To.a)(e.split("\n"),Boolean);if(d.length>0&&d[0].trim().startsWith("NOTE"))return;if(1===d.length&&!gn(d[0]))throw new Error("Cue identifier cannot be standalone (cue #"+t+")");if(d.length>1&&!gn(d[0])&&!gn(d[1])){throw new Error("Cue identifier needs to be followed by timestamp (cue #"+t+")")}d.length>1&&gn(d[1])&&(r=d.shift());if("string"!==typeof d[0])throw new Error("Invalid cue timestamp (cue #"+t+")");const l=d[0].split(" --\x3e ");if(2!==l.length||!bn(l[0])||!bn(l[1]))throw new Error("Invalid cue timestamp (cue #"+t+")");if(a=_n(l[0]),n=_n(l[1]),i){if(a>n)throw new Error("Start timestamp greater than end (cue #"+t+")");if(n<=a)throw new Error("End must be greater than start (cue #"+t+")")}if(!i&&n<a)throw new Error("End must be greater or equal to start when not strict (cue #"+t+")");if(s=l[1].replace(i_,"").trim(),d.shift(),!(o=d.join("\n")))return;return{identifier:r,start:a,end:n,text:o,styles:s}}(e,r,t)}catch(a){return void i.push(a)}}),Boolean),errors:i}}(a,r);if(r&&l.length>0)throw l[0];const c=i?function(e){const t={};return Object(Co.a)(e.slice(1),e=>{const i=e.indexOf(":"),r=e.slice(0,i).trim(),a=e.slice(i+1).trim();t[r]=a}),Object(bs.a)(t).length>0?t:void 0}(o):void 0,u={valid:0===l.length,strict:r,cues:d,errors:l};return i&&(u.meta=c),u}function bn(e){return i_.test(e)}function _n(e){const t=e.match(i_);if(null===t)throw new Error("Timestamp parse error");const i=parseFloat(t[1]||"0"),r=parseFloat(t[2]),a=parseFloat(t[3]);return i*Ku+r*Xu+a}function gn(e){return-1!==e.indexOf("--\x3e")}function On(e,t,i){function r(){0!==o&&(clearTimeout(o),o=0)}let{threshold:a=n_,delay:n=o_}=void 0===i?{}:i,o=0,s=0,d=0;const l=ji(e,"click",(function(e){0!==o&&(r(),t(e))}),{passive:!0}),c=ji(e,"touchstart",(function(e){1===e.touches.length&&(s=e.changedTouches[0].screenX,d=e.changedTouches[0].screenY,r(),o=window.setTimeout(r,n))}),{passive:!0}),u=ji(e,"touchend",(function(e){0!==o&&(r(),t(e))}),{passive:!0}),h=ji(e,"touchmove",(function(e){if(0===o||!Object(Ro.a)(e.touches)||1!==e.touches.length)return void r();const{screenX:t,screenY:i}=e.changedTouches[0];(function(e,t){return Math.abs(s-e)>a||Math.abs(d-t)>a})(t,i)&&r()}),{passive:!0});return()=>{l(),c(),u(),h()}}function yn(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function En(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Tn(e){const t=e.duration||0;let i=(r=e.currentTime,a=c_,Math.round(r/a)*a||0);var r,a;return t-i<c_&&(i=t),{currentTime:Math.max(0,i),duration:Math.max(0,t)}}function Sn(){return(Sn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function wn(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Pn(e){return e.muted?0:e.volume}function In(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Cn(e){if(!It(e))return!1;const{adParametersObject:t,adParameters:i}=e;if(!Object(Ro.a)(t))return!1;const{parsed:{animationMediaFile:r}}=Ot(i);return!!r&&r.url===Wc.ThemeEmpty}function Dn(e){var t,i;const r=!0===e.HAS_TITLE,a=!0===e.HAS_BODY,n=e.BUTTON_POSITION,{data_params:o}=null!==(t=e.AUCTION_DC_PARAMS)&&void 0!==t?t:{},s=o&&wA(o),{title:d,body:l}=null!==(i=null===s||void 0===s?void 0:s.text)&&void 0!==i?i:{},c=function(e){let{titleEnabled:t,bodyEnabled:i,body:r,title:a,buttonPosition:n}=e;return!(t&&i&&r&&a)?Object(Ko.a)(N_,n)?n:"left-bottom":Object(Ko.a)(D_,n)?n:"right-bottom"}({titleEnabled:r,bodyEnabled:a,buttonPosition:n,title:d,body:l});return"left-bottom"===c||"left-center"===c?{position:c,side:"left",oppositeSide:"right"}:{position:c,side:"right",oppositeSide:"left"}}function Nn(e){const{BUTTON_COLOR:t="#ffdb4d",BUTTON_TEXT_COLOR:i="#000000",BUTTON_BORDER_COLOR:r=""}=e,a=Object(Io.a)((n=t,[parseInt(n.substr(1,2),16),parseInt(n.substr(3,2),16),parseInt(n.substr(5,2),16)]),e=>et(e)?e:0).join(", ");var n;return{backgroundColor:"rgb("+a+")",boxShadow:"0 6px 8px rgba("+a+", 0.53)",color:i,borderColor:r}}function Rn(e,t,i){if(!e)return L_;const r=j_(e.controlsVisibility),a=Boolean(t.abuseUrl);return{isCloseAvailable:r&&a,isCloseDialogActive:"selection"===i}}function kn(){return(kn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Vn(){return(Vn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function jn(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Ln(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Mn(){return(Mn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Bn(){return(Bn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Un(e,t){if(null==e)return{};var i,r,a={},n=Object.keys(e);for(r=0;r<n.length;r++)i=n[r],t.indexOf(i)>=0||(a[i]=e[i]);return a}function xn(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Fn(e,t){var i=t.get(e);if(!i)throw new TypeError("attempted to get private field on non-instance");return i.get?i.get.call(e):i.value}function Hn(e,t,i){var r=t.get(e);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(e,i);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=i}return i}function zn(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Wn(e){const t={};for(const i in e)Object(ac.a)(e,i)&&void 0!==e[i]&&(t[i]=e[i]);return t}function Gn(e){if(!Object(Ro.a)(e))return{};const{stickTo:t,stickyColorScheme:i}=e;return Wn({stickTo:Yn(t,gE),stickyColorScheme:Yn(i,_E)})}function Yn(e,t){if("string"!==typeof e)return;if(!Object(Ro.a)(t))return;const i=e.toLowerCase();return ne(t).indexOf(i)>-1?i:void 0}function qn(e,t){const i=t.querySelector('Extension[type="'+e+'"]');return i?D(i):void 0}function Xn(e,t){return"true"===qn(e,t)}function Kn(){return(Kn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Qn(){return(Qn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Jn(e,t,i){var r;const a=[],n=i.querySelector("AdSource");if(!n)throw new Uo.a({code:"VMAP_AD_BREAK_WITHOUT_AD_SOURCE",details:t});let o=vE;if(n.hasAttribute("id")){if(!et(o=Number(n.getAttribute("id"))))throw new Uo.a({code:"INVALID_AD_BREAK_IMP_ID_ATTRIBUTE",details:t})}else a.push(new Uo.a({code:"NO_AD_BREAK_IMP_ID_ATTRIBUTE",details:t}));const s=i.querySelector("Extensions");if(!s)throw new Uo.a({code:"NO_AD_BREAK_EXTENSIONS",details:t});const d=n.querySelector("VASTAdData"),l=null!==(r=null===d||void 0===d?void 0:d.querySelector("VAST"))&&void 0!==r?r:void 0,c=l?cE(l):void 0,u=n.querySelector("AdTagURI"),h=D(u);if(!u||!h)throw new Uo.a({code:"VMAP_AD_SOURCE_WITHOUT_AD_TAG_URI",details:t});const p={adTagURI:h,adFoxParameters:void 0,inlineVast:c},A=i.getAttribute("breakType"),m=C(i,"breakId"),v=C(i,"timeOffset","start"),f=()=>new Uo.a({code:"VMAP_INCORRECT_TIME_OFFSET",details:Qn({},t,{timeOffset:v,breakIdAttribute:m})});if(-1===hE.indexOf(m))throw new Uo.a({code:"VMAP_UNSUPPORTED_AD_BREAK_TYPE",details:Qn({},t,{breakIdAttribute:m})});const b=A===mE,_=function(e,t){switch(e){case pE:return[new Uo.a({code:"LINEAR_AND_NON_LINEAR_ALLOWED_IN_AD_BREAK",details:t})];case AE:case mE:return[];default:throw new Uo.a({code:"INVALID_BREAK_TYPE_ATTRIBUTE",details:t})}}(A,t);if(a.push(..._),b!==gi({adType:m})){if("inroll-overlay"!==m)throw new Uo.a({code:"INCOMPATIBLE_BREAK_TYPE_ATTRIBUTE",details:t});a.push(new Uo.a({code:"INCORRECT_BREAK_TYPE_ATTRIBUTE",details:{adBreakType:m,adBreakTypeAttribute:A}}))}let g;if("inpage"===m)g=function(e){const t=qn("Stick",e),i=Gn({stickTo:qn("StickTo",e),stickyColorScheme:qn("ColorScheme",e)});return Kn({stick:"true"===t,adType:"inpage",replayMode:OE(e)},i)}(s);else if("inroll"===m)g={adType:"inroll"};else if("inroll-overlay"===m)g={adType:"inroll-overlay"};else if("start"===v){if(uE[v]!==m)throw f();g={adType:"preroll"}}else if("end"===v){if(uE[v]!==m)throw f();g={adType:"postroll"}}else{if(!/^\d{2}:\d{2}:\d{2}(\.\d+)?/.test(v))throw f();{if(["midroll","overlay"].indexOf(m)<0)throw f();const e=function(e,t){return Number(qn(e,t))}("MaxRepeatCount",s),t=K(C(i,"repeatAfter")),r={timeOffset:K(v),repeatAfter:isNaN(t)?bE:t,maxRepeatCount:isNaN(e)?fE:e,repeatNumber:0};g=Qn("midroll"===m?{adType:"midroll",broadcastReplace:Xn("BroadcastReplace",s)}:{adType:"overlay"},r)}}return{adBreak:Qn({impId:o},g,e,p),errors:a,events:[]}}function Zn(){return(Zn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function $n(e){let{vmapXmlObject:t,vmapLoadParams:i,vmapAdBreaksConfig:r}=e;const{xml:a,responseText:n}=t,o={responseText:n,vmapLoadParams:i};if(null===a||void 0===a)throw i?new Uo.a({code:"VMAP_EMPTY_RESPONSE",details:Zn({},i,{vmapXmlObject:t})}):new Uo.a({code:"VMAP_IS_EMPTY",details:{vmapXmlObject:t}});const s=a.querySelector("VMAP");if(!s)throw new Uo.a({code:"NO_VMAP_ROOT_NODE",details:o});const d=s.querySelectorAll("AdBreak");if(null===d||0===d.length)throw new Uo.a({code:"NO_VMAP_AD_BREAKS",details:o});const l=new NE,c=a.querySelector("VMAP > Extensions");if(!c)throw new Uo.a({code:"NO_VMAP_EXTENSIONS",details:o});const u=s.querySelectorAll("TrackingEvents");Object(Vs.a)(u);const h=e=>{const t=c.querySelector('Extension[type="'+e+'"]');return t?D(t):""},p=e=>parseInt(h(e),10);l.isSingleVideoSession=(e=>"true"===h(e))("SingleVideoSession");const A={sessionId:h("SessionID"),vastTimeout:p("VASTTimeout"),videoTimeout:p("VideoTimeout"),vpaidTimeout:p("VPAIDTimeout"),wrapperTimeout:p("WrapperTimeout"),wrapperMaxCount:p("WrapperMaxCount"),bufferFullTimeout:p("BufferFullTimeout"),bufferEmptyLimit:p("BufferEmptyLimit")},m=[],v=[];for(let b=0;b<d.length;b++)try{const{adBreak:e,errors:t,events:i}=Jn(Zn({},A,r),o,d[b]);l.adBreaks.push(e),m.push(...t),v.push(...i)}catch(f){m.push(f)}return{vmap:l,errors:m,events:v}}function eo(){return(eo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function to(e){const t=Object(Ro.a)(e)?e:{};return Wn(eo({},Gn(t),{repeat:void 0===t.repeat?void 0:Boolean(t.repeat),vastTimeout:void 0===t.vastTimeout?void 0:Number(t.vastTimeout),wrapperTimeout:void 0===t.wrapperTimeout?void 0:Number(t.wrapperTimeout),wrapperMaxCount:void 0===t.wrapperMaxCount?void 0:Number(t.wrapperMaxCount),bufferFullTimeout:void 0===t.bufferFullTimeout?void 0:Number(t.bufferFullTimeout),bufferEmptyLimit:void 0===t.bufferEmptyLimit?void 0:Number(t.bufferEmptyLimit),videoTimeout:void 0===t.videoTimeout?void 0:Number(t.videoTimeout),vpaidTimeout:void 0===t.vpaidTimeout?void 0:Number(t.vpaidTimeout)}))}function io(){return(io=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function ro(e){let t={};try{const i=e.getItem(wE);null!==i&&(t=JSON.parse(i))}catch(r){}const i={};return Object(wl.a)(t,(e,t)=>{o(e)&&(i[t]=e)}),i}function ao(){return(ao=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function no(){return(no=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function oo(e){if(!Object(Ro.a)(e))return{};const{partnerId:t,category:i,vmapId:r,vmapScenarioId:a,impId:n,videoContentId:o,additionalParams:s,vmap:d,hasPreroll:l}=e;if(void 0!==n&&!et(n))throw new Uo.a({code:"INVALID_CONFIG_IMP_ID_VALUE",details:{config:e}});if(void 0!==r&&!et(r))throw new Uo.a({code:"INVALID_CONFIG_VMAP_ID_VALUE",details:{config:e}});if(void 0!==d&&!Object(ks.a)(d))throw new Uo.a({code:"INVALID_CONFIG_INLINE_VMAP_VALUE",details:{config:e}});if(void 0!==l&&"boolean"!==typeof l)throw new Uo.a({code:"INVALID_CONFIG_HAS_PREROLL_VALUE",details:{config:e}});if(void 0!==a&&!et(a))throw new Uo.a({code:"INVALID_CONFIG_VMAP_SCENARIO_ID_VALUE",details:{config:e}});return no({},function(e){const t=Object(Ro.a)(e)?e:{};return Wn({vmapLoadTimeout:void 0===t.vmapLoadTimeout?void 0:Number(t.vmapLoadTimeout)})}(e),{vmap:d,hasPreroll:l,partnerId:void 0===t?void 0:Number(t),category:void 0===i?void 0:Number(i),impId:n,vmapId:r,vmapScenarioId:a,videoContentId:"string"===typeof o?o:void 0,additionalParams:st(s)})}function so(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function lo(){return(lo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function co(){return(co=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function uo(e){if(!Object(Ro.a)(e))return{config:{},errors:[]};const t={},i=[];if(void 0!==e.adFoxParameters){const a=(r=e.adFoxParameters,Object(Ro.a)(r)?he(r)?void 0===r.containerId||Object(ks.a)(r.containerId)?Object(cs.a)(r.ownerId)?0===r.ownerId.length?"ADFOX_PARAMETERS_OWNER_ID_IS_EMPTY_STRING":void 0:"ADFOX_PARAMETERS_OWNER_ID_IS_NOT_A_STRING":"ADFOX_PARAMETERS_CONTAINER_ID_IS_INVALID":"ADFOX_PARAMETERS_IS_NOT_SERIALIZABLE":"ADFOX_PARAMETERS_IS_NOT_AN_OBJECT");a?i.push(new Uo.a({code:a,details:{adConfig:e}})):t.adFoxParameters=e.adFoxParameters}var r;return{config:t,errors:i}}function ho(){return(ho=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function po(e){if(!Object(Ro.a)(e))return{config:{},errors:[]};const{config:t,errors:i}=uo(e);return{config:ho({},t,oo(e),function(e){if(Object(Ro.a)(e))return{width:void 0===e.width?void 0:String(e.width),height:void 0===e.height?void 0:String(e.height),videoContentId:void 0===e.videoContentId?void 0:String(e.videoContentId),videoContentName:void 0===e.videoContentName?void 0:String(e.videoContentName),videoPublisherId:void 0===e.videoPublisherId?void 0:String(e.videoPublisherId),videoPublisherName:void 0===e.videoPublisherName?void 0:String(e.videoPublisherName),videoGenreId:Array.isArray(e.videoGenreId)?Object(Io.a)(e.videoGenreId,String):void 0===e.videoGenreId?void 0:String(e.videoGenreId),videoGenreName:Array.isArray(e.videoGenreName)?Object(Io.a)(e.videoGenreName,String):void 0===e.videoGenreName?void 0:String(e.videoGenreName),musicArtistId:void 0===e.musicArtistId?void 0:String(e.musicArtistId),musicGenreId:"string"===typeof e.musicGenreId?e.musicGenreId:void 0,musicGenreName:"string"===typeof e.musicGenreName?e.musicGenreName:void 0,tagsList:Array.isArray(e.tagsList)?Object(Io.a)(e.tagsList,String):void 0,extParam:void 0===e.extParam?void 0:String(e.extParam),charset:void 0===e.charset?void 0:String(e.charset),targetRef:void 0===e.targetRef?void 0:String(e.targetRef),distrId:void 0===e.distrId?void 0:String(e.distrId)}}(e),function(e){if(!Object(Ro.a)(e))return;const{metaRequestIndex:t,metaImpIdRequestIndex:i}=e;if(void 0!==t&&!J(t))throw new Uo.a({code:"INVALID_CONFIG_META_REQUEST_INDEX_VALUE",details:{config:e}});if(void 0!==i&&!J(i))throw new Uo.a({code:"INVALID_CONFIG_META_IMP_ID_REQUEST_INDEX_VALUE",details:{config:e}});return{metaRequestIndex:t,metaImpIdRequestIndex:i}}(e),{vastUrl:void 0===e.vastUrl?void 0:String(e.vastUrl),vast:e.hasOwnProperty("vast")&&Object(ks.a)(e.vast)?String(e.vast):void 0,desiredBitrate:B(e.desiredBitrate),secureMode:ME(e),preferableAdSize:jE(e),loadHarmlessVastCallback:Object(ns.a)(e.loadHarmlessVastCallback)?e.loadHarmlessVastCallback:void 0}),errors:i}}function Ao(e){return Object(ks.a)(e)?e:BE}function mo(){return(mo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function vo(){return(vo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function fo(){return(fo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function bo(){return(bo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function _o(e){return!!Object(cs.a)(e)&&GE.indexOf(e)>-1}function go(){return(go=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Oo(e,t){if(null==e)return{};var i,r,a={},n=Object.keys(e);for(r=0;r<n.length;r++)i=n[r],t.indexOf(i)>=0||(a[i]=e[i]);return a}i.r(t);var yo=i(26),Eo=i(16),To=i(15),So=i(39),wo=i(40);const Po=function e(t){return Object(wo.a)(t,(t,i)=>t.concat(Object(So.a)(i)?e(i):i),[])};var Io=i(7),Co=i(8),Do=i(31);const No="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=";var Ro=i(2);const ko=-1,Vo={droppedVideoFrames:ko,corruptedVideoFrames:ko,totalVideoFrames:ko},jo=s({},Vo,{droppedVideoFramesRatio:ko}),Lo=0,Mo={width:0,height:0},Bo={visibility:0,size:Mo,relativeSizeRatio:0,screenSize:Mo,devicePixelRatio:0,downlink:0,videoSlotSize:Mo,videoContentSize:void 0,videoAvatarSize:Mo,videoPixelRatio:ko,videoToDevicePixelRatio:ko,videoFramesInfo:jo,videoSrc:"",videoMuted:!0,videoVolume:Lo,videoCurrentSrc:"",bufferingTime:0,currentTime:0,bufferingTimeRatio:ko,remainingBufferedTime:0,isFullscreen:void 0};var Uo=i(0),xo=i(1),Fo=i(5),Ho=i(27);const zo=Object(Ho.b)(window,"adsdkwithcredentials"),Wo=zo?(""+zo).toLowerCase():void 0,Go="true"===Wo||"false"!==Wo&&void 0,Yo="\x3c!-- Bad partner/domain --\x3e",qo="\x3c!-- PageImp data not found --\x3e";var Xo=i(49),Ko=i(19),Qo=i(9),Jo=i(3),Zo=i(38);const $o=e=>{try{const{left:t,right:i,top:r,bottom:a}=e.getBoundingClientRect();return{left:t,right:i,top:r,bottom:a,width:i-t,height:a-r}}catch(t){return{left:0,width:0,top:0,height:0,right:0,bottom:0}}};var es=i(28),ts=i(13),is=i(77),rs=i(14),as=i(29),ns=i(11),os=i(143),ss=i(32),ds=i(110);const ls=e=>{let{version:t=ss.a,win:i}=e;const r=Object(as.a)(i),a=os.a.ES5,n=""+Object(ds.a)(t)+a+"/proxy_frame.html";return Object(ns.a)(r)?r(n):n};var cs=i(17);let us;const hs=(void 0===(ps=window)&&(ps=window),us||(us=ps.document.createElement("div")),us);var ps;const As=(e,t)=>{const i="undefined"!==typeof hs.style[e];if(i&&t&&Object(cs.a)(t))try{hs.style.cssText=e+": "+t+";";const i=Boolean(hs.style.cssText);return hs.style.cssText="",i}catch(r){return!1}return i};var ms=i(85);const vs={},fs=function(e){return void 0===e&&(e=""),vs[e]||function(e){const t=""+e[0].toUpperCase()+e.slice(1);for(let i=0;i<ms.b.length;i++){const r=ms.b[i],a=r?""+r+t:e;if(As(a))return vs[e]=a}return vs[e]=e}(e)};var bs=i(10);const _s={position:"absolute",width:"100%",height:"100%",left:"0",top:"0"},gs=e=>{const t=u({},e,{RUM_WRAPPER:void 0,AB_FLAGS_STORE:void 0});return encodeURI(JSON.stringify(t))},Os={attributes:{width:"0",height:"0",hidden:""},styles:{display:"none"}},ys={attributes:{hidden:null,width:null,height:null},styles:{display:"block"}},Es=e=>{let{iframe:t,shouldBeVisibleNow:i}=e;const r=i?ys:Os;c(t,r.attributes),l(t,r.styles)};var Ts=i(42);const Ss=yo.a,ws=Object(Ts.a)({propertyName:"VAS_FRAME_GLOBAL_CALLBACK",win:Ss}),Ps=["allow-scripts","allow-popups","allow-popups-to-escape-sandbox","allow-same-origin"].join(" ");var Is=i(55),Cs=i(24);const Ds=e=>(e=>e instanceof Promise||"Promise"===Object(Is.a)(e)&&Boolean(p(()=>Object(Cs.a)(e.constructor))))(e)||(e=>Boolean(p(()=>Object(ns.a)(e.then)&&Object(ns.a)(e.catch))))(e),Ns=e=>{const t=e.data;return!(!Object(Ro.a)(t)||"kill-me"!==t.type)};var Rs=i(30),ks=i(4),Vs=i(6),js=i(12),Ls=i(87);const Ms=5e3;class Bs extends Eo.a{constructor(e,t){var i,r,a;super(),this.port=e,this.commandHandlers=t,a=e=>{const t=Object(rs.a)({element:this.port,eventName:"message",listener:t=>{const{data:i}=t;"command"===i.type&&(this.isEventDataCommandLike(i)?e(i):this.destroy(new Uo.a({code:"VF_DISPATCHER_UNHANDLED_MESSAGE_EVENT",details:{eventData:i}})))}});return this.addDestroyHandler(t),t},(r="listenForCommandEvents")in(i=this)?Object.defineProperty(i,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[r]=a,this.listenForNewCommands(),this.addDestroyHandler(Object(rs.a)({element:e,eventName:"messageerror",listener:()=>{this.destroy(new Uo.a({code:"VF_DISPATCHER_MESSAGE_ERROR",details:{}}))}}))}executeCommand(e,t){const i=Object(Zo.a)(6),r=Object(Do.a)(Ms);r.promise.then(()=>{this.destroy(new Uo.a({code:"VF_DISPATCHER_COMMAND_DETERMINATION_TIMEOUT",details:{name:e,commandId:i}}))}).catch(Rs.a),this.addDestroyHandler(()=>r.clear());const a=this.waitForNextCommandEvent({name:e,id:i}),n=new Promise((t,n)=>{a.then(a=>{if(r.clear(),"success"===a.status)t(a.payload);else if("error"===a.status){const e=a.payload;n(Object(Ls.b)(e))}else{if("abort"===a.status)return;this.destroy(new Uo.a({code:"VF_DISPATCHER_UNHANDLED_COMMAND_STATE",details:{status:a.status,payload:a.payload,name:e,commandId:i}}))}}).catch(n)}),o=Object(js.a)(()=>{this.sendCommand({status:"abort",name:e,id:i,payload:void 0})});return this.sendCommand({status:"start",name:e,id:i,payload:t}),{promise:n,abort:o}}sendCommand(e){try{JSON.stringify(e.payload)}catch(t){return void this.destroy(new Uo.a({code:"VF_DISPATCHER_COMMAND_PAYLOAD_NON_SERIALIZABLE",details:{error:t}}))}try{this.port.postMessage(A({},e,{type:"command"}))}catch(t){0,this.destroy(new Uo.a({code:"VF_DISPATCHER_SEND_ERROR",details:{error:t}}))}}async waitForNextCommandEvent(e){return new Promise(t=>{const i=this.listenForCommandEvents(r=>{r.name===e.name&&r.id===e.id&&(i(),t(r))})})}listenForNewCommands(){this.listenForCommandEvents(e=>{var t;if("start"!==e.status)return;const i=null===(t=this.commandHandlers)||void 0===t?void 0:t[e.name];if(!i)return void this.destroy(new Uo.a({code:"VF_DISPATCHER_NO_SUCH_COMMAND_HANDLER",details:{data:e}}));const r=this.createCommandControlDescriptor(e),a=e.payload;try{i(r,a)}catch(n){0,this.destroy(new Uo.a({code:"VF_DISPATCHER_HANDLER_ERROR",details:{error:n}}))}})}createCommandControlDescriptor(e){const t=new ts.a;let i=!1;return this.waitForNextCommandEvent(e).then(this.ignoreAfterDestroy(r=>{i||"abort"===r.status&&r.id===e.id&&(t.dispatch(void 0),i=!0,t.removeAll())})).catch(Vs.a),{resolve:r=>{if(!i)return i=!0,t.removeAll(),this.sendCommand({status:"success",name:e.name,id:e.id,payload:r})},reject:r=>{if(i)return;i=!0,t.removeAll();const a=Object(Ls.c)(r);return this.sendCommand({status:"error",name:e.name,id:e.id,payload:a})},subscribeForAbort:function(){return i?Vs.a:t.add(...arguments)}}}isEventDataCommandLike(e){return!!Object(Ro.a)(e)&&("command"===e.type&&(!!Object(ks.a)(e.id)&&!!Object(ks.a)(e.status)))}}const Us=Object(bs.a)({abort:0,canplay:0,canplaythrough:0,click:0,durationchange:0,emptied:0,ended:0,error:0,loadeddata:0,loadedmetadata:0,loadstart:0,pause:0,play:0,playing:0,progress:0,ratechange:0,resize:0,seeked:0,seeking:0,suspend:0,timeupdate:0,volumechange:0,waiting:0}),xs=["src","poster"],Fs=Object(bs.a)({src:0,currentTime:0,muted:0,volume:0,playbackRate:0}),Hs=["video/mp4","video/webm"],zs={timeupdate:["currentTime"],durationchange:["duration"],volumechange:["volume","muted"],resize:["videoWidth","videoHeight"],ended:["ended"]},Ws=Object(bs.a)({load:0,play:0,pause:0,setAttribute:0});var Gs=i(53);const Ys=(e,t,i)=>{if(!Object(Ro.a)(e))return e;const r=e,a=t.split("."),n=a.pop();for(const o of a){const t=e[o];e=Object(Ro.a)(t)?t:e[o]={}}return e[n]=i,r};const qs=Object(bs.a)({bubbles:0,cancelable:0,composed:0,defaultPrevented:0,eventPhase:0,isTrusted:0,returnValue:0,timeStamp:0,type:0}),Xs=e=>{return m({},Object(Gs.a)(Object(Io.a)(qs,t=>[t,e[t]])),{target:null})},Ks=new WeakSet;class Qs extends Eo.a{static isVideoNodeLocked(e){return Ks.has(e)}constructor(e){super(),this.params=e,this.subscribeVideoNodeEvents(),Object(Jo.a)("[OutsideApiLocalVideoNode]: set video node initial props"),this.params.handleVideoNodePropertyChange("playableMimeTypes",Object(Gs.a)(Object(Io.a)(Hs,e=>[e,this.params.videoNode.canPlayType(e)]))),Object(Co.a)(Object(bs.a)(zs),e=>{const t=zs[e];Object(Co.a)(t,e=>{this.params.handleVideoNodePropertyChange(e,this.params.videoNode[e])})})}callVideoNodeMethod(e,t){const{videoNode:i}=this.params;if(Object(Ko.a)(Ws,e)){if("setAttribute"===e){const[e,r=""]=t;if(!Object(ks.a)(e))return;return Object(Ko.a)(xs,e)?i.setAttribute(e,r):void xo.c.error({error:new Uo.a({code:"VS_REMOTE_VIDEOTAG_RESTRICTED_ATTR",details:{name:e,value:r}})})}return i[e]()}xo.c.error({error:new Uo.a({code:"VF_REMOTE_VIDEOTAG_UNHANDLED_METHOD_CALL",details:{methodName:e,args:t}})})}setVideoNodeProperty(e,t){const{videoNode:i}=this.params;if(!Object(Ko.a)(Fs,e))return void xo.c.error({error:new Uo.a({code:"VF_INSIDE_FRAME_REMOTE_VIDEO_TAG_PROP_NOT_ALLOWED",details:{propName:e,value:t}})});const r=e,a=i[r];Ys(i,e,t),this.params.handleVideoNodePropertyChange(r,i[r]),this.addDestroyHandler(()=>{Ys(i,e,a)})}subscribeVideoNodeEvents(){const{videoNode:e}=this.params;Object(Co.a)(Us,t=>{this.addDestroyHandler(Object(rs.a)({element:e,eventName:t,listener:e=>{zs.hasOwnProperty(e.type)&&Object(Co.a)(zs[e.type],e=>{this.params.handleVideoNodePropertyChange(e,this.params.videoNode[e])}),setTimeout(this.ignoreAfterDestroy(()=>{const t=Xs(e);this.params.handleVideoNodeEvent(t)}),0)}}))})}}class Js extends Eo.a{constructor(e){super(),this.params=e,v(this,"dispatcher",void 0),v(this,"localVideoNode",void 0),v(this,"vpaidEventBus",new ts.a),v(this,"vpaidGetterPropertyBus",new ts.a),v(this,"dispatcherCommandHandlers",{handleVpaidEvent:(e,t)=>{let{resolve:i}=e,[{eventName:r,args:a}]=t;i(),this.vpaidEventBus.dispatch({eventName:r,args:a})},updateVpaidGetterValue:(e,t)=>{let{resolve:i}=e,[{methodName:r,value:a}]=t;i(),this.vpaidGetterPropertyBus.dispatch({methodName:r,value:a})},handleVideoTagMethodCall:(e,t)=>{let{resolve:i,reject:r}=e,[{methodName:a,args:n}]=t;const o=this.localVideoNode;if(o)try{Object(Jo.a)("[outsideAPI] call video method=["+a+"], args=["+n+"]");const e=o.callVideoNodeMethod(a,n);return Ds(e)?e.then(e=>{i(e)}).catch(r):i(e)}catch(s){this.destroy(new Uo.a({code:"VF_REMOTE_VIDEO_TAG_CALL_ERROR",details:{error:s}}))}else this.destroy(new Uo.a({code:"VF_NO_REMOTE_VIDEOTAG_TO_CALL",details:{}}))},handleVideoTagPropertySet:(e,t)=>{let{resolve:i}=e,[{propName:r,value:a}]=t;i();const n=this.localVideoNode;n?Object(Ko.a)(Fs,r)?(Object(Jo.a)("[outsideAPI] set video property name=["+r+"], value=["+a+"]"),n.setVideoNodeProperty(r,a)):this.destroy(new Uo.a({code:"VF_REMOTE_VIDEOTAG_PROP_SET_NOW_ALLOWED",details:{propName:r,value:a}})):this.destroy(new Uo.a({code:"VF_NO_REMOTE_VIDEOTAG_TO_SET",details:{propName:r,value:a}}))}}),v(this,"handleVideoNodeEvent",e=>{const t=e.type;this.dispatcher.executeCommand("handleVideoTagEvent",[{eventName:t,event:e}])}),v(this,"handleVideoNodePropertyChange",(e,t)=>{Object(Jo.a)("[outsideApi]: change VIDEO node property ["+e+"] remotely to ["+t+"]"),this.dispatcher.executeCommand("handleVideoTagPropertyChange",[{propName:e,value:t}])}),Object(Jo.a)("[outsideApi]: init"),this.addDestroyHandler(e=>{e&&xo.c.error({error:e})}),this.changeFrameVisibility(!1),this.dispatcher=new Bs(e.port,this.dispatcherCommandHandlers),this.addDestroyHandler(()=>this.dispatcher.destroy(void 0)),this.addDestroyHandler(Object(rs.a)({element:e.port,eventName:"message",listener:e=>{if(!Ns(e))return;const{data:t}=e;this.destroy(new Uo.a({code:"VAS_FRAME_FATAL_DESTROY",details:{reason:t.reason}}))}})),this.dispatcher.addDestroyHandler(e=>{this.isDestroyed||(xo.c.error({error:null!==e&&void 0!==e?e:new Uo.a({code:"VF_DISPATCHER_DIED_WITHOUT_REASON",details:{}})}),this.destroy(void 0))}),this.addDestroyHandler(()=>{this.vpaidEventBus.removeAll()})}async doGETRequest(e){Object(Jo.a)("[outsideApi]: start get request");const t=this.dispatcher.executeCommand("doGETRequest",[e]),{responseText:i,responseStatus:r}=await t.promise;return Object(Jo.a)("[outsideApi]: finish get request"),{responseStatus:r,responseText:i}}async loadCreative(e){Object(Jo.a)("[outsideApi]: start loading creative"),await this.dispatcher.executeCommand("loadCreative",[e]).promise,Object(Jo.a)("[outsideApi]: done loading creative")}async initCreative(e){Object(Jo.a)("[outsideApi]: start init creative"),await this.dispatcher.executeCommand("initCreative",e).promise,Object(Jo.a)("[outsideApi]: done init creative")}async callVpaidMethod(e,t){return Object(Jo.a)("[outsideApi]: call VPAID method ["+e+"] remotely with args ["+JSON.stringify(t)+"]"),this.dispatcher.executeCommand("callVpaidMethod",[{methodName:e,args:t}]).promise}changeFrameVisibility(e){const t=this.params.frame;return Object(Jo.a)("[outsideApi]: "+(e?"show":"hide")+" frame"),Es({iframe:t,shouldBeVisibleNow:e})}assignVideoTag(e){let{videoElement:t}=e;if(Qs.isVideoNodeLocked(t))throw Object(Jo.a)("[outsideApi]: oops, video tag is already assigned"),new Error("VAS_FRAME_VIDEOTAG_ASSIGNED_TWICE");Object(Jo.a)("[outsideApi]: assign video tag"),this.localVideoNode=new Qs({videoNode:t,handleVideoNodeEvent:this.handleVideoNodeEvent,handleVideoNodePropertyChange:this.handleVideoNodePropertyChange}),this.addDestroyHandler(()=>{var e;Object(Jo.a)("[outsideApi]: UNassign video tag"),null===(e=this.localVideoNode)||void 0===e||e.destroy(void 0)})}listenRemoteVpaidEvents(e,t){return Object(Jo.a)("[OutsideAPI]: add vpaid event listener eventName=["+e+"]"),this.vpaidEventBus.add(i=>{let{eventName:r,args:a}=i;e===r&&t(r,a)})}listenRemoteVpaidGetterValueChange(e){return this.vpaidGetterPropertyBus.add(t=>{let{methodName:i,value:r}=t;e(i,r)})}}const Zs=async e=>{let{container:t,initAbort:i,initTimeout:r,win:a}=e;const n=Object(Zo.a)(6);xo.c.event({name:"VASFrameInitStart",probability:Fo.a,data:{handshakeID:n}});const o=Date.now();let s=!1;const d=new ts.a;d.add(()=>{s=!0}),i.add(()=>{Object(Jo.a)("[initOutsideApi]: init aborted"),xo.c.event({name:"VASFrameInitAborted",probability:Fo.a,data:{handshakeID:n}}),d.dispatch(void 0)});const u=f({},is.a,{handshakeID:n}),p=(e=>{let{container:t,frameUrl:i,initialData:r}=e;const a=t.ownerDocument.createElement("iframe");return c(a,{name:gs(r),sandbox:Ps,src:i,marginwidth:"0",marginheight:"0",scrolling:"no",frameborder:"no",tabindex:"-1",allowtransparency:"true",hidefocus:"true"}),l(a,h({},_s)),Es({iframe:a,shouldBeVisibleNow:!1}),t.appendChild(a),a})({container:t,frameUrl:ls({win:window}),initialData:u});d.add(()=>{Object(Jo.a)("[initOutsideApi]: remove frame"),Object(es.a)(p)});const A=new MessageChannel;A.port1.start(),d.add(()=>{A.port1.close()});const m=new Promise((e,t)=>{Object(Jo.a)("[initOutsideApi]: wait for frame to load"),p.addEventListener("load",()=>{Object(Jo.a)("[initOutsideApi]: got load event. transfer port"),p.contentWindow.postMessage({type:"init",handshakeID:n},"*",[A.port2]),e()})}),v=new Promise((e,t)=>{const i=Object(rs.a)({element:A.port1,eventName:"message",listener:t=>{const r=t.data;"handshake"===r.type&&r.initialData.handshakeID===n&&(Object(Jo.a)("[initOutsideApi]: got handshake event"),i(),e())}})}),b=Promise.all([m,v]),{promise:_,clear:g}=Object(Do.a)(r);if(_.then(()=>{var e;xo.c.error({error:new Uo.a({code:"VAS_FRAME_INIT_TIMEOUT",details:{frameParentNodeTagName:null===(e=p.parentElement)||void 0===e?void 0:e.tagName,frameBoundingClientRect:$o(p),handshakeID:n}})}),d.dispatch(void 0)}),b.then(()=>{g()}),d.add(()=>{g()}),await Promise.race([b,_]),s)throw new Uo.a({code:"VAS_FRAME_DESTROY_BEFORE_INIT",details:{}});xo.c.values({name:"VASFrameInitSuccess",probability:Fo.a,data:{handshakeID:n},labels:{},values:{timeSpent:Date.now()-o}}),p.removeAttribute("name"),i.removeAll();const O=new Js({port:A.port1,initialData:u,frame:p});return O.addDestroyHandler(()=>{Object(Jo.a)("[initOutsideApi]: do teardown since class destroy"),xo.c.event({name:"VASFrameDestroy",probability:Fo.a,data:{handshakeID:n}}),d.dispatch(void 0)}),O.addDestroyHandler(Object(rs.a)({element:A.port1,eventName:"message",listener:e=>{const t=e.data;Object(Ro.a)(t)&&"destroy"===t.type&&xo.c.error({error:new Uo.a({code:"VAS_FRAME_FATAL_DESTROY",details:{reason:t.reason}})})}})),Object(Jo.a)("[initOutsideApi]: init done"),O},$s=e=>{Object(Jo.a)("[initOutsideApi]: do init"),(e=>ws.call({propertyName:"VAS_FRAME_GLOBAL_CALLBACK",win:Ss,callbackArguments:[{step:e}]}))({name:"before OutsideAPI init call",initParams:e});const{container:t,initTimeout:i}=e,r=new ts.a,a=t.ownerDocument.defaultView;return{initPromise:Zs({container:t,initAbort:r,initTimeout:i,win:a}),abortInit:()=>r.dispatch(void 0)}},ed={idle:["initializing"],initializing:["initialized"]};class td extends Eo.a{constructor(){super(),b(this,"initPromise",void 0),b(this,"state",new Qo.a({name:"idle"},(e,t)=>{const i=ed[e.name];return i&&Object(Ko.a)(i,t.name)||xo.c.error({error:new Uo.a({code:"SINGLE_VAS_FRAME_CLASS_INVALID_TRANSITION",details:{from:e.name,to:t.name}})}),Object(Jo.a)("SingleVASFrame: change state from ["+e.name+"] to ["+t.name+"]"),!1})),b(this,"users",0),Object(Jo.a)("SingleVASFrame: create instance"),this.initPromise=new Promise(e=>{this.state.add(t=>{"initialized"===t.name&&e(t.outsideApi)})}),this.state.add(e=>{"initializing"===e.name&&e.outsideApiInitPromise.then(e=>{this.state.dispatch({name:"initialized",outsideApi:e}),this.addDestroyHandler(()=>{e.destroy(void 0)})}).catch(e=>{this.destroy(e)})})}init(e){Object(Jo.a)("SingleVASFrame: do init");const t=$s(e);this.addDestroyHandler(()=>{t.abortInit()}),this.state.dispatch({name:"initializing",outsideApiInitPromise:t.initPromise})}addUser(){if(this.isDestroyed)throw new Error("SingleVASFrameClassCannotAddUserAfterDestroy");Object(Jo.a)("SingleVASFrame: add user from "+this.users),this.users+=1}removeUser(){Object(Jo.a)("SingleVASFrame: remove users from "+this.users),this.users=Math.max(0,this.users-1),0===this.users&&this.destroy(void 0)}}let id;const rd=()=>(id||(id=new td).addDestroyHandler(()=>{id=void 0}),id),ad=async e=>{const t=rd();return(await t.initPromise).doGETRequest(e)},nd=function(e,t){let i=e[t];if(!Object(Cs.a)(i)){const a=i;try{delete e[t],i=e[t],e[t]=a}catch(r){}}return i}(Object,"create")?Object.create:function(e,t){function i(){}if(i.prototype=e,Object(Ro.a)(t))for(const r in t)t.hasOwnProperty(r)&&(i[r]=t[r]);return new i},od=e=>e instanceof Date||"Date"===Object(Is.a)(e);var sd=i(44);const dd=function e(t,i){void 0===i&&(i={preserveConstructors:!0});let r=t;if(Object(So.a)(t)){return t.map(t=>e(t,i))}return od(t)?new Date(t.getTime()):(!Object(ns.a)(t)&&Object(Ro.a)(t)&&(r=i.preserveConstructors?nd(t):{},Object(sd.a)(t,(t,a)=>{r[a]=e(t,i)})),r)};var ld=i(57);const cd=["nobanner","noad"];var ud=i(63),hd=i(109),pd=i(80),Ad=i(18),md=i(58),vd=i(41),fd=i(135);const bd="client-ts",_d="client-timezone-offset",gd="adsdk-bundle-version",Od="adsdk-bundle-name",yd="adsdk-container-visibility",Ed="adsdk-container-width",Td="adsdk-container-height",Sd="video-avatar-width",wd="video-avatar-height",Pd="ad-session-id",Id="sid",Cd="viewability-undetermined",Dd="top-ancestor",Nd="top-ancestor-undetermined",Rd="video-volume",kd="video-muted",Vd="pcode-active-testids",jd="shyid",Ld="document-has-focus",Md="is-fullscreen",Bd="device-orientation";var Ud=i(25),xd=i(136),Fd=i(52);const Hd=(e,t,i)=>{let r=e.getItem(t);return r||(r=i(t),e.setItem(t,r)),r};var zd=i(75);const Wd=e=>{try{return e()}catch(t){return}},Gd=(e,t,i,r)=>(function(){try{return t.apply(i||this,arguments)}catch(a){if(Object(ns.a)(r)&&r(a),!0===a.preventProtect)throw a;Gd.log(a,e)}});Gd.log=function(e,t){console.log("LOG:"+t+":"+e)},Gd.setTimeout=(e,t,i,r)=>window.setTimeout(Gd("timeout",e,i,r),t);class Yd{}Yd.YaContextCallbacks=O("Ya.C","ontext._callbacks"),Yd.YaContextCallbacksCalls=O("Ya.C","ontext._callbacks_call"),Yd.AdvManager=O("A","dvManager"),Yd.AdvBlock=O("A","dvBlock"),Yd.RTB=O("R","TB"),Yd.Rtb=O("R","tb"),Yd.MetrikaAdtune=O("metrika_a","dtune");class qd{constructor(e){this.obj=e}getItem(e){return this.obj[e]}setItem(e,t){this.obj[e]=t}}const Xd=Object(Fd.a)(()=>((e,t,i)=>{let r;return((e,t)=>{const i=e.slice();for(;i.length;){const e=t(i.shift());if(!e)return;i.push(...e)}})([e.top],e=>{if(!(r=Wd(()=>Object(zd.a)(e,t))))return Wd(()=>Object(ld.a)(e.frames))||[]}),r||(r=i()),Ys(e,t,r),r})(self,"Ya.pcodeCrossFrameData",()=>new qd({}))),Kd=e=>Hd(Xd(),e,()=>new qd({})),Qd=Object(Fd.a)(()=>((e,t,i)=>{let r=Object(zd.a)(e,t);return r||(r=i(),Ys(e,t,r)),r})(self,"Ya.pcodeWindowData",()=>new qd({}))),Jd=e=>Hd(Qd(),e,()=>new qd({})),Zd=Gd("metrika::pushEvent",(e,t)=>{const i=Object(zd.a)(e,"Ya._metrika.dataLayer")||[];Ys(e,"Ya._metrika.dataLayer",i),i.push({ymetrikaEvent:{type:"params",parent:1,data:{__ym:y({},t)}}})}),$d=Gd("sessionId::configureMetrika",(e,t)=>{Zd(e,{adSessionID:t})});var el=i(59);const tl=()=>(1e6*Object(el.a)()).toFixed(0)+(new Date).valueOf().toString();let il;const rl=()=>(il||(il=((e,t,i,r)=>{let a=t.getItem("sessionId");return a||(a=i.getItem("sessionId")||e(),r(window,a)),t.setItem("sessionId",a),i.setItem("sessionId",a),a})(tl,Jd("common"),Kd("common"),$d)),il);var al=i(51);const nl=()=>Object(al.a)(rl)||void 0,ol=e=>{var t;const i=null===(t=e.yandex)||void 0===t?void 0:t.getSiteUid;if(Object(ns.a)(i))return String(i())};var sl=i(137);const dl="adfox.ru",ll=(e,t)=>{for(let i=0;i<e.length;i++)if(t(e[i],i,e))return!0;return!1};var cl=i(20);const ul=[...["localhost","127.0.0.1"].concat([]),...["yandex.ru","yandex.com","yandex.net","yandex.com.tr","yandex.ua","yandex.by","yandex.kz",cl.c,"yandex.st","yandex-team.ru","yandex-team.com","yandex-team.com.ua","yandex-team.net.ua","yandex-team.com.tr","ya.ru","yandexsport.ru"]];var hl=i(146);const pl="function"===typeof IntersectionObserver&&Object(Cs.a)(IntersectionObserver);var Al=i(69);const ml=pl||!Al.a;let vl={ads:[],children:[],xmlString:"",url:void 0};const fl=(e,t,i)=>{const r=C(e,t,i),a=parseInt(r,10);return n(a)?a:i},bl=-1,_l=4;var gl=i(47),Ol=i(129);const yl="ru",El="TranslatorError";class Tl extends gl.a{constructor(){super(...arguments),this.name=El}}const Sl=2147483647;var wl=i(67),Pl=i(46);M({},Pl.a);const Il=M({},Pl.a),Cl=e=>Il[e],Dl=(Vs.a,Vs.a,Vs.a,Vs.a,"TRUE"===Cl("IGNORE_DESIRED_BITRATE_INAPP"));var Nl=i(145);const Rl=Boolean(Nl.a),kl=-1,Vl={adLabel:0,actionButton:0,skip:0,mute:0,play:0,timeline:0,abuse:0,loader:0,disclaimers:0},jl=Object(bs.a)(Vl),Ll=U(Vl,()=>!1),Ml={controlsVisibility:{}},Bl={},Ul=(e=>Object(Cs.a)(e.navigator.sendBeacon))(window);Object(Ts.a)({propertyName:"KNOCK_GLOBAL_CALLBACK_PROPERTY_NAME",win:window});let xl={sequence:0,adId:void 0,creativeId:void 0,parseIndex:0,randomHexString:"",adParameters:"",mediaFiles:[],icons:[],isNonLinear:!1,progressTrackings:[],trackingEvents:{},clickThrough:"",abuseUrl:"",duration:0,isClickable:!0,isNotReplacedBroadcastAd:!1};let Fl={showCountDown:!0,showSoundButton:!0,showLabel:!0};const Hl=e=>({src:D(e.querySelector("StaticResource")),program:C(e,"program"),xPosition:fl(e,"xPosition",0),yPosition:fl(e,"yPosition",0),width:fl(e,"width",0),height:fl(e,"height",0)}),zl=(e,t,i)=>{i&&"string"===typeof t&&(e.trackingEvents[t]=[...e.trackingEvents[t]||[],i])};let Wl;const Gl=function(e,t){let{isYandexVastUrl:i}=void 0===t?{}:t;const r=e.querySelector("VideoClicks"),a=e.querySelectorAll("MediaFile"),n=e.querySelector("Linear"),o=e.querySelector("NonLinear"),s=e.querySelector("NonLinearClickThrough"),d=e.querySelector("TrackingEvents"),l=d?d.querySelectorAll("Tracking"):[],c=Object(ld.a)(e.querySelectorAll("Impression")),u=e.querySelectorAll("Error"),h=e.querySelector("Extensions"),p=e.querySelector("Description"),A=e.querySelectorAll("Icons Icon"),m=e.querySelector("AdParameters"),v=e.querySelector("AdSystem"),f=e.querySelector("AdTitle"),b=e.querySelector("Creative"),_=Object(ks.a)(e.id)?e.id:void 0,g=dd(xl,{preserveConstructors:!1});g.adId=_,b&&(g.creativeId=Object(ks.a)(b.id)?b.id:void 0),g.parseIndex=void 0===Wl?Wl=0:++Wl,g.randomHexString=Object(Zo.a)(16);const O=e.querySelector("InLine"),y=e.querySelector("Wrapper"),E=Boolean(O);if(E===Boolean(y)){if(E)throw new Uo.a({code:i?"YANDEX_INLINE_AND_WRAPPER_NODE_IN_ONE_AD_SECTION":"INLINE_AND_WRAPPER_NODE_IN_ONE_AD_SECTION",details:void 0});throw new Uo.a({code:i?"YANDEX_NO_INLINE_OR_WRAPPER_NODE":"NO_INLINE_OR_WRAPPER_NODE",details:void 0})}if(g.sequence=function(e){const t=e.getAttribute("sequence");if(null===t)return bl;const i=parseInt(t,10);return J(i)?i:(xo.c.error({error:new Uo.a({code:"INCORRECT_VAST_AD_SEQUENCE_ATTRIBUTE",details:{sequenceAttr:t}})}),bl)}(e),E&&m){const e=D(m);g.adParameters=e;const t=R(e);if(Object(Ro.a)(t)){g.adParametersObject=t;const e=function(e){if(!Object(Ro.a)(e))return;const{AUCTION_DC_PARAMS:t}=e;if(!Object(Ro.a)(t))return;const{data_params:i}=t;if(!Object(Ro.a)(i))return;const{misc:r}=i;if(!Object(Ro.a)(r))return;const{click_url:a}=r;if(!Object(Ro.a)(a))return;const{abuse:n}=a;return Object(ks.a)(n)?n:void 0}(t);e&&(g.abuseUrl=e),g.playbackAdParameters=W(t.playbackParameters).config;const i=function(e){if(!Object(Ro.a)(e))return;const{background:t}=e;return Object(Ro.a)(t)&&Object(ks.a)(t.color)?t.color:void 0}(t);void 0!==i&&(g.backgroundColor=i);const r=function(e){const{PACKSHOT_START_NOTICE_URL:t}=e;if(Object(ks.a)(t))return t}(t);r&&zl(g,"packshotStart",r)}}if(y){const t=D(e.querySelector("VASTAdTagURI"));if(!t)throw new Uo.a({code:i?"YANDEX_NO_VAST_AD_TAG_URI":"NO_VAST_AD_TAG_URI",details:void 0});g.vastAdTagUri=t}if(void 0!==a)for(let T=0;T<a.length;T++){const e=k(a[T]);e&&g.mediaFiles.push(e)}if(r){const e=D(r.querySelector("ClickThrough"));e&&(g.clickThrough=e)}if(r){const e=r.querySelectorAll("ClickTracking");for(let t=0;t<e.length;t++)zl(g,"clickThrough",D(e[t]))}for(let T=0;T<l.length;T++){const e=C(l[T],"event"),t=D(l[T]);if("progress"===e){const e=C(l[T],"offset",""),r=Q(e);void 0!==r?g.progressTrackings.push({urls:[t],offset:r}):xo.c.error({error:new Uo.a({code:i?"YANDEX_VAST_INCORRECT_PROGRESS_OFFSET":"VAST_INCORRECT_PROGRESS_OFFSET",details:{url:t,offsetString:e}})})}else zl(g,e,t)}Object(Co.a)(c,e=>{zl(g,"impression",D(e))});for(let T=0;T<u.length;T++)zl(g,"error",D(u[T]));for(let T=0;T<A.length;T++)g.icons.push(Hl(A[T]));if(h){const e=h.querySelectorAll('Extension[type="skipAd"]');for(let l=0;l<e.length;l++)xo.c.event({name:"UsingSkipAdExtensionInVast",probability:Fo.a,data:void 0}),zl(g,"skip",D(e[l]));const t=h.querySelector('Extension[type="skipTime"]');if(N(t)){const e=K(D(t));xo.c.event({name:"UsingSkipTimeExtensionInVast",probability:Fo.a,data:{skipTime:e}}),g.skipTime=K(D(t)),g.skipTime>180&&(g.skipTime=0)}const i=h.querySelector('Extension[type="controls"]');i&&(g.imhoParams=(e=>{const t=Z({},Fl),i=e.querySelector('control[id="countdown"]');i&&(t.showCountDown="0"!==C(i,"layout"));const r=e.querySelector('control[id="soundbtn"]');r&&(t.showSoundButton="0"!==C(r,"layout"));const a=e.querySelector('control[id="adlabel"]');return a&&(t.showLabel="0"!==C(a,"layout")),t})(i));const r=h.querySelector('Extension[type="isClickable"]');N(r)&&(g.isClickable="0"!==D(r)),h.querySelector('Extension[type="broadcastAdNotReplaced"]')&&(g.isNotReplacedBroadcastAd=!0);const a=h.querySelector('Extension[type="backgroundBlur"]');N(a)&&(g.backgroundBlur="1"===D(a));const n=h.querySelector('Extension[type="OutstreamEndScreen"]');n&&(g.endScreenParams=(e=>{const t={randomBackgrounds:[]},i=e.querySelector("RandomBackgrounds");if(i){const e=i.querySelectorAll("Background");for(let i=0;i<e.length;i++){const r=C(e[i],"src");Object(ks.a)(r)&&t.randomBackgrounds.push(r)}}return t})(n));const o=h.querySelector('Extension[type="CustomTracking"]'),s=o?o.querySelectorAll("Tracking"):[];for(let l=0;l<s.length;l++){const e=C(s[l],"event");zl(g,e,D(s[l]))}const d=h.querySelector('Extension[type="isIndependentOnVideoElement"]');N(d)&&(g.isIndependentOnVideoElement="1"===D(d))}if(N(p)&&(g.description=D(p)),N(v)&&(g.adSystem=D(v)),N(f)&&(g.adTitle=D(f)),n){const e=C(n,"skipoffset","").trim();if(""!==e){const t=K(e);isNaN(t)?X(new Uo.a({code:i?"YANDEX_INCORRECT_SKIPOFFSET_FORMAT":"INCORRECT_SKIPOFFSET_FORMAT",details:{nodeValue:e}}),g.trackingEvents.error):g.skipOffset=t}const t=n.querySelector("Duration");t&&(g.duration=K(D(t)))}if(o){if(g.isNonLinear=!0,s){const e=D(s);e&&(g.clickThrough=e)}g.mediaFiles=Object(To.a)([V(o)],Boolean)}return g},Yl=async e=>{const t="YANDEX"===e.loadParameters.vastSourceType,{xmlString:i,xmlVastNode:r}=e,a=r.getAttribute("version");if(!function(e){if(!Boolean(e))return!0;if(!Object(cs.a)(e))return!1;const t=Number(e.split(".")[0]);return!!o(t)&&t<=_l}(a))throw new Uo.a({code:t?"YANDEX_INCOMPATIBLE_VAST_VERSION":"INCOMPATIBLE_VAST_VERSION",details:{xmlString:i,version:a}});const n=Object(ld.a)(r.querySelectorAll("VAST Ad"));if(0===n.length)return dd(vl,{preserveConstructors:!1});const s=[],d=Object(Io.a)(n,i=>{const r=Gl(i,{isYandexVastUrl:t}),{vastAdTagUri:a}=r;if(!a)return[r];if(e.loadParameters.wrapperMaxCount<=1)return xo.c.error({error:new Uo.a({code:t?"YANDEX_WRAPPER_MAX_COUNT_LIMIT":"WRAPPER_MAX_COUNT_LIMIT",details:void 0})}),[];const{adPlacementOptions:n,wrapperTimeout:o}=e.loadParameters,d=Object(Do.a)(o),l=d.promise.then(()=>(xo.c.error({error:new Uo.a({code:t?"YANDEX_WRAPPER_LOAD_TIMEOUT":"WRAPPER_LOAD_TIMEOUT",details:{wrapperTimeout:o,vastAdTagUri:a,parsingParameters:e.loadParameters}})}),[])),c=$l({url:w({url:a,options:n,win:window}),loadParameters:$({},e.loadParameters,{wrapperMaxCount:e.loadParameters.wrapperMaxCount-1})}).then(e=>(d.clear(),s.push(e),Object(Io.a)(e.ads,e=>(((e,t)=>{t.mediaFiles.length&&(e.mediaFiles=[...e.mediaFiles,...t.mediaFiles]),Object(Co.a)(Object(bs.a)(t.trackingEvents),i=>{e.trackingEvents[i]=[...e.trackingEvents[i]||[],...t.trackingEvents[i]||[]]}),e.clickThrough||(e.clickThrough=t.clickThrough),null===e.skipTime&&(e.skipTime=t.skipTime),null===e.skipOffset&&(e.skipOffset=t.skipOffset),e.isClickable=e.isClickable||t.isClickable,e.progressTrackings.push(...t.progressTrackings),isNaN(e.duration)&&(e.duration=t.duration),e.sequence===bl&&(e.sequence=t.sequence),t.isNotReplacedBroadcastAd&&(e.isNotReplacedBroadcastAd=!0),!1!==e.backgroundBlur&&"boolean"===typeof t.backgroundBlur&&(e.backgroundBlur=t.backgroundBlur),t.endScreenParams&&(e.endScreenParams?((e,t)=>{e.randomBackgrounds.push(...t.randomBackgrounds)})(e.endScreenParams,t.endScreenParams):e.endScreenParams=t.endScreenParams),e.adSystem||(e.adSystem=t.adSystem),t.isIndependentOnVideoElement&&(e.isIndependentOnVideoElement=!0)})(e,r),e)))).catch(i=>(xo.c.error({error:new Uo.a({code:t?"YANDEX_WRAPPER_LOAD_ERROR":"WRAPPER_LOAD_ERROR",details:{error:i,vastAdTagUri:a,parsingParameters:e.loadParameters}})}),[]));return Promise.race([l,c])}),l=_(await Promise.all(d)),[c,u]=g(l,e=>e.isNonLinear),h=u.length>0;return h&&c.length>0&&xo.c.error({error:new Uo.a({code:t?"YANDEX_LINEAR_AND_NONLINEAR_IN_SINGLE_VAST":"LINEAR_AND_NONLINEAR_IN_SINGLE_VAST",details:void 0})}),{ads:h?u:c,xmlString:i,children:s,url:e.vastUrl}},ql=async e=>{const{xmlString:t}=e,i=I(t),r="YANDEX"===e.loadParameters.vastSourceType;if(!i)throw new Uo.a({code:r?"YANDEX_INVALID_VAST_XML":"INVALID_VAST_XML",details:{xmlString:t}});const a=i.querySelector("VAST");if(!a){const e=r?"YANDEX_NO_AD_CUSTOM_MARKER":"NO_AD_CUSTOM_MARKER",a=r?"YANDEX_VAST_TAG_NOT_FOUND":"VAST_TAG_NOT_FOUND";throw new Uo.a({code:cd.indexOf(P(i))>-1?e:a,details:{xmlString:t}})}return Yl($({},e,{xmlVastNode:a}))},Xl=async(e,t)=>{let i;try{await new Promise((r,a)=>{t&&t.then(r,a),i=window.setTimeout(r,e)})}finally{window.clearTimeout(i)}};var Kl=i(37);const Ql=e=>{let{url:t,data:i,withCredentials:r=!0}=e;return new Promise((e,a)=>{const n=new XMLHttpRequest;n.open("GET",t),n.withCredentials=r,n.onerror=()=>a({reason:"error",error:new Error("XHR Error["+n.status+"]["+n.statusText+"]["+t+"]")}),n.onreadystatechange=(e=>{let{xhr:t,resolve:i}=e;return()=>{if(4!==t.readyState)return;const{status:e}=t;if(0===e)return;const{responseText:r}=t;i({responseText:r,responseStatus:e})}})({xhr:n,resolve:e});try{n.send(i)}catch(o){o.message="XHR Send Error["+o.message+"]["+t+"]",a({reason:"error",error:o})}})},Jl=e=>{let{thrownError:t,errorCode:i,errorDetails:r,timeoutCode:a,timeoutDetails:n}=e;const o=t;if("string"===typeof o.reason&&Object(Ro.a)(o.error)){const{error:e,reason:t}=o;if("error"===t)return new Uo.a(e,{code:i,details:r});if("timeout"===t)return new Uo.a(e,{code:a,details:n})}return new Uo.a(t,{code:i,details:r})},Zl=async e=>{let{url:t,loadParameters:i}=e;const{vastTimeout:r}=i,a=S(t),n="VASFrame"===i.requestMethod?ad:Ql,o="boolean"!==typeof Go||Go;try{const{responseText:e,responseStatus:s}=await te({url:t,data:null,timeout:r,doRequest:n,withCredentials:o}),d=function(e,t,i){if(200!==t)switch(e){case Yo:return"BAD_PARTNER_OR_DOMAIN_FOR_VAST_REQUEST";case qo:return"BAD_IMP_ID_FOR_VAST_REQUEST";default:return i?"YANDEX_INVALID_VAST_RESPONSE_STATUS":"INVALID_VAST_RESPONSE_STATUS"}}(e,s,a);if(d)throw new Uo.a({code:d,details:{url:t,responseText:e,responseStatus:s}});return ql({xmlString:e,loadParameters:i,vastUrl:t})}catch(s){const e="AD_FOX"===i.vastSourceType;let n;n=Object(Xo.a)(s)?s.code:e?"ADFOX_VAST_LOAD_ERROR":a?"YANDEX_VAST_LOAD_ERROR":"VAST_LOAD_ERROR";const o=Jl({thrownError:s,errorCode:n,errorDetails:void 0,timeoutCode:a?"YANDEX_VAST_LOAD_TIMEOUT":"VAST_LOAD_TIMEOUT",timeoutDetails:{vastTimeout:r,url:t}});return Promise.reject(o)}},$l=async e=>{let{url:t,loadParameters:i}=e;if(!t)return Promise.reject(new Uo.a({code:"VAST_URL_IS_NOT_DEFINED",details:void 0}));const{vastTimeout:r}=i;xo.c.event({name:"VastLoadStart",probability:Fo.a,data:{url:t,loadParameters:i,timeout:r}});const a=Date.now(),n=await Zl({url:t,loadParameters:i});return xo.c.values({name:"VastLoadSuccess",probability:Fo.a,data:{url:t,timeout:i.vastTimeout,vast:n},labels:{},values:{adsCount:n.ads.length,timeSpent:Date.now()-a}}),n},ec={bids:[],creatives:{},creativeUrls:{}};var tc=i(98);const ic=100,rc=(e,t)=>{for(let i=0;i<e.length;i++)if(!t(e[i],i,e))return!1;return!0};var ac=i(73);class nc extends Eo.a{constructor(e,t,i){super(),this.adFoxParameters=e,this.adBreak=t,this.win=i,de(this,"requestPromise",void 0),de(this,"onFetchBidsStart",new ts.a),de(this,"postMessageRequestId",vd.a+"_"+Object(Zo.a)(16)),this.addDestroyHandler(()=>{this.onFetchBidsStart.removeAll()}),this.requestPromise=new Promise(e=>{this.addDestroyHandler(e)}),this.requestBids()}requestBids(){xo.c.event({name:"HBRequestStart",data:this.getDataForLogs()}),this.subscribeHBMessages(),this.sendBidsRequest().then(async e=>{let{timeout:t}=e;xo.c.event({name:"HBFetchBidsStart",data:se({},this.getDataForLogs(),{timeout:t})});const{clear:i,promise:r}=Object(Do.a)(t);throw this.addDestroyHandler(i),await r,new Uo.a({code:"HB_FETCH_BIDS_TIMEOUT",details:se({},this.getDataForLogs(),{timeout:t})})}).catch(e=>{xo.c.errorToStats(e),this.destroy(ec)})}subscribeHBMessages(){this.addDestroyHandler(Object(rs.a)({element:this.win,eventName:"message",listener:e=>{const{data:t,source:i}=e;if(!Object(Ro.a)(t)||!Object(Ro.a)(i))return;const{id:r,methodName:a}=t;if(r===this.postMessageRequestId)switch(a){case"FetchBidsStart":this.handleFetchBidsStartEventData(t.data);break;case"FetchBidsComplete":this.handleFetchBidsCompleteEventData(t.data);break;case"FetchBids":break;default:xo.c.error({error:new Uo.a({code:"HB_MESSAGE_UNKNOWN_METHOD",details:se({},this.getDataForLogs(),{methodName:a})})})}}}))}handleFetchBidsStartEventData(e){if(!Object(Ro.a)(e))return void xo.c.error({error:new Uo.a({code:"HB_MESSAGE_NON_OBJECT_DATA",details:this.getDataForLogs()})});const{timeout:t}=e;o(t)?this.onFetchBidsStart.dispatch({timeout:t}):xo.c.error({error:new Uo.a({code:"HB_MESSAGE_INVALID_START_TIMEOUT",details:se({},this.getDataForLogs(),{timeout:t})})})}handleFetchBidsCompleteEventData(e){try{const{bids:t,creatives:i,creativeUrls:r,warnings:a}=function(e,t){const i=[];if(!Array.isArray(e))throw new Uo.a({code:"HB_NON_ARRAY_BIDS_DATA",details:oe({},t,{fetchedBids:e})});e.length>1&&i.push(new Uo.a({code:"HB_EXTRA_BIDS_DATA",details:oe({},t,{fetchedBids:e})}));const[r]=e;if(!Object(Ro.a)(r))throw new Uo.a({code:"HB_NON_OBJECT_BIDS_DATA",details:oe({},t,{fetchedBids:e})});const{bids:a,creatives:n,creativeUrls:o}=r;if(!Array.isArray(a)||!rc(a,Ro.a))throw new Uo.a({code:"HB_INVALID_BIDS_OBJECTS",details:oe({},t,{fetchedBids:e})});if(!Object(Ro.a)(n)||!rc(ne(n),cs.a))throw new Uo.a({code:"HB_BIDS_INVALID_CREATIVES",details:oe({},t,{fetchedBids:e})});if(!Object(Ro.a)(o)||!rc(ne(o),cs.a))throw new Uo.a({code:"HB_BIDS_INVALID_CREATIVE_URLS",details:oe({},t,{fetchedBids:e})});return{bids:a,creatives:n,creativeUrls:o,warnings:i}}(e,this.getDataForLogs()),n={bids:t,creatives:i,creativeUrls:r};ie(a),xo.c.event({name:"HBFetchBidsComplete",data:se({},this.getDataForLogs(),{fetchedBidsObject:n})}),this.destroy(n)}catch(t){xo.c.errorToStats(t)}}sendBidsRequest(){const e=Object(tc.a)(this.win),t={id:this.postMessageRequestId,methodName:"FetchBids",data:[{containerId:this.adFoxParameters.containerId,adBreakType:this.adBreak.adType}]};for(const a of e)ae(se({win:a},t));const{promise:i,clear:r}=Object(Do.a)(ic);return this.addDestroyHandler(r),new Promise((e,t)=>{i.then(()=>{const{promise:e,teardown:t}=function(e){let t;const i=Math.random(),r=new Promise(r=>{t=Object(rs.a)({element:e,eventName:"message",listener:e=>{let{data:a}=e;a===i&&(t(),r())}}),e.postMessage(i,"*")});return{teardown:t,promise:r}}(this.win);return this.addDestroyHandler(t),e}).then(()=>{t(new Uo.a({code:"HB_HANDSHAKE_TIMEOUT",details:this.getDataForLogs()}))}).catch(t);const a=re(t=>{r(),e(t)},e=>{xo.c.error({error:new Uo.a({code:"HB_START_MULTIPLE_TIMES",details:se({},this.getDataForLogs(),{data:e})})})});this.addDestroyHandler(this.onFetchBidsStart.add(a))})}getDataForLogs(){return{adBreak:this.adBreak,adFoxParameters:this.adFoxParameters,postMessageRequestId:this.postMessageRequestId}}}const oc={Unsafe:0,Safe:0,ForceSafe:0,OnlyYandexCreatives:0},sc=Object(bs.a)(oc),dc=Object(Ho.b)(window,"adsdksecuremode"),lc=dc&&Object(Ko.a)(sc,dc)?dc:void 0,cc=e=>{let{secureMode:t,url:i}=e;const r=null!==lc&&void 0!==lc?lc:t;return"ForceSafe"===r||"Safe"===r&&(!i||!S(i))},uc=["yandex.ru","yandex.com","yandex.net","yandex.com.tr","yandex.ua","yandex.by","yandex.kz","yandex.st","yandex-team.ru","yandex-team.com","yandex-team.com.ua","yandex-team.net.ua","yandex-team.com.tr","ya.ru","yandexsport.ru"],hc=(Ae(),function(e){return void 0===e&&(e=window),e.devicePixelRatio||e.screen.deviceXDPI&&e.screen.deviceXDPI/e.screen.logicalXDPI||1});var pc=i(71);const Ac=function(e){return void 0===e&&(e=window),"BackCompat"===e.document.compatMode};var mc,vc;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.ETHERNET=1]="ETHERNET",e[e.WIFI=2]="WIFI",e[e.CELL_2G=3]="CELL_2G",e[e.CELL_3G=4]="CELL_3G"}(mc||(mc={})),function(e){e.BLUETOOTH="bluetooth",e.CELLULAR="cellular",e.ETHERNET="ethernet",e.MIXED="mixed",e.NONE="none",e.OTHER="other",e.UNKNOWN="unknown",e.WIFI="wifi",e.WIMAX="wimax"}(vc||(vc={}));const fc=e=>Math.max(0,Math.round(e));class bc{constructor(){this.config=fe()}set(e,t){this.config[e]=t}get(e){return this.config[e]}toString(){return JSON.stringify(this.config)}}let _c=0;const gc=()=>_c,Oc=(e,t)=>{const i=e.toString();return"0000".substr(0,t-i.length)+i},yc=e=>{return e.getFullYear()+"-"+Oc(e.getMonth()+1,2)+"-"+Oc(e.getDate(),2)+"T"+Oc(e.getHours(),2)+":"+Oc(e.getMinutes(),2)+":"+Oc(e.getSeconds(),2)+"."+Oc(e.getMilliseconds(),3)+(e=>{const t=-e.getTimezoneOffset();return""+(t>=0?"+":"-")+Oc(Math.floor(Math.abs(t)/60),2)+":"+Oc(Math.abs(t)%60,2)})(e)},Ec=()=>(function(e,t){let i=e+Object(el.a)()*(t+1-e);return i=Math.floor(i)})(1,4294967295),Tc=(e,t)=>{let i=[];try{i=e.cookie?e.cookie.split("; "):[]}catch(n){}const r=/(%[0-9A-Z]{2})+/g;let a;for(let o=0;o<i.length;o++){const e=i[o].split("="),s=e.slice(1).join("=");try{const i=e[0].replace(r,decodeURIComponent);if(s.replace(r,decodeURIComponent),t===i){a=decodeURIComponent(s);break}}catch(n){return}}return a};let Sc=0;const wc=e=>{let{win:t,date:i=new Date,pr1:r,pr:a,testtag:n,isTurbo:o=pe(t),addsSsSkipToken:s=!1,layoutConfig:d=new bc,cookies:l,loaderVer:c,bundleVer:u,adSessionId:h,location:p,extid_loader:A,extid_tag_loader:m}=e;d.set("req_no",(()=>Sc++)()),d.set("ad_no",be());const v=ye({},(e=>{let{win:t,pr:i,date:r=new Date,pr1:a=Ec(),location:n,extid_loader:o,extid_tag_loader:s}=e;const d=Ae(t)&&t.context&&t.context.sourceUrl||void 0,l=d||t.document.referrer;return{dl:d||n||_e(t),date:yc(r),pd:r.getDate(),pdh:t.screen.height,pdw:t.screen.width,pr1:a,pr:i,prr:l,pv:r.getHours(),pw:r.getDay(),extid_loader:void 0===o?ge(t):o,extid_tag_loader:void 0===s?Oe(t):s}})({win:t,date:i,pr1:r,pr:a,location:p,extid_loader:A,extid_tag_loader:m}),{ylv:"0."+(c||"1"),ybv:"0."+(u||"1"),ytt:n?n.toString():"","is-turbo":Number(o),"skip-token":me(),"ad-session-id":h||rl(),"layout-config":d.toString(),"enable-flat-highlight":1},l);return s&&(v["ss-skip-token-length"]=20,v["allow-repeat-ads"]=0),v},Pc=2048,Ic=[/avito/],Cc=["slide","visibleAfterInit","insertAfter","insertPosition","stick","stickTo","stickyColorScheme","replayMode","preload"],Dc=["an.ya","ndex.ru/adf","ox"].join(""),Nc="TRUE"===Cl("REQUEST_ADFOX_FROM_YANDEX_RU")&&!is.a.LOADER_LOADED_FROM_AN_YANDEX_RU?cl.b+"/an/adfox":cl.a+"/adfox";class Rc extends Eo.a{constructor(e){super(),this.params=e,Ne(this,"loadVastPromise",void 0),Ne(this,"loadingTimeoutPromise",void 0);const{promise:t,clear:i}=Object(Do.a)(this.params.adBreak.vastTimeout);this.loadingTimeoutPromise=t,this.addDestroyHandler(i),this.loadVastPromise=this.processAdFoxVastLoading().catch(e=>{throw xo.c.errorToStats(e),this.destroy(),e})}async processAdFoxVastLoading(){var e;const{adConfig:t,adBreak:i,adPlacementOptions:r}=this.params;let{adFoxParameters:a}=t;const{bids:n,containerId:o}=a;if(!n&&o){const e=new nc(De({},a,{containerId:o}),i,window);this.addDestroyHandler(()=>{e.destroy(ec)});const r=await Promise.race([e.requestPromise,this.loadingTimeoutPromise.then(()=>{throw new Uo.a({code:"HB_VAST_LOAD_TIMEOUT",details:{adConfig:t,adBreak:i,timeout:i.vastTimeout}})})]);a=De({},a,r)}const s=await Promise.race([Ce({adFoxParameters:a,adPlacementOptions:r,secureMode:t.secureMode}),this.loadingTimeoutPromise.then(()=>{throw new Uo.a({code:"ADFOX_AD_DATA_LOADING_TIMEOUT",details:{adConfig:t,adBreak:i,adFoxParameters:a}})})]),{vastBase64:d}=s;if(d){const e=await this.processBase64Vast(d).catch(e=>{throw new Uo.a({code:"ADFOX_VAST_BASE64_LOAD_ERROR",details:{adConfig:t,adBreak:i,vastBase64:d,error:e}})});return xo.c.event({name:"AdFoxVastLoadedUsingHB",data:{adConfig:t,adBreak:i,vast:e}}),this.destroy(),e}const l=await this.processLoadingHBCreativeUsingCampaignId(a,s),c=Object(To.a)(null!==(e=a.bids)&&void 0!==e?e:[],e=>""+(e.campaign_id||"")===s.campaignId);return Object(Co.a)(c,e=>{let{win_notice:t}=e;t&&Object(Co.a)(l.ads,e=>{e.trackingEvents.creativeView||(e.trackingEvents.creativeView=[]),e.trackingEvents.creativeView.push(t)})}),xo.c.event({name:"AdFoxVastLoaded",data:{adConfig:t,adBreak:i,vast:l}}),this.destroy(),l}processLoadingHBCreativeUsingCampaignId(e,t){let{campaignId:i}=t;const{adConfig:r,adBreak:a}=this.params,{creatives:n={},creativeUrls:o={}}=e,s=n[i],d=o[i];if(!s&&!d)throw new Uo.a({code:"HB_CREATIVE_IS_NOT_FOUND",details:{adConfig:r,adBreak:a,adFoxParameters:e,campaignId:i}});return s?this.processBase64Vast(s).catch(e=>{throw new Uo.a({code:"HB_VAST_BASE64_LOAD_ERROR",details:{adConfig:r,adBreak:a,vastBase64:s,error:e}})}):$l({url:d,loadParameters:yi({adConfig:r,adBreak:a,isAdFox:!0,adPlacementOptions:Bo})}).catch(e=>{throw new Uo.a({code:"HB_VAST_URL_LOAD_ERROR",details:{adConfig:r,adBreak:a,vastUrl:d,error:e}})})}processBase64Vast(e){let t;try{t=a(e)}catch(i){throw new Uo.a({code:"ADFOX_VAST_BASE64_PARSING_ERROR",details:{error:i}})}return ql({xmlString:t,loadParameters:yi({adConfig:this.params.adConfig,adBreak:this.params.adBreak,isAdFox:!0,adPlacementOptions:Bo}),vastUrl:void 0})}}var kc=i(76);const Vc=kc.a+"/1_0",jc="https://"+cl.c+"/"+Vc+"/",Lc="https://"+cl.b+"/ads/system/",Mc={AdSDKLoader:"adsdk",VpaidPlayerLoader:"interactive_viewer"},Bc=""+jc+(Mc.VpaidPlayerLoader+".js"),Uc=Object(Ho.b)(window,"adsdknovastconvertation"),xc="https://"+cl.c+"/"+Vc+"/ad_creative.js",Fc={MotionTGO:xc,InteractiveElementsAdCreative:xc,ThemeEmpty:xc,Survey:xc},Hc={Overlay:"overlay-creative/javascript",Motion:"motion-creative/javascript",VpaidCreative:"vpaid-creative/javascript",Survey:"survey-creative/javascript"},zc=ke({},Mo,{bitrate:0});const Wc=U(i(142).a,e=>"https://"+cl.c+"/"+Vc+"/"+e+".js"),Gc=function(e){const t={};return Object(sd.a)(e,(e,i)=>{t[e]=i}),t}(Wc),Yc=Ve({},zc,{url:Wc.InteractiveElementsAdCreative,type:Hc.Motion}),qc={MotionTGO:"motion",InteractiveElementsAdCreative:"interactiveViewer",ThemeEmpty:"themeEmpty",Survey:"survey"};var Xc=i(107);const Kc="https://"+cl.c+"/"+kc.a+"/1_0/vpaid-motion.js",Qc="https://"+cl.c+"/pcode/media/vpaid-motion.js",Jc="https://"+cl.a+"/system/video-ads-sdk/vpaid-motion.js",Zc=Object(ds.a)(Xc.a)+"vpaid-motion.js",$c=[Kc,Qc,Jc,Zc],eu="https://"+cl.c+"/pcode/media/vpaid-creative.js",tu="https://"+cl.c+"/"+kc.a+"/1_0/vpaid-creative.js",iu=[eu,tu];var ru=i(112);const au=["application/javascript","application/x-javascript"],nu=Me({},zc,{type:"application/x-javascript"}),ou=Be({url:xc},nu),su=Ue({},zc,{url:Wc.MotionTGO,type:Hc.Motion}),du=xe({},zc,{url:Wc.Survey,type:Hc.Survey}),lu=Fe({},zc,{url:Wc.ThemeEmpty,type:Hc.VpaidCreative});const cu=["https://"+cl.c+"/pcode/media/vpaid-pythia-survey-embed.js"],uu="video-banner_survey",hu=e=>{const{mediaFiles:t}=e;return Array.isArray(t)&&ll(t,e=>Object(Ko.a)(iu,e.url))},pu="video-banner_theme_empty";var Au=i(72);var mu=i(122),vu=i(74),fu=(i(172),i(35)),bu=i(108),_u=i(140);const gu=Object(bs.a)({AdSDKLoader:0,VpaidPlayerLoader:0}),Ou=Object(Ko.a)(gu,Ud.c),yu="VpaidPlayerLoader"===Ud.c,Eu=Lc+"adsdk.js";var Tu=i(141),Su=i(48),wu=i(43),Pu=i(68);const Iu=Object(Ho.b)(window,"adsdkabflags"),Cu=Object(Ho.b)(window,Pu.a);var Du=i(131),Nu=i(120);const Ru=Object(Ho.b)(window,"adsdkmotionoldanimation"),ku=Object(Ho.b)(window,"adsdkthemeemptyactionbutton");var Vu=i(156),ju=i(114);const Lu=Object(Ho.b)(window,"adsdkver"),Mu=parseInt(null!==Lu&&void 0!==Lu?Lu:"",10),Bu=et(Mu)&&o(Mu)?Mu:void 0,Uu={adsdkdebug:Du.a,adsdkecmaver:Nu.a,adsdkmotionoldanimation:Ru,adsdknovastconvertation:Uc,adsdksecuremode:lc,adsdkthemeemptyactionbutton:ku,adsdktracelogs:Vu.a,adsdkwithcredentials:Go,adsdkver:Bu,adsdkabflags:Iu,adsdkuaas:ju.a,[Pu.a]:Cu},xu={adsdkdebug:"UsingAdsdkDebugHardcodedParam",adsdkecmaver:"UsingAdsdkEcmaVerHardcodedParam",adsdkmotionoldanimation:"UsingAdsdkMotionOldAnimationHardcodedParam",adsdknovastconvertation:"UsingAdsdkNoVASTConvertationHardcodedParam",adsdksecuremode:"UsingAdsdkSecureModeHardcodedParam",adsdkthemeemptyactionbutton:"UsingAdsdkThemeEmptyActionButtonHardcodedParam",adsdktracelogs:"UsingAdsdkTraceLogsHardcodedParam",adsdkwithcredentials:"UsingAdsdkWithCredentialsHardcodedParam",adsdkver:"UsingAdsdkVerHardcodedParam",adsdkabflags:"UsingAdsdkabflagsParam",adsdkuaas:"UsingAdsdkuaasParam",[Pu.a]:"UsingAimBannerId"};var Fu=i(61);const Hu="TRUE"===Cl("ENABLE_UNSUPPORTED_LOADER_SCRIPT_SRC_WARNING")||void 0;var zu=i(144),Wu=i(60);const Gu=()=>{if(!Ou)return;const{currentScript:e}=document;if(!e)return;const{src:t,crossOrigin:i}=e;if(!Object(cs.a)(t))return;const r=Ud.c,a="AdSDKLoader"===r?Eu:""+jc+Mc[r]+".js",n=Object(Ad.f)(tt({},Object(Ad.e)(t),{search:"",hash:""}));(Object(ks.a)(i)?"anonymous"===i.toLowerCase():""===i)&&(xo.c.event({name:"CrossOriginAnonymousLoaderScript",probability:Fo.a,data:{src:t,crossOrigin:String(i)}}),Object(Wu.a)('VAS script "crossorigin" attribute set to the value "anonymous". This value is NOT supported. Remove this attribute.')),n!==a&&(Object(ns.a)(Object(as.a)(window))?xo.c.event({name:"AbdLoaderScripsSrc",probability:Fo.a,data:{src:t}}):0===n.indexOf(zu.a)?xo.c.event({name:"HardcodedLoaderScriptSrc",probability:Fo.a,data:{src:t}}):"AdSDKLoader"===r?(Hu&&Object(Wu.a)("You are using unsupported Video Ads SDK script src ["+n+"] please, use new link ["+Eu+"]"),xo.c.event({name:"UnsupportedAdsdkLoaderScriptSrc",probability:Fo.a,data:{src:t,crossOrigin:String(i)}})):xo.c.event({name:"UnexpectedLoaderScripsSrc",probability:Fo.a,data:{src:t,expectedSrc:a,crossOrigin:String(i)}}))};var Yu=i(132);const qu=1e3,Xu=60,Ku=60*Xu,Qu=30*(24*Ku*qu),Ju=()=>{Date.now()-Ud.a<Qu||Xl(2e3).then(()=>rt({url:jc+"build_info.json",method:"GET"})).then(e=>{let{responseText:t}=e;const{version:i}=JSON.parse(t);i!==ss.a&&xo.c.warning({name:"UsingDeprecatedLoaderVersion",message:"AdSDK version you are using ("+ss.a+") is out of date. Actual version is "+i+"."})}).catch(e=>{xo.c.error({error:new Uo.a(e,{code:"REQUEST_BUILD_INFO_ERROR"})})})};var Zu=i(54);const $u=window;nt({videoAd:{debugParameters:{},encodeUrl:mu.a,loadedModules:{},loadModule:function(e){return new Promise((t,i)=>{Object(Zu.b)({moduleName:e,version:void 0,onSuccess:t,onError:i,win:window,timeout:Zu.a})})},skipTokens:[],modules:{},play:e=>(xo.c.event({name:"UsingQuickIntegrationApi",data:void 0,probability:Fo.c}),new Promise((t,i)=>{Object(Zu.b)({moduleName:"AdLoader",version:void 0,onSuccess:r=>{let{play:a}=r;a(e).then(t).catch(i)},onError:i,win:window,timeout:Zu.a})})),getBundleVersion:()=>String(ss.a),getModuleVersion:()=>String(Xc.a)},video:{addVideoPlayer:(e,t,i,r)=>{xo.c.warning({name:"UsingDeprecatedGlobalMethodAddVideoPlayer",message:"You are using deprecated HTML5VideoPlayer. Use Yandex StreamPlayer https://yandex.ru/support/video-hosting/index.html."}),Object(Zu.b)({moduleName:"VideoPlayer",version:void 0,onSuccess:a=>{a.addVideoPlayer(e,t,i,r)},onError:Vs.a,win:window,timeout:Zu.a})}}},"ya");const eh=ya;if(Object(Ro.a)(Su.b)?xo.c.event({name:"UsingGlobalStatsRootField",probability:Fo.c,data:{statsRootParams:Su.b}}):Object(vu.a)(Su.a)&&xo.c.error({error:new Uo.a({code:"GLOBAL_STATS_ROOT_FIELDS_EXTRACTION_ERROR",details:{error:Su.a}})}),(_u.a||yu)&&(Object(Co.a)(Object(wu.a)(Uu),e=>{let[t,i]=e;void 0!==i&&xo.c.event({name:xu[t],data:{value:i}})}),fu.b)){fu.b instanceof ReferenceError?xo.c.event({name:"VasUAASConfigIsEmpty",data:{}}):xo.c.error({error:new Uo.a(fu.b,{code:"VAS_UAAS_CONFIG_EXTRACTION_ERROR",details:{error:fu.b}})})}if(Ou){const e=Object(Gs.a)(Object(Io.a)(Object(bs.a)(Pl.a),e=>["flag_"+e,1])),t={crossorigin:void 0},{currentScript:i}=document;if(i){const{crossOrigin:e}=i;Object(ks.a)(e)&&(t.crossorigin=e.toLowerCase())}xo.c.values({name:"CreateLoader",data:at({statsRootParams:Su.b},t),labels:{bundleName:Ud.c},values:at({liveTime:Date.now()-Ud.a},e)}),Tu.a&&bu.a.logTimingAndLoadRum("adsdk.js",(null===Fu.a||void 0===Fu.a?void 0:Fu.a.src)||Eu)}Ou&&(Gu(),Ju());const th=Object(js.a)(e=>{xo.c.event({name:"UsingVpaidAdSkipTokens",data:{skipTokens:e},probability:Fo.a})});class ih{static toBase64(){const e=ih.getUnits();return e.length>0&&th(e),e.length?r(Object(Io.a)(e,e=>"yabs."+e).join("\n")):void 0}static getUnits(){return Array.isArray(eh.videoAd.skipTokens)?eh.videoAd.skipTokens:[]}}var rh=i(103),ah=i(104);const nh=e=>{let{additionalParams:t,videoContentId:i,videoContentName:r,videoPublisherId:a,videoPublisherName:n,videoGenreId:o,videoGenreName:s,musicArtistId:d,musicGenreId:l,musicGenreName:c,preferableAdSize:u}=e;return dt({},st(t),{"video-content-id":i,"video-content-name":r,"video-publisher-id":a,"video-publisher-name":n,"video-genre-id":ot(o),"video-genre-name":ot(s),"meta-request-index":void 0,"meta-impid-request-index":void 0,music_artist_id:d,"music-genre":l,"music-genre-name":c,"ad-session-id":nl(),"pcode-icookie":rh.a,"pcode-test-ids":ah.a,"pcode-flags":JSON.stringify(Pl.a),"preferable-ad-size-width":u?String(u.width):void 0,"preferable-ad-size-height":u?String(u.height):void 0,"pcode-version":void 0,"widget-version":void 0,uniformat:void 0})},oh=e=>{let{adConfig:t,adBreak:i,random:r,win:a}=e;const{targetRef:n,width:o,height:s,tagsList:d,extParam:l,charset:c,distrId:u,metaRequestIndex:h,metaImpIdRequestIndex:p}=t,A=a.document.referrer,m=Object(Au.a)(a);let v;return n?(v=n,xo.c.event({name:"UsingTargetRefApiParameter",data:{adConfig:t},probability:Fo.a})):"about:blank"===m?(v=A,xo.c.event({name:"UsingTargetRefAboutBlankFallback",data:{adConfig:t},probability:Fo.a})):v=m,ct({},nh(t),{"meta-request-index":void 0===h?void 0:String(h),"meta-impid-request-index":void 0===p?void 0:String(p),"repeat-number":lt(i)?String(i.repeatNumber):void 0,"target-ref":v,"page-ref":A,"video-width":o,"video-height":s,"tags-list":ot(d),"ext-param":l,charset:c||"UTF-8","video-session-id":i.sessionId,"skip-token":ih.toBase64(),"distr-id":u,"enable-page-options":"65536",rnd:String(r),uniformat:"ENABLE"===md.a.getFlagValueAndActivateTestId("UNIFORMAT")?"true":void 0})},sh="Yabs Ad Server",dh=[sh,"AWAPS","Yandex Ad Server","Yandex Advertising Partner"],lh=function(e){return void 0===e&&(e=window),/Mobi|Android/i.test(e.navigator.userAgent)}();var ch=i(102);const uh={PAGEURL:encodeURIComponent(Object(ch.a)(document).location),Y_DEVICE_TYPE:lh?"mobile":"desktop",Y_AD_SESSION_ID:rl()},hh=["clickThrough","close","impression","mute","skip","unmute"],ph=e=>"VastTracking_"+e,Ah={},mh=100,vh={width:void 0,height:void 0},fh=void 0,bh={text:"",textColor:"#FFFFFF",isVisible:!1};var _h=i(148);const gh=e=>{const{protocol:t}=Object(Ad.e)(e);return"blob:"===t?e:S(e)?Object(ns.a)(Object(as.a)())?e:Object(Ad.b)(e,{[Id]:vd.a,vsid:_h.a}):e},Oh=e=>Tt({},e,{url:gh(e.url)});var yh=i(45);i(126);const Eh=e=>{const t=Number(Cl(e));return n(t)?t:void 0},Th=Eh("MEDIA_FILE_BITRATE_PRIORITY_FACTOR"),Sh=J(Th)?Dt(Th,0,1):1e-6;var wh=i(111);const Ph=e=>{let{src:t,win:i}=e;const r=Je(t),{promise:a,teardown:n}=Object(wh.a)({src:r?Zc:t,win:i});return{promise:a.then(()=>i.getVPAIDAd),teardown:n}},Ih="TRUE"===Cl("ENABLE_MEDIA_FILES_WITH_MSE_FILTER_UNDER_ABD_ONLY")||void 0,Ch=function(e,t){void 0===t&&(t=e=>Boolean(function(e){return e}(e)));for(let i=0;i<e.length;i++)if(t(e[i],i,e))return i;return-1},Dh=["application/vnd.apple.mpegurl","application/x-mpegurl"],Nh=["bitrate","minBitrate","maxBitrate","width","height"],Rh=9007199254740991,kh={multiplier:1,isVertical:!1},Vh=1e3,jh=Object(js.a)(()=>{xo.c.error({error:new Uo.a({code:"MEDIA_FILE_STRING_SIZE",details:void 0}),probability:Fo.a})}),Lh=Eh("MEDIA_FILE_TYPE_PRIORITY_FACTOR"),Mh=J(Lh)?Lh:.001,Bh=Yt("DPR_STRATEGY",["SUBTRACTION","DIVISION"]),Uh=Eh("DPR_WEIGHT"),xh=Eh("PERFECT_VDPR"),Fh=Eh("PERFECT_VPR"),Hh=Eh("VPR_PRIORITY_MULTIPLIER"),zh="undefined"===typeof Hh?1.2:Hh,Wh="undefined"===typeof xh?1:xh,Gh="undefined"===typeof Fh?1:Fh,Yh="video/webm",qh='video/webm; codecs="vorbis,vp8"';const Xh="video/mp4",Kh=4;var Qh=i(64);const Jh=document.createElement("video"),Zh="function"===typeof Jh.load,$h=Zh?function(e,t){return void 0===t&&(t=Jh),Boolean(t.canPlayType(e).replace(/no/,""))}:()=>!1,ep="TRUE"===ru.a.getFlagValueAndActivateTestId("DISABLE_144P_QUALITY"),tp="TRUE"===Cl("ENABLE_H265_CODECS")||void 0,ip="TRUE"===Cl("ENABLE_VP9_CODECS")||void 0,rp=e=>{let{type:t,codec:i}=e;return i?t+'; codecs="'+i+'"':t},ap=["4D","64"],np=["0C","14","15","1E","1F","20","28","2A"],op=(e=>{const t=Qt(e);return!!t&&Boolean(p(()=>t.isTypeSupported('video/webm; codecs="vorbis,vp8"')))})(window),sp=Qt(),dp=!Qh.a&&$h("video/webm"),lp=op&&dp,cp=sp&&Object(Cs.a)(sp),up=Object(ns.a)(ud.a),hp=void 0!==window.AbortController&&void 0!==window.fetch&&Object(Cs.a)(AbortController)&&Object(Cs.a)(fetch),pp=cp&&hp,Ap=Object(js.a)(e=>{xo.c.error({error:new Uo.a({code:"INVALID_MEDIA_FILE_MIN_MAX_BITRATE",details:{mediaFile:e}})})}),mp=(e,t)=>e+"_"+t;class vp extends Eo.a{constructor(e){let{win:t,onReport:i}=e;super();const r=t;if(void 0===r.ReportingObserver)return;const a=new r.ReportingObserver(e=>{i({reportSourceEvent:"callback",reports:e,records:a.takeRecords()})},{buffered:!0});a.observe();const n=a.takeRecords();n.length&&i({reportSourceEvent:"buffered",reports:[],records:n}),this.addDestroyHandler(Object(rs.a)({element:t,eventName:"beforeunload",listener:()=>{const e=a.takeRecords();e.length>0&&i({reportSourceEvent:"beforeunload",reports:[],records:e})}})),this.addDestroyHandler(()=>{const e=a.takeRecords();e.length>0&&i({reportSourceEvent:"destroy",reports:[],records:e}),a.disconnect()})}}const fp=250;let bp=0;const _p=[],gp=(e,t)=>{const i=e.contentDocument.body;return di(()=>{var e;!Boolean(null===(e=i.ownerDocument)||void 0===e?void 0:e.defaultView)&&t()})};class Op extends Eo.a{static create(e){const{parentElement:t,attributes:i,scope:r}=e,a=li(t,i);if(!a)throw ai({scope:r,errorType:"NOT_CREATED",error:new Error,details:void 0});return new Op(ci({},e,{iframe:a}))}static createHidden(e){const{parentElement:t,attributes:i,scope:r}=e,a=function(){const e=li(...arguments);if(e)return e.width="0",e.height="0",e.style.position="absolute",e}(t,i);if(!a)throw ai({scope:r,errorType:"NOT_CREATED",error:new Error,details:void 0});return new Op(ci({},e,{iframe:a}))}constructor(e){super(),ui(this,"iframe",void 0),ui(this,"window",void 0);const{scope:t,iframe:i}=e;this.iframe=i,this.window=this.iframe.contentWindow,this.addDestroyHandler(()=>{Object(es.a)(i)}),this.addDestroyHandler(gp(this.iframe,()=>{this.destroy(ai({scope:t,errorType:"WAS_UNLOADED",error:new Error,details:void 0}))})),this.addDestroyHandler(si(this.window,(i,r,a)=>{const n="PRELOADING_IFRAME"===e.scope?{vastAd:e.getVastAd()}:e.provideLogDetails?e.provideLogDetails():void 0;xo.c.error({error:ai({scope:t,errorType:r,error:i,details:ci({},n,{error:i,data:a})})})}))}}var yp,Ep=i(100);!function(e){e.NORMAL="normal",e.THUMBNAIL="thumbnail",e.FULLSCREEN="fullscreen"}(yp||(yp={}));Object(Ts.a)({propertyName:"AD_CREATIVE_PRELOADER_GLOBAL_CALLBACK_NAME",win:window});var Tp,Sp;const wp=null!==(Tp=null!==(Sp=window.URL)&&void 0!==Sp?Sp:window.webkitURL)&&void 0!==Tp?Tp:{},Pp=Object(ns.a)(wp.createObjectURL)&&Object(ns.a)(wp.revokeObjectURL)?wp:void 0,Ip=e=>$h(e)&&(e=>Boolean(Pp)&&!Bt(e))(e),Cp=Object(Ts.a)({propertyName:"YANDEX_VIDEO_PRELOADER_GLOBAL_CALLBACK_PROPERTY_NAME",win:window});class Dp{constructor(e){mi(this,"readyPromise",void 0),mi(this,"ready",!1),mi(this,"video",void 0),mi(this,"xhr",void 0),mi(this,"blobUrl",void 0);const{type:t}=e;if(!Ip(t))return void(this.readyPromise=Promise.reject(new Error(t+" cannot be preloaded")));const i=this.preloadToBlob(e);Cp.call({callbackArguments:[{mediaFile:e,videoPreloader:this}]}),this.readyPromise=i.then(t=>(this.ready=!0,null!==t&&void 0!==t?t:e))}isReady(){return this.ready}destroy(){void 0!==this.video&&(this.video.src="",this.video=void 0),void 0!==this.xhr&&(this.xhr.abort(),this.xhr=void 0),Object(cs.a)(this.blobUrl)&&(null===Pp||void 0===Pp||Pp.revokeObjectURL(this.blobUrl))}async preloadToBlob(e){const{response:t}=await rt({method:"GET",url:e.url,responseType:"blob",onBeforeSend:e=>this.xhr=e});return Ai({},e,{url:null===Pp||void 0===Pp?void 0:Pp.createObjectURL(t)})}}class Np{constructor(e){fi(this,"parsedParams",void 0),fi(this,"contentType",void 0),fi(this,"_promise",void 0),fi(this,"_isPreloaded",!1),fi(this,"_vpaidWindow",void 0),fi(this,"preloaders",[]),fi(this,"_preloadedVpaidAdParameters",void 0),fi(this,"_preloadedVideoFile",void 0),fi(this,"_preloadedAdCreativeInitFunction",void 0),fi(this,"getMediaFiles",void 0),fi(this,"getJSMediaFile",void 0),fi(this,"getVastAd",void 0),fi(this,"mediaAd",void 0);const{params:t,contentType:i,options:r,mediaAd:a}=e;this.parsedParams=function(e){const{videoSlot:t,viewMode:i=yp.NORMAL,preloadJS:r=!0,preloadVideo:a=!0}=e,{width:n=t.clientWidth,height:o=t.clientHeight}=e,s=B(e.desiredBitrate);let{preloadTimeout:d}=e;return("number"!==typeof d||d>Sl)&&(d=Sl),{preloadTimeout:d,width:n,height:o,desiredBitrate:s,viewMode:i,videoSlot:t,preloadJS:r,preloadVideo:a}}(t),this.contentType=i,this.getMediaFiles=r.getMediaFiles,this.getJSMediaFile=r.getJSMediaFile,this.getVastAd=r.getVastAd,this.mediaAd=a}get isPreloaded(){return this._isPreloaded}get promise(){return this._promise?this._promise:Promise.resolve()}get vpaidWindow(){return this._vpaidWindow}get preloadedVideoFile(){return this._preloadedVideoFile}get preloadedAdCreativeInitFunction(){return this._preloadedAdCreativeInitFunction}get preloadedVpaidAdParameters(){return this._preloadedVpaidAdParameters}destroy(e){this._promise&&xo.c.event({name:"PreloadCancelled",data:{reason:e},probability:Fo.a}),this._promise=void 0,this._vpaidWindow=void 0,Object(Co.a)(this.preloaders,e=>e.destroy()),this.preloaders.length=0}async preload(){this._promise=this._preload(),await this._promise,this._isPreloaded=!0}async _preload(){try{const{preloadJS:e,preloadVideo:t}=this.parsedParams,i=this.getVastAd();if(e&&"js"===this.contentType){if(!pi(i))return await this._preloadVpaidCreative(this.parsedParams);const{parsed:{videoMediaFiles:e,animationMediaFile:t}}=Ot(i.adParameters),r=e.length>0?this._preloadVideoFile(e,this.parsedParams):void 0,a=t?this._preloadAdCreative(t,this.parsedParams):void 0;return void(await Promise.all([r,a]))}t&&"video"===this.contentType&&await this._preloadVideoFile(this.getMediaFiles(),this.parsedParams)}catch(e){Object(Co.a)(this.preloaders,e=>e.destroy()),this.preloaders.length=0,this._logError(e,"CANNOT_PRELOAD")}}createHiddenIframeForPreloading(){const e=Op.createHidden({parentElement:document.body,scope:"PRELOADING_IFRAME",getVastAd:this.getVastAd}),t=e.iframe;return this.preloaders.push({readyPromise:Promise.resolve(),isReady:()=>!0,destroy:()=>{e.destroy(void 0)}}),t}async _preloadAdCreative(e,t){const i=this.createHiddenIframeForPreloading().contentWindow;try{const{promise:t,teardown:r}=Nt({animationMediaFile:e,win:i});this.preloaders.push({readyPromise:Promise.resolve(),isReady:()=>!0,destroy:r}),this._preloadedAdCreativeInitFunction=await t}catch(r){return void this._logError(r,"CANNOT_PRELOAD_AD_CREATIVE")}}async _preloadVpaidCreative(e){var t;const i=function(e,t){if(null==e)return{};var i,r,a={},n=Object.keys(e);for(r=0;r<n.length;r++)i=n[r],t.indexOf(i)>=0||(a[i]=e[i]);return a}(e,["preloadTimeout"]),r=this.getJSMediaFile();if(!r)return;const a=this.createHiddenIframeForPreloading().contentWindow;this._vpaidWindow=a;try{const{promise:e,teardown:t}=Ph({src:r.url,win:a});this.preloaders.push({readyPromise:Promise.resolve(),isReady:()=>!0,destroy:t}),await e}catch(s){return this._logError(s,"CANNOT_PRELOAD_VPAID_CREATIVE_MODULE"),void this.destroy("VpaidModuleLoadingError")}if("function"!==typeof(null===(t=a.Ya)||void 0===t?void 0:t.preloadVPAIDAd))return;const n=a.Ya.preloadVPAIDAd(vi({},i,{creativeData:{AdParameters:this.getVastAd().adParameters}}));let o;this.preloaders.push(n);try{o=await n.readyPromise}catch(s){return void this._logError(s,"CANNOT_PRELOAD_VPAID_CREATIVE")}this._preloadedVpaidAdParameters=o.AdParameters}async _preloadVideoFile(e,t){let{width:i,height:r,desiredBitrate:a}=t;const{adConfig:n,adBreak:o,vastAd:s}=this.mediaAd,d=this.mediaAd.getAdPodId(),l=s.vast,{prioritisedMediaFile:c}=ri(e,{container:{width:i,height:r},desiredBitrate:a,isVideoADB:Object(ns.a)(Object(as.a)()),bitratePriorityFactor:Sh},{vast:l,adConfig:n,adBreak:o,adPodId:d,initiator:"PreloadingController"});if(!c)return;const u=Oh(c),h=new Dp(u);let p;this.preloaders.push(h);try{p=await h.readyPromise}catch(A){return void this._logError(A,"CANNOT_PRELOAD_VIDEO_FILE")}this._preloadedVideoFile=p}_logError(e,t){hi(e),xo.c.error({error:new Uo.a(e,{code:t})})}}class Rp{constructor(){bi(this,"src",void 0),bi(this,"type",void 0),bi(this,"x",NaN),bi(this,"y",NaN),bi(this,"width",NaN),bi(this,"height",NaN)}static fromVastIcon(e){const t=new Rp;return t.src=e.src,t.type=e.program,t.x=e.xPosition,t.y=e.yPosition,t.width=e.width,t.height=e.height,t}}class kp{get contentType(){return this.getJSMediaFile()?"js":"video"}constructor(e,t,i){this.adBreak=e,this.vastAd=t,this.adConfig=i,_i(this,"icons",void 0),_i(this,"preloadingController",void 0),_i(this,"isTrackingEventsEnabled",!0),_i(this,"duration",0),_i(this,"getMediaFiles",()=>St(this.vastAd.mediaFiles,this.adConfig.secureMode)),_i(this,"getAdContentDimensions",()=>(function(e){let{vastAd:t,secureMode:i}=e;const{mediaFiles:r,adParameters:a,isNonLinear:n}=t;if(n)return fh;if(It(t)){const{parsed:{videoMediaFiles:e}}=Ot(a);return 0===e.length?vh:yt(e)}const o=wt(r,i);return yt(o?[o]:St(r,i))})({vastAd:this.vastAd,secureMode:this.adConfig.secureMode})),_i(this,"getJSMediaFile",()=>wt(this.vastAd.mediaFiles,this.adConfig.secureMode)),_i(this,"getPreloadedAdCreativeInitFunction",()=>{var e;return null===(e=this.preloadingController)||void 0===e?void 0:e.preloadedAdCreativeInitFunction}),this.icons=Object(Io.a)(this.vastAd.icons,e=>Rp.fromVastIcon(e)),isNaN(this.vastAd.duration)||(this.duration=this.vastAd.duration)}getAdPodId(){return(this.vastAd.adId||"")+";"+(this.vastAd.creativeId||"")+";"+this.vastAd.parseIndex+";"+this.vastAd.randomHexString}trackError(e){X(e,this.vastAd.trackingEvents.error)}removeTrackingEvents(){this.isTrackingEventsEnabled=!1}trackEvent(e,t,i){if(!this.isTrackingEventsEnabled)return void Object(Jo.a)("eventName ("+e+") was NOT tracked in MediaAd (disabled with method removeTrackingEvents)");Object(Jo.a)("Track event=["+e+"]");const r=this.vastAd.trackingEvents[e];ft({eventName:e,trackingEventDetails:i,trackingUrls:Array.isArray(r)?r:[],options:t})}hasMediaFiles(){const e=this.getMediaFiles();return Boolean((null===e||void 0===e?void 0:e.length)>0)}isNotReplacedBroadcastAd(){return this.vastAd.isNotReplacedBroadcastAd}cancelPreloading(e){this.preloadingController&&(this.preloadingController.destroy(e),this.preloadingController=void 0)}isPreloaded(){return!!this.preloadingController&&this.preloadingController.isPreloaded}async preload(e){this.preloadingController||(this.preloadingController=new Np({params:e,contentType:this.contentType,options:{getMediaFiles:this.getMediaFiles,getJSMediaFile:this.getJSMediaFile,getVastAd:()=>this.vastAd},mediaAd:this}),await this.preloadingController.preload()),void 0!==this.preloadingController&&null!==this.preloadingController&&await this.preloadingController.promise}getIfIsRequiredHtmlControls(){const{isNonLinear:e,adSystem:t}=this.vastAd;return t===sh||e}getIsIndependentOnVideoElement(){if(this.vastAd.isNonLinear)return!0;if(Ct(this.vastAd))return!0;const e=this.getJSMediaFile();if(!e)return!1;if(Je(e.url)&&S(e.url)){if(void 0===this.vastAd.isIndependentOnVideoElement)return xo.c.event({name:"MotionWithoutExtensionIsIndependentOnVideoElement",probability:Fo.a,data:void 0}),!0;if(!this.vastAd.isIndependentOnVideoElement)return xo.c.event({name:"MotionWithExtensionIsIndependentOnVideoElementFalseValue",probability:Fo.a,data:void 0}),!0}return void 0!==this.vastAd.isIndependentOnVideoElement&&this.vastAd.isIndependentOnVideoElement}getIsYandexCreative(){return e=this.vastAd,Object(Ko.a)(dh,e.adSystem);var e}getPreloadVpaidWindow(){var e;return null===(e=this.preloadingController)||void 0===e?void 0:e.vpaidWindow}getPreloadedVideoFile(){var e;return null===(e=this.preloadingController)||void 0===e?void 0:e.preloadedVideoFile}getPreloadedVpaidAdParameters(){var e;return null===(e=this.preloadingController)||void 0===e?void 0:e.preloadedVpaidAdParameters}getDuration(){return this.duration}actualizeDuration(e){this.duration!==e&&(Object(Jo.a)("MediaAd: actualize duration previous=["+this.duration+"] next=["+e+"]"),this.duration=e)}shouldShowGuiForVpaid(){return Boolean(this.vastAd.imhoParams)||It(this.vastAd)}isCreativeWithOwnControls(){const e=this.getJSMediaFile();return!!e&&(!this.shouldShowGuiForVpaid()&&!S(e.url))}}class Vp{constructor(e){var t,i,r;r=void 0,(i="mediaAds")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r,this.mediaAds=e.sort((e,t)=>{const i=e.vastAd.sequence,r=t.vastAd.sequence;return i===r?0:i===bl?1:r===bl?-1:i-r})}getDuration(){return Object(wo.a)(this.mediaAds,(e,t)=>e+t.getDuration(),0)}getFirstMediaAd(){return this.mediaAds[0]}hasFilteredOutMediaFiles(){return ll(this.mediaAds,e=>e.vastAd.mediaFiles.length!==e.getMediaFiles().length)}preload(e){return Object(Co.a)(this.mediaAds,t=>{t.preload(e)}),e=>{Object(Co.a)(this.mediaAds,t=>{t.cancelPreloading(e)})}}}const jp=e=>{try{return"display"in Pi(e)}catch(t){return!1}},Lp=Object(pc.a)();var Mp=i(113);const Bp=function(e){if(void 0===e&&(e=window),Object(Mp.a)(e)&&e.navigator){const{platform:t}=e.navigator;if(t&&/iP(hone|od|ad)/.test(t)){const t=e.navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);if(t)return parseInt(t[1],10)}}return-1}(),Up=Object(Mp.a)();var xp=i(33);const Fp=dp?"data:video/webm;base64,GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4EEQoWBAhhTgGcBAAAAAAAByhFNm3RAHU27i1OrhBVJqWZTrIHlTbuMU6uEFlSua1OsggEj7AEAAAAAAAC5AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAADIq17GDD0JATYCNTGF2ZjU3Ljc2LjEwMFdBjUxhdmY1Ny43Ni4xMDBEiYhASwAAAAAAABZUrmsBAAAAAAAAYq4BAAAAAAAAWdeBAXPFgQGcgQAitZyDdW5khoZBX09QVVNWqoNjLqBWu4QExLQAg4EC4QEAAAAAAAARn4ECtYhA53AAAAAAAGJkgSBjopNPcHVzSGVhZAECOAGAuwAAAAAAH0O2dQEAAAAAAAAt54EAo4eBAACA/P/+o4eBABWA/P/+oAEAAAAAAAAPoYeBACkA/P/+daKDa3KD":"data:video/mp4;base64,AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAAMm1kYXTeBABMYXZjNTcuMTA3LjEwMABCIAjBGDghEARgjBwhEARgjBwhEARgjBwAAAMbbW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAAAEsAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAkV0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAAEsAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAA1AAAEAAABAAAAAAG9bWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAADgZVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAABaG1pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAABLHN0YmwAAABqc3RzZAAAAAAAAAABAAAAWm1wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAANmVzZHMAAAAAA4CAgCUAAQAEgICAF0AVAAAAAAH0AAAAEYwFgICABRGQVuUABoCAgAECAAAAMHN0dHMAAAAAAAAABAAAAAEAAAQAAAAAAQAABBgAAAABAAAEAAAAAAEAAAHuAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAAEAAAAAQAAACRzdHN6AAAAAAAAAAAAAAAEAAAAGAAAAAYAAAAGAAAABgAAABRzdGNvAAAAAAAAAAEAAAAsAAAAGnNncGQBAAAAcm9sbAAAAAIAAAAB//8AAAAcc2JncAAAAAByb2xsAAAAAQAAAAQAAAABAAAAYnVkdGEAAABabWV0YQAAAAAAAAAhaGRscgAAAAAAAAAAbWRpcmFwcGwAAAAAAAAAAAAAAAAtaWxzdAAAACWpdG9vAAAAHWRhdGEAAAABAAAAAExhdmY1Ny44My4xMDA=";var Hp=i(128);const zp="__yaMuffleVideoPlayPromiseOriginalPlay",Wp=e=>{const t=(e=>{const{muted:t}=e;return()=>{e.muted=t}})(e),i=(e=>{const{volume:t}=e;return()=>{e.volume=t}})(e),r=(e=>{const{paused:t}=e;return()=>{t&&e.pause(),!t&&e.paused&&Ri(Vi(e))}})(e);return()=>{t(),i(),r()}};var Gp;!function(e){e[e.MEDIA_ERR_CUSTOM=0]="MEDIA_ERR_CUSTOM",e[e.MEDIA_ERR_ABORTED=1]="MEDIA_ERR_ABORTED",e[e.MEDIA_ERR_NETWORK=2]="MEDIA_ERR_NETWORK",e[e.MEDIA_ERR_DECODE=3]="MEDIA_ERR_DECODE",e[e.MEDIA_ERR_SRC_NOT_SUPPORTED=4]="MEDIA_ERR_SRC_NOT_SUPPORTED",e[e.MEDIA_ERR_ENCRYPTED=5]="MEDIA_ERR_ENCRYPTED"}(Gp||(Gp={}));class Yp{constructor(e){this.code=0,this.message="",this.details=void 0,"number"===typeof e?this.code=e:"string"===typeof e?this.message=e:Object(Ro.a)(e)&&("number"===typeof e.code&&(this.code=e.code),"string"===typeof e.message&&(this.message=e.message),this.details=e.details),this.message||(this.message=Gp[this.code]||"")}}var qp=i(56);const Xp=function(e){void 0===e&&(e=window);const t=Object(qp.a)(e).toLowerCase();return t.indexOf("maple2012")>-1&&t.indexOf("smarttv")>-1};var Kp;!function(e){e.AutomaticallyGenerated="AutomaticallyGenerated",e.HardcodedParams="HardcodedParams",e.IOS9OrLess="IOS9OrLess",e.HTML5VideoIsNotSupported="HTML5VideoIsNotSupported",e.WindowHasBeenActive="WindowHasBeenActive",e.RAAStopped="RAAStopped",e.OldIE="OldIE",e.MediaError="MediaError",e.NotRecognized="NotRecognized",e.YaBroAllowedToPlay="YaBroAllowedToPlay",e.TizenSmartTVModern="TizenSmartTVModern",e.Tizen23SmartTV="Tizen23SmartTV",e.WebOSSmartTV="WebOSSmartTV",e.TizenAVPlay="TizenAVPlay",e.OrsaySmartTV="OrsaySmartTV",e.PlayStationSmartTV="PlayStationSmartTV"}(Kp||(Kp={}));const Qp=function(e){void 0===e&&(e=window);const t=Object(qp.a)(e).toLowerCase();return t.indexOf("playstation")>-1&&t.indexOf("webmaf")>-1},Jp=function(e){return void 0===e&&(e=window),Object(qp.a)(e).toLowerCase().indexOf("tizen")>-1},Zp=function(e){void 0===e&&(e=window);const t=function(e){void 0===e&&(e=window);const t=Object(qp.a)(e).match(/Tizen ([\d]+)\.([\d]+)/);if(!t)return{major:-1,minor:-1};const[,i,r]=t;return{major:parseInt(i,10),minor:parseInt(r,10)}}(e);return 2===t.major&&3===t.minor},$p=function(e){return void 0===e&&(e=window),Object(qp.a)(e).toLowerCase().indexOf("web0s")>-1};var eA,tA=i(79),iA=i(115),rA=i(97);!function(e){e.VideoTagPaused="VideoTagPaused",e.VideoTagPausedAfterDurationChange="VideoTagPausedAfterDurationChange",e.VideoTagPausedAfterError="VideoTagPausedAfterError",e.PauseEvent="PauseEvent",e.ProgressEvent="ProgressEvent",e.PromiseResolve="PromiseResolve",e.PromiseReject="PromiseReject",e.PlayingEvent="PlayingEvent",e.Timeout="Timeout"}(eA||(eA={}));const aA={once:!0,passive:!0};let nA=!1;const oA=-1<Lp&&Lp<=16,sA=Ui({canPlayUnMuted:!1,canPlayMuted:!1,detectionMethod:Kp.AutomaticallyGenerated}),dA=Ui({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:Kp.AutomaticallyGenerated}),lA=500;class cA{constructor(e,t){let{checkSoundEnabled:i,promise:r}=t;if(this.video=e,this.stop=xp.a,this.isStopped=!1,this.revertVideoState=xp.a,this.getIsActiveWindow())return this.promise=Promise.resolve(Bi({},dA,{detectionMethod:Kp.WindowHasBeenActive})),this;if(r)return this.promise=r,this;const a=document.createElement("div");a.style.display="none";const n=Wp(e),o=Mi(e,()=>Ni(e,{src:Fp}));let s;this.revertVideoState=Object(Fd.a)(()=>{o(),e.load(),n(),Object(es.a)(a)}),this.promise=new Promise(async(e,t)=>{let r,a,n;if(s=t,i){const e=await this.requestAutoplayAbilityByMuted(!1);a=e.autoplayAbility,r=e.detectionMethod}else a=!1;if(!this.isStopped){if(a)n=!0;else{const e=await this.requestAutoplayAbilityByMuted(!0);n=e.autoplayAbility,r=r&&r!==e.detectionMethod?"DifferentDetectionMethods unmuted=["+r+"] muted=["+e.detectionMethod+"]":e.detectionMethod}this.isStopped||(this.revertVideoState(),this.isStopped=!0,e(Ui({canPlayUnMuted:a,canPlayMuted:n,detectionMethod:r||Kp.NotRecognized})))}}),this.stop=()=>{this.isStopped||(this.isStopped=!0,s(new Error("requestAutoplayAbility has been stopped")),this.revertVideoState())}}async requestAutoplayAbilityByMuted(e){const{video:t}=this;if(Mi(t,()=>{t.load()}),await Xl(0),this.isStopped)return{autoplayAbility:!1,detectionMethod:Kp.RAAStopped};t.muted=e,t.volume=e?0:1;const i=await new Promise(e=>{Li(t,{useProgressEvent:!0,timeoutForNonPromisePlay:lA}).then(t=>{e({autoplayAbility:!0,detectionMethod:t})}).catch(i=>{const r=function(e){const{error:t}=e;return new Yp(t)}(t);r&&r.code===Gp.MEDIA_ERR_DECODE?setTimeout(()=>{e({autoplayAbility:!0,detectionMethod:Kp.MediaError})},0):e({autoplayAbility:!1,detectionMethod:i})})});return this.isStopped?{autoplayAbility:!1,detectionMethod:Kp.RAAStopped}:i}getIsActiveWindow(){const e=function(e){const{ownerDocument:t}=e;if(!t)return;const{defaultView:i}=t;return i||void 0}(this.video);if(!e)return!1;const t=function(e){const t=e.navigator;if(!t)return;const{userActivation:i}=t;if(!Object(Ro.a)(i))return;const{isActive:r,hasBeenActive:a}=i;return{isActive:r,hasBeenActive:a}}(e);return Boolean(t&&t.hasBeenActive)}}var uA;!function(e){e.PLAY="play",e.PAUSE="pause",e.BUFFERING="buffering",e.END="end"}(uA||(uA={}));const hA=function(e,t){void 0===t&&(t=!1);const i=(t,i,r)=>e[t][i][r],r=(t,i,r)=>e[t]&&e[t][i]&&e[t][i][r],a=e=>{let{keyset:t,key:a,lang:n=yl,onError:o,throwErr:s=!0}=e;if(r(n,t,a))return i(n,t,a);if(r(yl,t,a))return i(yl,t,a);{const e=new Tl("Tanker locale for lang="+n+", keyset="+t+", key="+a+" not found");return s&&Object(Rs.a)(e),"function"===typeof o&&o(e),""}};if(t){const e=e=>{let{keyset:t,key:i,lang:r}=e;return t+"_"+i+"_"+r};return Object(Ol.a)(a,e)}return a}(i(173)),pA=function(e,t){return void 0===t&&(t=yl),hA({keyset:"adsdk",key:e,lang:t})},AA="TRUE"===Cl("DISABLE_SUBTITLES")||void 0,mA="DISABLE"===Cl("UNMUTE_TEXT_VARIANT")?"DISABLE":void 0,vA={open:{reason:1,action:0},close:{reason:2,action:0}},fA={notInterestedAd:{reason:3,action:2},alreadyPurchasedAd:{reason:14,action:2},seenTooOftenAd:{reason:22,action:2},overlapContentAd:{reason:9,action:1},anotherReasonAd:{reason:23,action:0}},bA={unpleasantContentAd:{reason:24,action:2},politicalAd:{reason:31,action:4},scammersAd:{reason:26,action:2},illegalGoodsOrServiceAd:{reason:27,action:2},anotherReasonAd:{reason:23,action:0}},_A={politicalSocialAd:{reason:16,action:4},shockingContentSocialAd:{reason:17,action:4},falseInfoSocialAd:{reason:18,action:4}},gA=Fi({},{hide:{reason:21,action:4},complaint:{reason:5,action:4},about:{reason:19,action:0}},fA,bA,_A),OA={abuseUrl:"",legalInfoText:""},yA={isAvailable:!1},EA=/&\w+;/g,TA={"&quot;":'"',"&laquo;":"\xab","&raquo;":"\xbb","&bdquo;":"\u201e","&ndash;":"\u2013","&mdash;":"\u2014"},SA=["spec","logo","misc"],wA=e=>{if(Object(Ro.a)(e))for(const t in e)if(e.hasOwnProperty(t)&&!Object(Ko.a)(SA,t)){const i=e[t];return i.text&&Object(cs.a)(i.text.banner_flags)&&(i.text.banner_flags=i.text.banner_flags.split(",")),i}},PA=e=>{const{AUCTION_DC_PARAMS:t}=e;if(!Object(Ro.a)(t)||!Object(Ro.a)(t.data_params))return;const i=wA(t.data_params);if(!Object(Ro.a)(i))return;const r=i.assets;if(!Object(Ro.a)(r))return;const a={},{logo:n,button:s,icon:d,app:l}=r;if(Object(Ro.a)(n)){const e=Object(wu.a)(n);if(e.length){const t={};for(const[i,r]of e){const{url:e,width:a,height:n}=r;Object(ks.a)(e)&&et(a)&&et(n)&&(t[i]={url:e,width:a,height:n})}Wi(t)||(a.logo=t)}}if(Object(Ro.a)(s)){const{caption:e,href:t,key:i}=s;Object(ks.a)(e)&&Object(ks.a)(t)&&Object(ks.a)(i)&&(a.button={caption:e,href:t,key:i})}if(Object(Ro.a)(l)){const{review_count:e,store_name:t,name:i,download_count:r,rating:n,store_app_id:s,store_content_id:d,price_currency_symbol:c,price_currency_code:u,price:h,age:p,free:A}=l;et(e)&&Object(ks.a)(t)&&Object(ks.a)(i)&&Object(ks.a)(r)&&o(n)&&Object(ks.a)(s)&&Object(ks.a)(d)&&Object(ks.a)(c)&&Object(ks.a)(u)&&o(h)&&et(p)&&"boolean"===typeof A&&(a.app={review_count:e,store_name:t,name:i,download_count:r,rating:n,store_app_id:s,store_content_id:d,price_currency_symbol:c,price_currency_code:u,price:h,age:p,free:A})}if(Object(Ro.a)(d)){const e=Object(wu.a)(d);if(e.length){const t={};for(const[i,r]of e){const{url:e,width:a,height:n}=r;Object(ks.a)(e)&&et(a)&&et(n)&&(t[i]={url:e,width:a,height:n})}Wi(t)||(a.icon=t)}}return a},IA=e=>{if(!Array.isArray(e))return[];const t=Object(Io.a)(e,e=>{const t=e[0],i=Number(e[1]),r=Number(e[2]),a=e[3];if(Object(ks.a)(t)&&!isNaN(i)&&!isNaN(r)){const e=[t,String(i),String(r)];return Object(Ro.a)(a)&&e.push(a),e}});return Object(To.a)(t,e=>void 0!==e)},CA=Object(js.a)(e=>{xo.c.event({name:"AdCreativeVideoBannerVastHasDisclaimers",data:e,probability:Fo.a})}),DA=Object(js.a)(()=>{xo.c.event({name:"AdCreativeVideoBannerVastUnmoderatedInsideText",data:void 0,probability:Fo.a})}),NA=Object(js.a)(()=>{xo.c.event({name:"AdCreativeVideoBannerVastHasBooleanFields",data:void 0,probability:Fo.a})}),RA=Object(js.a)(e=>{xo.c.event({name:"AdCreativeVideoBannerVastHasBannerFlags",data:e,probability:Fo.a})}),kA=e=>{if(!Object(Ro.a)(e))return;const{AUCTION_DC_PARAMS:t,HAS_DOMAIN:i,AGE_BACKGROUND_COLOR:r,AGE_TEXT_COLOR:a,BODY_BACKGROUND_COLOR:n,BODY_TEXT_COLOR:o,BUTTON_BORDER_COLOR:s,BUTTON_COLOR:d,BUTTON_TEXT_COLOR:l,DISCLAIMER_BACKGROUND_COLOR:c,DISCLAIMER_TEXT_COLOR:u,DOMAIN_BACKGROUND_COLOR:h,DOMAIN_TEXT_COLOR:p,HAS_AGE:A,HAS_BODY:m,HAS_BUTTON:v,HAS_DISCLAIMER:f,HAS_LEGAL:b,HAS_TITLE:_,LEGAL_BACKGROUND_COLOR:g,LEGAL_TEXT:O,LEGAL_TEXT_COLOR:y,TITLE_BACKGROUND_COLOR:E,TITLE_TEXT_COLOR:T,BUTTON_POSITION:S,BUTTON_LABELS:w}=e;if(!Object(Ro.a)(t)||!Object(Ro.a)(t.data_params))return;("HAS_TITLE"in e||"HAS_LEGAL"in e||"HAS_DISCLAIMER"in e||"HAS_BODY"in e||"HAS_BUTTON"in e||"HAS_DOMAIN"in e||"HAS_AGE"in e)&&NA();const P=wA(t.data_params);if(!Object(Ro.a)(P)||!Object(Ro.a)(P.text))return;const I=P.text,{title:C,domain:D,green_url_text_prefix:N,green_url_text_suffix:R,body:k,age:V,banner_flags:j}=I,L=function(e){let{domain:t,greenUrlTextPrefix:i,greenUrlTextSuffix:r}=e;return Object(ks.a)(i)?i:Object(ks.a)(r)?r:Object(ks.a)(t)?t:void 0}({domain:D,greenUrlTextPrefix:N,greenUrlTextSuffix:R}),M=P.unmoderated||I.unmoderated||{},{punyDomain:B}=M,U=Array.isArray(j)?j:[],{hasDrugDisclaimer:x,hasDietarysupplDisclaimer:F,hasDistanceSales:H,legalInfoText:z}=qi(e);U.length>0&&RA({bannerFlags:U}),M===I.unmoderated&&DA();const W={title:MA(C),domain:MA(D),greenUrl:MA(L),punyDomain:MA(B),domainBackgroundColor:MA(h),domainTextColor:MA(p),hasGreenUrl:BA(i),body:MA(k),ageRestriction:MA(V),hasAgeRestriction:BA(A),extraLinks:VA(M),legalInfoText:z,hasDrugDisclaimer:x,hasDietarysupplDisclaimer:F,hasDistanceSales:H,hasButton:BA(v),images:Gi(e),clickThruUrl:zi(e),ageBackgroundColor:MA(r),ageTextColor:MA(a),bodyBackgroundColor:MA(n),bodyTextColor:MA(o),buttonBorderColor:MA(s),buttonColor:MA(d),buttonTextColor:MA(l),hasDisclaimer:BA(f),disclaimerBackgroundColor:MA(c),disclaimerTextColor:MA(u),hasBody:BA(m),hasLegal:BA(b),hasTitle:BA(_),legalBackgroundColor:MA(g),legalText:MA(O),legalTextColor:MA(y),titleBackgroundColor:MA(E),titleTextColor:MA(T),buttonPosition:MA(S),buttonLabels:UA(w),offer:P,assets:PA(e),targetUrl:Yi(e)};return W.title&&(W.title=Hi(W.title)),W.body&&(W.body=Hi(W.body)),W},VA=e=>{if(!Object(Ro.a)(e))return[];const{sitelinks:t,addInfo:i,telNum:r,workingTime:a,metro:n,region:o}=e;if(LA(t)){const e=Object(To.a)(t,e=>Object(ks.a)(e.title)&&Object(ks.a)(e.url));if(e.length)return Object(Io.a)(e,e=>({type:"sitelink",text:e.title,url:e.url}))}const s=null===i||void 0===i?void 0:i.callouts_list;if(jA(s)){const e=Object(To.a)(s,ks.a);if(e.length)return Object(Io.a)(e,e=>({type:"callout",text:e}))}const d=Object(To.a)([r,a,n,o],ks.a);return Object(Io.a)(d,e=>({type:"contact",text:e}))},jA=e=>Array.isArray(e)&&rc(e,cs.a),LA=e=>Array.isArray(e)&&rc(e,Ro.a),MA=e=>Object(ks.a)(e)?e:void 0,BA=e=>"boolean"===typeof e?e:void 0,UA=e=>Object(Ro.a)(e)&&rc(ne(e),e=>"string"===typeof e)?e:void 0,xA=jl,FA=0,HA=!0,zA=!0,WA=1e3/60;class GA{constructor(e,t){this.callback=t,ir(this,"animationFrameFunctions",void 0),ir(this,"time",0),ir(this,"startTime",0),ir(this,"id",0),ir(this,"started",!1),ir(this,"loop",()=>{this.clearTimeouts();const e=Date.now(),t=e-this.startTime;this.startTime=e,this.time+=t,this.callback({time:this.time,diff:t}),this.started&&this.startDelay()}),this.animationFrameFunctions=tr(e)}start(){this.started||(this.started=!0,this.startTime=Date.now(),this.startDelay())}stop(){this.started&&(this.started=!1,this.clearTimeouts(),this.time+=Date.now()-this.startTime)}startDelay(){this.id=this.animationFrameFunctions.requestAnimationFrame(this.loop)}clearTimeouts(){this.animationFrameFunctions.cancelAnimationFrame(this.id)}}const YA=1500;class qA{constructor(e){this.params=e,rr(this,"animationFramesController",void 0),rr(this,"position",0),rr(this,"offset",0),rr(this,"duration",void 0),rr(this,"onFinishOnce",void 0),rr(this,"onAnimationFrame",e=>{let{diff:t}=e;const i=t/this.duration,r=YA/this.duration;if(Math.abs(this.offset)>=r){const e=this.position+i+this.offset;return void this.setPosition(e)}const a=i*(1+this.offset/r);this.position=Dt(this.position+a,0,1),this.position>=1&&this.onFinishOnce(),this.offset+=i-a,this.params.callback(this.position)}),this.duration=e.duration,this.onFinishOnce=Object(js.a)(e.onFinish),this.animationFramesController=new GA(e.win,this.onAnimationFrame)}start(){this.animationFramesController.start()}stop(){this.animationFramesController.stop()}adjustPosition(e){this.offset=e-this.position}setDuration(e){this.duration=e}setPosition(e){e>=1&&this.onFinishOnce(),this.position!==e&&(this.position=Dt(e,0,1),this.offset=0,this.params.callback(e))}}class XA{constructor(e){ar(this,"dispatch",Object(js.a)(e=>{this.value=e,this._isDispatched=!0,ni(this.callbacks,e),this.callbacks.length=0})),ar(this,"callbacks",[]),ar(this,"_isDispatched",!1),ar(this,"value",void 0),Object(ns.a)(e)&&this.callbacks.push(e)}subscribe(e){return this._isDispatched?(e(this.value),Vs.a):(this.callbacks.push(e),()=>{this.callbacks=Object(To.a)(this.callbacks,t=>t!==e)})}getDispatched(){return this._isDispatched}getValue(){return this.value}wait(){return new Promise(e=>{this.subscribe(e)})}}const KA=0,QA=0,JA=500/qu,ZA=function(e){return void 0===e&&(e=window),-1!==Object(pc.a)(e)}(),$A=null===Jh.onwaiting,em=!$A||ZA||Qh.a?(e,t)=>{let i=0,r=!1;return di(()=>{const a=e.currentTime,n=e.duration,o=1/fp;if(!e.paused){const e=i+o;r?a>e&&(t(!1),r=!1):a<e&&a!==n&&(t(!0),r=!0)}i=a})}:(e,t)=>{let i=!1;const r=ji(e,"pause",()=>{i&&(i=!1,t(!1))},{passive:!0}),a=ji(e,"waiting",()=>{i||(i=!0,t(!0))},{passive:!0}),n=ji(e,"playing",()=>{i&&(i=!1,t(!1))},{passive:!0}),o=ji(e,"canplay",()=>{i&&(i=!1,t(!1))},{passive:!0});return()=>{r(),a(),n(),o()}};class tm extends Eo.a{constructor(){super(),ur(this,"isStarted",!1),ur(this,"lastStartTime",void 0),ur(this,"spent",0),ur(this,"callbacks",[]),ur(this,"timeoutId",0),ur(this,"recalculateTimeAndDispatchCallbacks",()=>{if(!this.isStarted)return;const e=Date.now();if(this.spent+=e-this.lastStartTime,this.lastStartTime=e,this.dispatchCallbacksByTime(),this.callbacks.length<=0)return;const{time:t}=this.callbacks[0];window.clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout(this.recalculateTimeAndDispatchCallbacks,t-this.spent)}),this.addDestroyHandler(()=>{this.stop()})}start(){this.isStarted||this.isDestroyed||(this.isStarted=!0,this.lastStartTime=Date.now(),this.recalculateTimeAndDispatchCallbacks())}stop(){this.isStarted&&(window.clearTimeout(this.timeoutId),this.isStarted=!1,this.spent+=Date.now()-this.lastStartTime)}getTime(){return this.isStarted?Date.now()-this.lastStartTime+this.spent:this.spent}addCallback(e,t){e<=this.getTime()&&this.isStarted?t():(this.addCallbackToArray(e,t),this.recalculateTimeAndDispatchCallbacks())}waitForTime(e){return new Promise(t=>{this.addCallback(e,t)})}addCallbackToArray(e,t){const i={time:e,callback:t};for(let r=0;r<this.callbacks.length;r++){const{time:t}=this.callbacks[r];if(t>=e)return void this.callbacks.splice(r,0,i)}this.callbacks.push(i)}dispatchCallbacksByTime(){const[e,t]=g(this.callbacks,e=>{let{time:t}=e;return t<=this.spent});this.callbacks=t,Object(Co.a)(e,e=>{let{callback:t}=e;t()})}}class im extends Eo.a{constructor(){super(),hr(this,"bufferingTimeCount",void 0),hr(this,"isPlaying",new Qo.a(!1)),hr(this,"isBuffering",new Qo.a(!1)),this.bufferingTimeCount=new tm,this.addDestroyHandler(()=>{this.bufferingTimeCount.destroy()})}start(e){this.isPlaying.dispatch(!0),this.addDestroyHandler(em(e,e=>{this.isBuffering.dispatch(e)})),this.addDestroyHandler(nr([this.isPlaying,this.isBuffering],(e,t)=>e&&t,e=>{e?this.bufferingTimeCount.start():this.bufferingTimeCount.stop()}))}pause(){this.isPlaying.dispatch(!1)}resume(){this.isPlaying.dispatch(!0)}getBufferingTime(){return this.bufferingTimeCount.getTime()/qu}}const rm=20,am=e=>{switch(!0){case e<=1*qu:return"ReturnBackAfterClickThroughIn1Sec";case e<=2*qu:return"ReturnBackAfterClickThroughIn2Sec";case e<=10*qu:return"ReturnBackAfterClickThroughIn10Sec";case e<=60*qu:return"ReturnBackAfterClickThroughIn1Min";default:return"ReturnBackAfterClickThroughAfter1Min"}},nm=NaN,om=0,sm={duration:nm,remainingTime:om};var dm=i(78);const lm=Object(bs.a)({portion:"portion",seconds:"seconds"});class cm{constructor(e){var t,i,r;r={portion:[],seconds:[]},(i="trackingUrls")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r,Object(Co.a)(e,e=>{let{urls:t,offset:{unit:i,value:r}}=e;this.trackingUrls[i].push({urls:[...t],offset:r})})}getTrackingUrlsByPosition(e){let{duration:t,remainingTime:i}=e;if(!t||!J(i))return[];const r=t-i,a={portion:r/t,seconds:r},n=[];return Object(Co.a)(lm,e=>{const t=this.getTrackingUrlsByUnitAndOffset(e,a[e]);n.push(...t)}),n}getTrackingUrlsByUnitAndOffset(e,t){const[i,r]=g(this.trackingUrls[e],e=>{let{urls:i,offset:r}=e;return t>=r});return this.trackingUrls[e]=r,_(Object(Io.a)(i,e=>{let{urls:t}=e;return t}))}}var um=i(105),hm=i(138);const pm={AdClickThru:e=>{xo.c.error({error:new Uo.a({code:"CALL_USER_INTERACTION_DISPATCHER_AD_CLICK_THRU_WITHOUT_AD_CREATIVE",details:e})})}};class Am extends Eo.a{get contentType(){return this.mediaAd.contentType}constructor(e){let{adDisplayController:t,mediaAd:i,adPodViewerPlaybackParams:r}=e;super(),vr(this,"adDisplayController",void 0),vr(this,"mediaAd",void 0),vr(this,"adPodViewerPlaybackParams",void 0),vr(this,"playbackPosition",new Qo.a(sm,Ar)),vr(this,"userInteractionDispatchers",pm),vr(this,"packshotStartLatch",new XA),vr(this,"adVideoIsBuffering",new Qo.a(!1)),vr(this,"playingState",new Qo.a("idle",(e,t)=>"idle"===t?(xo.c.error({error:new Uo.a({code:"ATTEMPT_TO_CHANGE_PLAYING_STATE_TO_IDLE",details:void 0})}),!0):"end"===e?("end"!==t&&xo.c.error({error:new Uo.a({code:"ATTEMPT_TO_CHANGE_PLAYING_STATE_AFTER_END",details:void 0})}),!0):e===t)),vr(this,"isCreativeStartRequested",new Qo.a(!1)),vr(this,"onReady",new ts.a),vr(this,"onBeforeDestroy",new ts.a),vr(this,"isStarted",new Qo.a(!1)),vr(this,"onResume",new ts.a),vr(this,"onPause",new ts.a),vr(this,"onVolumeChange",new ts.a),vr(this,"onImpression",new ts.a),vr(this,"onImpressionDetermined",new ts.a),vr(this,"onImpressionUndetermined",new ts.a),vr(this,"onFirstQuartile",new ts.a),vr(this,"onMidpoint",new ts.a),vr(this,"onThirdQuartile",new ts.a),vr(this,"onBeforeComplete",new ts.a),vr(this,"completeLatch",new XA(()=>{this.trackEvent("complete",void 0)})),vr(this,"onClickThrough",new ts.a),vr(this,"onAdInteraction",new ts.a),vr(this,"playingTimeCounter",new tm),vr(this,"shouldPlayTimeCounter",new tm),vr(this,"bufferingTimeManager",void 0),vr(this,"getAdParametersTrackingUrls",e=>{var t,i;return null===(t=this.getAdParametersObject())||void 0===t?void 0:null===(i=t.trackingEvents)||void 0===i?void 0:i[e]}),vr(this,"subscribeFullscreenForLogs",()=>{const{videoNodeController:e}=this.adDisplayController,t=Object(js.a)(()=>{xo.c.error({error:new Uo.a({code:"VIDEOTAG_FULLSCREEN",details:void 0})})});e.isFullscreen()?t():this.onBeforeComplete.addOne(()=>{e.isFullscreen()&&t()})}),this.addDestroyHandler(e=>{const i=Math.round(this.shouldPlayTimeCounter.getTime()),r=Math.round(this.playingTimeCounter.getTime()),a=Math.round(i-r),n=Math.round(this.bufferingTimeManager.getBufferingTime()*qu),o=Math.round(this.getDuration()*qu),s=Math.round(this.getAdRemainingTime()*qu),l=Math.round(o-s),c=Math.round(n/l*1e6),{droppedVideoFrames:u,corruptedVideoFrames:h,totalVideoFrames:p,droppedVideoFramesRatio:A}=d(this.adDisplayController.videoNode),{videoToDevicePixelRatio:m,videoPixelRatio:v}=t.getAdPlacementOptions(),f=t.disclaimerParameters.getValue().length>0;xo.c.values({name:"ViewerDestroy",probability:Fo.a,data:{destroyReason:e},labels:{},values:{shouldPlayTime:i,playingTime:r,notPlayingTime:a,bufferingTime:n,duration:o,remainingTime:s,currentTime:l,bufferingTimeRatio:c,videoToDevicePixelRatio:m,videoPixelRatio:v,droppedVideoFrames:Math.round(u),corruptedVideoFrames:Math.round(h),totalVideoFrames:Math.round(p),droppedVideoFramesRatio:Math.round(1e6*A),vastHasDisclaimers:f?1:0,vastHasNoDisclaimers:f?0:1}}),this.playingTimeCounter.destroy(),this.shouldPlayTimeCounter.destroy(),this.onBeforeDestroy.dispatch(e)}),this.adDisplayController=t,this.mediaAd=i,this.adPodViewerPlaybackParams=r,this.isStarted.add(()=>{this.trackEvent("creativeView",void 0)}),this.onResume.add(()=>{this.trackEvent("resume",void 0)}),this.onPause.add(()=>{this.trackEvent("pause",void 0)}),this.packshotStartLatch.subscribe(()=>{this.trackEvent("packshotStart",void 0)});let a=0===this.getVolume();this.onVolumeChange.add(()=>{const e=0===this.getVolume();a!==e&&(this.trackEvent(e?"mute":"unmute",void 0),a=e)}),this.onImpression.addOne(()=>{this.trackEvent("impression",void 0)}),this.onImpressionDetermined.addOne(()=>{this.trackEvent("impressionDetermined",void 0)}),this.onImpressionUndetermined.addOne(()=>{this.trackEvent("impressionUndetermined",void 0)});const n=new cm(i.vastAd.progressTrackings);this.playbackPosition.add(e=>{let{remainingTime:t,duration:i}=e;const r=n.getTrackingUrlsByPosition({duration:i,remainingTime:t});r.length&&ft({eventName:"progress",trackingEventDetails:void 0,trackingUrls:r,options:this.adDisplayController.getAdPlacementOptions()})}),this.onFirstQuartile.add(()=>{this.trackEvent("firstQuartile",void 0)}),this.onMidpoint.add(()=>{this.trackEvent("midpoint",void 0)}),this.onThirdQuartile.add(()=>{this.trackEvent("thirdQuartile",void 0)}),this.bufferingTimeManager=new im,this.addDestroyHandler(()=>this.bufferingTimeManager.destroy()),this.playingState.subscribeValueConditionOnce(e=>"play"===e,()=>{this.shouldPlayTimeCounter.start(),this.bufferingTimeManager.start(t.videoNode),this.playingState.add(e=>{"play"!==e?(this.shouldPlayTimeCounter.stop(),this.bufferingTimeManager.pause()):(this.shouldPlayTimeCounter.start(),this.bufferingTimeManager.resume())})}),this.isStarted.addOne(()=>{const e=(this.getDuration()+rm)*qu;this.playingTimeCounter.addCallback(e,()=>{this.trackError(new Uo.a({code:"TOO_LONG_PLAYING",details:{src:this.getSrc()}}))}),this.playingTimeCounter.start(),this.onPause.add(()=>{this.playingTimeCounter.stop()}),this.onResume.add(()=>{this.playingTimeCounter.start()}),this.addDestroyHandler(()=>{this.playingTimeCounter.stop()})}),this.isStarted.add(()=>{this.playingState.dispatch("play")}),this.onPause.add(()=>{this.playingState.dispatch("pause")}),this.onResume.add(()=>{this.playingState.dispatch("play")}),this.addDestroyHandler(()=>{this.playingState.dispatch("end")}),this.onBeforeComplete.add(()=>{this.trackEvent("beforeComplete",void 0)}),this.addDestroyHandler(e=>{let{reason:t}=e;"skip"!==t&&"close"!==t||this.trackEvent(t,void 0)}),this.addDestroyHandler(()=>{this.isStarted.removeAll(),this.onResume.removeAll(),this.onPause.removeAll(),this.playingState.removeAll(),this.playbackPosition.removeAll(),this.onFirstQuartile.removeAll(),this.onMidpoint.removeAll(),this.onThirdQuartile.removeAll(),this.onBeforeComplete.removeAll(),this.onVolumeChange.removeAll(),this.adVideoIsBuffering.removeAll()}),this.addDestroyHandler(Object(rs.a)({element:window,eventName:"unload",listener:()=>{this.destroy({reason:"unload",details:void 0})}})),this.isStarted.addOne(()=>{this.subscribeFullscreenForLogs()})}trackEvent(e,t){this.mediaAd.trackEvent(e,this.adDisplayController.getAdPlacementOptions(),t)}trackAdParametersEvent(e,t){const i=this.getAdParametersTrackingUrls(e);Array.isArray(i)&&(Object(Jo.a)("Track event=["+e+"]"),ft({eventName:e,trackingEventDetails:t,trackingUrls:i,options:this.adDisplayController.getAdPlacementOptions()}))}trackStartEvent(){this.isCreativeStartRequested.getValue()||xo.c.error({error:new Uo.a({code:"TRACK_START_BEFORE_PLAY",details:{isVPAID:"js"===this.mediaAd.contentType}})});let e=this.shouldPlayTimeCounter.getTime();e<0&&(e=ko),this.trackEvent("start",{timeToStart:e})}trackError(e){this.mediaAd.trackError(e)}clickThrough(e){var t=this;void 0===e&&(e={});const{playerHandles:i=!0}=e,{clickThroughUrl:r}=this.adPodViewerPlaybackParams;let a;this.isDestroyed&&xo.c.error({error:new Uo.a({code:"CALL_AD_POD_VIEWER_CLICK_THROUGH_AFTER_DESTROY",details:{clickThroughParams:e}})}),e.url?a=e.url:r&&(xo.c.event({name:"UsingPresetClickThroughUrl",data:{clickThroughUrl:r}}),a=r);const{pauseOnClickThrough:n,clickThroughConfirmation:o}=this.adDisplayController.config,{clickThroughCallback:s}=this.adDisplayController.config;if(!Boolean(s||a)||!i)return void this.trackEvent("clickThrough",void 0);a&&(a=w({url:pr(a),options:this.adDisplayController.getAdPlacementOptions(),win:window}));const d=Object(js.a)((function(i){void 0===i&&(i=!1);const r=Date.now(),o=t.adDisplayController.getPaused(),d=n&&!o;if(d&&t.pause(),i){const e=mr(window.document,i=>{if(!i)return;d&&t.resume();const a=Date.now()-r;t.trackAdParametersEvent("returnAfterClickThrough",{timeSpentBeforeReturn:a});const n=am(a);xo.c.event({name:n,data:{timeSpentBeforeReturn:a}}),e()});t.addDestroyHandler(e)}t.trackEvent("clickThrough",void 0),t.onClickThrough.dispatch({adWasPaused:Boolean(n)}),s&&Fo.d&&xo.c.event({name:"ClickThroughCallbackHandle",probability:Fo.a,data:{clickThroughParams:e,url:a,pauseOnClickThrough:n}})}));if(s){o||d();const t=this.isDestroyed;s({url:a,onHandle:d}),!t&&this.isDestroyed&&xo.c.error({error:new Uo.a({code:"DESTROY_DURING_CLICK_THROUGH_CALLBACK_CALL",details:{clickThroughParams:e}})}),xo.c.event({name:"ClickThroughCallbackCall",probability:Fo.a,data:{clickThroughParams:e,url:a,pauseOnClickThrough:n}})}else{null!==window.open(a,"_blank")&&d(!0)}}isClickable(){return Boolean(this.adPodViewerPlaybackParams.isClickable)}getBufferingTime(){return this.bufferingTimeManager.getBufferingTime()}isVpaidAdPodViewer(){return void 0!==this.mediaAd.getJSMediaFile()}isNonLinear(){return this.mediaAd.vastAd.isNonLinear}isAdaptive(){if(!this.isVpaidAdPodViewer())return!1;if(this.isNonLinear())return!1;return this.mediaAd.getIsIndependentOnVideoElement()}getAdContentSize(){if(this.isNonLinear())return fh;if(this.isAdaptive())return vh;const e={width:this.getAdWidth(),height:this.getAdHeight()};return e.height!==KA&&e.width!==QA?e:void 0}getDesiredBitrate(){const{desiredBitrate:e=kl}=this.adDisplayController;return e}getAdParameters(){const e=this.mediaAd.getPreloadedVpaidAdParameters();return e||this.mediaAd.vastAd.adParameters}getAdParametersObject(){return this.mediaAd.vastAd.adParametersObject}}const mm=640,vm=480;class fm extends Am{constructor(e){super(e),br(this,"preferredSource",void 0),br(this,"videoNodeController",void 0),br(this,"curtain",void 0),br(this,"startTracked",!1),br(this,"makeVideoClickable",this.ignoreAfterDestroy(()=>{const{videoNode:e,slotParameters:t}=this.adDisplayController,i=()=>{const{clickThroughUrl:e}=this.adPodViewerPlaybackParams;xo.c.event({name:"VideoElementClick",data:{clickThroughUrl:e}}),e&&this.clickThrough({url:e})};this.addDestroyHandler(this.videoNodeController.onClick.add(i)),this.addDestroyHandler(Object(rs.a)({element:t.element,eventName:"click",listener:i,ignoreBubbling:!0})),or(e)&&this.isClickable()&&(Rl||(this.addDestroyHandler(wi(e,{cursor:"pointer"})),this.addDestroyHandler(wi(t.element,{cursor:"pointer"}))))})),br(this,"setAdMediaFile",Object(js.a)(e=>{this.preferredSource=e,this.videoNodeController.setSrc(e),this.onReady.dispatch(void 0)})),br(this,"getVideoMediaFileToPlay",Object(js.a)(()=>{const{width:e,height:t}=this.getVideoSize();let i=this.mediaAd.getPreloadedVideoFile();const r=this.mediaAd.getMediaFiles(),{adConfig:a,adBreak:n,vastAd:o}=this.mediaAd,s=this.mediaAd.getAdPodId(),d=o.vast;if(i||(i=ri(r,{container:{width:e,height:t},desiredBitrate:this.getDesiredBitrate(),isVideoADB:Object(ns.a)(Object(as.a)(this.adDisplayController.slotWindow)),bitratePriorityFactor:Sh,allowedToHideVideoSlotAreaPortion:this.adDisplayController.config.allowedToHideVideoSlotAreaPortion},{vast:d,adConfig:a,adBreak:n,adPodId:s,initiator:"VideoAdPodViewer"}).prioritisedMediaFile),i)return i}));const{adDisplayController:t}=e;this.videoNodeController=t.videoNodeController,this.videoNodeController.isFullscreen()&&this.trackEvent("fullscreen",void 0);const i=()=>{this.videoNodeController.isFullscreen()?this.trackEvent("fullscreen",void 0):this.trackEvent("exitFullscreen",void 0)};this.videoNodeController.fullscreenApi.addHandler(i),this.addDestroyHandler(()=>{this.videoNodeController.fullscreenApi.removeHandler(i),this.curtain&&Object(es.a)(this.curtain)}),this.isStarted.addOne(this.makeVideoClickable);const{adPodViewerPlaybackParams:r}=this,a=new Error,{videoTimeout:n}=r;this.shouldPlayTimeCounter.addCallback(n,()=>{if(this.isStarted.getValue())return;const{videoNode:e}=this.videoNodeController;this.destroy({reason:"error",details:new Uo.a(a,{code:"VIDEO_TIMEOUT",details:{adPodId:this.mediaAd.getAdPodId(),timeout:n,src:this.getSrc(),config:t.config,viewerPlaybackParams:r,networkState:e.networkState,readyState:e.readyState}})})})}resume(){this.playingState.dispatch("play"),this.videoNodeController.play()}play(e){void 0===e&&(e=!0),this.isDestroyed&&xo.c.error({error:new Uo.a({code:"PLAY_VIDEO_VIEWER_AFTER_DESTROY",details:{adPodId:this.mediaAd.getAdPodId()}})}),this.playingState.dispatch(e?"play":"pause");const t=this.getVideoMediaFileToPlay();if(t)this.setAdMediaFile(t),e?this.isCreativeStartRequested.getValue()?this.resume():this.start():this.addDestroyHandler(this.videoNodeController.onPlay.addOne(()=>{if(this.isCreativeStartRequested.getValue())return;this.videoNodeController.videoNode.currentSrc===this.preferredSource.url&&(xo.c.event({name:"StartVideoAdByVideoPlay",data:void 0}),this.start())}));else{const e=this.mediaAd.getMediaFiles();this.destroy({reason:"error",details:new Uo.a({code:1===e.length?"CANNOT_PLAY_SINGLE_VIDEO_MEDIA_FILE":"NO_APPROPRIATE_VIDEO_SOURCE",details:{mediaFiles:e,adPodId:this.mediaAd.getAdPodId()}})})}}pause(){this.playingState.dispatch("pause"),this.videoNodeController.pause()}skipAd(){this.destroy({reason:"skip",details:void 0})}getAdSkippableState(){const{skipDelay:e}=this.adPodViewerPlaybackParams;return e>0&&this.getCurrentTime()>e}getAdWidth(){var e,t;const i=this.videoNodeController.videoNode;return i.videoWidth>0?i.videoWidth:null!==(e=null===(t=this.preferredSource)||void 0===t?void 0:t.width)&&void 0!==e?e:QA}getAdHeight(){var e,t;const i=this.videoNodeController.videoNode;return i.videoHeight>0?i.videoHeight:null!==(e=null===(t=this.preferredSource)||void 0===t?void 0:t.height)&&void 0!==e?e:KA}getCurrentTime(){const{currentTime:e}=this.videoNodeController.getCurrentPosition();return e}getAdRemainingTime(){if(this.isDestroyed)return 0;const e=this.getDuration();if(!this.isCreativeStartRequested.getValue())return e;const{currentTime:t}=this.videoNodeController.getCurrentPosition();return e-t}getDuration(){const e=this.mediaAd.getDuration();if(!this.isStarted.getValue()||this.isDestroyed)return e;const{duration:t}=this.videoNodeController.getCurrentPosition();return t||e}getSrc(){var e,t;return null!==(e=null===(t=this.preferredSource)||void 0===t?void 0:t.url)&&void 0!==e?e:""}setMuted(e){this.videoNodeController.setMuted(e)}getVolume(){return this.adDisplayController.videoNodeController.getVolume()}setVolume(e){this.videoNodeController.setVolume(e)}resizeAd(e,t,i){void 0===i&&(i=yp.NORMAL)}subscribeEvents(){this.addDestroyHandler(this.videoNodeController.onVolumeChange.add(()=>{this.onVolumeChange.dispatch(void 0)})),this.addDestroyHandler(this.videoNodeController.onPlayAfterPause.add(()=>{this.startTracked&&this.onResume.dispatch(void 0)})),this.addDestroyHandler(this.videoNodeController.playingState.add(e=>{"pause"===e&&this.onPause.dispatch(void 0)}));const{bufferEmptyLimit:e}=this.adPodViewerPlaybackParams;this.addDestroyHandler(sr({videoNodeController:this.videoNodeController,bufferEmptyLimit:e,callback:()=>{const{videoNode:t}=this.videoNodeController,i=new Uo.a({code:"BUFFER_EMPTY_LIMIT",details:{bufferEmptyLimit:e,adPodId:this.mediaAd.getAdPodId(),networkState:t.networkState,readyState:t.readyState}});this.destroy({reason:"error",details:i})}}));const{bufferFullTimeout:t}=this.adPodViewerPlaybackParams;this.addDestroyHandler(dr({videoNodeController:this.videoNodeController,bufferFullTimeout:t,callback:()=>{const{videoNode:e}=this.videoNodeController;this.destroy({reason:"error",details:new Uo.a({code:"BUFFER_FULL_TIMEOUT",details:{bufferFullTimeout:t,adPodId:this.mediaAd.getAdPodId(),networkState:e.networkState,readyState:e.readyState}})})}})),this.addDestroyHandler(this.videoNodeController.onError.add(e=>{e=new Uo.a(e,{details:fr({},e.details,{selectedMediaFile:this.getVideoMediaFileToPlay(),mediaFiles:this.mediaAd.getMediaFiles()})}),this.destroy({reason:"error",details:e})})),this.addDestroyHandler(cr({videoNodeController:this.videoNodeController,durationFallback:()=>this.mediaAd.getDuration(),durationLimit:void 0,callbacks:{AdStarted:()=>{this.startTracked=!0,this.isStarted.dispatch(!0),this.trackStartEvent(),this.onImpression.dispatch(void 0)},AdVideoFirstQuartile:()=>this.onFirstQuartile.dispatch(void 0),AdVideoMidpoint:()=>this.onMidpoint.dispatch(void 0),AdVideoThirdQuartile:()=>this.onThirdQuartile.dispatch(void 0),AdVideoBeforeComplete:()=>this.onBeforeComplete.dispatch(void 0),AdVideoComplete:()=>{this.completeLatch.dispatch({canUseMediaAfterPlayback:!0}),this.destroy({reason:"complete",details:{canUseMediaAfterPlayback:!0}})}}}));const i=this.videoNodeController.currentPosition.add(e=>{let{currentTime:t,duration:i}=e;if(i>0)this.mediaAd.actualizeDuration(i);else{const e=this.mediaAd.getDuration();if(!e)return;i=e}this.playbackPosition.dispatch({duration:i,remainingTime:i-t})});this.addDestroyHandler(()=>{i()})}start(){this.isCreativeStartRequested.dispatch(!0),this.subscribeEvents(),this.videoNodeController.setSeekAllowed(!1),this.addDestroyHandler(this.videoNodeController.onSeekRestore.add(()=>{xo.c.event({name:"RestoreSeek",data:{},probability:Fo.a})})),this.addDestroyHandler(()=>{this.videoNodeController.setSeekAllowed(!0)}),this.videoNodeController.play(),this.videoNodeController.setVisibleControls(!1)}getVideoSize(){const e=this.videoNodeController.getWidth(),t=this.videoNodeController.getHeight();if(e&&t)return{width:e,height:t};const{width:i,height:r}=this.adDisplayController.slotParameters.size.getValue();return i&&r?{width:i,height:r}:{width:mm,height:vm}}}const bm=-1,_m=-1,gm=-2,Om=!1,ym={handshakeVersion:"2.0",getAdDuration:-2,getAdRemainingTime:gm,getAdVolume:Lo,getAdIcons:!1,getAdExpanded:!1,getAdHeight:KA,getAdWidth:QA,getAdLinear:!0,getAdSkippableState:Om},Em=_r({},{startAd:void 0,stopAd:void 0,skipAd:void 0,resizeAd:void 0,pauseAd:void 0,resumeAd:void 0,expandAd:void 0,collapseAd:void 0,subscribe:void 0,unsubscribe:void 0,setAdVolume:void 0},{initAd:void 0}),Tm=_r({},ym,Em),Sm={adLinear:0,adWidth:0,adHeight:0,adExpanded:0,adSkippableState:0,adRemainingTime:0,adDuration:0,adVolume:0,adIcons:0},wm={adLinear:"getAdLinear",adWidth:"getAdWidth",adHeight:"getAdHeight",adExpanded:"getAdExpanded",adSkippableState:"getAdSkippableState",adRemainingTime:"getAdRemainingTime",adDuration:"getAdDuration",adVolume:"getAdVolume",adIcons:"getAdIcons"},Pm={adVolume:"setAdVolume"},Im=10,Cm="Yandex creative cannot be played in a third-party environment, use Video Ads SDK https://yandex.ru/dev/video-sdk/",Dm={AdSkipped:"skip",AdStarted:"creativeView",AdImpression:"impression",AdVideoFirstQuartile:"firstQuartile",AdVideoMidpoint:"midpoint",AdVideoThirdQuartile:"thirdQuartile",AdVideoComplete:"complete",AdUserAcceptInvitation:"acceptInvitation",AdUserMinimize:"collapse",AdUserClose:"close",AdPaused:"pause",AdPlaying:"resume"},{initMoatTracking:Nm}=i(174),Rm={adloox:"AdCreativeInitMeasurer_adloox",admetrica:"AdCreativeInitMeasurer_admetrica",adriver:"AdCreativeInitMeasurer_adriver",moat:"AdCreativeInitMeasurer_moat",sizmek:"AdCreativeInitMeasurer_sizmek",weborama:"AdCreativeInitMeasurer_weborama"},km=["impression"],Vm={adloox:{impression:"TrackingEventWithMeasurer_impression_adloox"},yandexTestMeasurer:{impression:"TrackingEventWithMeasurer_impression_yandexTestMeasurer"},weborama:{impression:"TrackingEventWithMeasurer_impression_weborama"},sizmek:{impression:"TrackingEventWithMeasurer_impression_sizmek"},moat:{impression:"TrackingEventWithMeasurer_impression_moat"},adriver:{impression:"TrackingEventWithMeasurer_impression_adriver"},admetrica:{impression:"TrackingEventWithMeasurer_impression_admetrica"}},jm=Object(bs.a)({AdLoaded:0,AdStarted:0,AdStopped:0,AdSkipped:0,AdSkippableStateChange:0,AdSizeChange:0,AdLinearChange:0,AdDurationChange:0,AdExpandedChange:0,AdRemainingTimeChange:0,AdPodDurationChange:0,AdVolumeChange:0,AdImpression:0,AdVideoStart:0,AdVideoFirstQuartile:0,AdVideoMidpoint:0,AdVideoThirdQuartile:0,AdVideoBeforeComplete:0,AdVideoComplete:0,AdClickThru:0,AdInteraction:0,AdUserAcceptInvitation:0,AdUserMinimize:0,AdUserClose:0,AdPaused:0,AdPlaying:0,AdLog:0,AdError:0}),Lm=180,Mm=320*Lm,Bm=160,Um=300*Bm;class xm extends Eo.a{constructor(e){var t;super(),Er(this,"onResize",void 0),Er(this,"resizeObserverCallback",e=>{let[{contentRect:{width:t,height:i}}]=e;this.onResize.dispatch({width:t,height:i})}),Er(this,"getElementWindow",e=>{var t;return(null===(t=e.ownerDocument)||void 0===t?void 0:t.defaultView)||null});const i=$o(e);this.onResize=new Qo.a({width:i.width,height:i.height},(e,t)=>{let{width:i,height:r}=t;return e.width===i&&e.height===r}),this.addDestroyHandler(()=>{this.onResize.removeAll()});const r=this.getElementWindow(e),a=null!==(t=null===r||void 0===r?void 0:r.ResizeObserver)&&void 0!==t?t:window.ResizeObserver;if("undefined"!==typeof a&&Object(Cs.a)(ResizeObserver))try{const t=new a(this.resizeObserverCallback);t.observe(e),this.addDestroyHandler(()=>{t.disconnect()})}catch(n){this.fallbackToCustomDetectionMethods(e)}else this.fallbackToCustomDetectionMethods(e)}getSize(){return yr({},this.onResize.getValue())}fallbackToCustomDetectionMethods(e){const t=this.getElementWindow(e);if(!t)return;const i=()=>{const t=$o(e);this.onResize.dispatch({width:t.width,height:t.height})};this.addDestroyHandler(Object(rs.a)({element:t,eventName:"resize",listener:i,options:{passive:!0}})),this.addDestroyHandler(di(i))}}class Fm{setTimeout(e,t){const i=window.setTimeout(e,t);return()=>window.clearTimeout(i)}now(){return Date.now()}}class Hm{constructor(e){this.distributionFunction=e,Tr(this,"stopped",!0),Tr(this,"cancel",void 0),Tr(this,"clock",void 0),Tr(this,"lastNow",0),Tr(this,"lastKnockTime",0),Tr(this,"lastTimeout",0),Tr(this,"restTime",0),Tr(this,"destroyed",!1),Tr(this,"isFirstKnock",!0),Tr(this,"count",0),this.clock=new Fm}setEnabled(e){return e?this.start():this.stop(),this}stop(){return this.stopped||(this.stopped=!0,this.cancelTimeout(),this.restTime=Math.max(this.restTime-(this.clock.now()-this.lastKnockTime),0)),this}start(){return this.stopped&&!this.destroyed&&(this.stopped=!1,this.lastKnockTime=this.clock.now(),this.cancel=this.clock.setTimeout(()=>{this.knock(this.lastNow+this.lastTimeout)},this.restTime)),this}destroy(){this.cancelTimeout(),this.stopped=!0,this.destroyed=!0}reset(){this.setDefaultParams()}setDefaultParams(){this.stopped=!0,this.lastNow=0,this.lastTimeout=0,this.restTime=0,this.destroyed=!1,this.isFirstKnock=!0,this.lastKnockTime=0,this.count=0}knock(e){this.lastNow=e,this.lastKnockTime=this.clock.now(),this.isFirstKnock?this.isFirstKnock=!1:this.count++;const t=this.restTime=this.lastTimeout=this.distributionFunction({time:e,count:this.count});this.stopped||this.destroyed||(this.cancel=this.clock.setTimeout(()=>{this.knock(e+t)},t))}cancelTimeout(){this.cancel&&this.cancel(),this.cancel=void 0}}const zm={height:0,width:0},Wm=function(e){if(void 0===e&&(e=window),void 0===e.screen)return zm;const{width:t=zm.width,height:i=zm.height}=e.screen;return{width:t,height:i}},Gm=[{enabled:"fullscreenEnabled",element:"fullscreenElement",request:"requestFullscreen",exit:"exitFullscreen",events:{change:"fullscreenchange",error:"fullscreenerror"}},{enabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",request:"webkitRequestFullscreen",exit:"webkitExitFullscreen",events:{change:"webkitfullscreenchange",error:"webkitfullscreenerror"}},{enabled:"mozFullScreenEnabled",element:"mozFullScreenElement",request:"mozRequestFullScreen",exit:"mozCancelFullScreen",events:{change:"mozfullscreenchange",error:"mozfullscreenerror"}},{enabled:"msFullscreenEnabled",element:"msFullscreenElement",request:"msRequestFullscreen",exit:"msExitFullscreen",events:{change:"MSFullscreenChange",error:"MSFullscreenError"}},{enabled:"webkitSupportsFullscreen",element:"webkitDisplayingFullscreen",request:"webkitEnterFullscreen",exit:"webkitExitFullscreen",events:{change:"webkitfullscreenchange",error:"webkitfullscreenerror"}}],Ym={UNKNOWN:0,ETHERNET:1,WIFI:2,CELL_2G:3,CELL_3G:4};var qm=i(96);const Xm=ll([/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i],e=>null!==navigator.userAgent.match(e)),Km=!0,Qm=!0,Jm=.5,Zm=2;class $m extends Eo.a{constructor(e,t){let{considerDocumentVisibility:i=Km,numberOfMeasurementSteps:r=Zm}=void 0===t?{}:t;super(),this.element=e,kr(this,"totalVisibilityValueSignal",new Qo.a(!1)),kr(this,"totalVisibilityRatioValueSignal",void 0),kr(this,"elementVisibilityRatioValueSignal",void 0),kr(this,"documentVisibilityValueSignal",new Qo.a(Qm)),kr(this,"recalculateVisibility",()=>{if(this.isDestroyed||!Di(this.element))return;const e=Rr(this.element);this.elementVisibilityRatioValueSignal.dispatch(e)}),kr(this,"refreshTotalVisibility",()=>{const e=this.elementVisibilityRatioValueSignal.getValue(),t=this.documentVisibilityValueSignal.getValue()?e:0;this.totalVisibilityValueSignal.dispatch(t>=Jm),this.totalVisibilityRatioValueSignal.dispatch(t)});const a=Math.max(r,Zm);this.totalVisibilityRatioValueSignal=new Qo.a(0),this.elementVisibilityRatioValueSignal=new Qo.a(0);const n=e.ownerDocument.defaultView.IntersectionObserver;Boolean(n)?this.startIntersectionObserver(n,a):this.startVisibilityCheckInterval(),i&&this.startObservingDocumentVisibility(e.ownerDocument),this.elementVisibilityRatioValueSignal.add(this.refreshTotalVisibility),this.documentVisibilityValueSignal.add(this.refreshTotalVisibility),this.addDestroyHandler(()=>{this.totalVisibilityValueSignal.removeAll(),this.totalVisibilityRatioValueSignal.removeAll(),this.elementVisibilityRatioValueSignal.removeAll(),this.documentVisibilityValueSignal.removeAll()})}startIntersectionObserver(e,t){const i=[Jm],r=1/t;for(let n=1;n<t;n++)i.push(n*r);const a=new e(e=>{let[{intersectionRatio:t}]=e;this.elementVisibilityRatioValueSignal.dispatch(t)},{threshold:i});a.observe(this.element),this.addDestroyHandler(()=>{a.disconnect()})}startVisibilityCheckInterval(){const e=di(this.recalculateVisibility);this.addDestroyHandler(e);const{promise:t,clear:i}=Object(Do.a)(0);t.then(this.recalculateVisibility).catch(Vs.a),this.addDestroyHandler(i)}async startObservingDocumentVisibility(e){await Xl(0);const t=Object(um.a)(e);this.documentVisibilityValueSignal.dispatch(t);const i=mr(e,e=>{this.documentVisibilityValueSignal.dispatch(e)});this.addDestroyHandler(i)}}class ev{constructor(){var e=this;jr(this,"events",{}),jr(this,"subscribe",(e,t,i)=>{if("string"!==typeof t)throw new Error("Event name MUST be a string");if("function"!==typeof e)throw new Error("Event listener MUST be a function");let r=this.events[t];void 0===r&&(r=this.events[t]=[]),r.push({callback:e,context:i})}),jr(this,"unsubscribe",(e,t)=>{if("string"!==typeof t)throw new Error("Event name MUST be a string");if("function"!==typeof e)throw new Error("Event listener MUST be a function");const i=this.events[t];i&&(this.events[t]=Object(To.a)(i,t=>{let{callback:i}=t;return e!==i}))}),jr(this,"dispatch",(function(t){for(var i=arguments.length,r=new Array(i>1?i-1:0),a=1;a<i;a++)r[a-1]=arguments[a];if("string"!==typeof t)throw new Error("Event name MUST be a string");const n=e.events[t];n&&Object(Co.a)(n,e=>{let{callback:i,context:a}=e;try{i.apply(a,r)}catch(n){xo.c.error({error:new Uo.a(n,{code:"VpaidEventBusCallbackError",details:{vpaidEventName:t,params:r}})})}})}))}}i(175);const tv=WBViewAbility;var iv=i(65);const rv=8,av={id1:"",id2:"",id5:"",id7:"",id9:""},nv=e=>Object(Ad.b)("https://pixel.adlooxtracking.com/ads/ic.php",(e=>{let{id1:t,id2:i,id5:r,id7:a,id9:n}=e;return{_:String(Math.random()),type:"pixel",plat:"206",tag_id:"1251",client:"yandex",id1:t,id2:i,id3:"",id4:"",id5:r,id7:a,id9:n,id11:"$ADLOOX_WEBSITE",id12:"video-pixel"}})(e)),ov="https://verify.yandex.ru/verify_adloox?platformid=3&platform=206&plat=206",sv=e=>"https://"+cl.c+"/pcode-static/measurers/"+e+"/video/adloox.js",dv=pd.b.split("/"),lv=dv[dv.length-1],{initMoatTracking:cv}=i(176),uv={AdStopped:0,AdVideoStart:0,AdVideoFirstQuartile:0,AdVideoMidpoint:0,AdVideoThirdQuartile:0,AdVideoComplete:0,AdPaused:0,AdPlaying:0,AdVolumeChange:0},hv="yandexhostedvideo786420153684",pv=async e=>{let{vpaidCreative:t,slot:i,measurerParameters:r}=e;await Object(iv.a)({src:"https://"+cl.c+"/pcode-static/measurers/1/main.js",win:window}).promise,verify(i,{vpaidCreative:t,measurerParameters:r})},Av={adriver:async e=>{let{vpaidCreative:t,slot:i,measurerParameters:r,yastaticVersion:a}=e;const n=i.ownerDocument.defaultView,o=(e=>"https://"+cl.c+"/pcode-static/measurers/"+e+"/video/adriver.js")(a);await Object(iv.a)({win:n,src:o}).promise,new n.AdriverViewabilityYandexVPAID(Mr({},r,{ya_custom:"ADSID="+vd.a}),i,t),Object(Jo.a)("adriver measurer loaded")},moat:async function(e){let{vpaidCreative:t,slot:i,measurerParameters:r,onMeasurerError:a,yastaticVersion:n}=e;const o=cv(i,Br({},r,{zMoatADID:vd.a,slicer1:lv,partnerCode:hv}),t.getAdDuration(),hv,n);Object(Co.a)(Object(bs.a)(uv),e=>{t.subscribe(()=>{try{o.dispatchEvent({type:e,adVolume:t.getAdVolume()})}catch(i){a(new Uo.a({code:"MOAT_DISPATCH_EVENT_ERROR",details:{error:i,eventName:e}}))}},e)})},adloox:async function(e){let{vpaidCreative:t,slot:i,measurerParameters:r,onMeasurerError:a,yastaticVersion:n}=e;var o;const s=Lr({},r,{targetelt:((o=i).id||(o.id=Object(Zo.a)(rv)),o.id),urli:ov,urlv:ov,urle:ov},{id8:vd.a}),d=Object(wo.a)(Object(wu.a)(s),(e,t,i)=>{let[r,a]=t;return"string"!==typeof a?e:e+(0===i?"#":"&")+r+"="+encodeURIComponent(a)},"");t.subscribe(()=>{const e=""+sv(n)+d;Y(nv(Lr({},av,s))),Object(iv.a)({win:i.ownerDocument.defaultView,src:e}).promise.catch(e=>{a(new Uo.a({code:"ADLOOX_SCRIPT_LOADING_ERROR",details:{error:e}}))})},"AdStarted")},weborama:async e=>{let{vpaidCreative:t,slot:i,measurerParameters:r,yastaticVersion:a}=e;const n=i.ownerDocument.defaultView,o=(e=>"https://"+cl.c+"/pcode-static/measurers/"+e+"/video/weborama.js")(a);await Object(iv.a)({win:n,src:o}).promise,new n.WBMeasurerV(i,t,JSON.stringify(Ur({},r,{siteid:vd.a}))),Object(Jo.a)("weborama measurer loaded")},admetrica:pv,sizmek:pv,yandexTestMeasurer:async e=>{let{vpaidCreative:t,slot:i,measurerParameters:r,yastaticVersion:a}=e;Object(Jo.a)("start YandexTestMeasurer initialization"),Object(Co.a)(jm,e=>{const i=Object(js.a)(()=>{xo.c.event({name:xr(e),data:void 0,probability:Fo.a})});t.subscribe((function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];Object(Jo.a)("YandexTestMeasurer received VPAID event=["+e+"], args=["+he(r)+"]"),i()}),e)}),Object(Jo.a)("complete YandexTestMeasurer initialization")}},mv={moat:{actual:"71",unstable:"71"},adloox:{actual:"35",unstable:"35"},weborama:{actual:"42",unstable:"42"},adriver:{actual:"28",unstable:"28"},sizmek:{actual:"1",unstable:"1"},admetrica:{actual:"1",unstable:"1"},yandexTestMeasurer:{actual:"1",unstable:"2"}},vv=(e,t)=>{const i=mv[e],r=t;return Object(Ro.a)(r)&&"use_unstable_script"in r&&Boolean(r.use_unstable_script)?i.unstable:i.actual},fv=3e4,bv=Object(bs.a)(Av),_v={1:[],2:[],3:[],5:[]};class gv extends Eo.a{constructor(e,t,i){var r,a;super(),r=this,this.vpaidCreative=e,this.parameters=t,this.callbacks=i,Jr(this,"userInteractionDispatchers",{AdClickThru:e=>{this.onClickThru.dispatch(e)}}),Jr(this,"vpaidCreativeProxyForMeasurers",void 0),Jr(this,"playingStateValueSignal",new Qo.a(!1)),Jr(this,"bufferingTimeManager",void 0),Jr(this,"slotVisibilityStateValueSignal",void 0),Jr(this,"slotHoverStateValueSignal",new Qo.a(!1)),Jr(this,"vpaidInitParameters",void 0),Jr(this,"measurerStartParameters",void 0),Jr(this,"shouldPlayTimeCounter",new tm),Jr(this,"lastVolume",void 0),Jr(this,"vpaidEventBus",new ev),Jr(this,"vpaidCreativeProxyForMeasurersEventBus",new ev),Jr(this,"isVisibilityConfirmed",!1),Jr(this,"initializedMeasurers",void 0),Jr(this,"initMeasurableParameters",Object(js.a)(e=>{var t;const i=e[4];if(!Object(Ro.a)(i))throw new Uo.a({code:"VPAID_MEASURER_INVALID_CREATIVE_DATA",details:void 0});const{AdParameters:r}=i,a=e[5];if(!Object(Ro.a)(a)||!Object(Ro.a)(a.slot))throw new Uo.a({code:"VPAID_MEASURER_INVALID_ENVIRONMENT_VARS",details:void 0});const{slot:n,videoSlot:o,yandexAdPlaybackParams:s}=a,d=null!==(t=this.parameters.measurersSlot)&&void 0!==t?t:n;this.bufferingTimeManager.start(o);const{parameters:l,errors:c}=function(e){if(!e)return{parameters:void 0,errors:[new Uo.a({code:"AD_PARAMETERS_ABSENT_IN_MEASURER",details:{adParametersString:e}})]};let t={};try{t=JSON.parse(e)}catch(h){return{parameters:void 0,errors:[new Uo.a({code:"INVALID_AD_PARAMETERS_JSON_IN_MEASURER",details:{adParametersString:e}})]}}const{viewability:i,encounters:r,dwell:a,start:n,trackingEvents:o,viewedComplete:s,weborama:d,moat:l}=t,{measurers:c,errors:u}=Gr(t);return{parameters:{measurers:c,viewability:Yr(i),dwell:Yr(a),trackingEvents:L(j(o),{encounters:Hr(r),viewedComplete:Hr(s),start:Hr(n)}),weborama:d,moat:Xr(l),skipAdSdkDetect:qr(t)},errors:u}}(r);if(Object(Co.a)(c,this.callbacks.onExecutionError),!l)throw new Uo.a({code:"VPAID_MEASURER_AD_PARAMETERS_ERROR",details:{adParameters:r}});const{skipAdSdkDetect:u}=l;if(!Object(Ro.a)(s)){const e=new Uo.a({code:u?"LEGAL_DIRECT_AD_PLAYING":"ILLEGAL_DIRECT_AD_PLAYING",message:Cm,details:{adParameters:r}});if(this.callbacks.onExecutionError(e),!u)throw e}this.vpaidInitParameters={slot:d,videoSlot:o,adParameters:l},this.initMeasurers()})),Jr(this,"initMeasurers",Object(js.a)(()=>{const{vpaidInitParameters:e,vpaidCreativeProxyForMeasurers:t}=this;if(!e)return this.callbacks.onExecutionError(new Uo.a({code:"ATTEMPT_TO_INIT_MEASURERS_WITHOUT_PARAMETERS",details:{measurableVpaidExists:Boolean(t),vpaidInitParametersExist:Boolean(e)}})),Promise.resolve();const{adParameters:{measurers:i,weborama:r,moat:a},slot:n}=e;if(r&&"string"===typeof r.wbStatData)try{(new tv).init(n,r.wbStatData,t)}catch(s){this.callbacks.onExecutionError(new Uo.a(s,{code:"WEBORAMA_INIT_ERROR",details:void 0}))}if(a){const{partnerCode:e,ids:i}=a;try{!function(e){let{vpaid:t,container:i,ids:r,partnerCode:a}=e;Nm(t,i,r,a)}({ids:i,vpaid:t,container:n,partnerCode:e})}catch(s){this.callbacks.onExecutionError(new Uo.a(s,{code:"INIT_MOAT_TRACKING_ERROR",details:{ids:i,partnerCode:e}}))}}const o=Qr({},i,{yandexTestMeasurer:{}});return this.initializedMeasurers=o,Promise.all(Object(Io.a)(Object(bs.a)(o),async e=>{const i=o[e],r=function(e,t){if(null==e)return{};var i,r,a={},n=Object.keys(e);for(r=0;r<n.length;r++)i=n[r],t.indexOf(i)>=0||(a[i]=e[i]);return a}(i,["use_unstable_script"]),a=Av[e],d=vv(e,i);try{await a({vpaidCreative:t,slot:n,measurerParameters:r,onMeasurerError:e=>{this.callbacks.onExecutionError(e)},yastaticVersion:d}),"yandexTestMeasurer"!==e&&this.callbacks.onInitMeasurer({measurerName:e,measurableVpaidCreative:t,slot:n,measurerParameters:r})}catch(s){this.callbacks.onExecutionError(new Uo.a({code:"MEASURER_INIT_ERROR",details:{measurerName:e,measurerParameters:r,error:new gl.a(s)}}))}}))})),Jr(this,"trackEncounters",Object(js.a)(e=>{this.vpaidInitParameters?(this.isVisibilityConfirmed=!0,this.trackEvent("encounters",this.getTrackingUrlsByTrackingEventName("encounters"),{reason:e}),this.vpaidEventBus.dispatch("AdImpression"),this.trackEvent("impression",this.getTrackingUrlsByTrackingEventName("impression"),void 0),this.trackImpressionWithVisibility()):this.callbacks.onExecutionError(new Uo.a({code:"VPAID_MEASURER_CANNOT_TRACK_ENCOUNTERS_BEFORE_START",details:{eventName:"encounters"}}))})),Jr(this,"trackTrueView",Object(js.a)(e=>{this.trackEvent("trueView",this.getTrackingUrlsByTrackingEventName("trueView"),{reason:e})})),Jr(this,"startMeasurement",Object(js.a)(()=>{const{vpaidInitParameters:e}=this;if(!e)return void this.destroy({error:new Uo.a({code:"VPAID_MEASURER_NO_PARAMS_ON_START",details:void 0})});const{slot:t,adParameters:i,videoSlot:r}=e,{viewability:a,dwell:n}=i;this.addDestroyHandler(function(e,t){let i=function(e){if(!e)return!1;const{parentElement:t}=e;return!(!t||"function"!==typeof t.querySelector)&&t.querySelector(":hover")===e}(e);i&&t(!0);const r=ji(e,"mouseenter",()=>{i||(i=!0,t(!0))}),a=ji(e,"mouseleave",()=>{i&&(i=!1,t(!1))});return()=>{r(),a()}}(t,e=>{this.slotHoverStateValueSignal.dispatch(e)}));const o=new xm(t),s=o.getSize();this.callbacks.onSlotSizeChange(s);const d=or(r)?new xm(r):o,l=new Qo.a(Or(s,Rl));let c;if(o.onResize.add(e=>{this.callbacks.onSlotSizeChange(e),l.dispatch(Or(e,Rl))}),this.parameters.visibilityRatio)c=this.parameters.visibilityRatio;else{const e=new $m(t,{numberOfMeasurementSteps:Im});c=e.totalVisibilityRatioValueSignal,this.addDestroyHandler(()=>e.destroy())}this.measurerStartParameters={videoSlotSize:d.onResize,slotSize:o.onResize,visibilityRatio:c},this.addDestroyHandler(c.add(e=>{this.slotVisibilityStateValueSignal.dispatch(e>=Jm)})),this.addDestroyHandler(()=>{d.destroy(),o.destroy()});const u=new Hm(e=>{let{count:t}=e;return 1===t&&(u.destroy(),this.trackTrueView("progress")),fv}),h=new Hm(e=>{let{count:t}=e;const i=function(e){return e>3?{eventName:"viewability5",intervalId:5}:1===e?{eventName:"viewability1",intervalId:1}:2===e?{eventName:"viewability2",intervalId:2}:3===e?{eventName:"viewability3",intervalId:3}:void 0}(t);return void 0!==i&&this.trackEvent(i.eventName,a[i.intervalId],void 0),Kr(t)}),p=new Hm(e=>{let{count:t}=e;const i=function(e){return e>3?{eventName:"dwell5",intervalId:5}:1===e?{eventName:"dwell1",intervalId:1}:2===e?{eventName:"dwell2",intervalId:2}:3===e?{eventName:"dwell3",intervalId:3}:void 0}(t);return void 0!==i&&this.trackEvent(i.eventName,n[i.intervalId],void 0),Kr(t)}),A=new Hm(e=>{let{count:t}=e;return 2===t&&(this.trackEncounters("viewability"),A.destroy()),Kr(t)});this.addDestroyHandler(()=>{u.destroy(),h.destroy(),p.destroy(),A.destroy()}),this.addDestroyHandler(this.playingStateValueSignal.add(e=>{u.setEnabled(e)})),this.addDestroyHandler(nr([this.playingStateValueSignal,this.slotVisibilityStateValueSignal,l],(e,t,i)=>e&&t&&i,e=>{e&&A.reset(),h.setEnabled(e),A.setEnabled(e)})),this.addDestroyHandler(nr([this.playingStateValueSignal,this.slotVisibilityStateValueSignal,this.slotHoverStateValueSignal,l],(e,t,i,r)=>e&&t&&i&&r,e=>{p.setEnabled(e)}))})),Jr(this,"methodSniffers",{subscribe:this.vpaidEventBus.subscribe,unsubscribe:this.vpaidEventBus.unsubscribe}),Jr(this,"onClickThru",new ts.a),Jr(this,"eventSniffers",{AdLoaded:()=>{this.initMeasurers().then(()=>{this.vpaidEventBus.dispatch("AdLoaded")}).catch(Rs.a)},AdClickThru:(e,t,i)=>{var r;this.callbacks.onExecutionError(new Uo.a({code:"VPAID_MEASURER_RECEIVED_AD_CLICK_THRU_EVENT",details:{adParameters:null===(r=this.vpaidInitParameters)||void 0===r?void 0:r.adParameters}})),this.onClickThru.dispatch({url:e,id:t,playerHandles:i}),this.vpaidEventBus.dispatch("AdClickThru",e,t,i)}}),Jr(this,"vpaidWillSetProperty",(e,t)=>{this.vpaidCreative[e]=t}),Jr(this,"vpaidWillCallMethod",(e,t)=>{if(this.updatePlayTimeCounter(e),"initAd"===e)try{this.initMeasurableParameters(t)}catch(r){return this.vpaidEventBus.dispatch("AdError",r),void this.destroy({error:r})}switch(e){case"startAd":this.startMeasurement();break;case"stopAd":this.destroy({reason:e})}const i=this.methodSniffers[e];return i?i(...t):this.vpaidCreative[e].apply(this.vpaidCreative,t)}),Jr(this,"trackImpressionWithVisibility",()=>{ml?this.trackEvent("impressionDetermined",this.getTrackingUrlsByTrackingEventName("impressionDetermined"),void 0):this.trackEvent("impressionUndetermined",this.getTrackingUrlsByTrackingEventName("impressionUndetermined"),void 0)}),Jr(this,"updatePlayTimeCounter",e=>{switch(e){case"startAd":case"resumeAd":return this.shouldPlayTimeCounter.start();case"pauseAd":return this.shouldPlayTimeCounter.stop();default:return}}),Jr(this,"trackEvent",(function(e,t,i){if(void 0===t&&(t=[]),Object(Jo.a)("Track VPAIDMeasurer event=["+e+"]"),!r.vpaidInitParameters||!r.measurerStartParameters)return void r.callbacks.onExecutionError(new Uo.a({code:"VPAID_MEASURER_CANNOT_TRACK_EVENT_BEFORE_START",details:{eventName:e}}));const{slotSize:a,videoSlotSize:n,visibilityRatio:o}=r.measurerStartParameters,s={eventName:e,trackingEventDetails:i,trackingUrls:t,options:Ir({win:window,slotSize:a.getValue(),videoSlotSize:n.getValue(),slotVisibilityRatio:o.getValue(),videoNode:r.vpaidInitParameters.videoSlot,bufferingTime:r.bufferingTimeManager.getBufferingTime()})};pt(s),r.callbacks.onTrackEvent(s),gr(e,r.initializedMeasurers)})),this.vpaidCreativeProxyForMeasurers=this.createVpaidCreativeProxyForMeasurers(e),this.onClickThru.add(e=>{let{url:t,id:i,playerHandles:r}=e;this.trackEvent("clickThrough",this.getTrackingUrlsByTrackingEventName("clickThrough"),void 0),this.trackEncounters("click"),this.trackTrueView("click"),this.vpaidCreativeProxyForMeasurersEventBus.dispatch("AdClickThru",t,i,r)}),this.playingStateValueSignal.add(i.onPlayingStateChange);let n=!1;t.visibilityRatio&&(n=t.visibilityRatio.getValue()>=Jm),this.slotVisibilityStateValueSignal=new Qo.a(n),null===(a=t.visibilityRatio)||void 0===a||a.add(e=>this.slotVisibilityStateValueSignal.dispatch(e>=Jm)),this.slotVisibilityStateValueSignal.add(i.onSlotVisibilityStateChange),this.slotHoverStateValueSignal.add(i.onSlotHoverStateChange),this.bufferingTimeManager=new im,this.addDestroyHandler(()=>this.bufferingTimeManager.destroy()),this.addDestroyHandler(e=>{i.onStop(e),Object(Co.a)([this.playingStateValueSignal,this.slotVisibilityStateValueSignal,this.slotHoverStateValueSignal],e=>{e.dispatch(!1),e.removeAll()})}),this.addDestroyHandler(()=>{this.shouldPlayTimeCounter.destroy()}),this.subscribeVPAIDEvents()}createVpaidCreativeProxyForMeasurers(e){var t=this;const i=U(Em,(e,t)=>()=>{Object(Jo.a)("Measurer called VPAID action method=["+t+"]"),xo.c.event({name:"Measurer_VPAIDActionMethodCalled",data:{methodName:t}})}),r=U(ym,(t,i)=>{return function(){const t=e[i];for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return t.apply(e,a)}});return Object(Co.a)(jm,e=>{this.vpaidEventBus.subscribe((function(){for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t.vpaidCreativeProxyForMeasurersEventBus.dispatch(e,...r)}),e)}),Vr(Qr({},i,r,{subscribe:(e,t,i)=>this.vpaidCreativeProxyForMeasurersEventBus.subscribe(e,t,i),unsubscribe:(e,t)=>this.vpaidCreativeProxyForMeasurersEventBus.unsubscribe(e,t)}))}subscribeVPAIDEvents(){var e=this;Object(Co.a)(jm,t=>{this.vpaidCreative.subscribe((function(){for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];e.vpaidDidDispatchEvent(t,r)}),t)})}vpaidDidDispatchEvent(e,t){const i=Dm[e];if(i&&this.trackEvent(i,this.getTrackingUrlsByTrackingEventName(i),void 0),"AdVideoStart"===e&&this.onAdVideoStart(),"AdVideoComplete"===e&&(this.isVisibilityConfirmed&&this.trackEvent("viewedComplete",this.getTrackingUrlsByTrackingEventName("viewedComplete"),void 0),this.trackTrueView("complete")),"AdError"===e){const e=this.getTrackingUrlsByTrackingEventName("error"),i={error:new Uo.a({code:"VPAID_MEASURER_AD_ERROR",details:{args:t}}),trackingUrls:e};Object(Jo.a)("Track VPAIDMeasurer event=[error]"),q(i),this.callbacks.onAdError(i)}var r,a,n,o,s;("AdStarted"===e&&(this.lastVolume=this.vpaidCreative.getAdVolume()),"AdUserClose"===e)&&this.callbacks.onExecutionError(new Uo.a({code:"VPAID_MEASURER_RECEIVED_AD_USER_CLOSE_EVENT",details:{adParameters:null===(r=this.vpaidInitParameters)||void 0===r?void 0:r.adParameters}}));"AdSkipped"===e&&this.callbacks.onExecutionError(new Uo.a({code:"VPAID_MEASURER_RECEIVED_AD_SKIPPED_EVENT",details:{adParameters:null===(a=this.vpaidInitParameters)||void 0===a?void 0:a.adParameters}}));"AdImpression"===e&&this.callbacks.onExecutionError(new Uo.a({code:"VPAID_MEASURER_RECEIVED_AD_IMPRESSION_EVENT",details:{adParameters:null===(n=this.vpaidInitParameters)||void 0===n?void 0:n.adParameters}}));"AdUserAcceptInvitation"===e&&this.callbacks.onExecutionError(new Uo.a({code:"VPAID_MEASURER_RECEIVED_AD_USER_ACCEPT_INVITATION_EVENT",details:{adParameters:null===(o=this.vpaidInitParameters)||void 0===o?void 0:o.adParameters}}));"AdUserMinimize"===e&&this.callbacks.onExecutionError(new Uo.a({code:"VPAID_MEASURER_RECEIVED_AD_USER_MINIMIZE_EVENT",details:{adParameters:null===(s=this.vpaidInitParameters)||void 0===s?void 0:s.adParameters}}));if("AdVolumeChange"===e&&"number"===typeof this.lastVolume){const e=this.vpaidCreative.getAdVolume();0===e&&this.lastVolume>0&&this.trackEvent("mute",this.getTrackingUrlsByTrackingEventName("mute"),void 0),e>0&&0===this.lastVolume&&this.trackEvent("unmute",this.getTrackingUrlsByTrackingEventName("unmute"),void 0),this.lastVolume=e}switch(e){case"AdStarted":case"AdPlaying":this.playingStateValueSignal.dispatch(!0),this.bufferingTimeManager.resume();break;case"AdPaused":this.playingStateValueSignal.dispatch(!1),this.bufferingTimeManager.pause();break;case"AdStopped":case"AdError":case"AdSkipped":this.destroy({reason:e})}const d=this.eventSniffers[e];void 0===d?this.vpaidEventBus.dispatch(e,...t):d(...t)}getTrackingUrlsByTrackingEventName(e){if(!this.vpaidInitParameters)return[];const{adParameters:{trackingEvents:t}}=this.vpaidInitParameters,i=t[e];return Array.isArray(i)?Object(Io.a)(i,t=>{const i=this.getConsumerAdditionalTrackingParams(e,t);return Object(Ro.a)(i)?Object(Ad.b)(t,i,{override:!1}):t}):[]}getConsumerAdditionalTrackingParams(e,t){const i=Object(al.a)(()=>{var i,r;return null===(i=(r=this.parameters).getAdditionalTrackingParameters)||void 0===i?void 0:i.call(r,{eventName:e,url:t})});return!Object(Ro.a)(i)||Wi(i)?null:i}onAdVideoStart(){this.measurerStartParameters?this.trackEvent("start",this.getTrackingUrlsByTrackingEventName("start"),{timeToStart:this.shouldPlayTimeCounter.getTime()}):this.callbacks.onExecutionError(new Uo.a({code:"VPAID_AD_VIDEO_START_BEFORE_START_AD_CALL",details:void 0}))}}const Ov="ENABLE"===Cl("TRACK_COMPLETE_BEFORE_PACKSHOT")?"ENABLE":void 0,yv=()=>Lo,Ev=()=>!1,Tv=()=>!1,Sv=e=>"2.0";var wv,Pv,Iv,Cv,Dv,Nv,Rv={},kv=[],Vv=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;wv={__e:function(e,t){for(var i,r;t=t.__;)if((i=t.__c)&&!i.__)try{if(i.constructor&&null!=i.constructor.getDerivedStateFromError&&(r=!0,i.setState(i.constructor.getDerivedStateFromError(e))),null!=i.componentDidCatch&&(r=!0,i.componentDidCatch(e)),r)return sa(i.__E=i)}catch(t){e=t}throw e}},aa.prototype.setState=function(e,t){var i;i=this.__s!==this.state?this.__s:this.__s=$r({},this.state),"function"==typeof e&&(e=e(i,this.props)),e&&$r(i,e),null!=e&&this.__v&&(t&&this.__h.push(t),sa(this))},aa.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),sa(this))},aa.prototype.render=ra,Pv=[],Iv="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Dv=Rv,Nv=0;var jv,Lv,Mv,Bv=[],Uv=wv.__r,xv=wv.diffed,Fv=wv.__c,Hv=wv.unmount;wv.__r=function(e){Uv&&Uv(e),jv=0,(Lv=e.__c).__H&&(Lv.__H.__h.forEach(Na),Lv.__H.__h.forEach(Ra),Lv.__H.__h=[])},wv.diffed=function(e){xv&&xv(e);var t=e.__c;if(t){var i=t.__H;i&&i.__h.length&&(1!==Bv.push(t)&&Mv===wv.requestAnimationFrame||((Mv=wv.requestAnimationFrame)||function(e){var t,i=function(){clearTimeout(r),cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(i,100);"undefined"!=typeof window&&(t=requestAnimationFrame(i))})(Da))}},wv.__c=function(e,t){t.some((function(e){try{e.__h.forEach(Na),e.__h=e.__h.filter((function(e){return!e.__||Ra(e)}))}catch(i){t.some((function(e){e.__h&&(e.__h=[])})),t=[],wv.__e(i,e.__v)}})),Fv&&Fv(e,t)},wv.unmount=function(e){Hv&&Hv(e);var t=e.__c;if(t){var i=t.__H;if(i)try{i.__.forEach((function(e){return e.t&&e.t()}))}catch(e){wv.__e(e,t.__v)}}};const zv=e=>Object(Xo.a)(e)?e:new Uo.a(e,{code:"PREACT_ERROR",details:{error:e}}),Wv=e=>{const[t]=Ea(new Qo.a({status:"initial"}));Sa(()=>{const i=t.getValue();return"initial"!==i.status?(e.onFirstRender(i),Vs.a):t.addOne(t=>{"initial"!==t.status&&e.onFirstRender(t)})},[t]),Ta(()=>{"initial"===t.getValue().status&&t.dispatch({status:"success"})},[t]);const[i]=function(e){var t=Oa(jv++),i=Ea();return t.__=e,Lv.componentDidCatch||(Lv.componentDidCatch=function(e){t.__&&t.__(e),i[1](e)}),[i[0],function(){i[1](void 0)}]}((function(){for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];const n=Object(So.a)(r)&&1===r.length&&Object(vu.a)(r[0])?r[0]:void 0,o=null!==n&&void 0!==n?n:new Error("Preact error boundary error"),s=zv(o);xo.c.error({error:s});const{status:d}=t.getValue();"initial"===d?t.dispatch({status:"error",error:s}):e.onRuntimeError(s)}));return i||"error"===t.getValue().status?null:ta(ra,null,e.children)},Gv=(Object(Ts.a)({propertyName:"ERROR_BOUNDARY_GLOBAL_CALLBACK",win:window}),ga({}));Gv.Provider.displayName="ErrorBoundaryTestContext";const Yv=e=>{const t=e.components;return ta(ra,null,Object(wo.a)(t,(t,i)=>i(ja({},e.componentsProps,{children:t})),e.children))};var qv=function(){for(var e,t,i=0,r="";i<arguments.length;)(e=arguments[i++])&&(t=La(e))&&(r&&(r+=" "),r+=t);return r};const Xv=ga(Mo);Xv.Provider.displayName="SlotSizeContext";const Kv=e=>Ma(e),Qv=()=>Ca(Xv),Jv=ga({element:document.body});Jv.Provider.displayName="SlotContext";const Zv=e=>{return{element:e}},$v=()=>Ca(Jv);Number(new Date);class ef{constructor(){var e,t,i;e=this,t="usingStylesByContainersMap",i=new WeakMap,t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}addStyleUsing(e,t){const i=this.usingStylesByContainersMap.get(e);if(!i)return this.usingStylesByContainersMap.set(e,new Map([[t,1]])),!0;const r=i.get(t);return r?(i.set(t,r+1),!1):(i.set(t,1),!0)}removeStyleUsing(e,t){const i=this.usingStylesByContainersMap.get(e);if(!i)return!0;const r=i.get(t);return!r||(i.set(t,r-1),!(r>1)&&(i.delete(t),0===i.size&&this.usingStylesByContainersMap.delete(e),!0))}}const tf=new class{constructor(){Ua(this,"stylesUsingCounter",new ef),Ua(this,"styleElementsMap",new WeakMap)}useStyleModule(e,t){const i=t,r=[];for(let a=0;a<i.length;a++){const[t,n]=i[a];if(n){if(this.stylesUsingCounter.addStyleUsing(e,t)){const i=Ba(e,n),r=this.styleElementsMap.get(e);r?r.set(t,i):this.styleElementsMap.set(e,new Map([[t,i]]))}r.push(t)}}return r.length?Object(js.a)(()=>{Object(Co.a)(r,t=>{const i=this.stylesUsingCounter.removeStyleUsing(e,t),r=this.styleElementsMap.get(e);if(!i||!r)return;const a=r.get(t);Object(es.a)(a),r.delete(t),0===r.size&&this.styleElementsMap.delete(e)})}):Vs.a}},rf=ga({descriptionText:void 0,buttonText:"",openClickThroughUrl:Vs.a,progress:0,hasTimeline:!1,disableOverlay:!1});rf.Provider.displayName="PackshotContext";var af=i(149),nf=i.n(af);const of=e=>{let{children:t,onClick:i}=e;return xa(nf.a),ta("div",{className:af.locals.PackshotButton,onClick:i},ta("div",{className:af.locals.PackshotButton__content},t))};var sf=i(157),df=i.n(sf);const lf=e=>{let{width:t,height:i}=e;return xa(df.a),ta("div",{className:sf.locals.PackshotOverlay,style:{width:t+"px",height:i+"px"}})},cf=4,uf=e=>Math.floor(1e4*e)/1e4;var hf=i(90),pf=i.n(hf);const Af="#ff1a2d",mf=1,vf=e=>{let{currentNumber:t,count:i,color:r=""+Af,adAnimationProgress:a,backgroundOpacity:n=mf}=e;xa(pf.a);const{width:o,transform:s}=function(e){let{currentNumber:t,count:i}=e;const r=cf*(i-1)/i,a="calc("+uf(100/i)+"% - "+uf(r)+"px)",n=t*cf;return{width:a,transform:"translateX("+("calc("+uf(100*t)+"% + "+uf(n)+"px)")+")"}}({currentNumber:t,count:i});return ta("div",{className:hf.locals.TimelineBar__container,style:{width:o,transform:s}},ta("div",{className:qv(hf.locals.TimelineBar,hf.locals.TimelineBar__background),style:{opacity:""+n}}),ta("div",{className:qv(hf.locals.TimelineBar,hf.locals.TimelineBar__progress),style:{transform:"scaleX("+a+")",backgroundColor:r}}))};var ff=i(81),bf=i.n(ff);const _f=()=>{xa(bf.a);const{width:e,height:t}=Qv(),i=function(e){let{width:t}=e;return t<560?13:t<720?14:16}({width:e}),{descriptionText:r,buttonText:a,openClickThroughUrl:n,progress:o,hasTimeline:s,disableOverlay:d=!1}=(()=>Ca(rf))();return ta("div",{onClick:a?void 0:n,className:qv(ff.locals.PackshotScreen,{[ff.locals.PackshotScreen_clickable]:!a}),style:{width:e+"px",height:t+"px"}},!d&&ta("div",{className:ff.locals.PackshotScreen__packshotOverlayWrapper},ta(lf,{width:e,height:t})),a&&ta("div",{className:ff.locals.PackshotScreen__buttonWrapper},ta(of,{onClick:n},a)),Object(ks.a)(r)&&ta("div",{className:ff.locals.PackshotScreen__textBlock,style:{fontSize:i+"px"}},r),s&&ta("div",{className:ff.locals.PackshotScreen__timelineBarWrapper},ta(vf,{adAnimationProgress:o,currentNumber:0,count:1,color:"white"})))},gf=[e=>ta(Jv.Provider,{value:Zv(e.container),children:e.children}),e=>ta(Xv.Provider,{value:Kv(e.containerSize),children:e.children}),e=>ta(rf.Provider,{value:Fa(e),children:e.children})],Of=1e4;class yf extends Eo.a{constructor(e){var t,i,r;super(),this.props=e,t=this,i="shouldPlay",r=new Qo.a(!0),i in t?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r;const{duration:a,win:n,openClickThroughUrl:s,hasTimeline:d}=this.props,l=!o(a);this.addDestroyHandler(e=>{Object(Jo.a)("Packshot: destroy packshot reason=["+e.reason+"]"),xo.c.event({name:"PackshotDestroyed",data:{isInfiniteDuration:l,reason:e}})});const c=new Qo.a(0);let u;this.addDestroyHandler(function(e){const{container:t,onRuntimeError:i,onFirstRenderError:r}=e;return _a(ta(Wv,{onRuntimeError:i,onFirstRender:e=>{"error"===e.status&&r(e.error)}},ta(Yv,{components:gf,componentsProps:e},ta(_f,null))),t),()=>{_a(null,t)}}(Ha({},this.props,{openClickThroughUrl:()=>{xo.c.event({name:"PackshotButtonClicked",data:void 0}),s()},animationProgress:c,onFirstRenderError:e=>{this.destroy({reason:"firstRenderError",details:e})},onRuntimeError:e=>{this.destroy({reason:"runtimeError",details:e})},hasTimeline:d}))),xo.c.event({name:"PackshotRendered",data:{isInfiniteDuration:l}}),l?(u=new GA(n,e=>{let{time:t}=e;const i=Math.atan(t/Of)/(.5*Math.PI);c.dispatch(i)}),this.addDestroyHandler(()=>{u.stop()}),u.start()):(u=new qA({win:n,duration:a*qu,callback:e=>{c.dispatch(e)},onFinish:()=>{xo.c.event({name:"PackshotTimelineFinished",data:void 0}),this.destroy({reason:"complete",details:void 0})}}),c.add(e=>{e>=1&&u.stop()}),this.addDestroyHandler(()=>{u.stop(),c.removeAll(),this.shouldPlay.removeAll()}),u.start()),this.shouldPlay.add(e=>{e?u.start():u.stop()})}setPlaying(e){this.shouldPlay.dispatch(e)}}const Ef={complete:"AdVideoComplete",skip:"AdSkipped",close:"AdUserClose",stopAd:"AdStopped"};class Tf extends Eo.a{constructor(e){var t,i,r;super(),this.params=e,r=void 0,(i="promise")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r,this.promise=this.loadAdCreative().catch(e=>{throw this.destroy(),e})}async loadAdCreative(){const{adParametersString:e,slot:t,externalLiveCycle:i,initAdCreative:r}=this.params;if(!Object(ns.a)(r))throw new Uo.a({code:"AD_CREATIVE_ANIMATION_INIT_IS_NOT_A_FUNCTION",details:this.getAdCreativeErrorDetails()});let a,n;try{a=r({adParametersString:e,slot:t,externalLiveCycle:i})}catch(o){throw new Uo.a(o,{code:"AD_CREATIVE_ANIMATION_INIT_CALL_ERROR",details:this.getAdCreativeErrorDetails()})}if(!Ds(a))throw new Uo.a({code:"AD_CREATIVE_ANIMATION_INIT_RETURNS_NON_PROMISE_RESULT",details:this.getAdCreativeErrorDetails()});try{n=await a}catch(o){if(Object(Xo.a)(o))throw o;throw new Uo.a(o,{code:"AD_CREATIVE_ANIMATION_INIT_ERROR",details:this.getAdCreativeErrorDetails()})}return this.destroy(),n}getAdCreativeErrorDetails(){const{adParametersString:e}=this.params;return{adParametersString:e}}}const Sf={startAd:()=>new Promise(Vs.a),stopAd:Vs.a};class wf extends Eo.a{constructor(e){super(),this.params=e,Wa(this,"vpaidEventBus",new ev),Wa(this,"handshakeVersion",Sv),Wa(this,"subscribe",this.vpaidEventBus.subscribe),Wa(this,"unsubscribe",this.vpaidEventBus.unsubscribe),Wa(this,"resizeAd",Vs.a),Wa(this,"expandAd",Vs.a),Wa(this,"collapseAd",Vs.a),Wa(this,"getAdIcons",Tv),Wa(this,"getAdExpanded",Ev),Wa(this,"setAdVolume",Vs.a),Wa(this,"getAdVolume",yv),Wa(this,"initAd",Object(js.a)(()=>{this.vpaidEventBus.dispatch("AdLoaded")})),Wa(this,"videoStartedLatch",new XA),Wa(this,"adCreativeLatch",new XA),Wa(this,"completeLatch",new XA),Wa(this,"isPackshotStarted",new XA),Wa(this,"remainingTime",new Qo.a(gm)),Wa(this,"shouldPlay",new Qo.a(!1)),Wa(this,"isPlaying",new Qo.a(!1)),Wa(this,"shouldPlayTimeCounter",new tm),Wa(this,"lifeCycleLatches",U({AdVideoFirstQuartile:0,AdVideoMidpoint:0,AdVideoThirdQuartile:0,AdVideoBeforeComplete:0},(e,t)=>new XA(this.ignoreAfterDestroy(()=>{this.vpaidEventBus.dispatch(t)})))),Wa(this,"stopAdAndDestroyWrapper",Vs.a),Wa(this,"stopAnimation",Vs.a),Wa(this,"beforeDestroyLatch",new XA),Wa(this,"pauseAd",()=>{this.shouldPlay.dispatch(!1)}),Wa(this,"resumeAd",()=>{this.shouldPlay.dispatch(!0)}),Wa(this,"getAdHeight",()=>{var e;return null!==(e=this.params.videoNodeController.videoNode.videoHeight)&&void 0!==e?e:KA}),Wa(this,"getAdWidth",()=>{var e;return null!==(e=this.params.videoNodeController.videoNode.videoWidth)&&void 0!==e?e:QA}),Wa(this,"getAdLinear",()=>!1),Wa(this,"getAdDuration",()=>{const e=this.getVideoDurationConsideringDurationLimit();return e||bm}),Wa(this,"getAdRemainingTime",()=>{const{videoParameters:e,videoNodeController:t}=this.params;if(e){const e=this.getVideoDurationConsideringDurationLimit(),{currentTime:i}=t.getCurrentPosition();if(o(e)&&J(i))return Math.max(e-i,0)}return _m}),Wa(this,"getAdSkippableState",()=>!0),Wa(this,"dispatchAdStarted",()=>{this.vpaidEventBus.dispatch("AdStarted"),this.vpaidEventBus.dispatch("AdVideoStart")}),this.addDestroyHandler(()=>{this.beforeDestroyLatch.dispatch(void 0)});const{videoParameters:t,videoNodeController:i,isNonLinear:r,slot:a,slotSize:n,packshotParameters:s,lang:d,getVPAIDLogDetails:c}=e;if(this.vpaidEventBus.subscribe(e=>{xo.c.errorToStats(e)},"AdError"),this.addDestroyHandler(Object(js.a)(()=>{this.vpaidEventBus.dispatch("AdStopped")})),this.addDestroyHandler(()=>{this.shouldPlayTimeCounter.destroy()}),this.shouldPlay.add(e=>{e?this.shouldPlayTimeCounter.start():this.shouldPlayTimeCounter.stop()}),this.remainingTime.add(()=>{this.vpaidEventBus.dispatch("AdRemainingTimeChange")}),this.beforeDestroyLatch.subscribe(()=>{this.remainingTime.removeAll()}),t){this.getAdVolume=()=>i.getVolume(),this.setAdVolume=e=>{0===e?i.setMuted(!0):i.setVolume(e)};const e=()=>{const e=i.playingState.getValue()===uA.PLAY;this.isPlaying.dispatch(e)};this.beforeDestroyLatch.subscribe(i.playingState.add(e)),e()}else this.shouldPlay.add(this.isPlaying),this.isPlaying.dispatch(this.shouldPlay.getValue());if(r||i.pause(),t&&(this.attachToVideoNode(t,i),this.addDestroyHandler(this.adCreativeLatch.subscribe(()=>{this.shouldPlay.getValue()&&i.play();const e=this.shouldPlay.add(e=>{e?i.play():i.pause()});this.isPackshotStarted.subscribe(e),this.addDestroyHandler(e)}))),this.params.videoParameters?this.videoStartedLatch.subscribe(this.dispatchAdStarted):this.adCreativeLatch.subscribe(e=>{const{getAdDuration:t,getAdRemainingTime:i}=e;if(!t||!i)return void this.dispatchAdStarted();const r=this.remainingTime.add(()=>{0!==t()-i()&&(this.dispatchAdStarted(),r())});this.addDestroyHandler(r)}),this.adCreativeLatch.subscribe(e=>{const{getAdDuration:i,getAdRemainingTime:r,resizeAd:a}=e;this.startAdCreative(e),this.isPlaying.getValue()||this.pauseAdCreative(e),this.isPlaying.add(t=>{t?this.resumeAdCreative(e):this.pauseAdCreative(e)}),t||(Object(ns.a)(i)&&(this.getAdDuration=()=>i.call(e)),Object(ns.a)(r)&&(this.getAdRemainingTime=()=>r.call(e),this.beforeDestroyLatch.subscribe(di(()=>{this.remainingTime.dispatch(this.getAdRemainingTime())})))),this.stopAnimation=Object(js.a)(()=>{e.stopAd()}),this.beforeDestroyLatch.subscribe(this.stopAnimation),this.beforeDestroyLatch.subscribe(n.add(t=>{Object(ns.a)(a)&&a.call(e,t)}))}),s){const e=a.ownerDocument,t=e.createElement("div"),i=e.defaultView;if(i){const{packshotImageUrl:e}=s;this.lifeCycleLatches.AdVideoThirdQuartile.subscribe(()=>{G(e)}),this.completeLatch.subscribe(this.ignoreAfterDestroy(()=>{"ENABLE"===Ov&&this.vpaidEventBus.dispatch("AdVideoComplete"),this.isPackshotStarted.dispatch(za({},s,{packshotContainer:t,win:i}))}))}else xo.c.error({error:new Uo.a({code:"AD_CREATIVE_PACKSHOT_WINDOW_NULL",details:{win:String(i)}}),probability:Fo.a})}else this.completeLatch.subscribe(this.ignoreAfterDestroy(()=>{this.stopAdAndDestroyWrapper("complete")}));this.isPackshotStarted.subscribe(e=>{let{packshotDuration:t,packshotImageUrl:r,packshotActionButtonClickUrl:o,onPackshotStart:s,packshotButtonText:u,packshotContainer:h,win:p}=e;this.stopAnimation(),i.pause(),s(),l(h,za({},_s,{backgroundImage:"url("+r+")",backgroundPosition:"center",backgroundSize:"cover"})),a.appendChild(h);const A=new yf({duration:t,container:h,win:p,containerSize:n,openClickThroughUrl:()=>{this.params.adCreativeUserInteractionCallbacks.AdClickThru({url:o,id:void 0,playerHandles:!0})},buttonText:u||pA("LEARN_MORE",d),descriptionText:void 0,disableOverlay:void 0,hasTimeline:!0});this.shouldPlay.add(e=>{A.setPlaying(e)}),A.addDestroyHandler(e=>{let{reason:t,details:i}=e;"complete"!==t?("firstRenderError"!==t&&"runtimeError"!==t||(xo.c.error({error:new Uo.a({code:"firstRenderError"===t?"AD_CREATIVE_PACKSHOT_FIRST_RENDER_ERROR":"AD_CREATIVE_PACKSHOT_RUNTIME_ERROR",details:c()})}),this.vpaidEventBus.dispatch("AdError",i)),this.destroy()):"ENABLE"===Ov?this.destroy():this.stopAdAndDestroyWrapper("complete")}),this.addDestroyHandler(()=>{A.destroy({reason:"stopAd",details:void 0}),Object(es.a)(h)})}),this.loadAndRenderAnimation().catch(this.ignoreAfterDestroy(e=>{this.vpaidEventBus.dispatch("AdError",e),this.destroy()}))}startAd(){var e;const t=Boolean(this.params.videoParameters),i=null===(e=this.params.videoParameters)||void 0===e?void 0:e.getAutoplay();!t||i?(Object(Jo.a)("AdCreativeWrapper: start playing"),this.shouldPlay.dispatch(!0)):(Object(Jo.a)("AdCreativeWrapper: CANNOT start playing"),this.shouldPlay.dispatch(!1),xo.c.event({name:"AdCreativeWrapperCannotAutoplayOnStart",data:{hasVideoParameters:t,canAutoplay:i},probability:Fo.a})),this.beforeDestroyLatch.subscribe(this.shouldPlay.add(e=>{t&&!this.isPackshotStarted.getDispatched()||this.vpaidEventBus.dispatch(e?"AdPlaying":"AdPaused")})),this.stopAdAndDestroyWrapper=e=>{const t=Ef[e];this.vpaidEventBus.dispatch(t),this.destroy()},this.beforeDestroyLatch.subscribe(()=>{this.shouldPlay.dispatch(!1),this.shouldPlay.removeAll()})}stopAd(){this.destroy()}skipAd(){this.vpaidEventBus.dispatch("AdSkipped"),this.stopAd()}getVideoDurationConsideringDurationLimit(){const{videoParameters:e,videoNodeController:t}=this.params;if(e){const{durationLimit:i}=e,{duration:r}=t.getCurrentPosition(),a=o(r)?r:void 0;if(a&&o(i))return Math.min(a,i);if(a)return a}}async loadAndRenderAnimation(){const{animationParameters:e,adCreativeWindow:t,getVPAIDLogDetails:i,slot:r,videoParameters:a}=this.params;if(!e)return void this.adCreativeLatch.dispatch(Sf);const{animationMediaFile:n,getPreloadedAdCreativeInitFunction:o,adCreativeParameters:s}=e;let d=o();try{if(Object(ns.a)(d))0;else{0;const{promise:e,teardown:i}=Nt({animationMediaFile:n,win:t});this.beforeDestroyLatch.subscribe(i),d=await e}}catch(u){if(Object(Xo.a)(u))throw u;throw new Uo.a(u,{code:"CANNOT_LOAD_AD_CREATIVE_ANIMATION_MEDIA_FILE",details:i()})}if(this.isDestroyed)return;const l=new Tf({slot:r,adParametersString:s,externalLiveCycle:Boolean(a),initAdCreative:d});this.beforeDestroyLatch.subscribe(()=>{l.destroy()});const c=await l.promise;this.isDestroyed||this.adCreativeLatch.dispatch(c)}attachToVideoNode(e,t){const{videoSlotSize:i,videoContentSize:r,videoMediaFile:a,videoMediaFiles:n,videoTimeout:s,bufferEmptyLimit:d,bufferFullTimeout:l,durationLimit:c,durationFallback:u,onVideoBufferingStateChange:h}=e,{videoNode:p}=t,{clickThroughUrl:A,animationParameters:m,slot:v}=this.params;t.onVolumeChange.add(()=>this.vpaidEventBus.dispatch("AdVolumeChange"));const f=Date.now();this.addDestroyHandler(t.onCanPlay.addOne(()=>{xo.c.values({name:"MediaFileLoadingTime",values:{loadingTime:Date.now()-f},data:void 0,labels:{},probability:Fo.a})})),t.setSrc(a),void 0!==A&&this.beforeDestroyLatch.subscribe(this.videoStartedLatch.subscribe(()=>{const e=()=>{this.params.adCreativeUserInteractionCallbacks.AdClickThru({url:A,id:void 0,playerHandles:!0})};this.beforeDestroyLatch.subscribe(t.onClick.add(()=>{xo.c.event({name:"AdCreativeWrapperVideoElementClick",data:{clickThroughUrl:A}}),e()})),or(p)&&!Rl&&this.beforeDestroyLatch.subscribe(wi(p,{cursor:"pointer"})),void 0===m&&(this.beforeDestroyLatch.subscribe(Object(rs.a)({element:v,eventName:"click",listener:t=>{xo.c.event({name:"AdCreativeWrapperSlotElementClick",data:{clickThroughUrl:A}}),e()},ignoreBubbling:!0})),Rl||this.beforeDestroyLatch.subscribe(wi(v,{cursor:"pointer"})))})),this.beforeDestroyLatch.subscribe(t.onVolumeChange.add(()=>{this.vpaidEventBus.dispatch("AdVolumeChange")})),this.beforeDestroyLatch.subscribe(this.videoStartedLatch.subscribe(()=>{const e=t.onPlayAfterPause.add(()=>{this.videoStartedLatch.getDispatched()&&this.vpaidEventBus.dispatch("AdPlaying")}),i=t.playingState.add(e=>{"pause"===e&&this.vpaidEventBus.dispatch("AdPaused")});this.beforeDestroyLatch.subscribe(e),this.beforeDestroyLatch.subscribe(i),this.isPackshotStarted.subscribe(e),this.isPackshotStarted.subscribe(i)}));const b=()=>{const e=this.adCreativeLatch.getValue();if(!e||!Object(ns.a)(e.adjustAdPosition))return;const t=this.getAdDuration(),i=this.getAdRemainingTime();o(t)&&J(i)&&e.adjustAdPosition({adDuration:t,adRemainingTime:i})};this.beforeDestroyLatch.subscribe(cr({durationFallback:u,durationLimit:c,videoNodeController:t,callbacks:za({},U(this.lifeCycleLatches,e=>()=>{e.dispatch(void 0)}),{AdStarted:()=>{this.videoStartedLatch.dispatch(void 0),b()},AdVideoComplete:e=>{if(e.completeOnDurationLimit){const{getVPAIDLogDetails:e}=this.params;xo.c.event({name:"CreativeCompleteOnDurationLimit",data:{durationLimit:c,vpaidLogDetails:e()}})}this.completeLatch.dispatch(void 0)}})}));const _=new Error;this.shouldPlayTimeCounter.addCallback(s,()=>{if(this.videoStartedLatch.getDispatched())return;const e=new Uo.a(_,{code:"AD_CREATIVE_VIDEO_TIMEOUT",details:{timeout:s,mediaFile:a,networkState:p.networkState,readyState:p.readyState}});this.vpaidEventBus.dispatch("AdError",e),this.stopAdAndDestroyWrapper("stopAd")}),this.beforeDestroyLatch.subscribe(this.videoStartedLatch.subscribe(()=>{t.isBuffering.getValue()&&h(!0),this.addDestroyHandler(t.isBuffering.add(e=>{h(e)}))})),this.beforeDestroyLatch.subscribe(this.videoStartedLatch.subscribe(()=>{this.beforeDestroyLatch.subscribe(sr({videoNodeController:t,bufferEmptyLimit:d,callback:()=>{const e=new Uo.a({code:"AD_CREATIVE_BUFFER_EMPTY_LIMIT",details:{bufferEmptyLimit:d,mediaFile:a,networkState:p.networkState,readyState:p.readyState}});this.vpaidEventBus.dispatch("AdError",e),this.stopAdAndDestroyWrapper("stopAd")}})),this.beforeDestroyLatch.subscribe(dr({videoNodeController:t,bufferFullTimeout:l,callback:()=>{const e=new Uo.a({code:"AD_CREATIVE_BUFFER_FULL_TIMEOUT",details:{bufferFullTimeout:l,mediaFile:a,networkState:p.networkState,readyState:p.readyState}});this.vpaidEventBus.dispatch("AdError",e),this.stopAdAndDestroyWrapper("stopAd")}}))})),t.setSeekAllowed(!1),this.beforeDestroyLatch.subscribe(t.onSeekRestore.add(()=>{xo.c.event({name:"AdCreativeRestoreSeek",data:{},probability:Fo.a})})),this.beforeDestroyLatch.subscribe(()=>{t.setSeekAllowed(!0)}),this.beforeDestroyLatch.subscribe(t.onError.add(e=>{e=new Uo.a(e,{details:za({},e.details,{selectedMediaFile:a,mediaFiles:n})}),this.vpaidEventBus.dispatch("AdError",e),this.stopAdAndDestroyWrapper("stopAd")})),this.beforeDestroyLatch.subscribe(t.currentPosition.add(()=>{b(),this.remainingTime.dispatch(this.getAdRemainingTime())})),this.beforeDestroyLatch.subscribe(i.add(e=>{const t=this.adCreativeLatch.getValue();t&&Object(ns.a)(t.resizeVideoSlot)&&t.resizeVideoSlot(e)})),this.beforeDestroyLatch.subscribe(r.add(e=>{const t=this.adCreativeLatch.getValue();t&&Object(ns.a)(t.resizeVideoContent)&&t.resizeVideoContent(e)}))}startAdCreative(e){const{slot:t,videoParameters:i,slotSize:r,getVPAIDLogDetails:a}=this.params,n=r.getValue(),o=U(this.lifeCycleLatches,e=>i?Vs.a:()=>e.dispatch(void 0)),s=e.startAd({get slot(){return Object(Wu.a)('You are using "slot" parameter from adCreative.startAd(...) method. This property is deprecated. Use "slot" parameter from initAdCreative method argument.'),xo.c.error({error:new Uo.a({code:"USING_SLOT_GETTER_FROM_START_AD_PARAMETERS",details:a()})}),t},callbacks:za({AdClickThru:this.ignoreAfterDestroy((e,t,i)=>{const r=Object(ks.a)(e)?e:this.params.clickThroughUrl;this.params.adCreativeUserInteractionCallbacks.AdClickThru({url:r,id:t,playerHandles:i})})},o),requestPause:()=>{this.pauseAd()},requestPlay:()=>{this.resumeAd()},videoSlotSize:i?i.videoSlotSize.getValue():n,size:n,videoContentSize:null===i||void 0===i?void 0:i.videoContentSize.getValue()});if(!Ds(s))throw new Uo.a({code:"AD_CREATIVE_START_AD_RETURNS_NON_PROMISE_RESULT",details:void 0});s.then(this.ignoreAfterDestroy(e=>{if(i)return;let t="complete";if(Object(Ro.a)(e)){const i=e.reason;Object(ks.a)(i)&&Boolean(Ef[i])&&(t=i)}"complete"===t?this.completeLatch.dispatch(void 0):this.stopAdAndDestroyWrapper(t)})).catch(this.ignoreAfterDestroy(e=>{this.vpaidEventBus.dispatch("AdError",e),this.destroy()}))}pauseAdCreative(e){var t;null===(t=e.pauseAd)||void 0===t||t.call(e)}resumeAdCreative(e){var t;null===(t=e.resumeAd)||void 0===t||t.call(e)}}const Pf=Object(js.a)(e=>{xo.c.event({name:"IntersectionObserverMocked",data:{functionCode:Object(al.a)(()=>e.IntersectionObserver.toString())}})}),If=Object(js.a)(()=>{xo.c.event({name:"DocumentHiddenMocked",data:void 0})}),Cf=Object(js.a)(e=>{xo.c.event({name:"IframeIntersectionObserverMocked",data:{functionCode:Object(al.a)(()=>e.IntersectionObserver.toString())}})}),Df=Object(js.a)(()=>{xo.c.event({name:"IframeDocumentHiddenMocked",data:void 0})}),Nf=["mousemove","mousedown","mouseup","contextmenu","touchstart","touchmove","touchend"],Rf=250,kf=0,Vf=.5,jf="open",Lf=5e3,Mf="2.0",Bf=Object(bs.a)({getAdLinear:0,getAdHeight:0,getAdWidth:0,getAdExpanded:0,getAdRemainingTime:0,getAdDuration:0,getAdVolume:0,getAdSkippableState:0});class Uf extends Eo.a{static getVpaidAd(e){return Vr(new Uf({outsideApi:e}))}handshakeVersion(){return Mf}stopAd(){Object(Jo.a)("[RemoteVPAID]: call remote stopAd()"),this.destroy({reason:"manual",details:"stopAd"}),Ja(this.params.outsideApi.callVpaidMethod("stopAd",[]))}initAd(e,t,i,r,a,n){if(this.isDestroyed)return void xo.c.error({error:new Uo.a({code:"VF_VPAID_INIT_CALLED_AFTER_DESTROY",details:{width:e,height:t,viewMode:i,desiredBitrate:r,creativeData:a,environmentVars:n}})});const o=function(e,t){if(null==e)return{};var i,r,a={},n=Object.keys(e);for(r=0;r<n.length;r++)i=n[r],t.indexOf(i)>=0||(a[i]=e[i]);return a}(n,["slot","videoSlot"]);this.params.outsideApi.initCreative([{width:e,height:t,viewMode:i,desiredBitrate:r,creativeData:a,environmentVars:Za({},o,{videoSlot:void 0,slot:void 0})}]).then(Vs.a).catch(e=>{this.destroy({reason:"fatal",details:e})})}startAd(){this.callRemoteMethod("startAd",[])}skipAd(){this.callRemoteMethod("skipAd",[])}resizeAd(e,t,i){this.callRemoteMethod("resizeAd",[e,t,i])}pauseAd(){this.callRemoteMethod("pauseAd",[])}resumeAd(){this.callRemoteMethod("resumeAd",[])}expandAd(){this.callRemoteMethod("expandAd",[])}collapseAd(){this.callRemoteMethod("collapseAd",[])}setAdVolume(e){this.callRemoteMethod("setAdVolume",[e])}getAdDuration(){return this.getterValues.getAdDuration}getAdRemainingTime(){return this.getterValues.getAdRemainingTime}getAdVolume(){return this.getterValues.getAdVolume}getAdExpanded(){return this.getterValues.getAdExpanded}getAdHeight(){return this.getterValues.getAdHeight}getAdWidth(){return this.getterValues.getAdWidth}getAdLinear(){return this.getterValues.getAdLinear}getAdSkippableState(){return this.getterValues.getAdSkippableState}constructor(e){super(),this.params=e,$a(this,"unsubscribe",Vs.a),$a(this,"getAdIcons",Tv),$a(this,"getterValues",Object(Gs.a)(Object(Io.a)(Bf,e=>[e,ym[e]]))),$a(this,"subscribe",(e,t,i)=>{this.params.outsideApi.listenRemoteVpaidEvents(t,(t,r)=>{e.apply(i,r)})});const{outsideApi:t}=e;this.addDestroyHandler(t.listenRemoteVpaidGetterValueChange(this.ignoreAfterDestroy((e,t)=>{this.getterValues[e]=t}))),this.addDestroyHandler(e=>{"fatal"===e.reason&&xo.c.error({error:new Uo.a({code:"VF_REMOTE_VPAID_FATAL_DESTROY",details:{error:e.details}})})})}callRemoteMethod(e,t){this.isDestroyed?xo.c.error({error:new Uo.a({code:"VF_VPAID_METHOD_CALLED_AFTER_DESTROY",details:{methodName:e,args:t}})}):this.params.outsideApi.callVpaidMethod(e,t).then(Vs.a).catch(e=>{this.destroy({reason:"fatal",details:e})})}}const xf="https://"+cl.c+"/"+Vc+"/overlay_creative.js",Ff=e=>{let{versionSupported:t,versionToCheck:i}=e;const r=Object(Io.a)(t.split("."),e=>parseInt(e,10)),a=Object(Io.a)(i.split("."),e=>parseInt(e,10));for(let n=0;n<a.length;n++){const e=a[n],t=r[n],i="undefined"===typeof t?0:t;if(e>i)return!1;if(e<i)return!0}return!0},Hf=e=>Object(Ro.a)(e)&&"function"===typeof e.handshakeVersion&&"function"===typeof e.initAd&&"function"===typeof e.startAd&&"function"===typeof e.stopAd&&"function"===typeof e.skipAd&&"function"===typeof e.resizeAd&&"function"===typeof e.pauseAd&&"function"===typeof e.resumeAd&&"function"===typeof e.expandAd&&"function"===typeof e.collapseAd&&"function"===typeof e.subscribe&&"function"===typeof e.unsubscribe,zf=["idle","load","init","start","play"];const Wf=e=>S(e)||!we(e),Gf=e=>{const{adConfig:{secureMode:t}}=e,i=null!==lc&&void 0!==lc?lc:t;if(!i)return!1;const r=e.getJSMediaFile();if(!r)return!1;switch(i){case"ForceSafe":return!0;case"Safe":return!Wf(r.url);case"OnlyYandexCreatives":case"Unsafe":default:return!1}};class Yf extends Am{constructor(e){super(e),an(this,"onAdSkippableStateChange",new ts.a),an(this,"creative",void 0),an(this,"adCreativeWrapper",void 0),an(this,"adSkippableState",!1),an(this,"canUseMediaAfterPlayback",!1),an(this,"lifeCycleStage",new Qo.a("idle",(e,t)=>{const i=zf.indexOf(e);return zf.indexOf(t)-i!==1&&xo.c.error({error:new Uo.a({code:"CREATIVE_STAGES_SEQUENCE_VIOLATED",details:rn({},this.getVPAIDLogDetails(),{currentStage:e,nextStage:t})})}),!1})),an(this,"startVpaidCreative",Object(js.a)(e=>{this.isCreativeStartRequested.dispatch(!0),this.lifeCycleStage.dispatch("start"),Object(Jo.a)("VPAID.startAd() called in startVpaidCreative method"),e.startAd();const t=this.shouldPlayTimeCounter.getTime();e.subscribe(Object(js.a)(()=>{Object(Jo.a)("VPAID dispatched AdStarted");const e=this.shouldPlayTimeCounter.getTime();this.lifeCycleStage.dispatch("play"),xo.c.values({name:"VpaidCreativeStarted",probability:Fo.a,data:this.getVPAIDLogDetails(),values:{timeBeforeStart:t,timeToStart:e-t,fullTime:e},labels:{}})}),"AdStarted")})),an(this,"creativeAdStartedCallback",re(()=>{if(this.isDestroyed)return void xo.c.error({error:new Uo.a({code:"VPAID_STARTED_AFTER_AD_DESTROY",details:this.getVPAIDLogDetails()})});this.isCreativeStartRequested.getValue()||xo.c.error({error:new Uo.a({code:"VPAID_STARTED_BEFORE_START_AD_CALL",details:this.getVPAIDLogDetails()})});const e=Object(js.a)(()=>{this.isStarted.dispatch(!0)}),t=this.playingState.getValue();Object(Jo.a)("VPAID dispatched AdStarted event with playingState=["+t+"]"),"play"!==t?this.playingState.subscribeValueConditionOnce(e=>"play"===e,e):e()},()=>{xo.c.error({error:new Uo.a({code:"VPAID_STARTED_MORE_THAN_ONCE",details:this.getVPAIDLogDetails()})})})),an(this,"createContainerNode",Object(js.a)(e=>{let{isAdCreative:t,isNonLinear:i}=e;const{slotDocument:r,slotParameters:a}=this.adDisplayController,n=r.createElement("div");l(n,rn({},_s,{pointerEvents:i?"none":"auto",visibility:"hidden",overflow:"hidden"})),this.isCreativeStartRequested.addOne(()=>{l(n,{visibility:"visible"})}),this.addDestroyHandler(()=>{Object(es.a)(n)}),a.element.appendChild(n);let o=null;return(t||i)&&(o=Xa(n))&&l(o,_s),o||n})),an(this,"prepareVpaidCreative",Object(js.a)(async()=>{this.addDestroyHandler(this.adDisplayController.videoNodeController.onVolumeChange.add(()=>{this.onVolumeChange.dispatch(void 0)}));const e=await this.initCreative();if(!e||this.isDestroyed)throw new Uo.a({code:"VPAID_WAS_DESTROYED_DURING_INIT",details:this.getVPAIDLogDetails()});e.subscribe(e=>{this.destroy({reason:"error",details:this.parseVpaidError(e,"VPAIDPlayingError")})},"AdError"),this.creative=e,this.addDestroyHandler(()=>{this.creative=void 0}),this.onReady.dispatch(void 0),"play"!==this.playingState.getValue()?this.startAndPauseVpaidCreative(e):this.startVpaidCreative(e),this.updateAdSkippableState()})),an(this,"updatePosition",this.ignoreAfterDestroy(()=>{var e,t,i,r;this.playbackPosition.dispatch({duration:this.getDuration(),remainingTime:null!==(e=null===(t=this.creative)||void 0===t?void 0:t.getAdRemainingTime())&&void 0!==e?e:_m}),Object(Jo.a)("[VpaidAdPodViewer]: updated position [duration = ["+this.getDuration()+"], adRemainingTime = ["+(null!==(i=null===(r=this.creative)||void 0===r?void 0:r.getAdRemainingTime())&&void 0!==i?i:_m)+"]]")})),an(this,"isAdPlayingCalled",!1),an(this,"getVPAIDLogDetails",()=>({adPodId:this.mediaAd.getAdPodId(),adParametersString:this.getAdParameters(),mediaFile:this.getCurrentSource(),viewerPlaybackParams:this.adPodViewerPlaybackParams,isViewerDestroyed:this.isDestroyed,hasCreativeInstance:Boolean(this.creative),isSlotInDom:Di(this.adDisplayController.slotParameters.element),lifeCycleStage:this.lifeCycleStage.getValue()}));const{adPodViewerPlaybackParams:t}=e,i=new Error,{vpaidTimeout:r}=t;this.shouldPlayTimeCounter.addCallback(r,()=>{const e=this.getSrc(),a=this.lifeCycleStage.getValue(),{videoNodeController:n}=this.adDisplayController,{videoNode:o}=n,s={adPodId:this.mediaAd.getAdPodId(),timeout:r,src:e,config:this.adDisplayController.config,viewerPlaybackParams:t,liveCycleStage:a,videoNodeSrc:o.src,adMediaState:this.adDisplayController.adMediaState.getValue(),networkState:o.networkState,readyState:o.readyState};this.isDestroyed?xo.c.error({error:new Uo.a({code:"SHOULD_PLAY_TIMER_IS_STARTED_AFTER_VIEWER_DESTROY",details:s})}):(this.isAdPlayingCalled&&!this.isStarted.getValue()&&xo.c.error({error:new Uo.a({code:"VPAID_TIMEOUT_PREVENTED_BY_AD_PLAYING_EVENT",details:s})}),this.isStarted.getValue()||this.isAdPlayingCalled||this.destroy({reason:"error",details:new Uo.a(i,{code:tn({creativeLifeCycleStage:a,isYandexCreative:Wf(this.getScriptSrc()),adCreativeWrapper:this.adCreativeWrapper}),details:s})}))}),this.completeLatch.subscribe(()=>{const{clear:e,promise:t}=Object(Do.a)(1e4);this.addDestroyHandler(e),t.then(()=>{xo.c.error({error:new Uo.a({code:"AD_STOPPED_IS_NOT_CALLED_AFTER_COMPLETE_IN_10_SEC",details:this.getVPAIDLogDetails()})})}).catch(Rs.a)}),this.completeLatch.subscribe(()=>{const{clear:e,promise:t}=Object(Do.a)(25e3);this.addDestroyHandler(e),t.then(()=>{xo.c.error({error:new Uo.a({code:"AD_STOPPED_IS_NOT_CALLED_AFTER_COMPLETE_IN_25_SEC",details:this.getVPAIDLogDetails()})})}).catch(Rs.a)}),this.addDestroyHandler(()=>{this.onAdSkippableStateChange.removeAll()})}play(e){void 0===e&&(e=!0),this.isDestroyed&&xo.c.error({error:new Uo.a({code:"PLAY_VPAID_VIEWER_AFTER_DESTROY",details:void 0})});const t=e?"play":"pause";this.playingState.dispatch(t),this.creative?this.resume():this.prepareVpaidCreative().catch(e=>{this.destroy({reason:"error",details:e})})}getCurrentTime(){if(!this.creative)return kf;const e=this.creative.getAdRemainingTime()||om;return n(e)?this.getDuration()-e:kf}getAdRemainingTime(){if(this.isDestroyed)return 0;if(!this.creative)return this.mediaAd.getDuration();const e=this.creative.getAdRemainingTime();return!n(e)||e<0?this.isStarted.getValue()?om:this.getDuration():e}pause(){this.playingState.dispatch("pause"),this.creative&&(Object(Jo.a)("VPAID.pauseAd() called in pause method"),this.creative.pauseAd())}resume(){const{creative:e}=this;return e?this.isCreativeStartRequested.getValue()?(this.playingState.dispatch("play"),Object(Jo.a)("VPAID.resumeAd() called in resume method"),void e.resumeAd()):void this.startVpaidCreative(e):(Object(Jo.a)("VpaidAdPodViewer dispatch playingState=play without creative"),void this.playingState.dispatch("play"))}skipAd(){this.creative&&this.creative.skipAd()}getAdSkippableState(){return this.creative&&"function"===typeof this.creative.getAdSkippableState?this.creative.getAdSkippableState():Om}getDuration(){if(this.creative){const e=this.creative.getAdDuration();if(e>0)return e}const e=this.mediaAd.getDuration();return e||0}getAdWidth(){if(this.creative){const{adWidth:e}=this.creative;if("number"===typeof e)return e;if("function"===typeof this.creative.getAdWidth)return this.creative.getAdWidth()}return QA}getAdHeight(){if(this.creative){const{adHeight:e}=this.creative;if("number"===typeof e)return e;if("function"===typeof this.creative.getAdHeight)return this.creative.getAdHeight()}return KA}resizeAd(e,t,i){var r;void 0===i&&(i=yp.NORMAL),null===(r=this.creative)||void 0===r||r.resizeAd(e,t,i)}getSrc(){return this.getScriptSrc()}setMuted(e){const t=this.adDisplayController.videoNodeController.videoNode.volume,i=t>0?t:Vf;this.setVolume(e?0:i)}getVolume(){var e,t;return null!==(e=null===(t=this.creative)||void 0===t?void 0:t.getAdVolume())&&void 0!==e?e:this.adDisplayController.videoNodeController.getVolume()}setVolume(e){if(!this.isDestroyed)if(this.creative){const t=this.getVolume()!==e&&!this.mediaAd.vastAd.isNonLinear&&!Gf(this.mediaAd),{videoNode:i}=this.adDisplayController.videoNodeController,r=i.volume,a=i.muted;this.creative.setAdVolume(e);const n=i.volume,o=i.muted;t&&!this.adCreativeWrapper&&r===n&&a===o&&xo.c.error({error:new Uo.a({code:"VPAID_CREATIVE_DID_NOT_CHANGE_VIDEO_SLOT_VOLUME",details:this.getVPAIDLogDetails()})})}else this.adDisplayController.videoNodeController.setVolume(e)}startAndPauseVpaidCreative(e){Wf(this.getScriptSrc())&&(Object(Jo.a)("preload VPAID creative by start and pause"),this.startVpaidCreative(e),xo.c.event({name:"PreloadVPAIDCreativeByStartAndPause",probability:Fo.a,data:{vpaidSrc:this.getSrc()}}),Object(Jo.a)("VPAID.pauseAd() called for start and pause"),e.pauseAd())}async initCreative(){let e,t;const i=Date.now();this.lifeCycleStage.dispatch("load");const{vastAd:r}=this.mediaAd,{isNonLinear:a}=r,n=pi(r),o=this.createContainerNode({isAdCreative:n,isNonLinear:a});let s;if(n){Object(Jo.a)("[VpaidAdPodViewer]: play creative as AdCreative"),s=o;const{creative:i,wrapper:r}=this.wrapAdCreative(s);e=i,this.adCreativeWrapper=r,t=Object(js.a)(()=>{try{Object(Jo.a)("[VpaidAdPodViewer]: call adCreative stopAd method"),e.stopAd()}catch(t){const e=a?"OVERLAY_STOP_AD_ERROR":"LINEAR_AD_CREATIVE_STOP_AD_ERROR";xo.c.error({error:new Uo.a(t,{code:e,details:this.getVPAIDLogDetails()})})}})}else if(Gf(this.mediaAd)){Object(Jo.a)("[VpaidAdPodViewer]: play creative via VASFrame");const i=$s({container:s=o,initTimeout:Lf});this.addDestroyHandler(i.abortInit);const r=await i.initPromise;if(this.isDestroyed)return void r.destroy(void 0);if(r.addDestroyHandler(()=>{this.destroy({reason:"error",details:new Uo.a({code:"VPAID_AD_POD_VIEWER_FRAME_DESTROYED",details:{adPodId:this.mediaAd.getAdPodId()}})})}),this.addDestroyHandler(()=>{r.destroy(void 0)}),this.isDestroyed)return;if(r.assignVideoTag({videoElement:this.adDisplayController.videoNodeController.videoNode}),await r.loadCreative(this.getScriptSrc()),this.isDestroyed)return;const a=()=>Uf.getVpaidAd(r),n=this.getStandardVpaidCreative(a);e=n.creative,t=Object(js.a)(()=>{Object(Jo.a)("[VpaidAdPodViewer]: call VPAID stopAd method"),n.stopAd()}),this.addDestroyHandler(t),r.changeFrameVisibility(!0)}else{Object(Jo.a)("[VpaidAdPodViewer]: play creative with Friendly Iframe");const i=Op.create({parentElement:o,scope:"VPAID_FRIENDLY_IFRAME",provideLogDetails:this.getVPAIDLogDetails}),r=i.iframe;l(r,_s),s=r.contentDocument.body;const a=r.contentWindow;Ya(a)&&Df(),qa(a)&&Cf(a),Object(Co.a)(Nf,e=>{this.addDestroyHandler(Object(rs.a)({element:s,eventName:e,listener:()=>{this.onAdInteraction.dispatch(void 0)},options:{passive:!0}}))}),this.addDestroyHandler(()=>{i.destroy(void 0)}),i.addDestroyHandler(e=>{e&&this.destroy({reason:"error",details:e})});const n=await this.loadVpaidMediaFile(a);if(this.isDestroyed)return;const d=this.getStandardVpaidCreative(n);e=d.creative,t=d.stopAd}if(this.setCanUseMediaAfterPlaybackForPcodeVpaidCreatives(),this.onBeforeDestroy.addOne(()=>{Object(Jo.a)("[VpaidAdPodViewer]: call stopAd in onBeforeDestroy callback"),t()}),xo.c.values({name:"VpaidCreativeLoaded",probability:Fo.a,data:this.getVPAIDLogDetails(),values:{timeSpent:Date.now()-i},labels:{}}),this.isDestroyed)throw new Uo.a({code:"VPAID_WAS_DESTROYED_DURING_LOAD",details:this.getVPAIDLogDetails()});const{adDisplayController:d}=this,{videoNodeController:c,config:u}=d,{clientWidth:h,clientHeight:p}=c.videoNode,A=this.getDesiredBitrate(),m={AdParameters:this.getAdParameters()},{canPlayMuted:v,canPlayUnMuted:f}=d.autoplayAbilitySignal.getValue(),b={slot:s,videoSlot:c.videoNode,videoSlotCanAutoPlay:c.videoNode.muted?v:f,isYandexAdPlayer:!0,yandexAdPlaybackParams:{lang:u.lang,skipDelay:u.skipDelay,controlsSettings:{controlsVisibility:Ll},pauseOnClickThrough:!1,description:this.mediaAd.vastAd.description}},_=Qa({creative:e,isYandexCreative:Wf(this.getScriptSrc()),getLogDetails:this.getVPAIDLogDetails});this.subscribeCreativeEvents(_,s.ownerDocument.defaultView);const g=Date.now();return await new Promise((i,r)=>{_.subscribe(()=>{Object(Jo.a)("VPAID dispatched AdLoaded event"),i(_)},"AdLoaded"),_.subscribe(e=>{Object(Jo.a)("VPAID dispatched AdError event"),r(this.parseVpaidError(e,"VPAIDLoadingError"))},"AdError"),this.lifeCycleStage.dispatch("init");try{e.initAd(h,p,yp.NORMAL,A,m,b)}catch(a){throw Object(Jo.a)("[VpaidAdPodViewer]: creative.initAd() error, call stopAd"),t(),new Uo.a(a,{code:"INIT_AD_ERROR",details:this.getVPAIDLogDetails()})}}),xo.c.values({name:"VpaidCreativeInitialized",probability:Fo.a,data:this.getVPAIDLogDetails(),values:{timeSpent:Date.now()-g},labels:{}}),_}wrapAdCreative(e){var t;const{vastAd:i}=this.mediaAd,{isNonLinear:r,mediaFiles:a,durationLimit:n}=i,o=this.getAdParameters(),s=null===(t=i.playbackAdParameters)||void 0===t?void 0:t.clickThroughUrl,{parsed:{videoMediaFiles:d,animationMediaFile:l,adParameters:c},errors:u}=Ot(o);if(ie(u),(null===l||void 0===l?void 0:l.type)===Hc.Overlay!==r)throw new Uo.a({code:"AD_PARAMETERS_ARE_NOT_FIT_TO_VAST_BY_LINEAR_TYPE",details:this.getVPAIDLogDetails()});if(r&&!function(e){let{url:t}=e;return t===xf}(a[0]))throw new Uo.a({code:"CANNOT_PLAY_NON_YANDEX_OVERLAY",details:this.getVPAIDLogDetails()});const{config:h,videoContentSize:p,videoSlotSize:A,slotParameters:m,videoNodeController:v,visibilitySlotParameters:f}=this.adDisplayController,{videoTimeout:b,bufferFullTimeout:_,bufferEmptyLimit:g,packshotParameters:O}=this.adPodViewerPlaybackParams,y=(null===l||void 0===l?void 0:l.type)===Hc.Survey;let E,T;if(!r&&!y&&d.length>0){let e=this.mediaAd.getPreloadedVideoFile();const{adConfig:t,adBreak:r}=this.mediaAd,a=this.mediaAd.getAdPodId(),o=i.vast;if(e||(e=ri(d,{container:m.size.getValue(),desiredBitrate:this.getDesiredBitrate(),isVideoADB:Object(ns.a)(Object(as.a)(this.adDisplayController.slotWindow)),bitratePriorityFactor:Sh,allowedToHideVideoSlotAreaPortion:this.adDisplayController.config.allowedToHideVideoSlotAreaPortion},{vast:o,adConfig:t,adBreak:r,adPodId:a,initiator:"VpaidAdPodViewer"}).prioritisedMediaFile),!e)throw new Uo.a({code:"NO_APPROPRIATE_VIDEO_SOURCE_FOR_AD_CREATIVE",details:{mediaFiles:d,adPodId:this.mediaAd.getAdPodId()}});E={videoContentSize:p,videoSlotSize:A,videoMediaFile:rn({},e,{url:gh(e.url)}),videoMediaFiles:d,videoTimeout:b,bufferFullTimeout:_,bufferEmptyLimit:g,durationFallback:()=>this.mediaAd.getDuration(),durationLimit:n,getAutoplay:()=>this.adDisplayController.getAutoplay(),onVideoBufferingStateChange:e=>{this.adVideoIsBuffering.dispatch(e)}},this.canUseMediaAfterPlayback=!0}T=l&&"InteractiveElementsAdCreative"===Gc[l.url]?"IV":r?"OVERLAY_FRIENDLY_IFRAME":"LINEAR_AD_CREATIVE_FRIENDLY_IFRAME";let S,w=e.ownerDocument.defaultView;if(l){S={animationMediaFile:l,getPreloadedAdCreativeInitFunction:this.mediaAd.getPreloadedAdCreativeInitFunction,adCreativeParameters:c};const t=Op.createHidden({parentElement:e,scope:T,provideLogDetails:this.getVPAIDLogDetails});w=t.window,this.addDestroyHandler(()=>{t.destroy(void 0)}),t.addDestroyHandler(e=>{e&&this.destroy({reason:"error",details:e})})}const{creative:P,wrapper:I,userInteractionDispatchers:C}=Ga({adCreativeWindow:w,slot:e,measurersSlot:this.adDisplayController.measurersSlot,visibilityRatio:f.visibilityRatio,animationParameters:S,videoParameters:E,videoNodeController:v,isNonLinear:r,slotSize:m.size,clickThroughUrl:s,getVPAIDLogDetails:this.getVPAIDLogDetails,packshotParameters:O?rn({},O,{onPackshotStart:()=>{this.packshotStartLatch.dispatch(void 0)}}):void 0,lang:h.lang,adCreativeUserInteractionCallbacks:{AdClickThru:e=>{xo.c.event({name:"AdCreativeUserInteractionCallbackClickThruCall",data:{vpaidLogDetails:this.getVPAIDLogDetails(),clickThruParams:e},probability:Fo.a}),this.userInteractionDispatchers.AdClickThru(e),this.clickThrough(e)}}});return this.userInteractionDispatchers=C,{creative:P,wrapper:I}}setCanUseMediaAfterPlaybackForPcodeVpaidCreatives(){var e;const t=this.mediaAd.vastAd,i=null===(e=t.adParametersObject)||void 0===e?void 0:e.theme,r="video-banner_theme_caucasus"===i,a="video-banner_theme_moroz"===i,n="video-banner_theme_lake"===i;hu(t)&&(r||a||n)&&(this.canUseMediaAfterPlayback=!0)}async loadVpaidMediaFile(e){const t=Wf(this.getScriptSrc())?"YANDEX_VPAID_FRIENDLY_IFRAME":"VPAID_FRIENDLY_IFRAME";this.addDestroyHandler(si(e,(e,i,r)=>{xo.c.error({error:ai({scope:t,errorType:i,error:e,details:rn({},this.getVPAIDLogDetails(),{error:e,data:r})})})}));const i=this.mediaAd.getPreloadVpaidWindow();if(i){const{frameElement:e,getVPAIDAd:t}=i;if(null!==e&&void 0!==e)return this.addDestroyHandler(gp(e,()=>{this.destroy({reason:"error",details:new Uo.a({code:"PRELOAD_IFRAME_WAS_UNLOADED",details:{adPodId:this.mediaAd.getAdPodId()}})})})),t;xo.c.event({name:"VpaidAdPodViewer_PreloadFriendlyIframeDestroyed",data:{getVPAIDAdIsAcquired:"function"===typeof t}})}try{const{promise:t,teardown:i}=Ph({src:this.getScriptSrc(),win:e});return this.addDestroyHandler(i),t}catch(r){throw new Uo.a(r,{code:"CANNOT_LOAD_VPAID_MEDIA_FILE",details:{adPodId:this.mediaAd.getAdPodId()}})}}getStandardVpaidCreative(e){const t=Wf(this.getScriptSrc());if("function"!==typeof e)throw new Uo.a({code:t?"YANDEX_NO_GET_VPAID_AD_FUNC":"NO_GET_VPAID_AD_FUNC",details:rn({},this.getVPAIDLogDetails(),{typeOfGetVPAIDAd:typeof e})});let i;try{i=e()}catch(n){throw new Uo.a(n,{code:"GET_VPAID_AD_ERROR",details:this.getVPAIDLogDetails()})}const r=Object(js.a)(()=>{Object(Jo.a)("[VpaidAdPodViewer]: call stopAd wrap method");try{i.stopAd()}catch(n){xo.c.error({error:new Uo.a(n,{code:"STOP_AD_ERROR",details:this.getVPAIDLogDetails()})})}});if(!Hf(i))throw new Uo.a({code:"INVALID_VPAID_API",details:this.getVPAIDLogDetails()});const a=i.handshakeVersion(Mf);if(!Ff({versionSupported:Mf,versionToCheck:a}))throw Object(Jo.a)("[VpaidAdPodViewer]: vpaid version is NOT supported, call stopAd method"),r(),new Uo.a({code:"VPAID_VERSION_ERROR",details:rn({},this.getVPAIDLogDetails(),{playerSupportedVersion:Mf,creativeVersion:a})});return{creative:i,stopAd:r}}getScriptSrc(){return this.getCurrentSource().url}getCurrentSource(){return this.mediaAd.getJSMediaFile()}setUpdatePositionInterval(e){const t=e.setInterval(this.updatePosition,Rf);return this.addDestroyHandler(()=>{e.clearInterval(t)}),()=>{e.clearInterval(t)}}subscribeCreativeEvents(e,t){e.subscribe(()=>{var e,t;this.destroy({reason:"complete",details:{canUseMediaAfterPlayback:null!==(e=null===(t=this.completeLatch.getValue())||void 0===t?void 0:t.canUseMediaAfterPlayback)&&void 0!==e&&e}})},"AdStopped"),e.subscribe((e,t,i)=>{xo.c.event({name:"VpaidDispatchedAdClickThru",data:this.getVPAIDLogDetails(),probability:Fo.a}),this.clickThrough({url:e,id:t,playerHandles:Boolean(i)})},"AdClickThru"),e.subscribe(()=>{this.updateAdSkippableState()},"AdSkippableStateChange");const i=()=>{const t=e.getAdDuration();t>0&&this.mediaAd.actualizeDuration(t)};let r;e.subscribe(()=>{Object(Jo.a)("VPAID dispatched AdDurationChange event"),i()},"AdDurationChange"),e.subscribe(()=>{this.creativeAdStartedCallback(),i(),Object(ns.a)(r)&&r(),r=this.setUpdatePositionInterval(t)},"AdStarted"),e.subscribe(()=>{Object(Jo.a)("VPAID dispatched AdPlaying event"),this.isAdPlayingCalled=!0,this.updatePosition(),Object(ns.a)(r)&&r(),r=this.setUpdatePositionInterval(t),this.onResume.dispatch(void 0)},"AdPlaying"),e.subscribe(()=>{Object(Jo.a)("VPAID dispatched AdPaused event"),this.updatePosition(),Object(ns.a)(r)&&r(),this.onPause.dispatch(void 0)},"AdPaused"),e.subscribe(()=>{this.trackStartEvent()},"AdVideoStart"),e.subscribe(()=>{this.onImpression.dispatch(void 0)},"AdImpression"),e.subscribe(()=>{this.onFirstQuartile.dispatch(void 0)},"AdVideoFirstQuartile"),e.subscribe(()=>{this.onMidpoint.dispatch(void 0)},"AdVideoMidpoint"),e.subscribe(()=>{this.onThirdQuartile.dispatch(void 0)},"AdVideoThirdQuartile");const a=Object(js.a)(()=>this.onBeforeComplete.dispatch(void 0));e.subscribe(()=>{a()},"AdVideoBeforeComplete"),e.subscribe(()=>{this.onVolumeChange.dispatch(void 0)},"AdVolumeChange"),e.subscribe(()=>{this.destroy({reason:"skip",details:void 0})},"AdSkipped");const n=Object(js.a)(()=>{this.completeLatch.dispatch({canUseMediaAfterPlayback:this.canUseMediaAfterPlayback})});e.subscribe(()=>{Object(Jo.a)("VPAID dispatched AdVideoComplete event"),n()},"AdVideoComplete"),e.subscribe(()=>{this.destroy({reason:"close",details:void 0})},"AdUserClose")}parseVpaidError(e,t){const i=this.getVPAIDLogDetails();return"string"===typeof e?new Uo.a({code:t,message:"String error from vpaid ["+e+"]",details:i}):Object(Xo.a)(e)?e:e?new Uo.a(e,{code:t,details:i}):new Uo.a({code:t,message:"unknown error from VPAID creative",details:i})}updateAdSkippableState(){const e=this.getAdSkippableState();this.adSkippableState!==e&&(this.adSkippableState=e,this.onAdSkippableStateChange.dispatch(e))}}const qf=e=>{const{adParametersObject:t}=e;if(!Object(Ro.a)(t))return;if(!Object(Ro.a)(t.subtitles))return;const{vtt:i}=t.subtitles;return Object(ks.a)(i)?i:void 0},Xf=500,Kf=!1,Qf=1e3,Jf="https://yandex.ru/socialads-transparency-report",Zf=(e,t)=>{const i=di(()=>{Di(e)||(i(),t())});return i},$f=function(e){return"value"in e},eb=function(e){return"value"in e},tb={linear:e=>e,easeIn:e=>e*e,easeOut:e=>e*(2-e),easeInOut:e=>e<.5?2*e*e:(4-2*e)*e-1,easeOutBack:dn(.6,.7,.61,1.09,.01)},ib="linear",rb={number:(e,t,i)=>{return t+(i-t)*e},boolean:(e,t)=>t},ab=ga(e=>pA(e,yl));ab.Provider.displayName="I18NContext";const nb=e=>{let{adDisplayController:t}=e;const{lang:i}=t.config;return e=>pA(e,i)},ob=()=>Ca(ab),sb="TRUE"===Cl("ENABLE_ACTION_PANEL_ON_DESKTOP_MULTIROLL_BY_DEFAULT")||void 0,db=Yt("ENABLE_ACTION_PANEL_WITH_ARROW",["MULTIROLL","DESKTOP","EVERYWHERE","OUTSTREAM"]),lb=450,cb=ga({actionButtonParameters:void 0,progress:0,clickThrough:Vs.a,shouldUseActionPanel:!1});cb.Provider.displayName="SkinActionButtonContext";const ub=e=>{let{actionButtonParameters:t,actionButtonAnimationProgress:i,clickThrough:r,slotParameters:a}=e;const{width:n}=Ma(a.size),o=Ma(t),{title:s,body:d}=o||{},l=function(e,t){if(t)return!1;const i=e>=lb,r="Multiroll"===Ud.c;let a;switch(db){case"MULTIROLL":a=r;break;case"DESKTOP":a=i;break;case"EVERYWHERE":a=!0;break;case"OUTSTREAM":a=!r;break;case void 0:default:a=!!sb&&(i&&r)}return a}(n,Object(ks.a)(s)||Object(ks.a)(d));return{actionButtonParameters:o,progress:Ma(i),clickThrough:Ia(e=>{r(e,"SkinActionButton")},[r]),shouldUseActionPanel:l}},hb=()=>Ca(cb),pb=e=>{const{width:t="1em",height:i="1em",style:r={}}=e;return ta("svg",{width:t,height:i,style:cn({margin:"0 -0.1em",fontSize:"0.6em",width:"0.87em",height:"1em"},r),viewBox:"14 14 38 38"},ta("g",{"fill-rule":"nonzero",fill:"currentcolor"},ta("path",{d:"M16.002 31.832c-.003.051-.003.102 0 .133a1.51 1.51 0 0 0 .453 1.096 1.55 1.55 0 0 0 1.104.444h24.216l-9.081 8.833a1.51 1.51 0 0 0-.478 1.497 1.53 1.53 0 0 0 1.113 1.117 1.55 1.55 0 0 0 1.509-.432l11.779-11.45a1.51 1.51 0 0 0 0-2.171L34.841 19.452c-.441-.44-1.108-.573-1.687-.336a1.52 1.52 0 0 0-.951 1.423 1.51 1.51 0 0 0 .479 1.081l9.093 8.844H17.561a1.54 1.54 0 0 0-1.559 1.369z"})))};var Ab=i(150),mb=i.n(Ab);const vb=e=>{let{children:t}=e;return xa(mb.a),ta("div",{className:Ab.locals.ActionButton},ta("div",{className:Ab.locals.ActionButton__content},t,ta(pb,{style:{width:"2em",height:"2em",padding:"0 0.2em",marginLeft:t?"0.3em":"0px"}})))};var fb=i(91),bb=i.n(fb);const _b=e=>{let{title:t,greenUrl:i}=e;xa(bb.a);const r=wa(null),a=wa(null),[n,o]=Ea(!1);Sa(()=>{o(r.current.clientHeight>a.current.clientHeight)},[t]);const s=ta("div",{ref:a,className:fb.locals.InfoBlock__titleSpy},t);return ta("div",{className:qv(fb.locals.InfoBlock,n&&fb.locals.InfoBlock_multiline)},s,ta("div",{ref:r,className:fb.locals.InfoBlock__title},t),i?ta("div",{className:fb.locals.InfoBlock__greenUrl},i):null)};var gb=i(82),Ob=i.n(gb);const yb=360,Eb=1080,Tb=function(e,t){const i=t.y-e.y,r=t.x-e.x;return t=>e.y+(t-e.x)*i/r}({x:yb,y:.14},{x:Eb,y:.07}),Sb=700,wb=sn([{durationPortion:200/Sb,values:[-42,10]}],Sb),Pb=sn([{durationPortion:500/Sb,value:0},{durationPortion:200/Sb,values:[0,1]}],Sb),Ib=sn([{durationPortion:500/Sb,value:0},{durationPortion:200/Sb,values:[0,1]}],Sb),Cb=e=>{xa(Ob.a);const{progress:t}=hb(),i=Qv(),r=ob(),a=r("THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE"),n=r("THEME_EMPTY_ACTION_BUTTON_LABEL"),{title:o,greenUrl:s,onButtonClick:d,buttonLabel:l=n,disableAnimation:c=!1,faviconSrc:u}=e,h=Dt(t*Sb,0,Sb),p=c?1:ln({position:h,unit:"number",steps:Pb}),A=c?10:ln({position:h,unit:"number",steps:wb}),m=c?1:ln({position:h,unit:"number",steps:Ib}),v=function(e){let{height:t,width:i}=e;const r=Math.min(t,i),a=Dt(r,yb,Eb),n=a*Tb(a);let o="";return r<yb&&(o="scale("+(1-(yb-r)/yb)+")"),{height:n,width:280*n/48,fontSize:n/4,transform:o,"transform-origin":"bottom left"}}(i);return ta("div",{className:gb.locals.YoutubeLikeActionButton,style:un({},v)},ta("div",{className:gb.locals.YoutubeLikeActionButton__content},ta("div",{className:gb.locals.YoutubeLikeActionButton__mask,style:{opacity:p,maxWidth:v.width*m},onClick:d},ta("div",{className:qv(gb.locals.YoutubeLikeActionButton__wrapper,!u&&gb.locals.YoutubeLikeActionButton__wrapper_wide)},ta(_b,{greenUrl:s,title:Object(ks.a)(o)?o:a}),ta(vb,null,l))),u?ta("div",{className:gb.locals.YoutubeLikeActionButton__favicon,style:{left:A+"px"}},u?ta("img",{src:u,alt:"favicon"}):void 0):null))},Db=e=>"AbuseVariantChoose_"+e,Nb=-1,Rb=-1===Lp&&!(Up&&Bp>=15);var kb=i(134);const Vb=new RegExp(["box-flex","box-flex-group","column-count","fill-opacity","flex","flex-grow","flex-positive","flex-shrink","flex-negative","font-weight","line-height","opacity","order","z-index","zoom"].join("|"),"i"),jb=(e,t,i,r)=>{Object(Ro.a)(t)?(r=Boolean(i),Object(sd.a)(t,(t,i)=>{pn(e,i,t,r)})):pn(e,t,i,r)},Lb=tr(window),Mb=Lb.requestAnimationFrame,Bb=Lb.cancelAnimationFrame,Ub=.8,xb=1.6,Fb=1.2,Hb=50,zb=5,Wb=2,Gb=100,Yb=1.8,qb=3,Xb=.3,Kb=.1;class Qb extends Eo.a{constructor(e){var t,i;super(),this.params=e,An(this,"blurWrapper",void 0),An(this,"canvas",void 0),An(this,"context",void 0),An(this,"isPlaying",new Qo.a(!1)),An(this,"framesInterval",Gb),An(this,"lastTime",void 0),An(this,"slowFramesCounter",0),An(this,"slowDevice",!1),An(this,"repaintTimeoutId",0),An(this,"rafId",0),An(this,"repaint",()=>{const{duration:e,currentTime:t}=this.params.videoNode,i=e-t<=Xb;if(!this.isPlaying.getValue()&&i)return this.clearRepaintTimeout(),void this.setVisibility(!1);const r=Pr(this.params.videoNode);if(!r)return void this.setRepaintTimeout();const{clientWidth:a,clientHeight:n}=this.params.container,o=a/n,s=r.width/r.height,d=s-o;this.prepareBlurCanvas(s,d),this.setVisibility(!0);const{context:l}=this,{videoNode:c}=this.params,{width:u,height:h}=this.canvas;if(this.slowDevice){const e=Wb;l.drawImage(c,0,0,r.width,r.height,0,0,e,e),l.drawImage(this.canvas,0,0,e,e,0,0,u,h)}else l.drawImage(c,0,0,r.width,r.height,0,0,u,h);l.globalAlpha=Kb,this.handleSlowDevices(),this.setRepaintTimeout()}),this.blurWrapper=document.createElement("div"),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.blurWrapper.appendChild(this.canvas),t=this.params.container,i=this.blurWrapper,t.firstChild?t.insertBefore(i,t.firstChild):t.appendChild(i),this.appendStyles(),this.isPlaying.add(e=>{e?(this.repaint(),this.canvas.style.display=""):(this.clearRepaintTimeout(),this.setVisibility(!1))}),this.addDestroyHandler(()=>{this.setPlaying(!1),Object(es.a)(this.blurWrapper)})}setPlaying(e){this.isPlaying.dispatch(e)}appendBlurScale(e,t){const i=[xb,Math.max(e,xb)];t&&i.reverse(),this.slowDevice||jb(this.canvas,{transform:"translate(-50%,-50%) scaleX("+i[0]+") scaleY("+i[1]+")"})}setCanvasOpacity(e){jb(this.canvas,{opacity:e})}simplifyBlur(){const e=2*zb,{clientWidth:t,clientHeight:i}=this.params.container;this.setCanvasSize(t+e,i+e);const r="-"+zb+"px";jb(this.canvas,{left:r,top:r,transform:"",filter:"blur("+zb+"px)",width:100*(1+e/t)+"%",height:100*(1+e/i)+"%"})}appendStyles(){const e={position:"absolute",margin:0,padding:0,top:0,bottom:0,left:0,right:0,overflow:"hidden"},t=Pi(this.params.videoNode).position;-1===Object(kb.a)(["fixed","absolute"],t)&&(e["z-index"]="-1"),jb(this.blurWrapper,e),jb(this.canvas,{position:"absolute",margin:0,padding:0,left:"50%",top:"50%",transform:"translate(-50%,-50%) scaleX("+Fb+") scaleY("+Fb+")",filter:"blur("+Hb+"px)",opacity:0,transition:"opacity 1s"})}setRepaintTimeout(){this.clearRepaintTimeout(),this.repaintTimeoutId=window.setTimeout(()=>this.rafId=Mb(this.repaint),this.framesInterval)}clearRepaintTimeout(){clearTimeout(this.repaintTimeoutId),Bb(this.rafId)}handleSlowDevices(){const e=Date.now();if(this.lastTime){const t=e-this.lastTime;t>this.framesInterval*Yb?(this.slowFramesCounter++,this.slowFramesCounter>=qb&&(this.framesInterval+=t,this.slowFramesCounter=0,this.slowDevice||(this.slowDevice=!0,this.simplifyBlur()))):this.slowFramesCounter=0}this.lastTime=e}prepareBlurCanvas(e,t){const{container:i,videoNode:r}=this.params,a=t<0,n=a?r.offsetHeight*e:r.offsetWidth/e,o=a?n:r.offsetWidth,s=a?r.offsetHeight:n,d=(a?i.offsetWidth:i.offsetHeight)/n*Ub;this.setCanvasSize(o,s),this.appendBlurScale(d*Ub,a)}setCanvasSize(e,t){const{canvas:i}=this;i.width=e,i.height=t}setVisibility(e){this.setCanvasOpacity(e?1:0)}}const Jb=.1;var Zb;!function(e){e.inline="inline",e.pictureInPicture="picture-in-picture"}(Zb||(Zb={}));const $b=(e,t)=>{let i=0;return()=>{const r=Date.now();r-i>=t&&(e(),i=r)}},e_=2,t_=["pagehide","unload"],i_=/([0-9]{1,2})?:?([0-9]{2}):([0-9]{2}\.[0-9]{2,3})/;class r_{constructor(e){var t,i,r;r=void 0,(i="cues")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r;const{cues:a}=fn(e);this.cues=a.sort((e,t)=>e.start-t.start)}findCuesByCurrentTime(e){return Object(To.a)(this.cues,t=>this.isCueApplicable(t,e))}isCueApplicable(e,t){const{start:i,end:r}=e;return t>=i&&t<=r}}const a_=e=>{const t=Ni(e,{crossorigin:null,loop:null,preload:"auto",autoplay:null}),i=wi(e,{objectFit:""});return Object(js.a)(()=>{t(),i()})},n_=15,o_=1e3,s_="Fullscreen is not supported";class d_{constructor(e,t){void 0===e&&(e=window),yn(this,"handlers",[]),yn(this,"names",void 0),yn(this,"onDestroy",new ts.a),yn(this,"win",void 0),yn(this,"video",void 0),yn(this,"fullscreenElement",null),yn(this,"setFullScreenElementFromAPI",()=>{const e=wr(this.win,this.video);this.setFullscreenElement(e)}),this.win=e,this.video=t,t&&Up&&(this.onDestroy.addOne(Object(rs.a)({element:t,eventName:"webkitbeginfullscreen",listener:()=>{this.setFullscreenElement(t)}})),this.onDestroy.addOne(Object(rs.a)({element:t,eventName:"webkitendfullscreen",listener:()=>{this.setFullscreenElement(null)}}))),this.names=Sr(e,t),this.names&&(this.onDestroy.addOne(Object(rs.a)({element:this.win.document,eventName:this.names.events.change,listener:this.setFullScreenElementFromAPI})),this.setFullScreenElementFromAPI())}requestFullscreenForElement(e,t){if(void 0===this.names)throw new this.win.Error(s_);{const{request:i}=this.names;if(!(i in e))throw new this.win.Error(s_);e[i](t)}}isFullscreen(){return null!==this.fullscreenElement}exit(){if(void 0===this.names)throw new Error(s_);this.video&&this.fullscreenElement===this.video?this.video[this.names.exit]():this.win.document[this.names.exit]()}getFullscreenElement(){return this.fullscreenElement}addHandler(e){if("function"!==typeof e)throw new this.win.Error("Fullscreen handler must be a function");this.handlers.push(e)}removeHandler(e){this.handlers=Object(To.a)(this.handlers,t=>t!==e)}destroy(){this.handlers.length=0,this.onDestroy.dispatch(void 0)}setFullscreenElement(e){this.fullscreenElement=e,Object(Co.a)(this.handlers,t=>t(e))}}class l_{constructor(e){En(this,"violatedSources",[]),En(this,"unsubscribeEvent",void 0),En(this,"securityPolicyViolationCallback",e=>{let{blockedURI:t,violatedDirective:i,originalPolicy:r}=e;if("media-src"!==i)return;const a={blockedURI:t,violatedDirective:i,originalPolicy:r};this.violatedSources.push(a)}),this.unsubscribeEvent=Object(rs.a)({element:e,eventName:"securitypolicyviolation",listener:this.securityPolicyViolationCallback})}getViolatedSourceBySrc(e){return Object(yh.a)(this.violatedSources,t=>{let{blockedURI:i}=t;return 0===e.indexOf(i)})}destroy(){this.violatedSources=[],this.unsubscribeEvent()}}const c_=.001,u_=e=>{e.removeAttribute("src"),e.load()},h_=function(e){return void 0===e&&(e=window),/firefox/.test(e.navigator.userAgent.toLowerCase())}(window);class p_ extends Eo.a{constructor(e){var t,i,r;super(),this.params=e,r=void 0,(i="mediaSource")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r,this.mediaSource=new e.MediaSourceConstructor,Object(rs.a)({element:this.mediaSource,eventName:"error",listener:this.ignoreAfterDestroy(e=>{Object(Jo.a)("MSEController: got an error inside of mediaSource");const t=e.error;this.destroy(new Uo.a(t,{code:"MSE_CONTROLLER_MEDIA_SOURCE_ERROR",details:{}}))})}),Object(Jo.a)("MSEController: attach BLOB URL"),this.params.videoSlot.src=URL.createObjectURL(this.mediaSource),this.addDestroyHandler(()=>{Object(Jo.a)("MSEController: detach BLOB URL"),u_(this.params.videoSlot)}),this.init().then(()=>{Object(Jo.a)("MSEController: MSE successfully attached"),xo.c.event({name:"MSEControllerAttachSuccess",data:{},probability:Fo.a})}).catch(e=>{Object(Jo.a)("MSEController: init error"),"AbortError"===e.name?xo.c.event({name:"MSEControllerFetchWasAborted",data:{message:e.message},probability:Fo.a}):xo.c.error({error:new Uo.a(e,{code:"MSE_CONTROLLER_UNHANDLED_INIT_ERROR"})})})}async init(){const[e,t]=await Promise.all([this.getVideoReader(),this.getSourceBuffer()]);await this.doReadCycle(e,t),await this.finalize(t)}async getVideoReader(){const e=new AbortController;this.addDestroyHandler(()=>{if(e.signal.aborted)return Object(Jo.a)("MSEController#reader: abort controller was already aborted"),void xo.c.error({error:new Uo.a({code:"MSE_CONTROLLER_FETCH_ALREADY_ABORTED",details:{}})});Object(Jo.a)("MSEController#reader: abort controller"),e.abort()});const t=await fetch(this.params.mediaFile.url,{signal:e.signal});if(!t.body)throw new Uo.a({code:"MSE_CONTROLLER_FETCH_EMPTY_RESPONSE_BODY",details:{}});const i=t.body.getReader();return this.addDestroyHandler(()=>{Object(Jo.a)("MSEController#reader: cancel reader"),Ja(i.cancel())}),Object(Jo.a)("MSEController#reader: got reader"),i}async getSourceBuffer(){"open"!==this.mediaSource.readyState&&await new Promise(e=>Object(rs.a)({element:this.mediaSource,eventName:"sourceopen",listener:e}));const{mediaFile:e}=this.params;let t;Object(ks.a)(e.type)&&Object(ks.a)(e.codec)?t=rp(e):(xo.c.event({name:"MSEControllerSourceBufferUsesDefaultWebmContentType",data:{mediaFile:e},probability:Fo.a}),t=qh);const i=this.mediaSource.addSourceBuffer(t);return Object(rs.a)({element:i,eventName:"error",listener:this.ignoreAfterDestroy(e=>{Object(Jo.a)("MSEController: got an error inside of sourceBuffer");const t=e.error;this.destroy(new Uo.a(t,{code:"MSE_CONTROLLER_SOURCE_BUFFER_ERROR",details:{}}))})}),this.addDestroyHandler(()=>{"open"===this.mediaSource.readyState&&(Object(Jo.a)("MSEController#abort source buffer"),i.abort())}),Object(Jo.a)("MSEController: got source buffer"),i}async doReadCycle(e,t){Object(Jo.a)("MSEController: start read cycle, MSE_CONTROLLER_USES_INTERMEDIATE_BUFFER="+h_);let i=await e.read(),r=new Uint8Array;do{for(;t.updating;)await new Promise(e=>Object(rs.a)({element:t,eventName:"updateend",listener:e}));if(!i.value)break;if(this.isDestroyed)return;if(h_){const e=new Uint8Array(r.length+i.value.length);e.set(r),e.set(i.value,r.length),r=e}else t.appendBuffer(i.value);for(;t.updating;)await new Promise(e=>Object(rs.a)({element:t,eventName:"updateend",listener:e}));i=await e.read()}while(i.value);for(h_&&(Object(Jo.a)("MSEController: buffer read complete, length=["+r.length+"]"),t.appendBuffer(r));t.updating;)await new Promise(e=>Object(rs.a)({element:t,eventName:"updateend",listener:e}));Object(Jo.a)("MSEController: read cycle complete")}async finalize(e){for(Object(Jo.a)("MSEController#close streams");e.updating;)await new Promise(t=>Object(rs.a)({element:e,eventName:"updateend",listener:t}));"open"===this.mediaSource.readyState?(Object(Jo.a)("MSEController#finalize: close stream"),this.mediaSource.endOfStream()):Object(Jo.a)("MSEController#finalize: media source is closed")}}const A_=e=>{if(!pp||!sp)throw new Uo.a({code:"MSE_CONTROLLER_ENVIRONMENT_IS_NOT_SUPPORTED",details:{}});return new p_(Sn({},e,{MediaSourceConstructor:sp}))},m_=e=>"canPlayMseForAbd"===Jt(e),v_=50,f_=2;class b_{constructor(e,t){this.video=e,this.onSeekRestore=t,wn(this,"unsubscribeVideoTimeupdate",void 0),wn(this,"lastLegalCurrentTime",void 0),wn(this,"lastTimestamp",void 0),wn(this,"seekAllowed",!0),wn(this,"onVideoTimeUpdate",()=>{const{currentTime:e}=this.video;this.isSeekingIllegal()?(this.video.currentTime=this.lastLegalCurrentTime,this.onSeekRestore()):(this.lastLegalCurrentTime=e,this.lastTimestamp=Date.now())}),this.lastLegalCurrentTime=e.currentTime,this.lastTimestamp=Date.now(),this.unsubscribeVideoTimeupdate=Object(rs.a)({element:e,eventName:"timeupdate",listener:this.onVideoTimeUpdate})}setSeekAllowed(e){this.seekAllowed=e}isSeekingIllegal(){return!this.seekAllowed&&this.isSeekingVideo()}destroy(){this.seekAllowed=!0,this.unsubscribeVideoTimeupdate()}isSeekingVideo(){if(!this.lastLegalCurrentTime)return!1;const e=Date.now()-this.lastTimestamp;if(e<v_)return!1;const{currentTime:t,playbackRate:i}=this.video;return(t-this.lastLegalCurrentTime)/(e/1e3)>(i||1)*f_}}const __=1,g_=Math.ceil(2/(250/qu)),O_=1e3,y_=.25,E_=1e3,T_=1e3,S_=.1,w_=Qh.a;class P_ extends Eo.a{constructor(e,t){super(),this.videoNode=e,this.window=t,In(this,"onClick",new ts.a),In(this,"currentPosition",new Qo.a({currentTime:0,duration:0},Ar)),In(this,"playingState",new Qo.a(this.videoNode.paused?uA.PAUSE:uA.PLAY)),In(this,"onError",new ts.a),In(this,"onEnd",new ts.a),In(this,"onVolumeChange",new ts.a),In(this,"onPlay",new ts.a),In(this,"onPlayAfterPause",new ts.a),In(this,"onBufferingAfterPlay",new ts.a),In(this,"isBuffering",new Qo.a(!1)),In(this,"onPlaying",new ts.a),In(this,"fullscreenApi",void 0),In(this,"onSeekRestore",new ts.a),In(this,"onCanPlay",new ts.a),In(this,"pauseRequest",new Qo.a(-1)),In(this,"seekController",void 0),In(this,"cspErrorHandler",void 0),In(this,"activeMSEController",void 0),In(this,"win",void 0),this.seekController=new b_(e,()=>this.onSeekRestore.dispatch(void 0)),this.win=or(e)?e.ownerDocument.defaultView:this.window,this.fullscreenApi=new d_(this.win,e),this.cspErrorHandler=new l_(this.win);let i=this.playingState.getValue();this.playingState.add(e=>{const{currentTime:t,duration:r,paused:a,ended:n}=this.videoNode;switch(Object(Jo.a)("VideoNodeController.playingStateChange=["+JSON.stringify({previousPlayingState:i,nextPlayingState:e,currentTime:t,duration:r,paused:a,ended:n})+"]"),e){case uA.PLAY:"pause"===i&&this.onPlayAfterPause.dispatch(void 0),this.onPlay.dispatch(void 0);break;case uA.END:this.onEnd.dispatch(void 0);break;case uA.BUFFERING:"play"===i&&this.onBufferingAfterPlay.dispatch(void 0)}this.isBuffering.dispatch(e===uA.BUFFERING),i=e});const r={error:()=>{const{src:e}=this.videoNode,t=()=>{const t=this.cspErrorHandler.getViolatedSourceBySrc(e);return t?new Uo.a({code:"MEDIA_SRC_VIOLATES_CSP_POLICY",details:{violatedSource:t}}):void 0},i=()=>{const e=t();e&&xo.c.error({error:e})};let r=t();if(!r){r=this.getVideoNodeError();const{promise:e,clear:t}=Object(Do.a)(E_);this.addDestroyHandler(()=>{t(),i()}),e.then(i).catch(Rs.a)}this.onError.dispatch(r)},play:()=>{this.playingState.dispatch(uA.PLAY)},playing:()=>{this.currentPosition.dispatch(this.getCurrentPosition()),this.onPlaying.dispatch(void 0),this.playingState.dispatch(uA.PLAY)}};this.subscribeClick(),this.subscribeUpdatePositionInterval(),this.subscribePause(),this.subscribeEnded(),this.subscribeBuffering(),this.subscribeVolumeChange();for(const a in r)r.hasOwnProperty(a)&&e.addEventListener(a,r[a]);this.addDestroyHandler(()=>{for(const t in r)r.hasOwnProperty(t)&&e.removeEventListener(t,r[t]);this.fullscreenApi.destroy(),this.seekController.destroy(),this.cspErrorHandler.destroy(),this.onSeekRestore.removeAll(),this.onCanPlay.removeAll()})}play(){Object(Jo.a)("VideoNodeController.play");const e=this.videoNode.play();Ds(e)&&e.catch(e=>{this.shouldIgnorePlayRejection(e)||xo.c.error({error:new Uo.a(e,{code:"VIDEO_PLAY_REJECTED",details:{errorCode:e.code,errorName:e.name,errorMessage:e.message}})})})}pause(){Object(Jo.a)("VideoNodeController.pause"),this.pauseRequest.dispatch(this.win.Date.now()),this.currentPosition.dispatch(this.getCurrentPosition()),this.videoNode.pause()}setSrc(e){const{url:t}=e,{videoNode:i}=this;this.activeMSEController&&(this.activeMSEController.destroy(void 0),this.activeMSEController=void 0);const r=m_(e);Object(Jo.a)("VideoNodeController.setSrc playWithMSE=["+r+"] url=["+t+"]"),Mi(i,()=>{if(!r)return i.src=t,void i.load();const a=A_({mediaFile:e,videoSlot:i});this.activeMSEController=a,a.addDestroyHandler(this.ignoreAfterDestroy(e=>{this.activeMSEController=void 0,e&&this.onError.dispatch(e)})),this.addDestroyHandler(()=>{a.destroy(void 0)})})}getWidth(){return this.videoNode.clientWidth}getHeight(){return this.videoNode.clientHeight}getCurrentPosition(){return Tn(this.videoNode)}setCurrentTime(e){this.videoNode.currentTime=e}setVisibleControls(e){this.videoNode.controls=e}isFullscreen(){return wr(this.win,this.videoNode)===this.videoNode}getPaused(){return this.videoNode.paused}getMuted(){return 0===this.getVolume()}setMuted(e){!function(e,t){Mi(e,()=>{e.muted=t;const i=e.volume;if(!t&&0===i){const t=i>0?i:Vf;e.volume=t}})}(this.videoNode,e)}getVolume(){return Pn(this.videoNode)}setVolume(e){!function(e,t){Mi(e,()=>{e.volume=t,e.muted=0===t})}(this.videoNode,e)}setSeekAllowed(e){this.seekController.setSeekAllowed(e)}getVideoNodeError(){const{videoNode:e}=this,{src:t,currentSrc:i,currentTime:r,duration:a,error:o,networkState:s,readyState:d}=e,l=o&&o.code,c={code:l,message:o&&o.message||"",src:t,currentSrc:i,currentTime:r,duration:a,networkState:s,readyState:d,selectedMediaFile:void 0,mediaFiles:void 0};if(!o||"undefined"===typeof MediaError)return new Uo.a({code:"VIDEO_ERROR",details:c});switch(l){case MediaError.MEDIA_ERR_ABORTED:return new Uo.a({code:"MEDIA_ERR_ABORTED",details:c});case MediaError.MEDIA_ERR_NETWORK:return new Uo.a({code:"MEDIA_ERR_NETWORK",details:c});case MediaError.MEDIA_ERR_DECODE:return new Uo.a({code:r>0?"MEDIA_ERR_DECODE_DURING_PLAYBACK":"MEDIA_ERR_DECODE_ON_START",details:c});case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:return n(s)&&n(d)&&d===e.HAVE_NOTHING&&s===e.NETWORK_NO_SOURCE?new Uo.a({code:"MEDIA_ERR_NETWORK_FIRST_CHUNK_FAIL",details:c}):new Uo.a({code:"MEDIA_ERR_SRC_NOT_SUPPORTED",details:c});default:return new Uo.a({code:"MEDIA_ERROR_UNRECOGNIZED",details:c})}}subscribeClick(){const e=()=>{this.onClick.dispatch(void 0)},t=Bp>=11?On(this.videoNode,e):Object(rs.a)({element:this.videoNode,eventName:"click",listener:e});this.addDestroyHandler(t)}subscribeUpdatePositionInterval(){let e;const{videoNode:t}=this,i=()=>{if(this.seekController.isSeekingIllegal())return;this.currentPosition.dispatch(this.getCurrentPosition());const{currentTime:e,duration:t}=this.getCurrentPosition();Object(Jo.a)("[VideoNodeController]: updated position [currentTime = ["+e+"], duration = ["+t+"]]")},r=Object(rs.a)({element:t,eventName:"playing",listener:()=>{this.win.clearInterval(e),e=this.win.setInterval(i,Rf)},options:{passive:!0}}),a=Object(rs.a)({element:t,eventName:"pause",listener:()=>{this.win.clearInterval(e)},options:{passive:!0}}),n=Object(rs.a)({element:t,eventName:"ended",listener:()=>{this.win.clearInterval(e)},options:{passive:!0}}),o=Object(rs.a)({element:t,eventName:"canplay",listener:()=>{this.onCanPlay.dispatch(void 0)}});this.addDestroyHandler(r),this.addDestroyHandler(a),this.addDestroyHandler(n),this.addDestroyHandler(o),this.addDestroyHandler(()=>{this.win.clearInterval(e)})}subscribePause(){const{videoNode:e}=this,t=Object(rs.a)({element:e,eventName:"pause",listener:()=>{const{currentTime:e,duration:t}=this.getCurrentPosition();e>=t||this.playingState.dispatch(uA.PAUSE)},options:{passive:!0}}),i=di(()=>{const{paused:t,ended:i}=e;if(this.playingState.getValue()===uA.PLAY&&t&&!i){const{currentTime:t,duration:i}=e;Object(Jo.a)("DetectVideoPauseByPausedProperty currentTime=["+t+"] duration=["+i+"]"),xo.c.event({name:"DetectVideoPauseByPausedProperty",data:{currentTime:t,duration:i}}),this.playingState.dispatch(uA.PAUSE)}});this.addDestroyHandler(t),this.addDestroyHandler(i)}subscribeEnded(){const e=Object(rs.a)({element:this.videoNode,eventName:"ended",listener:()=>{if(this.seekController.isSeekingIllegal())return;const{currentTime:e,duration:t}=this.getCurrentPosition();e+y_>=t?this.playingState.dispatch(uA.END):Object(Jo.a)("video ended ignored with currentTime=["+e+"] duration=["+t+"]")},options:{passive:!0}});let t=0,i=NaN;const r=di(()=>{const{currentTime:e,duration:r}=this.getCurrentPosition(),{paused:a}=this.videoNode,n=this.playingState.getValue();if(r>0&&e>=r)return void(n!==uA.END&&(xo.c.event({name:"DetectVideoEndByCurrentTime",data:void 0}),this.playingState.dispatch(uA.END)));const o=!a&&r>0&&e===i&&r-e<__&&this.playingState.getValue()===uA.PLAY;i=e,o?t>=g_?(t=0,n!==uA.END&&(xo.c.event({name:"DetectVideoEndByStalledOffset",data:void 0}),this.playingState.dispatch(uA.END))):t++:t=0});this.addDestroyHandler(e),this.addDestroyHandler(r)}subscribeBuffering(){let e=Vs.a;const t=em(this.videoNode,t=>{const i=t?uA.BUFFERING:this.videoNode.paused?uA.PAUSE:uA.PLAY;if(e(),this.playingState.dispatch(i),t&&w_){const{clear:t,promise:i}=Object(Do.a)(T_);e=t,this.addDestroyHandler(t),i.then(()=>{if("buffering"!==this.playingState.getValue())return;const{currentTime:e,duration:t}=this.getCurrentPosition(),i=e+S_;this.setCurrentTime(i);const{currentSrc:r,src:a}=this.videoNode;xo.c.event({name:"RecoverSafariPlayingHangup",data:{currentSrc:r,src:a,currentTime:e,duration:t}})}).catch(Rs.a)}});this.addDestroyHandler(t)}subscribeVolumeChange(){this.addDestroyHandler(Object(rs.a)({element:this.videoNode,eventName:"volumechange",listener:()=>{this.onVolumeChange.dispatch(void 0)}}))}shouldIgnorePlayRejection(e){if(this.isDestroyed)return!0;if(20!==e.code&&"AbortError"!==e.name)return!1;if(this.isDestroyed)return!0;return Date.now()-this.pauseRequest.getValue()<=O_}}const I_=e=>{let{valueSignal:t,time:i,callback:r,win:a}=e,n=0;const o=()=>a.clearTimeout(n),s=t.add(e=>{e?n=a.setTimeout(()=>{r(),s()},i):o()});return()=>{o(),s()}},C_=e=>{var t;const{adParametersObject:i}=e;if(!Object(Ro.a)(i))return;const r=null!==(t=i.adParameters)&&void 0!==t?t:i;return{parsedParameters:kA(r),adParametersObject:i}},D_=["left-bottom","right-bottom"],N_=["left-bottom","right-bottom","left-center","right-center"],R_=.1,k_=.05,V_=140,j_=e=>!1!==e.abuse,L_={isCloseAvailable:!1,isCloseDialogActive:!1},M_=(e,t)=>t>=Jm&&("play"===e||"pause"===e),B_=(e,t,i,r)=>{const a=e[t];let n=a;return i?n=Object(To.a)(a,e=>e!==r):i||Object(Ko.a)(a,r)||(n=[...a]).push(r),kn({},e,{[t]:n})},U_=e=>{let{win:t,callback:i,addDestroyHandler:r}=e;const a=new qA({win:t,duration:250,callback:e=>{const t=Dt(e,0,1);i(t),1===t&&a.stop()},onFinish:Vs.a});r(()=>a.stop()),a.start()};let x_=0;const F_=100,H_=2e3;class z_ extends Eo.a{enableRetainLastMediaAfterPlayback(){this.retainLastMediaAfterPlayback=!0}disableCreativePackshot(){this.config.packshotSettings={isEnabled:!1}}constructor(e){let{config:t,videoNode:i,videoWrapperNode:r,renderSkin:a,backgroundSlot:n,visibilitySlotParameters:s,measurersSlot:d}=e;super(),jn(this,"volumeButtonCollapseProgress",new Qo.a(void 0)),jn(this,"volumeStatus",new Qo.a("unknown")),jn(this,"videoContentSize",void 0),jn(this,"videoSlotSize",void 0),jn(this,"slotDocument",void 0),jn(this,"slotWindow",void 0),jn(this,"slotParameters",void 0),jn(this,"visibilitySlotParameters",void 0),jn(this,"onReady",new ts.a),jn(this,"onBeforeDestroy",new ts.a),jn(this,"onDestroy_PUBLIC_DO_NOT_USE",new ts.a),jn(this,"onBeforeAdStart",new ts.a),jn(this,"onAdStart",new ts.a),jn(this,"adSlowStart",new Qo.a(!1)),jn(this,"onAdMediaStart",new ts.a),jn(this,"onAdMediaEnd",new ts.a),jn(this,"onAdEnd",new ts.a),jn(this,"onAdSkipped",new ts.a),jn(this,"onClickThrough",new ts.a),jn(this,"isFinished",void 0),jn(this,"config",void 0),jn(this,"videoNodeController",void 0),jn(this,"videoNode",void 0),jn(this,"desiredBitrate",void 0),jn(this,"autoplayAbilitySignal",new Qo.a(Vn({},sA))),jn(this,"onAdStartRejected",new ts.a),jn(this,"adContentSize",new Qo.a(void 0,Ar)),jn(this,"onAdStop",new ts.a),jn(this,"onAdStartRequest",new ts.a),jn(this,"onAdPodPlayAdMedia",new ts.a),jn(this,"onAdPodStartRequest",new ts.a),jn(this,"onAdPodStart",new ts.a),jn(this,"onAdPodImpression",new ts.a),jn(this,"onAdPodFirstQuartile",new ts.a),jn(this,"onAdPodMidpoint",new ts.a),jn(this,"onAdPodThirdQuartile",new ts.a),jn(this,"onAdPodPause",new ts.a),jn(this,"onAdPodResume",new ts.a),jn(this,"onAdPodError",new ts.a),jn(this,"onAdPodComplete",new ts.a),jn(this,"onAdPodClose",new ts.a),jn(this,"onAdInteraction",new ts.a),jn(this,"adMediaState",new Qo.a({name:"idle"},Ar)),jn(this,"isPackshotPlaying",new Qo.a(!1)),jn(this,"actionButtonParameters",new Qo.a(void 0,Ar)),jn(this,"disclaimerParameters",new Qo.a([],Ar)),jn(this,"actionButtonAnimationProgress",new Qo.a(0)),jn(this,"abuseParameters",new Qo.a(OA,Ar)),jn(this,"adVolume",void 0),jn(this,"adPodDuration",new Qo.a(nm)),jn(this,"adHasBeenUnmuted",void 0),jn(this,"adVolumeAvailability",new Qo.a(Kf)),jn(this,"adPodRemainingTime",new Qo.a(gm)),jn(this,"skinAnimationProgress",new Qo.a(0)),jn(this,"timeToSkip",new Qo.a(Nb)),jn(this,"adSkippableState",new Qo.a(Om)),jn(this,"wasAbuseClosedByClickOutsideVisibility",new Qo.a(!1)),jn(this,"playingState",new Qo.a("idle",(e,t)=>"idle"===t?(xo.c.error({error:new Uo.a({code:"ATTEMPT_TO_CHANGE_ADC_PLAYING_STATE_TO_IDLE",details:void 0})}),!0):e===t)),jn(this,"adPodCloseState",new Qo.a(L_,Ar)),jn(this,"adTuneState",new Qo.a(yA,Ar)),jn(this,"combinedSkinControlsVisibility",new Qo.a({},Ar)),jn(this,"adSystemType",new Qo.a(void 0)),jn(this,"socialAdvertising",new Qo.a(!1)),jn(this,"abuseDisplayStatus",new Qo.a("hidden")),jn(this,"pauseByOpenAbuseScreen",new Qo.a(!1)),jn(this,"adPodsCount",new Qo.a(0)),jn(this,"playingAdPodIndex",new Qo.a(0)),jn(this,"adPodCurrentSubtitles",new Qo.a([])),jn(this,"logAbuseOpenFirstTime",Object(js.a)(()=>{xo.c.event({name:"AbuseScreenOpenFirstTime",data:{},probability:Fo.b})})),jn(this,"onAllAdPodComplete",new ts.a),jn(this,"lastMediaRetained",new Qo.a(void 0)),jn(this,"measurersSlot",void 0),jn(this,"skinContainer",void 0),jn(this,"retainLastMediaAfterPlayback",!1),jn(this,"renderSkin",void 0),jn(this,"skinControlsHideReasons",new Qo.a(Object(Gs.a)(Object(Io.a)(jl,e=>[e,[]])))),jn(this,"publicApiControlsSettings",new Qo.a({controlsVisibility:{}})),jn(this,"isNonLinearAdPlaying",new Qo.a(!1)),jn(this,"isCreativeWithOwnControls",new Qo.a(!1)),jn(this,"vastAdControlsSettings",new Qo.a(void 0)),jn(this,"shouldHandleResize",!0),jn(this,"emitAdEnd",void 0),jn(this,"viewersList",[]),jn(this,"currentViewer",void 0),jn(this,"nativeControlsHideStyle",void 0),jn(this,"adType",void 0),jn(this,"showAdCounter",0),jn(this,"shouldBlurBeVisibleByApiLogic",new Qo.a(!0)),jn(this,"adPodBackground",new Qo.a(void 0)),jn(this,"adPodDestroyReasonObjects",[]),jn(this,"destroyBlur",Vs.a),jn(this,"adVideoIsBuffering",new Qo.a(!1)),jn(this,"onAdInteractionWrapper",$b(()=>{this.onAdInteraction.dispatch(void 0)},Xf)),jn(this,"isFakeVideoElementWithoutVolumeChangeSupport",void 0),jn(this,"prepareSkin",Object(js.a)(()=>{const e=this.skinContainer;l(e,{position:"absolute",top:"0",left:"0",right:"0",bottom:"0",zIndex:"1",pointerEvents:"none",fontSize:"16px"});const t=Xa(e);t||xo.c.event({name:"CouldNotCreateSkinShadowRoot",data:void 0});const{firstRenderPromise:i,runtimeErrorPromise:r,clear:a}=this.renderSkin(null!==t&&void 0!==t?t:e,this);i.catch(e=>{xo.c.error({error:new Uo.a(e,{code:"PREACT_SKIN_FIRST_RENDER_ERROR",details:e})}),this.destroy(e)}),r.catch(e=>{xo.c.error({error:new Uo.a(e,{code:"PREACT_SKIN_RUNTIME_ERROR",details:void 0})}),this.destroy(e)}),this.addDestroyHandler(()=>{a(),Object(es.a)(e)})})),jn(this,"backgroundSlot",void 0),jn(this,"openAdSystemWebsite",()=>{const e=this.socialAdvertising.getValue(),t=e?Jf:pA("YANDEX_DIRECT_LINK",this.config.lang),i=!this.getPaused(),r=Date.now();if(xo.c.event({name:"OpenAdSystemWebsite",data:{adSystemType:this.adSystemType.getValue(),pauseByOpenWebsite:i,adSystemWebsiteUrl:t,socialAdvertising:e}}),i&&this.pause(),null===window.open(t,"_blank"))return;const a=mr(window.document,n=>{n&&(xo.c.event({name:"ReturnBackAfterOpenAdSystemWebsite",data:{timeSpentBeforeReturn:Date.now()-r,adSystemType:this.adSystemType.getValue(),adSystemWebsiteUrl:t,pauseByOpenWebsite:i,socialAdvertising:e}}),a(),i&&this.resume())});this.addDestroyHandler(a)}),jn(this,"clickThrough",(e,t)=>{this.currentViewer?(xo.c.event({name:"AdDisplayControllerClickThrough",data:{source:t,playbackParameters:this.config},probability:Fo.a}),this.viewerClickThrough(this.currentViewer,e,t)):xo.c.error({error:new Uo.a({code:"CALL_CLICK_THROUGH_METHOD_WITHOUT_VIEWER",details:{source:t,playbackParameters:this.config}})})}),jn(this,"destroyCurrentViewer",()=>{this.currentViewer&&(this.currentViewer.destroy({reason:"close",details:void 0}),this.closeAbuseScreen())}),jn(this,"logAbuseEventToStats",e=>{xo.c.event({name:"AbuseVariantChoose",data:{pauseByOpenAbuseScreen:this.pauseByOpenAbuseScreen.getValue(),variant:e},probability:Fo.b});const t=Db(e);xo.c.event({name:t,data:{},probability:Fo.b})}),jn(this,"abuseVariantChooseHandler",(e,t)=>{if(!this.currentViewer)return void xo.c.error({error:new Uo.a({code:"ABUSE_CALLED_WITHOUT_VIEWER",details:void 0})});const{reason:i,action:r}=gA[e];this.sendAdTuneTracking({actionId:r,reasonId:i,options:t}),this.logAbuseEventToStats(e),(null===t||void 0===t?void 0:t.noDestroyOnClick)||this.destroyCurrentViewer()}),jn(this,"onAbuseCopyLinkToClipboardClick",e=>{e?(xo.c.event({name:"AbuseScreenCopiedCountLink",data:{},probability:Fo.b}),function(e){const t=document.createElement("textarea"),i=window.pageYOffset||document.documentElement.scrollTop;t.style.fontSize="12pt",t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",t.style.top=i+"px",t.value=e,document.body.appendChild(t),t.select(),t.setSelectionRange(0,t.value.length);try{document.execCommand("copy")}catch(r){}document.body.removeChild(t)}(e)):xo.c.error({error:new Uo.a({code:"ABUSE_COPY_COUNT_LINK_WITHOUT_URL",details:void 0})})}),jn(this,"getSendBeaconParams",e=>{const t=null===e||void 0===e?void 0:e.UserResponse;if(!t)return;const i=JSON.stringify({UserResponse:t});return new Blob([i],{type:"application/json"})}),jn(this,"abuseButtonClickHandler",()=>{const e=!("pause"===this.playingState.getValue());e&&this.pause(),xo.c.event({name:"AbuseScreenOpen",data:{pauseByOpenAbuseScreen:e},probability:Fo.b}),this.logAbuseOpenFirstTime(),this.pauseByOpenAbuseScreen.dispatch(e),this.abuseDisplayStatus.dispatch("selection"),this.sendAdTuneTracking({actionId:vA.open.action,reasonId:vA.open.reason})}),jn(this,"abuseScreenCloseHandler",()=>{xo.c.event({name:"AbuseScreenClose",data:{pauseByOpenAbuseScreen:this.pauseByOpenAbuseScreen.getValue()},probability:Fo.b}),this.closeAbuseScreen(),this.sendAdTuneTracking({actionId:vA.close.action,reasonId:vA.close.reason})}),jn(this,"handleAbuseScreenCloseByResumeError",()=>{xo.c.error({error:new Uo.a({code:"ABUSE_SCREEN_CLOSE_BY_RESUME",details:void 0})}),this.abuseDisplayStatus.dispatch("hidden")}),jn(this,"getCurrentViewerAssets",()=>{const e=this.currentViewer;if(!e)return void xo.c.event({name:"GetCurrentViewerAssetsCalledWithoutViewer",data:void 0,probability:Fo.b});const{adParametersObject:t}=e.mediaAd.vastAd,i=t?kA(t):void 0,r=this.getAdPlacementOptions(e),{adFormatType:a}=r,n="survey"===a?a:void 0;if(!i)return xo.c.event({name:"GetCurrentViewerAssetsReturnedEmpty",data:void 0,probability:Fo.b}),{logo:void 0,domain:void 0,greenUrl:void 0,punyDomain:void 0,title:void 0,body:void 0,age:void 0,buttonCaption:void 0,lang:void 0,targetUrl:void 0,socialAdvertising:void 0,app:void 0,icon:void 0,adFormatType:n,sendAdTuneTracking:void 0,clickThrough:void 0,clickThroughButtonAsset:void 0};const o=null===i||void 0===i?void 0:i.assets,s=null===o||void 0===o?void 0:o.button,{abuseUrl:d}=this.abuseParameters.getValue(),l={logo:null===o||void 0===o?void 0:o.logo,domain:null===i||void 0===i?void 0:i.domain,greenUrl:null===i||void 0===i?void 0:i.greenUrl,punyDomain:null===i||void 0===i?void 0:i.punyDomain,title:null===i||void 0===i?void 0:i.title,body:null===i||void 0===i?void 0:i.body,age:null===i||void 0===i?void 0:i.ageRestriction,buttonCaption:null===s||void 0===s?void 0:s.caption,lang:this.config.lang,targetUrl:null===i||void 0===i?void 0:i.targetUrl,socialAdvertising:this.socialAdvertising.getValue(),app:null===o||void 0===o?void 0:o.app,icon:null===o||void 0===o?void 0:o.icon,adFormatType:n,sendAdTuneTracking:d?e=>{xo.c.event({name:"GetCurrentViewerAssetsAdTuneTracking",data:void 0,probability:Fo.b}),this.sendAdTuneTracking(e)}:void 0,clickThrough:e.isClickable()?()=>{xo.c.event({name:"GetCurrentViewerAssetsClickThrough",data:void 0,probability:Fo.b}),this.viewerClickThrough(e,{},"PublicAssetsMethodCall")}:void 0,clickThroughButtonAsset:s?()=>{xo.c.event({name:"GetCurrentViewerAssetsClickThroughButtonAsset",data:void 0,probability:Fo.b}),this.viewerClickThrough(e,{id:s.key,url:s.href},"PublicAssetsButtonAssetMethodCall")}:void 0};return xo.c.event({name:"GetCurrentViewerAssetsReturnAssets",data:l,probability:Fo.b}),l}),jn(this,"subscribeInteractionHandlers",()=>{if(!jp(this.slotParameters.element))return Vs.a;const e=[],t=or(this.videoNode);return Object(Co.a)(Nf,i=>{e.push(Object(rs.a)({element:this.slotParameters.element,eventName:i,listener:this.onAdInteractionWrapper,options:{passive:!0}})),t&&e.push(Object(rs.a)({element:this.slotParameters.element,eventName:i,listener:this.onAdInteractionWrapper,options:{passive:!0}}))}),()=>ni(e)}),jn(this,"viewerClickThrough",(e,t,i)=>{e.userInteractionDispatchers.AdClickThru(t),e.clickThrough(t)}),this.addDestroyHandler(e=>{this.onBeforeDestroy.dispatch(e)}),this.backgroundSlot=n,this.visibilitySlotParameters=s,this.measurersSlot=d,Ya(window)&&If(),qa(window)&&Pf(window);const c=void 0===i.volume||void 0===i.muted;c&&xo.c.error({error:new Uo.a({code:"FAKE_VIDEO_ELEMENT_WITHOUT_VOLUME_CHANGE_SUPPORT",details:void 0})});const{config:u,errors:h}=on(t);this.config=u,this.adVolume=new Qo.a(Pn(i)),this.adHasBeenUnmuted=new Qo.a(this.adVolume.getValue()>0),this.isFakeVideoElementWithoutVolumeChangeSupport=c;const p=new xm(r),A=p.onResize;A.add(e=>{this.shouldHandleResize&&this.resizeAd(e.width,e.height)}),A.add(()=>{this.isNeedToShowVolumeButtonText()||0!==this.volumeButtonCollapseProgress.getValue()||this.startVolumeButtonProgress()}),this.addDestroyHandler(()=>{p.destroy()}),this.slotParameters={element:r,size:A},this.slotDocument=this.slotParameters.element.ownerDocument,this.slotWindow=this.slotDocument.defaultView,this.skinContainer=this.slotDocument.createElement("div"),this.renderSkin=a,this.addDestroyHandler(Zf(r,()=>{this.destroy({reason:"error",details:new Uo.a({code:"VIDEO_WRAPPER_NODE_NOT_IN_DOM",details:void 0})})})),this.videoContentSize=new Qo.a(void 0,Ar);const m=new Qo.a(M_(this.playingState.getValue(),this.visibilitySlotParameters.visibilityRatio.getValue()));if(this.addDestroyHandler(nr([this.playingState,this.visibilitySlotParameters.visibilityRatio],M_,e=>m.dispatch(e))),this.addDestroyHandler(I_({valueSignal:m,time:H_,callback:()=>{0===this.volumeButtonCollapseProgress.getValue()&&this.startVolumeButtonProgress()},win:this.slotWindow})),this.onAdStart.addOne(()=>{this.addDestroyHandler(function(e,t){const i=()=>{const i=Pr(e);t(i)},r=[];return r.push(Object(rs.a)({element:e,eventName:"resize",listener:i}),di(i)),()=>{ni(r)}}(i,e=>{this.videoContentSize.dispatch(e)})),this.videoContentSize.dispatch(Pr(i))}),this.adHasBeenUnmuted.addOne(e=>{e&&0===this.volumeButtonCollapseProgress.getValue()&&this.startVolumeButtonProgress()}),this.volumeStatus.addOne(()=>{this.isNeedToShowVolumeButtonText()&&"mutedStart"===this.volumeStatus.getValue()?this.volumeButtonCollapseProgress.dispatch(0):this.volumeButtonCollapseProgress.dispatch(1)}),this.addDestroyHandler(()=>{p.destroy()}),or(i)){const e=new xm(i);this.addDestroyHandler(()=>e.destroy()),this.videoSlotSize=e.onResize}else this.videoSlotSize=this.slotParameters.size;ie(h),this.videoNode=i,this.timeToSkip.add(e=>{this.adSkippableState.dispatch(0===e)});const v=this.adVolume.add(e=>{0!==e&&(this.adHasBeenUnmuted.dispatch(!0),v())});this.addDestroyHandler(nr([this.adVolume,this.adVolumeAvailability,this.adHasBeenUnmuted],(e,t,i)=>(function(e){let{adVolume:t,adVolumeAvailability:i,adHasBeenUnmuted:r}=e;return i?0!==t?"unmuted":r?"muted":"mutedStart":"unknown"})({adVolume:e,adVolumeAvailability:t,adHasBeenUnmuted:i}),e=>this.volumeStatus.dispatch(e))),++x_===F_&&xo.c.error({error:new Uo.a({code:"TOO_MANY_CREATE_AD_DISPLAY_CONTROLLER_REQUESTS",details:void 0})}),xo.c.event({name:"CreateAdDisplayController",probability:Fo.a,data:{config:this.config}}),this.desiredBitrate=t.desiredBitrate,this.videoNodeController=new P_(i,this.slotWindow),this.onAdEnd.add(()=>this.setVisibleNativeControls(!0)),this.onReady.add(()=>this.setVisibleNativeControls(!1));const f=this.config.controlsSettings;this.addDestroyHandler(function(e,t){let{isFakeVideoElementWithoutVolumeChangeSupport:i,playingState:r,showGuiForVpaid:a,controlsSettingsFromConfig:n,slotSize:o,isNonLinearAdPlaying:s,skinControlsHideReasons:d,isCreativeWithOwnControls:l,vastAdControlsSettings:c,publicApiControlsSettings:u}=e,h={};return nr([r,o,s,d,l,c,u],(e,t,r,o,s,d,l)=>{let{width:c}=t;if(!("idle"!==e)||!(c>=V_)||s&&!a||r)return Ll;const u={controlsVisibility:U(o,e=>!(e.length>0)&&void 0)};return Xi(d,n,l,u,i?{controlsVisibility:{mute:!1}}:void 0).controlsVisibility},re(e=>{t(h=e)},e=>{for(const i of jl)if(e[i]!==h[i])return void t(h=e)}))}({isFakeVideoElementWithoutVolumeChangeSupport:this.isFakeVideoElementWithoutVolumeChangeSupport,playingState:this.playingState,showGuiForVpaid:this.config.showGuiForVpaid,controlsSettingsFromConfig:f,slotSize:this.slotParameters.size,isNonLinearAdPlaying:this.isNonLinearAdPlaying,skinControlsHideReasons:this.skinControlsHideReasons,isCreativeWithOwnControls:this.isCreativeWithOwnControls,vastAdControlsSettings:this.vastAdControlsSettings,publicApiControlsSettings:this.publicApiControlsSettings},e=>{this.combinedSkinControlsVisibility.dispatch(e)})),this.onAdPodPlayAdMedia.add(e=>{const{mediaAd:t}=e;this.isCreativeWithOwnControls.dispatch(t.isCreativeWithOwnControls()),this.adSystemType.dispatch(t.getIsYandexCreative()?"yandex":"external");const i=Zi(t.vastAd);this.vastAdControlsSettings.dispatch(i),this.actionButtonParameters.dispatch(function(e){if(!Cn(e))return;const t=C_(e);if(!Object(Ro.a)(t))return;const{adParametersObject:i,parsedParameters:r}=t;if(!Object(Ro.a)(i)||!Object(Ro.a)(r))return;const a=zi(i);if(!a)return;const{greenUrl:n,domain:o,punyDomain:s,title:d,body:l}=r;return{greenUrl:n,domain:o,punyDomain:s,clickUrl:a,buttonPlacement:Dn(i),oldButtonStyle:Nn(i),label:Ki(i),title:d,body:l}}(t.vastAd)),(Cn(t.vastAd)||Ct(t.vastAd))&&this.disclaimerParameters.dispatch(function(e,t){const i=[],{parsedParameters:r}=C_(e)||{};return r&&(r.hasDrugDisclaimer&&i.push({text:pA("MOTION_DRUG_DISCLAIMER",t),mandatoryHeightPortion:k_}),r.hasDietarysupplDisclaimer&&i.push({text:pA("MOTION_DIETARYSUPPL_DISCLAIMER",t),mandatoryHeightPortion:R_})),i}(t.vastAd,this.config.lang)),e.playbackPosition.subscribeValueConditionOnce(e=>{let{duration:t,remainingTime:i}=e;return!!o(t)&&(!!o(i)&&t-i>=1)},()=>{const t=new qA({win:window,duration:Sb,callback:e=>{this.actionButtonAnimationProgress.dispatch(e)},onFinish:()=>{t.stop()}});t.start(),e.addDestroyHandler(()=>{t.stop()})}),e.packshotStartLatch.subscribe(()=>{this.isPackshotPlaying.dispatch(!0)})}),this.onAdMediaEnd.add(()=>{this.isCreativeWithOwnControls.dispatch(!1),this.adSystemType.dispatch(void 0),this.vastAdControlsSettings.dispatch(void 0),this.actionButtonParameters.dispatch(void 0),this.disclaimerParameters.dispatch([]),this.actionButtonAnimationProgress.dispatch(0),this.isPackshotPlaying.dispatch(!1),this.adVideoIsBuffering.dispatch(!1)}),this.onAdPodStartRequest.add(e=>{const{mediaAd:t}=e,{vastAd:i}=t;this.socialAdvertising.dispatch(function(e){var t;return!0===(null===(t=e.adParametersObject)||void 0===t?void 0:t.socialAdvertising)}(i));const{abuseUrl:r,adParametersObject:a}=i;if(!r)return;const{adParameters:n}=a||{},o=n?qi(n).legalInfoText:void 0;this.abuseParameters.dispatch({abuseUrl:r,legalInfoText:o})}),this.onBeforeAdStart.addOne(()=>{const e=Date.now();let t;const i=()=>{void 0!==t&&(Object(Jo.a)("cancel slow start timeout"),clearTimeout(t),t=void 0)};t=setTimeout(()=>{const t=Date.now()-e;Object(Jo.a)("mark slow start, actual passed time=["+t+"]ms"),xo.c.event({name:"AdSlowStart",probability:Fo.a,data:{actualTime:t}}),this.adSlowStart.dispatch(!0)},Qf),this.onAdStart.addOne(()=>{i()}),this.addDestroyHandler(()=>{i()})}),this.onAdMediaStart.add(e=>{let{viewer:t}=e;this.adPodBackground.dispatch(t.adPodViewerPlaybackParams.background)}),this.onAdMediaEnd.add(()=>{this.adPodBackground.dispatch(void 0)}),this.addDestroyHandler(e=>{this.isFinished=!0,this.playingState.dispatch("end"),Object(Co.a)(this.viewersList,t=>{"unload"!==e.reason?t.destroy({reason:"destroy",details:void 0}):t.destroy({reason:"unload",details:void 0})}),this.viewersList.length=0,this.adVolume.removeAll(),this.volumeButtonCollapseProgress.removeAll(),this.volumeStatus.removeAll(),m.removeAll(),this.slotParameters.size.removeAll(),this.visibilitySlotParameters.visibilityRatio.removeAll(),this.visibilitySlotParameters.size.removeAll(),this.videoContentSize.removeAll(),this.timeToSkip.removeAll(),this.skinControlsHideReasons.removeAll(),this.abuseParameters.removeAll(),this.playingState.removeAll(),this.onAdStop.removeAll(),this.onAdPodPlayAdMedia.removeAll(),this.onAdPodStart.removeAll(),this.onAdPodPause.removeAll(),this.onAdPodResume.removeAll(),this.onAdPodComplete.removeAll(),this.onAdPodClose.removeAll(),this.onAdInteraction.removeAll(),this.adPodDuration.removeAll(),this.adPodRemainingTime.removeAll(),this.adHasBeenUnmuted.removeAll(),this.onBeforeAdStart.removeAll(),this.onAdStart.removeAll(),this.onAdMediaStart.removeAll(),this.onAdMediaEnd.removeAll(),this.onAdEnd.removeAll(),this.onReady.removeAll(),this.adContentSize.removeAll(),this.adSlowStart.removeAll(),this.adMediaState.removeAll(),this.adVolume.removeAll(),this.currentViewer&&(this.currentViewer.isCreativeStartRequested.getValue()&&(void 0===this.adType&&xo.c.error({error:new Uo.a({code:"EMPTY_AD_TYPE_WHILE_PLAYING",details:void 0})}),this.onAdMediaEnd.dispatch({adType:this.adType})),this.currentViewer.destroy({reason:"destroy",details:void 0}),this.currentViewer=void 0),this.videoNodeController.destroy(),Object(es.a)(this.nativeControlsHideStyle)}),this.addDestroyHandler(nr([this.vastAdControlsSettings,this.abuseParameters,this.abuseDisplayStatus],Rn,e=>this.adPodCloseState.dispatch(e))),this.adPodCloseState.add(e=>{let{isCloseAvailable:t}=e;return this.adTuneState.dispatch({isAvailable:t})}),this.onAdPodPlayAdMedia.add(e=>{this.adPodCurrentSubtitles.dispatch([]);const t=qf(e.mediaAd.vastAd);let i;if(t)try{i=new r_(t)}catch(r){xo.c.event({name:"SubtitleProviderInitializationError",data:{message:r.message},probability:Fo.a})}AA||e.addDestroyHandler(nr([this.adPodRemainingTime,this.adPodDuration,this.isPackshotPlaying],(e,t,i)=>({remainingTime:e,duration:t,isPackshotPlaying:i}),e=>{let{remainingTime:t,duration:r,isPackshotPlaying:a}=e;const n=Math.max(0,r-t);if(a)this.adPodCurrentSubtitles.dispatch([]);else if(i){const e=i.findCuesByCurrentTime(n);this.adPodCurrentSubtitles.dispatch(e)}}))}),this.prepareSkin(),this.addDestroyHandler(vn(()=>{this.destroy({reason:"unload",details:void 0})},null!==yo.a&&void 0!==yo.a?yo.a:window)),this.addDestroyHandler(()=>{this.areAllAdPodsCompleted()&&this.onAllAdPodComplete.dispatch(void 0),this.lastMediaRetained.dispatch(this.isLastAdPodRetainedMedia())}),this.addDestroyHandler(e=>{this.onDestroy_PUBLIC_DO_NOT_USE.dispatch(e),this.onDestroy_PUBLIC_DO_NOT_USE.removeAll()})}async prepareToPlayAd(e){this.config.autoplay=!1;const t=this.onReady.promise(),i=this.onAdEnd.promise();this.showAd(e),await Promise.race([t,i.then(()=>{throw new Uo.a({code:"AD_STOPPED_BEFORE_READY_TO_PLAY",details:void 0})})])}showAd(e){var t;const i=Date.now(),r=or(this.videoNode)?Di(this.videoNode):void 0;if(!1===r){const e=this.slotParameters.element,t=jp(e)?Di(e):void 0;return xo.c.error({error:new Uo.a({code:"WRAPPER_OR_VIDEO_NODE_NOT_IN_DOM",details:{videoNodeInDom:r,wrapperInDom:t}})}),Promise.resolve()}if(!e.mediaAds.length)return xo.c.error({error:new Uo.a({code:"NO_AD_PODS_TO_PLAY_IN_SHOW_AD_METHOD",details:{config:this.config}})}),Promise.resolve();this.showAdCounter++,this.showAdCounter>1&&xo.c.event({name:"CallShowAdMultipleTimes",probability:Fo.a,data:void 0});const{adBreak:a}=e.getFirstMediaAd(),n=null!==(t=a.adType)&&void 0!==t?t:"preroll";return this.adType=n,this.isFinished=!1,new Promise((t,r)=>{this.slotParameters.element.appendChild(this.skinContainer),this.viewersList=Object(Io.a)(e.mediaAds,e=>{e.vastAd.trackingEvents=L(e.vastAd.trackingEvents,this.config.trackingEvents);const t={adDisplayController:this,mediaAd:e,adPodViewerPlaybackParams:$i({playbackParameters:this.config,secureMode:e.adConfig.secureMode,vastAd:e.vastAd,adBreak:e.adBreak})},i="js"===e.contentType?new Yf(t):new fm(t);return i.adVideoIsBuffering.add(e=>this.adVideoIsBuffering.dispatch(e)),i.onImpression.add(this.onAdPodImpression),i.onFirstQuartile.add(this.onAdPodFirstQuartile),i.onMidpoint.add(this.onAdPodMidpoint),i.onThirdQuartile.add(this.onAdPodThirdQuartile),i.onAdInteraction.add(this.onAdInteractionWrapper),i}),this.adPodsCount.dispatch(this.viewersList.length),this.initBackground(this.viewersList),this.isNonLinearAdPlaying.dispatch(this.getIfIsNonLinear()),this.emitAdEnd=t,this.onBeforeAdStart.dispatch({adType:n}),this.onAdPodStart.addOne(()=>{xo.c.values({name:"AdStarted",probability:Fo.a,data:{config:this.config},labels:{},values:{startTime:Date.now()-i}})}),this.startAdPlayback(n).then(()=>t()).catch(e=>{this.isFinished=!0,this.playingState.dispatch("end"),this.onAdMediaEnd.dispatch({adType:n}),r(e)}),this.addDestroyHandler(this.subscribeInteractionHandlers())}).catch(e=>{xo.c.errorToStats(e)}).then(()=>{this.isFinished=!0,this.playingState.dispatch("end"),this.onAdEnd.dispatch({adType:n}),this.destroyBlur()})}getAdPlacementOptions(e){void 0===e&&(e=this.currentViewer);const{videoNode:t}=this;let i,r,a=0;if(e&&(a=e.getBufferingTime()),e&&(i=e.mediaAd.adBreak.adType),e){const t=e.mediaAd.getMediaFiles();t.length>0&&(r=function(e,t){let{type:i,url:r}=e,{vastAd:a}=t;if("js"!==Et({type:i}))return"video";if(!S(r))return"external";try{const{adFormatType:e}=Le(a.adParameters);return e}catch(n){return"external"}}(t[0],{vastAd:e.mediaAd.vastAd}))}return Ir({win:this.slotWindow,slotSize:this.slotParameters.size.getValue(),videoSlotSize:this.videoSlotSize.getValue(),slotVisibilityRatio:this.visibilitySlotParameters.visibilityRatio.getValue(),videoNode:t,bufferingTime:a,adBreakType:i,adFormatType:r})}setMuted(e){this.currentViewer?this.currentViewer.setMuted(e):this.videoNodeController.setMuted(e)}resizeAd(e,t,i){var r;void 0===i&&(i=yp.NORMAL),null===(r=this.currentViewer)||void 0===r||r.resizeAd(e,t,i)}async play(e){void 0===e&&(e=!0);const{currentViewer:t,config:i}=this;return e&&(i.autoplay=!0),t?(t.play(e),new Promise((e,i)=>{t.addDestroyHandler(t=>{const r=er(t);r?i(r):e()})})):Promise.reject(new Error("AdSDK Error: play request without AdMedia"))}pause(){this.currentViewer?this.currentViewer.pause():this.isFinished||this.playingState.dispatch("pause")}resume(){this.currentViewer?this.currentViewer.resume():this.isFinished||this.playingState.dispatch("play")}close(){this.destroyNextViewers("close")}skipAllViewers(){this.skipCurrentViewer(),this.destroyNextViewers("skip")}skipCurrentViewer(){if(!this.currentViewer)return this.stop(),void xo.c.error({error:new Uo.a({code:"SKIP_NOT_PLAYING_AD_POD",details:{isFinished:this.isFinished}})});this.currentViewer.getAdSkippableState()?this.currentViewer.skipAd():xo.c.error({error:new Uo.a({code:"ATTEMPT_TO_SKIP_NOT_SKIPPABLE_AD_POD",details:void 0})})}sendAdTuneTracking(e){let{actionId:t,reasonId:i,options:r}=e;const{abuseUrl:a}=this.abuseParameters.getValue();a||xo.c.error({error:new Uo.a({code:"ABUSE_CALLED_WITHOUT_URL",details:void 0})}),pt({eventName:"close",trackingEventDetails:void 0,trackingUrls:[Object(Ad.b)(a,{"reason-id":""+i,"action-id":""+t},{override:!0})],options:this.getAdPlacementOptions(),sendBeaconParams:this.getSendBeaconParams(r)})}stop(){this.isFinished=!0,this.playingState.dispatch("end"),this.onAdStop.dispatch(void 0),this.emitAdEnd&&this.emitAdEnd()}getAdWidth(){var e,t;return null!==(e=null===(t=this.currentViewer)||void 0===t?void 0:t.getAdWidth())&&void 0!==e?e:QA}getAdHeight(){var e,t;return null!==(e=null===(t=this.currentViewer)||void 0===t?void 0:t.getAdHeight())&&void 0!==e?e:KA}trackEvent(e,t){var i;null===(i=this.currentViewer)||void 0===i||i.trackEvent(e,t)}getCurrentContentType(){return this.currentViewer?this.currentViewer.contentType:void 0}usesVideoNode(){if(this.currentViewer)return!this.currentViewer.mediaAd.getIsIndependentOnVideoElement()}getAdRemainingTime(){if(this.isFinished)return 0;if(this.currentViewer){let e=this.currentViewer.getAdRemainingTime();for(let t=this.getCurrentViewerIndex()+1;t<this.viewersList.length;t++){e+=this.viewersList[t].mediaAd.getDuration()}return e}return this.getDuration()}getAdPodRemainingTime(){var e;if(this.isFinished)return 0;if(this.currentViewer)return this.currentViewer.getAdRemainingTime();const[t]=this.viewersList;return null!==(e=null===t||void 0===t?void 0:t.mediaAd.getDuration())&&void 0!==e?e:0}getCurrentTime(){return this.currentViewer?this.getCurrentViewerStartTime()+this.currentViewer.getCurrentTime():0}getAdPodDuration(){if(this.currentViewer){const e=this.currentViewer.getDuration();if(e>0)return e}return 0}getDuration(){let e=0;return Object(Co.a)(this.viewersList,t=>{const i=t.getDuration();i>0&&(e+=i)}),e}getPaused(){return this.currentViewer?"play"!==this.currentViewer.playingState.getValue():!!this.isFinished||"pause"===this.playingState.getValue()}getVolume(){return this.adVolume.getValue()}setVolume(e){this.adVolume.dispatch(e);const{currentViewer:t}=this;t?t.setVolume(e):this.videoNodeController.setVolume(e)}getMuted(){const{currentViewer:e}=this;return e?0===e.getVolume():this.videoNodeController.getMuted()}getAdVolumeAvailability(){return this.adVolumeAvailability.getValue()}setBlurDisplay(e){this.shouldBlurBeVisibleByApiLogic.dispatch(e)}getCurrentViewerIndex(){return this.currentViewer?Math.max(this.viewersList.indexOf(this.currentViewer),0):0}getViewersWithVideoCountBeforeCurrent(){let e=0;if(this.currentViewer)for(let t=0;t<this.viewersList.length;t++){const i=this.viewersList[t];if(i===this.currentViewer)break;i.mediaAd.getIsIndependentOnVideoElement()||e++}return e}getViewerLength(){return this.viewersList.length}disableResizeHandling(){this.shouldHandleResize=!1}enableResizeHandling(){const{width:e,height:t}=this.slotParameters.element.getBoundingClientRect();this.resizeAd(e,t),this.shouldHandleResize=!0}setSkinControlHideReason(e,t,i){this.skinControlsHideReasons.dispatch(B_(this.skinControlsHideReasons.getValue(),e,t,i))}setPublicApiControlsSettings(e){if(!Object(Ro.a)(e)&&!1!==e&&void 0!==e){const t=new Uo.a({code:"INVALID_ARGUMENT_IN_SET_PUBLIC_API_CONTROLS",details:{argument:e}});throw xo.c.error({error:t}),Object(Wu.a)("setPublicApiControlsSettings: invalid input data, please check VAS documentation"),t}const t=this.publicApiControlsSettings.getValue();let i;i=Object(Ro.a)(e)?Vn({},t,{controlsVisibility:Vn({},t.controlsVisibility,e)}):Vn({},t,{visibility:e}),xo.c.event({name:"PublicSetControlVisibilityIsUsed",data:{previous:t,next:i},probability:Fo.a}),Object(Jo.a)("AdDisplayController#setPublicApiControlsSettings: before=["+JSON.stringify(t)+"], after=["+i+"]"),this.publicApiControlsSettings.dispatch(i)}areAllAdPodsCompleted(){return rc(this.adPodDestroyReasonObjects,e=>{let{reason:t}=e;return"complete"===t})}isLastAdPodRetainedMedia(){const e=this.adPodDestroyReasonObjects[this.adPodDestroyReasonObjects.length-1];return!!Boolean(e)&&(!!this.retainLastMediaAfterPlayback&&("complete"===e.reason&&e.details.canUseMediaAfterPlayback))}getAutoplay(){if(this.getViewersWithVideoCountBeforeCurrent()>0)return Object(Jo.a)("autoplay=true due to subsequent viewer"),!0;if(this.autoplayAbilitySignal.getValue().requireUserGesture)return Object(Jo.a)("autoplay=false due to requireUserGesture"),!1;const{autoplay:e}=this.config;if(void 0!==e)return Object(Jo.a)("autoplay=["+e+"] due to config"),e;const t=this.playingState.getValue();if("idle"!==t){const e="pause"!==t;return Object(Jo.a)("autoplay=["+e+"] due to playingStateValue"),e}return Object(Jo.a)("autoplay=true due to default"),!0}setVisibleNativeControls(e){this.getIfIsNonLinear()||(e?Object(es.a)(this.nativeControlsHideStyle):(this.videoNode.controls=!1,this.nativeControlsHideStyle||(this.nativeControlsHideStyle=Ba(this.slotParameters.element,"\n                        #"+this.videoNode.id+"::-webkit-media-controls{\n                            display: none !important;\n                        }\n                    ")),document.head.appendChild(this.nativeControlsHideStyle)))}closeAbuseScreen(){this.pauseByOpenAbuseScreen.getValue()&&"inpage"!==this.adType&&this.resume(),this.abuseDisplayStatus.dispatch("hidden")}trackError(e){this.currentViewer&&this.currentViewer.trackError(e)}initBackgroundColor(e){let t=Vs.a;this.addDestroyHandler(()=>t()),this.addDestroyHandler(this.adPodBackground.add(i=>{Object(Ro.a)(i)&&Object(ks.a)(i.color)?t=wi(e,{backgroundColor:i.color}):t()}))}initBackground(e){let{backgroundSlot:t}=this.config;const i=Boolean(t);if(this.backgroundSlot?t=this.backgroundSlot:i||(t=function(e){if(!or(e))return;const{parentElement:t}=e;if(t)return t;xo.c.error({error:new Uo.a({code:"NO_PARENT_ELEMENT_FOR_BACKGROUND",details:void 0})})}(this.videoNode)),!t)return void Object(Jo.a)("BackgroundBlur container cannot be created");if(this.initBackgroundColor(t),!ll(e,e=>{let{adPodViewerPlaybackParams:t}=e;return"blur"===t.background}))return;if(Object(Jo.a)("BackgroundBlur is presented in AdBreak"),!Rb)return void Object(Jo.a)("BackgroundBlur is NOT supported");const r=new Qb({container:t,videoNode:this.videoNode});this.destroyBlur=()=>{r.destroy()},xo.c.event({name:"InitBackgroundBlur",data:{isBackgroundSlotFromConfig:i},probability:Fo.a}),this.addDestroyHandler(nr([this.shouldBlurBeVisibleByApiLogic,this.adPodBackground,this.videoContentSize,this.slotParameters.size],(e,t,r,a)=>{if(!e)return!1;if(void 0===r)return!1;if("blur"!==t)return!1;if(i)return!0;const n=a.width/a.height,o=r.width/r.height-n;return Math.abs(o)>Jb},e=>{r.setPlaying(e)})),this.addDestroyHandler(()=>null===r||void 0===r?void 0:r.destroy())}playAdMedia(e,t){this.currentViewer=e,this.onAdPodStartRequest.dispatch(e),e.trackEvent("onCreativeInit",void 0);let i=NaN;e.playingState.subscribeValueConditionOnce(e=>"play"===e,()=>{i=Date.now()}),this.adContentSize.dispatch(e.mediaAd.getAdContentDimensions()),e.isStarted.addOne(()=>{this.adContentSize.dispatch(e.getAdContentSize())}),e.addDestroyHandler(()=>{this.adContentSize.dispatch(void 0)}),e.isStarted.add(()=>{isNaN(i)?xo.c.error({error:new Uo.a({code:"AdPodStartWithoutPlayRequest",details:void 0})}):Fo.d&&xo.c.values({name:"AdPodStart",values:{startTime:Date.now()-i},data:{src:e.getSrc(),config:this.config,playRequestTime:String(i)},labels:{}})}),this.onAdPodPlayAdMedia.dispatch(e);const r=e.playingState.getValue();"idle"!==r&&xo.c.error({error:new Uo.a({code:"VIEWER_PLAYING_STATE_INITIALIZED_BEFORE_START",details:{playingState:r}})}),e.playingState.subscribeValueCondition(e=>"end"!==e,t=>{this.currentViewer===e?this.playingState.dispatch(t):xo.c.error({error:new Uo.a({code:"VIEWER_PLAYING_STATE_DISPATCHED_OUT_OF_LIFECYCLE",details:{playingState:t}})})});const a=this.getAutoplay();a&&(this.config.autoplay=!0),e.addDestroyHandler(i=>{const r=er(i);r&&(this.trackError(r),xo.c.error({error:r}),hi("AdPod playing error",r),this.onAdPodError.dispatch({error:r,adPodId:e.mediaAd.getAdPodId()})),this.currentViewer=void 0,t(i)}),this.onAdPodComplete.add(()=>{e.isDestroyed||(e.destroy({reason:"destroy",details:void 0}),xo.c.error({error:new Uo.a({code:"VIEWER_IS_NOT_DESTROYED_AFTER_COMPLETE",details:{src:e.getSrc()}})}))}),e.play(a)}getCurrentViewerStartTime(){const e=this.getCurrentViewerIndex();let t=0;for(let i=0;i<e;i++)t+=this.viewersList[i].getDuration();return t}async startAdPlayback(e){const{videoNode:t}=this,i=or(t);if(!this.getIfIsNonLinear()&&i){const e=function(e){const{controls:t}=e,i=e.getAttribute("poster"),r={loop:e.getAttribute("loop"),autoplay:e.getAttribute("autoplay"),controls:e.getAttribute("controls"),height:e.getAttribute("height"),poster:""===i?null:i,preload:e.getAttribute("preload"),width:e.getAttribute("width"),style:e.getAttribute("style")},a=a_(e),{parentElement:n}=e;return Object(js.a)(()=>{e.controls=t,function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}(e),a(),c(e,r),Mi(e,()=>{e.load()}),n&&n!==e.parentElement&&xo.c.error({error:new Uo.a({code:"VIDEO_NODE_DOM_POSITION_CHANGED",details:{hasParentAfterChange:Boolean(e.parentElement)}})})})}(t);this.onBeforeDestroy.addOne(t=>{let{reason:i}=t;"unload"!==i&&e()});const i=mn(t);this.onBeforeDestroy.addOne(i);const r=function(e){if(!or(e))return Vs.a;const t=e.getAttribute("src")||e.src||null,i=Object(Io.a)(Object(ld.a)(e.getElementsByTagName("source")),e=>({src:e.getAttribute("src"),type:e.getAttribute("type")}));return Object(js.a)(()=>{t?e.setAttribute("src",t):e.removeAttribute("src"),Object(Co.a)(i,t=>{const i=e.ownerDocument.createElement("source");e.appendChild(i),Object(wl.a)(t,(e,t)=>{i.setAttribute(t,String(e))})}),Mi(e,()=>{e.load()})})}(t);this.onBeforeDestroy.addOne(e=>{let{reason:t}=e;this.isLastAdPodRetainedMedia()||"unload"!==t&&r()}),this.onBeforeDestroy.addOne(this.onAdPodStartRequest.add(()=>{a_(t)}))}let r;const a=rc(this.viewersList,e=>e.mediaAd.getIsIndependentOnVideoElement()),{videoSlotCanAutoPlay:n}=this.config;this.videoNode;if(a?(Object(Jo.a)("autoplayAbility=positive for independentOnVideoElement ad"),r=dA):"boolean"===typeof n?(Object(Jo.a)("autoplayAbility=["+n+"] due to videoSlotCanAutoPlay"),r=n?dA:sA):i?(Object(Jo.a)("start autoplay ability request"),r=await this.requestAutoplayAbility(),Object(Jo.a)("autoplayAbility=["+JSON.stringify(r)+"]")):(Object(Jo.a)("autoplayAbility=positive for fake video element"),r=dA),this.isFinished)throw new Uo.a({code:"AD_FINISHED_DURING_RAA",details:void 0});this.autoplayAbilitySignal.dispatch(r),r.requireUserGesture&&this.onAdStartRejected.dispatch(void 0),r.requireMute&&this.videoNodeController.setMuted(!0);const s=Object(js.a)(()=>{this.onReady.dispatch(void 0)}),d=Object(js.a)(()=>{this.onAdStart.dispatch({adType:e})});return Object(Co.a)(this.viewersList,(t,i)=>{t.addDestroyHandler(t=>{let{reason:i}=t;"complete"===i?this.onAdPodComplete.dispatch(void 0):"skip"===i?this.onAdSkipped.dispatch({adType:e}):"close"===i&&this.onAdPodClose.dispatch(void 0)}),t.onReady.addOne(s),t.isStarted.addOne(d),t.isStarted.add(()=>{this.onAdPodStart.dispatch(void 0)}),t.onPause.add(()=>{this.onAdPodPause.dispatch(void 0)}),t.onResume.add(()=>{this.onAdPodResume.dispatch(void 0)}),t.onVolumeChange.add(()=>{this.adVolume.dispatch(t.getVolume())}),t.isStarted.addOne(()=>{this.adVolume.dispatch(t.getVolume())}),t.isStarted.addOne(()=>{this.onAdMediaStart.dispatch({viewer:t,adType:e}),this.adPodDuration.dispatch(t.getDuration())}),t.addDestroyHandler(function(e){let{win:t,adPodDuration:i,adPodRemainingTime:r,playingState:a,isStarted:n,isBuffering:s,callback:d}=e;const l=new XA,c=new Qo.a(-1);return l.subscribe(()=>c.removeAll),n.addOne(()=>{const e=new qA({win:t,duration:i.getValue()*qu,callback:e=>{const t=Dt(e,0,1);d(t)},onFinish:Vs.a});c.add(t=>{J(t)&&e.adjustPosition(t)}),l.subscribe(()=>{e.stop()}),l.subscribe(nr([r,i],(e,t)=>J(e)&&o(t)?(t-e)/t:-1,e=>{c.dispatch(e)})),l.subscribe(nr([c,a,s],(e,t,i)=>J(e)&&"play"===t&&!i,t=>{t?e.start():e.stop()}))}),()=>{l.dispatch(void 0)}}({win:this.slotWindow,adPodDuration:this.adPodDuration,adPodRemainingTime:this.adPodRemainingTime,playingState:this.playingState,isStarted:t.isStarted,isBuffering:this.adVideoIsBuffering,callback:e=>{this.skinAnimationProgress.dispatch(e)}})),t.isStarted.add(()=>{t.addDestroyHandler(this.videoNodeController.onBufferingAfterPlay.add(()=>{this.adMediaState.dispatch({name:"stalled"})})),t.addDestroyHandler(this.videoNodeController.playingState.add(e=>{e===uA.PLAY&&this.adMediaState.dispatch({name:"playing"})}))}),t.addDestroyHandler(()=>{this.adMediaState.dispatch({name:"idle"})}),t.addDestroyHandler(()=>{this.adPodRemainingTime.dispatch(gm),this.skinAnimationProgress.dispatch(0)}),t.playbackPosition.add(e=>{let{duration:t,remainingTime:i}=e;this.adPodRemainingTime.dispatch(i),this.adPodDuration.dispatch(t)}),t.onClickThrough.add(e=>this.onClickThrough.dispatch(e));const{skipDelay:r}=t.adPodViewerPlaybackParams;(function(e){return!e.isVpaidAdPodViewer()||(!!e.adPodViewerPlaybackParams.showGuiForVpaid||(!!e.mediaAd.getIsYandexCreative()||!!pi(e.mediaAd.vastAd)))})(t)?t.isStarted.addOne(()=>{t.playbackPosition.add(e=>{let{duration:t,remainingTime:i}=e;const a=function(e){let{remainingTime:t,duration:i,skipDelay:r}=e;if(0===r)return Nb;if(r>i-e_)return Nb;if(!J(t))return Nb;const a=i-t;return r<=a?0:r-a}({remainingTime:i,duration:t,skipDelay:r});this.timeToSkip.dispatch(a)})}):t.onAdSkippableStateChange.add(e=>{this.timeToSkip.dispatch(e?0:Nb)})}),new Promise(t=>{this.playAdViewers(e,()=>{t([])})})}playAdViewers(e,t){this.adPodDestroyReasonObjects=[],this.onAdStartRequest.dispatch(void 0);const i=Object(Io.a)(this.viewersList,(t,i)=>r=>{if(this.timeToSkip.dispatch(Nb),this.isFinished){const e=new Uo.a({code:"AD_BREAK_IS_STOPPED",details:void 0});return t.mediaAd.trackError(e),this.adPodDestroyReasonObjects.push({reason:"error",details:e}),r()}const a=this.getAdPodContainerSizeError(t);if(a)return t.mediaAd.trackError(a),this.onAdPodError.dispatch({error:a,adPodId:t.mediaAd.getAdPodId()}),this.adPodDestroyReasonObjects.push({reason:"error",details:a}),Object(Wu.a)('You are using unplayable "slot" sizes, check passed element dimensions.'),r();this.adVolume.dispatch(this.videoNodeController.getVolume()),this.adVolumeAvailability.dispatch(Qi(t.mediaAd.vastAd)),this.playingAdPodIndex.dispatch(i),this.playAdMedia(t,t=>{this.adPodDestroyReasonObjects.push(t),this.onAdMediaEnd.dispatch({adType:e}),r()})});let r=-1;!function e(){const a=i[++r];void 0!==a?a(e):t()}()}getAdPodContainerSizeError(e){if(!e.mediaAd.getIsYandexCreative())return;const{size:t,element:i}=this.visibilitySlotParameters,r=t.getValue();if(Or(r,Rl))return;if(Or(i.getBoundingClientRect(),Rl))return;const a=0===r.width||0===r.height,n="none"===Pi(i).display;let o;return o=a?n?"SLOT_DISPLAY_NONE":"SLOT_ZERO_SIZE":"SLOT_SMALL_SIZE",new Uo.a({code:o,details:{adPodId:e.mediaAd.getAdPodId(),slotSize:r,config:this.config,adConfig:e.mediaAd.adConfig,usesVisibilitySlot:Boolean(this.visibilitySlotParameters)}})}async requestAutoplayAbility(){const e=Date.now(),{promise:t,stop:i}=function(e,t){let{checkSoundEnabled:i=!0}=void 0===t?{}:t;const r=xi(e),a=new cA(e,{checkSoundEnabled:i,promise:r});return{promise:a.promise,stop:a.stop}}(this.videoNode,{checkSoundEnabled:!this.getMuted()});this.addDestroyHandler(i);let r=!1;return new Promise(a=>{t.then(t=>{r=!0,xo.c.values({name:"DetectAutoplayAbility",values:{duration:Date.now()-e},data:{config:this.config,autoplayAbility:t},labels:{},probability:Fo.a}),a(t)}).catch(()=>{r=!0,this.isFinished||xo.c.error({error:new Uo.a({code:"RAA_WAS_STOPPED_WITHOUT_AD_FINISH",details:void 0})})}),"idle"===this.playingState.getValue()&&this.playingState.addOne(e=>{r||(Object(Jo.a)("RAA stopped by playingState=["+e+"]"),i(),a(dA))})})}destroyNextViewers(e){const{viewersList:t,currentViewer:i}=this;i&&i.destroy({reason:"destroy",details:void 0});for(let r=this.getCurrentViewerIndex()+1;r<t.length;r++){const{mediaAd:i}=t[r];i.trackEvent(e,this.getAdPlacementOptions(t[r]),void 0)}this.stop()}getIfIsNonLinear(){return rc(this.viewersList,e=>e.isNonLinear())}startVolumeButtonProgress(){U_({win:this.slotWindow,callback:e=>{this.volumeButtonCollapseProgress.dispatch(e)},addDestroyHandler:e=>this.addDestroyHandler(e)})}isNeedToShowVolumeButtonText(){return"DISABLE"!==mA&&"middle"===hn(this.slotParameters.size.getValue())}}class W_ extends Eo.a{constructor(e){let{videoSlot:t,slot:i,mediaAds:r,playbackParameters:a,onPlayAd:n,renderSkin:o}=e;super(),Ln(this,"pauseAd",this.createPlaybackMethod("pauseAd",()=>{Object(Jo.a)("[AdPlaybackController]: method pauseAd() is called"),this.adDisplayController.pause()})),Ln(this,"resumeAd",this.createPlaybackMethod("resumeAd",()=>{Object(Jo.a)("[AdPlaybackController]: method resumeAd() is called"),this.adDisplayController.resume()})),Ln(this,"isPlayAdCalled",!1),Ln(this,"adDisplayController",void 0),Ln(this,"videoSlot",void 0),Ln(this,"slot",void 0),Ln(this,"mediaAds",void 0),Ln(this,"playbackParameters",void 0),Ln(this,"onPlayAd",void 0),Ln(this,"getPublicInstance",()=>({playAd:this.playAd,stopAd:this.stopAd,pauseAd:this.pauseAd,getAdPlayingState:this.getAdPlayingState,resumeAd:this.resumeAd,subscribe:this.subscribe,skipAd:this.skipAd,getAdSkippableState:this.getAdSkippableState,getAdPodTimeToSkip:this.getAdPodTimeToSkip,getAdPodCloseState:this.getAdPodCloseState,getAdVolume:this.getAdVolume,setAdVolume:this.setAdVolume,getAdVolumeAvailabilityState:this.getAdVolumeAvailabilityState,getAdRemainingTime:this.getAdRemainingTime,getAdPodRemainingTime:this.getAdPodRemainingTime,getAdDuration:this.getAdDuration,getAdPodDuration:this.getAdPodDuration,getAdContentSize:this.getAdContentSize,getAdMediaState:this.getAdMediaState,getMediaElementStatusAfterAdStopped:this.getMediaElementStatusAfterAdStopped,getAdPodAdTuneState:this.getAdPodAdTuneState,sendAdTuneTracking:this.sendAdTuneTracking,getCurrentViewerAssets:this.getCurrentViewerAssets,setControlsVisibility:this.setControlsVisibility})),Ln(this,"getAdMediaState",()=>this.adDisplayController.adMediaState.getValue()),Ln(this,"getAdContentSize",()=>this.adDisplayController.adContentSize.getValue()),Ln(this,"setControlsVisibility",e=>this.adDisplayController.setPublicApiControlsSettings(e)),Ln(this,"getMediaElementStatusAfterAdStopped",()=>{if(this.isDestroyed)return{lastMediaRetained:Boolean(this.adDisplayController.lastMediaRetained.getValue())}}),Ln(this,"playAd",()=>{if(Object(Jo.a)("[AdPlaybackController]: method playAd() is called"),this.isPlayAdCalled){X(new Uo.a({code:"ATTEMPT_TO_PLAY_AD_SECOND_TIME",details:void 0}))}else this.isPlayAdCalled=!0,this.onPlayAd(),this.adDisplayController.showAd(this.mediaAds).then(()=>{this.destroy("adComplete")}).catch(Rs.a)}),Ln(this,"stopAd",()=>{Object(Jo.a)("[AdPlaybackController]: method stopAd() is called"),this.destroy("stopAd")}),Ln(this,"getAdPlayingState",()=>this.isPlayAdCalled?this.adDisplayController.isFinished?"end":this.adDisplayController.playingState.getValue():"idle"),Ln(this,"getAdSkippableState",()=>this.adDisplayController.adSkippableState.getValue()),Ln(this,"getAdPodTimeToSkip",()=>!this.isPlayAdCalled||this.isDestroyed?Nb:this.adDisplayController.timeToSkip.getValue()),Ln(this,"getAdPodCloseState",()=>this.adDisplayController.adPodCloseState.getValue()),Ln(this,"getAdPodAdTuneState",()=>this.adDisplayController.adTuneState.getValue()),Ln(this,"getAdVolume",()=>!this.isPlayAdCalled||this.isDestroyed?Lo:this.adDisplayController.getVolume()),Ln(this,"setAdVolume",e=>{this.isPlayAdCalled&&!this.isDestroyed&&(0===e?this.adDisplayController.setMuted(!0):this.adDisplayController.setVolume(e))}),Ln(this,"sendAdTuneTracking",e=>{let{actionId:t,reasonId:i}=e;xo.c.event({name:"SendAdTuneTracking",data:{actionId:t,reasonId:i},probability:Fo.a}),this.adDisplayController.sendAdTuneTracking({actionId:t,reasonId:i})}),Ln(this,"getAdVolumeAvailabilityState",()=>!this.isPlayAdCalled||this.isDestroyed?Kf:this.adDisplayController.getAdVolumeAvailability()),Ln(this,"getAdRemainingTime",()=>this.isPlayAdCalled?this.adDisplayController.getAdRemainingTime():this.getAdDuration()),Ln(this,"getAdPodRemainingTime",()=>this.isPlayAdCalled?this.adDisplayController.getAdPodRemainingTime():this.getAdPodDuration()),Ln(this,"getAdDuration",()=>this.isPlayAdCalled?this.adDisplayController.getDuration():this.mediaAds.getDuration()),Ln(this,"getAdPodDuration",()=>{var e;if(this.isPlayAdCalled)return this.adDisplayController.getAdPodDuration();const[t]=this.mediaAds.mediaAds;return null!==(e=null===t||void 0===t?void 0:t.getDuration())&&void 0!==e?e:0}),Ln(this,"skipAd",()=>{this.getAdSkippableState()?this.adDisplayController.skipAllViewers():xo.c.error({error:new Uo.a({code:"ATTEMPT_TO_SKIP_NOT_SKIPPABLE_AD",details:void 0})})}),Ln(this,"getCurrentViewerAssets",()=>this.adDisplayController.getCurrentViewerAssets()),Ln(this,"subscribe",(e,t)=>{if("function"!==typeof t)return Vs.a;const i=i=>{try{t(i)}catch(r){xo.c.error({error:new Uo.a({code:"APC_CALLBACK_ERROR",details:{eventName:e,data:i}})}),Object(Rs.a)(r)}},r=()=>{i({})};switch(e){case"AdMediaStateChange":return this.adDisplayController.adMediaState.add(r);case"AdContentSizeChange":return this.adDisplayController.adContentSize.add(r);case"AdStartRequest":return this.adDisplayController.onAdStartRequest.add(r);case"AdStarted":return this.adDisplayController.onAdStart.add(r);case"AdPodStartRequest":return this.adDisplayController.onAdPodStartRequest.add(r);case"AdPodStarted":return this.adDisplayController.onAdMediaStart.add(r);case"AdPodImpression":return this.adDisplayController.onAdPodImpression.add(r);case"AdPodVideoFirstQuartile":return this.adDisplayController.onAdPodFirstQuartile.add(r);case"AdPodVideoMidpoint":return this.adDisplayController.onAdPodMidpoint.add(r);case"AdPodVideoThirdQuartile":return this.adDisplayController.onAdPodThirdQuartile.add(r);case"AdRemainingTimeChange":return this.adDisplayController.adPodRemainingTime.add(()=>{i({})});case"AdPodDurationChange":return this.adDisplayController.adPodDuration.add(r);case"AdPodSkipped":return this.adDisplayController.onAdSkipped.add(r);case"AdClickThru":return this.adDisplayController.onClickThrough.add(r);case"AdPodError":return this.adDisplayController.onAdPodError.add(e=>{let t,{error:r,adPodId:a}=e;"string"===typeof r.code?t=r.code:(t="AD_POD_UNRECOGNIZED_ERROR_CODE",xo.c.error({error:new Uo.a({code:t,details:{error:r,adPodId:a}})})),i({code:t,adPodId:a})});case"AdPodStopped":return this.adDisplayController.onAdMediaEnd.add(r);case"AdPodComplete":return this.adDisplayController.onAdPodComplete.add(r);case"AdPodClose":return this.adDisplayController.onAdPodClose.add(r);case"AllAdPodVideoComplete":return this.adDisplayController.onAllAdPodComplete.add(r);case"AdStopped":return this.adDisplayController.onDestroy_PUBLIC_DO_NOT_USE.add(e=>{let{reason:t}=e;"unload"!==t&&r()});case"AdSkippableStateChange":return this.adDisplayController.adSkippableState.add(e=>{i({skippableState:e})});case"AdVolumeChange":return this.adDisplayController.adVolume.add(()=>{i({})});case"AdVolumeAvailabilityStateChange":return this.adDisplayController.adVolumeAvailability.add(()=>{i({})});case"AdPlayingStateChange":return this.adDisplayController.playingState.add(e=>{i({playingState:e})});case"AdStartRejected":return this.adDisplayController.onAdStartRejected.add(r);case"AdPodCloseStateChange":return this.adDisplayController.adPodCloseState.add(r);case"AdTuneStateChange":return this.adDisplayController.adTuneState.add(r);case"AdInteraction":return this.adDisplayController.onAdInteraction.add(r);default:return Vs.a}}),this.videoSlot=t,this.slot=i,this.mediaAds=r,this.playbackParameters=a,this.onPlayAd=n;const s=new xm(i);this.addDestroyHandler(()=>{s.destroy()});const d=new $m(i,{numberOfMeasurementSteps:Im});this.addDestroyHandler(()=>{d.destroy(void 0)});const l={element:i,size:s.onResize,visibilityRatio:d.totalVisibilityRatioValueSignal};this.adDisplayController=new z_({config:this.playbackParameters,videoNode:this.videoSlot,videoWrapperNode:this.slot,renderSkin:o,visibilitySlotParameters:l}),this.playbackParameters.retainLastMediaAfterPlayback&&this.adDisplayController.enableRetainLastMediaAfterPlayback(),this.addDestroyHandler(e=>{this.adDisplayController.destroy({reason:e,details:void 0})}),this.addDestroyHandler(vn(()=>{this.destroy("unload")},null!==yo.a&&void 0!==yo.a?yo.a:window))}createPlaybackMethod(e,t){return()=>{if(this.isPlayAdCalled&&!this.isDestroyed)t();else{X(new Uo.a({code:this.isDestroyed?"CALL_PLAYBACK_METHOD_AFTER_STOP":"CALL_PLAYBACK_METHOD_BEFORE_PLAY",details:{methodName:e}}))}}}}const G_=ga({isAbuseSupported:!1,abuseButtonClickHandler:Vs.a,abuseDisplayStatus:"hidden",abuseScreenCloseHandler:Vs.a,abuseVariantChooseHandler:Vs.a,pauseByOpenAbuseScreen:!1,abuseCustomReasonText:"",abuseCustomReasonTextHandler:Vs.a,abuseActiveDisplayType:"default",setAbuseActiveDisplayType:Vs.a,abuseSubmittedOption:void 0,setAbuseSubmittedOption:Vs.a,previousDisplayType:"default",setPreviousDisplayType:Vs.a,destroyCurrentViewer:Vs.a,abuseScaleRate:void 0,setAbuseScaleRate:Vs.a,legalInfoText:void 0,onAbuseCopyLinkToClipboardClick:Vs.a});G_.Provider.displayName="AbuseContext";const Y_=e=>{var t;let{adDisplayController:i}=e;const r=Ma(i.pauseByOpenAbuseScreen),a=Ma(i.abuseDisplayStatus),{abuseParameters:n,playingState:o}=i,{abuseUrl:s,legalInfoText:d}=Ma(n),[l,c]=Ea(""),[u,h]=Ea("default"),[p,A]=Ea(void 0),[m,v]=Ea("default"),[f,b]=Ea(void 0);Ta(()=>{const e=o.subscribeValueCondition(e=>"play"===e,()=>{"hidden"!==a&&i.handleAbuseScreenCloseByResumeError()});return()=>{e()}},[a]);const _=null===(t=Ma(i.actionButtonParameters))||void 0===t?void 0:t.clickUrl,g=_?()=>{i.onAbuseCopyLinkToClipboardClick(_)}:void 0;return{isAbuseSupported:Boolean(s),abuseButtonClickHandler:i.abuseButtonClickHandler,abuseDisplayStatus:a,abuseScreenCloseHandler:i.abuseScreenCloseHandler,abuseVariantChooseHandler:i.abuseVariantChooseHandler,pauseByOpenAbuseScreen:r,destroyCurrentViewer:i.destroyCurrentViewer,onAbuseCopyLinkToClipboardClick:g,abuseCustomReasonText:l,abuseCustomReasonTextHandler:c,abuseActiveDisplayType:u,setAbuseActiveDisplayType:h,abuseSubmittedOption:p,setAbuseSubmittedOption:A,previousDisplayType:m,setPreviousDisplayType:v,abuseScaleRate:f,setAbuseScaleRate:b,legalInfoText:d}},q_=()=>Ca(G_),X_=ga({});X_.Provider.displayName="ControlsVisibilityContext";const K_=e=>{let{adDisplayController:t}=e;return Ma(t.combinedSkinControlsVisibility)},Q_=()=>Ca(X_),J_=ga({socialAdvertising:!1});J_.Provider.displayName="SocialAdvertisingContext";const Z_=e=>{let{adDisplayController:t}=e;return{socialAdvertising:Ma(t.socialAdvertising)}},$_=()=>Ca(J_);var eg=i(50),tg=i.n(eg);const ig=e=>{let{isActive:t}=e;return xa(tg.a),ta("svg",{className:qv(eg.locals.AbuseAnimationIcon,{[eg.locals.AbuseAnimationIcon_cross]:t}),width:"24",height:"24",fill:"#fff",xmlns:"http://www.w3.org/2000/svg"},ta("g",{className:eg.locals.AbuseAnimationIcon__lines},ta("path",{d:"M -4 -4 L 4 4","stroke-width":"2","stroke-linecap":"round",stroke:"#fff",class:qv(eg.locals.AbuseAnimationIcon__line,eg.locals.AbuseAnimationIcon__line_left)}),ta("path",{d:"M -4 -4 L 4 4","stroke-width":"2","stroke-linecap":"round",stroke:"#fff",class:qv(eg.locals.AbuseAnimationIcon__line,eg.locals.AbuseAnimationIcon__line_right)})),ta("g",null,ta("rect",{width:"24",height:"24",rx:"12","fill-opacity":"0.1"}),ta("g",null,ta("circle",{class:qv(eg.locals.AbuseAnimationIcon__dot,eg.locals.AbuseAnimationIcon__dot_top),fill:"#fff",cx:"12",cy:"6",r:"1.5"}),ta("circle",{class:eg.locals.AbuseAnimationIcon__dot,cx:"12",cy:"12",r:"1.5"}),ta("circle",{class:qv(eg.locals.AbuseAnimationIcon__dot,eg.locals.AbuseAnimationIcon__dot_bottom),fill:"#fff",cx:"12",cy:"18",r:"1.5"}))))},rg=e=>{let{width:t,height:i}=e;return t<=300||i<=300};var ag=i(151),ng=i.n(ag);const og=e=>{let{onClickHandler:t,isActive:i}=e;xa(ng.a);const r=rg(Qv());return ta("div",{onClick:t,className:qv(ag.locals.AbuseBurgerButton,{[ag.locals.AbuseBurgerButton_inFullSize]:r})},ta(ig,{isActive:i}))};var sg=i(92),dg=i.n(sg);const lg=e=>{let{children:t,isActive:i=!0,url:r,onClick:a,className:n,buttonClassName:o,contentClassName:s}=e;xa(dg.a);const d=qv(sg.locals.Button,n,{[sg.locals.Button_active]:i,[sg.locals.Button_link]:Boolean(r)}),l=ta("div",{className:sg.locals.Button__clickable},ta("div",{className:o},ta("div",{className:qv(sg.locals.Button__content,s)},t)));return r?ta("a",{className:d,href:r,target:"_blank",onClick:a},l):ta("div",{className:d,onClick:a},l)};var cg=i(93),ug=i.n(cg);const hg=e=>{let{icon:t,className:i}=e;return t?ta("div",{className:i},t):null},pg=e=>{let{buttonText:t,leftIcon:i,rightIcon:r,onClick:a,url:n}=e;xa(ug.a);const o=Ia(()=>{a&&a()},[a]);return ta(lg,{className:cg.locals.AbuseOptionButton,url:n,buttonClassName:cg.locals.AbuseOptionButton__clickable,contentClassName:cg.locals.AbuseOptionButton__content,onClick:o},ta(hg,{icon:i,className:cg.locals.AbuseOptionButton__leftIcon}),t,ta(hg,{icon:r,className:cg.locals.AbuseOptionButton__rightIcon}))};var Ag=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,ta("svg",Object.assign({width:"6",height:"10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[ta("path",{d:"M1 1l3.5 4L1 9",stroke:"#498BFF","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},[])])};const mg=e=>{let{className:t}=e;return ta(Ag,{className:t})};var vg=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,ta("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[ta("path",{d:"M4 1h5v5M9 1L1.5 8.5",stroke:"#C6CFD8","stroke-width":"1.25","stroke-linecap":"round","stroke-linejoin":"round"},[])])};const fg=e=>{let{className:t}=e;return ta(vg,{className:t})},bg=e=>"anotherReasonAd"===e?ta(mg,null):"about"===e?ta(fg,null):void 0;var _g=i(34),gg=i.n(_g);const Og=e=>{let{buttonTexts:t,onClickHandlers:i}=e;const r=ob();return ta("div",{className:_g.locals.AbuseDisplay__complaintDisplay},ta("div",{className:_g.locals.AbuseDisplay__text},r("ABUSE_IMPROVE_REASON_TEXT")),Object(Io.a)(Object(bs.a)(t),e=>ta(pg,{key:e,onClick:i[e],rightIcon:bg(e),buttonText:t[e]})))};var yg=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,ta("svg",Object.assign({width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[ta("path",{d:"M9.117 7.349a2.5 2.5 0 000 3.535.833.833 0 11-1.179 1.179 4.167 4.167 0 010-5.893l2.946-2.946a4.167 4.167 0 115.893 5.892l-.91.911a.833.833 0 11-1.18-1.178l.911-.911a2.5 2.5 0 00-3.535-3.536L9.117 7.35zm1.767 5.302a2.5 2.5 0 000-3.535.833.833 0 111.178-1.179 4.167 4.167 0 010 5.892l-2.916 2.917a4.167 4.167 0 01-5.893-5.892l.855-.855a.833.833 0 111.178 1.179l-.854.854a2.5 2.5 0 003.535 3.536l2.917-2.917z",fill:"#498BFF"},[])])};const Eg=e=>{let{className:t}=e;return ta(yg,{className:t})};var Tg=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,ta("svg",Object.assign({width:"18",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[ta("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.598 5l2.743 4.75c.68 1.177 1.13 1.96 1.41 2.567.283.614.268.799.266.814a1.25 1.25 0 01-.508.88c-.012.009-.165.115-.839.176-.664.061-1.568.063-2.927.063H6.258c-1.36 0-2.263-.002-2.928-.063-.673-.061-.826-.167-.838-.176a1.25 1.25 0 01-.508-.88c-.002-.015-.017-.2.266-.814.28-.607.73-1.39 1.41-2.567L6.402 5c.68-1.177 1.133-1.959 1.518-2.504.39-.552.558-.632.572-.638a1.25 1.25 0 011.017 0c.013.006.181.086.571.638.386.545.839 1.327 1.518 2.504zm-6.64-.833C6.286 1.869 6.949.72 7.815.335a2.917 2.917 0 012.373 0c.865.386 1.529 1.534 2.855 3.832l2.742 4.75c1.326 2.297 1.99 3.445 1.89 4.388a2.917 2.917 0 01-1.186 2.055c-.766.557-2.093.557-4.745.557H6.258c-2.653 0-3.979 0-4.746-.557a2.917 2.917 0 01-1.186-2.055c-.099-.943.564-2.091 1.89-4.388l2.743-4.75zM8.995 10.5c-.578 0-1.035.433-1.035 1.036 0 .602.457 1.047 1.035 1.047.59 0 1.048-.445 1.048-1.047 0-.603-.458-1.036-1.048-1.036zM8.02 5.1a.417.417 0 01.417-.434h1.129c.237 0 .427.197.416.434l-.255 4.167a.417.417 0 01-.416.399h-.62a.417.417 0 01-.415-.399L8.02 5.1z",fill:"#498BFF"},[])])};const Sg=e=>{let{className:t}=e;return ta(Tg,{className:t})};var wg=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,ta("svg",Object.assign({width:"18",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[ta("path",{d:"M16.256 15.256a.833.833 0 000-1.179L2.923.744a.833.833 0 10-1.179 1.179l1.594 1.593C1.32 4.948.25 6.902.25 8c0 1.875 3.125 6.25 8.75 6.25a9.83 9.83 0 004.171-.9l1.906 1.906a.833.833 0 001.179 0zm-4.357-3.178A8.309 8.309 0 019 12.583c-2.135 0-3.974-.745-5.373-1.997-1.06-.948-1.71-2.1-1.71-2.586 0-.486.65-1.638 1.71-2.586.285-.255.588-.489.909-.7l1.448 1.448A3.333 3.333 0 0010.42 10.6l1.478 1.479zm4.035-.68C17.125 10.175 17.75 8.838 17.75 8c0-1.875-3.125-6.25-8.75-6.25-.87 0-1.679.104-2.426.288l1.433 1.434c.324-.037.655-.055.993-.055 2.135 0 3.974.746 5.373 1.997 1.06.948 1.71 2.1 1.71 2.586 0 .425-.497 1.358-1.329 2.219l1.18 1.179z",fill:"#498BFF"},[])])};const Pg=e=>{let{className:t}=e;return ta(wg,{className:t})};var Ig=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,ta("svg",Object.assign({width:"18",height:"16",viewBox:"0 0 10 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[ta("path",{d:"M7.36 15.5H9.97V.5H6.173C2.353.5.345 2.464.345 5.356c0 2.31 1.101 3.67 3.065 5.072L0 15.5h2.827l3.799-5.676-1.317-.885c-1.597-1.08-2.374-1.921-2.374-3.734 0-1.597 1.123-2.676 3.26-2.676H7.36V15.5z",fill:"#498BFF"},[])])};const Cg=e=>{let{className:t}=e;return ta(Ig,{className:t})},Dg=e=>{switch(e){case"hide":return ta(Pg,null);case"complaint":return ta(Sg,null);case"about":return ta(Cg,null);default:return}},Ng=e=>{let{buttonTexts:t,onClickHandlers:i,legalInfoText:r,isVisibleAbuse:a}=e;const{onAbuseCopyLinkToClipboardClick:n}=q_(),o=ob(),[s,d]=Ea(!1);return Ta(()=>{a||d(!1)},[a]),ta("div",null,r&&ta("div",{className:_g.locals.AbuseDisplay__legal},r),Object(Io.a)(Object(bs.a)(t),e=>ta(pg,{key:e,url:"about"===e?"https://yandex.ru/adv/products":void 0,onClick:i[e],leftIcon:Dg(e),rightIcon:bg(e),buttonText:t[e]})),n&&ta(pg,{key:"copy",onClick:()=>{n&&(n(),d(!0))},buttonText:o(s?"ABUSE_COPIED":"ABUSE_COPY_TEXT"),leftIcon:ta(Eg,null)}))},Rg=e=>{let{buttonTexts:t,onClickHandlers:i}=e;const r=ob();return ta("div",{className:_g.locals.AbuseDisplay__hideDisplay},ta("div",{className:_g.locals.AbuseDisplay__text},r("ABUSE_IMPROVE_REASON_TEXT")),Object(Io.a)(Object(bs.a)(t),e=>ta(pg,{key:e,onClick:i[e],rightIcon:bg(e),buttonText:t[e]})))};var kg=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,ta("svg",Object.assign({width:"16",height:"10",viewBox:"0 0 16 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[ta("path",{d:"M3.345 4.167h11.368c.435 0 .787.37.787.833 0 .46-.35.833-.787.833H3.345l1.91 1.911a.833.833 0 11-1.178 1.179L.744 5.589a.833.833 0 010-1.178l3.333-3.334a.833.833 0 111.179 1.179l-1.91 1.91z",fill:"#498BFF"},[])])};const Vg=e=>{let{className:t}=e;return ta(kg,{className:t})},jg=e=>{let{previousDisplayType:t,onClickHandler:i}=e;const{abuseCustomReasonText:r,abuseCustomReasonTextHandler:a,setAbuseActiveDisplayType:n}=q_(),o=ob(),s=Ia(()=>{n(t)},[t]);return ta("div",{className:_g.locals.AbuseDisplay__customReasonDisplay},ta("div",{className:_g.locals.AbuseDisplay__customReasonDisplayHeader},ta("div",{className:_g.locals.AbuseDisplay__arrowLeftIcon,onClick:s},ta(Vg,null)),ta("div",{className:_g.locals.AbuseDisplay__hint},o("ABUSE_OPTION_ANOTHER_REASON"))),ta("div",{className:_g.locals.AbuseDisplay__messageBox},ta("textarea",{className:_g.locals.AbuseDisplay__customReasonDisplayTextarea,placeholder:o("ABUSE_CUSTOM_FIELD_PLACEHOLDER"),onInput:e=>{const t=e.currentTarget.value;t&&a(t)},value:r}),ta(lg,{className:_g.locals.AbuseDisplay__customReasonDisplayButton,contentClassName:_g.locals.AbuseDisplay__customReasonDisplayButtonContent,onClick:()=>i("anotherReasonAd",{UserResponse:r})},o("ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT"))))},Lg=e=>{let{isVisibleAbuse:t,socialAdvertising:i}=e;xa(gg.a);const{abuseVariantChooseHandler:r,abuseActiveDisplayType:a,setAbuseActiveDisplayType:n,abuseSubmittedOption:o,setAbuseSubmittedOption:s,previousDisplayType:d,destroyCurrentViewer:l,setPreviousDisplayType:c,legalInfoText:u}=q_(),[h,p]=Ea(null),A=Qv(),m=rg(A),v={};Ta(()=>{!t&&o&&l()},[o,t]),Ta(()=>{if(m)return;const e=v.current;t&&e&&p(e.offsetHeight+"px")},[a,t,m]),Ta(()=>{m&&p(null)},[m]);const f=Pa(()=>U(gA,(e,t)=>()=>{if(c(a),"hide"===t){if(i)return void r(t);n("hide"),s(t),r(t,{noDestroyOnClick:!0})}else if("complaint"===t)n("complaint"),s(t),r(t,{noDestroyOnClick:!0});else if("anotherReasonAd"===t)n("message");else{const e="about"===t;s(void 0),r(t,{noDestroyOnClick:e})}}),[r,a,i]),b={height:null!==h&&void 0!==h?h:""},_=ob(),g=(e=>({hide:e("ABUSE_OPTION_HIDE"),complaint:e("ABUSE_OPTION_COMPLAINT"),about:e("ABUSE_OPTION_ABOUT")}))(_),O=(e=>Object(wo.a)(Object(bs.a)(fA),(t,i)=>{switch(i){case"anotherReasonAd":t[i]=e("ABUSE_OPTION_ANOTHER_REASON");break;case"notInterestedAd":t[i]=e("ABUSE_OPTION_NOT_INTERESTED");break;case"alreadyPurchasedAd":t[i]=e("ABUSE_OPTION_ALREADY_PURCHASED");break;case"seenTooOftenAd":t[i]=e("ABUSE_OPTION_SEEN_TOO_OFTEN");break;case"overlapContentAd":t[i]=e("ABUSE_OPTION_OVERLAP_CONTENT")}return t},{}))(_),y=((e,t)=>t?Object(wo.a)(Object(bs.a)(_A),(t,i)=>{switch(i){case"politicalSocialAd":t[i]=e("ABUSE_OPTION_POLITICAL_SOCIAL");break;case"shockingContentSocialAd":t[i]=e("ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL");break;case"falseInfoSocialAd":t[i]=e("ABUSE_OPTION_FALSE_INFO_SOCIAL")}return t},{}):Object(wo.a)(Object(bs.a)(bA),(t,i)=>{switch(i){case"unpleasantContentAd":t[i]=e("ABUSE_OPTION_UNPLEASANT_CONTENT");break;case"politicalAd":t[i]=e("ABUSE_OPTION_POLITICAL_SOCIAL");break;case"scammersAd":t[i]=e("ABUSE_OPTION_SCAMMERS");break;case"illegalGoodsOrServiceAd":t[i]=e("ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE");break;case"anotherReasonAd":t[i]=e("ABUSE_OPTION_ANOTHER_REASON")}return t},{}))(_,i);return ta("div",{className:qv(_g.locals.AbuseDisplay,{[_g.locals.AbuseDisplay_fullSize]:m,[_g.locals.AbuseDisplay_visible]:t}),style:b},ta("div",{className:_g.locals.AbuseDisplay__content,ref:v},"default"===a?ta(Ng,{isVisibleAbuse:t,legalInfoText:u,buttonTexts:g,onClickHandlers:f}):null,"hide"===a?ta(Rg,{buttonTexts:O,onClickHandlers:f}):null,"complaint"===a?ta(Og,{buttonTexts:y,onClickHandlers:f}):null,"message"===a?ta(jg,{onClickHandler:r,previousDisplayType:d}):null))};var Mg=i(158),Bg=i.n(Mg);const Ug=e=>{let{isVisible:t}=e;xa(Bg.a);const{abuseScreenCloseHandler:i,abuseButtonClickHandler:r}=q_(),{socialAdvertising:a}=$_();return ta("div",{className:Mg.locals.AbuseContainer},ta(og,{onClickHandler:()=>t?i():r(),isActive:t}),ta(Lg,{isVisibleAbuse:t,socialAdvertising:a}))},xg=ga(void 0);xg.Provider.displayName="AdAnimationUnmuteButtonContext";const Fg=e=>{let{adDisplayController:t}=e;return Ma(t.volumeButtonCollapseProgress)},Hg=()=>Ca(xg),zg=ga([]),Wg=e=>Ma(e.disclaimerParameters),Gg=ga({playingState:"idle",play:Vs.a,isStarted:!1,isSlowStart:!1});Gg.Provider.displayName="PlayingStateContext";const Yg=e=>{let{adDisplayController:t}=e;const[i,r]=Ea(!1),a=Ma(t.playingState),n=Ma(t.adSlowStart);return Ta(()=>{const e=t.onAdStart.addOne(()=>{r(!0)});return()=>{e()}},[]),{playingState:a,play:Ia(()=>{t.resume(),xo.c.event({name:"SkinPlayByCircleButton",data:{}})},[]),isStarted:i,isSlowStart:n}},qg=()=>Ca(Gg),Xg=ga({isPackshotPlaying:!1});Xg.Provider.displayName="SkinPackshotContext";const Kg=e=>{let{isPackshotPlaying:t}=e;return{isPackshotPlaying:Ma(t)}},Qg=()=>Ca(Xg),Jg=ga({timeToSkip:Nb,skipCurrentAdPod:Vs.a});Jg.Provider.displayName="SkipContext";const Zg=e=>{let{adDisplayController:t}=e;const{timeToSkip:i}=t;return{timeToSkip:Ma(i),skipCurrentAdPod:Ia(()=>{const e=i.getValue();0===i.getValue()?t.skipCurrentViewer():xo.c.event({name:"ClickToInactiveSkipButton",data:{timeToSkipValue:e}})},[])}},$g=()=>Ca(Jg),eO=ga({volumeStatus:"unknown",setMuted:Vs.a});eO.Provider.displayName="VolumeContext";const tO=e=>{let{adDisplayController:t}=e;return{volumeStatus:Ma(t.volumeStatus),setMuted:e=>t.setMuted(e)}},iO=()=>Ca(eO);var rO=i(152),aO=i.n(rO);const nO=e=>{let{text:t,textLength:i,viewBox:r}=e;return xa(aO.a),ta("svg",{className:qv(rO.locals.DisclaimerSvg),xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",viewBox:r},ta("text",{className:rO.locals.DisclaimerSvg_text,lengthAdjust:"spacing",textLength:i,y:"85%"},t))};var oO=i(159),sO=i.n(oO);const dO=((e,t,i,r)=>{const a=((e,t,i,r)=>{const a=(t-r)/(e-i),n=t-a*e;return e=>a*e+n})(e,t,i,r),n=((e,t)=>i=>Math.max(e,Math.min(i,t)))(t,r);return e=>{const t=a(e);return n(t)}})(100,5,600,330),lO=e=>{let{text:t,heightPortion:i}=e;const r=Qv();xa(sO.a);const{textLength:a,viewBox:n,fontSize:o}=function(e,t){const{width:i,height:r}=e,a=r,n=Math.min(a,dO(i)),o=Math.max(i,t.length*n/1.2);return{fontSize:n,textLength:o,textPositionOffset:(a+n/2)/2,viewBox:"0 0 "+o+" "+a}}({width:r.width,height:r.height*i},t);return ta("div",{className:oO.locals.Disclaimer,style:{height:r.height*i,fontSize:o}},ta(nO,{text:t,textLength:a,viewBox:n}))};var cO=i(160),uO=i.n(cO),hO=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,ta("svg",Object.assign({width:"26",height:"24",viewBox:"0 0 26 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[ta("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M20.263 4.06c2.08 2.159 3.227 4.929 3.227 7.8 0 2.871-1.146 5.641-3.227 7.8l-1.73-1.42c1.703-1.768 2.641-4.032 2.641-6.38 0-2.347-.938-4.613-2.641-6.38l1.73-1.42zM7.61 9.26l3.964-3.9h1.33v13h-1.33l-3.97-3.9H3.64v-5.2h3.97zm11.248 2.6a7.666 7.666 0 00-2.053-5.2l-1.73 1.487a5.48 5.48 0 011.467 3.712 5.48 5.48 0 01-1.467 3.714l1.73 1.487a7.667 7.667 0 002.053-5.2z",fill:"#F2F2F2"},[])])};const pO=e=>{let{className:t}=e;return xa(uO.a),ta(hO,{className:qv(cO.locals.MuteIcon,t)})};var AO=i(94),mO=i.n(AO);const vO=e=>{let{isActive:t=!0,className:i,size:r}=e,a=function(e,t){if(null==e)return{};var i,r,a={},n=Object.keys(e);for(r=0;r<n.length;r++)i=n[r],t.indexOf(i)>=0||(a[i]=e[i]);return a}(e,["isActive","className","size"]);xa(mO.a);const n=qv(AO.locals.SquareButton,i,{[AO.locals.SquareButton_active]:t,[AO.locals.SquareButton_middle]:"middle"===r});return ta(lg,Mn({},a,{isActive:t,className:n,buttonClassName:AO.locals.SquareButton__basebutton,contentClassName:AO.locals.SquareButton__basecontent}))};var fO=i(161),bO=i.n(fO),_O=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,ta("svg",Object.assign({width:"26",height:"24",viewBox:"0 0 26 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[ta("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.61 4L2.5 5.328 7.145 9.24H3.637v5.201h3.966l3.973 3.901h1.33v-4.25L19.92 20s.3-.292.62-.64c.242-.271.582-.697.582-.697L3.61 4zm12.907 8.412l2.002 1.686a7.556 7.556 0 00.346-2.258 7.666 7.666 0 00-2.054-5.2l-1.732 1.487a5.48 5.48 0 011.469 3.713c0 .192-.01.383-.031.572zm3.817 3.215l1.79 1.508A10.962 10.962 0 0023.5 11.84c0-2.871-1.147-5.642-3.23-7.801l-1.73 1.42c1.704 1.767 2.643 4.034 2.643 6.381a8.918 8.918 0 01-.85 3.787zM9.98 6.907l2.925 2.464V5.339h-1.33L9.981 6.907z",fill:"#F2F2F2"},[])])};const gO=e=>{let{className:t}=e;return xa(bO.a),ta(_O,{className:qv(fO.locals.UnmuteIcon,t)})};var OO=i(62),yO=i.n(OO);const EO=()=>{xa(yO.a);const e=ob(),{volumeStatus:t,setMuted:i}=iO(),r=tb.easeOut(Hg()),a=1-r,n="unmuted"===t,o=Ia(()=>{i(!0)},[]),s=hn(Qv()),d="middle"===s,l=Ia(()=>{i(!1)},[]),c=e("UNMUTE");return ta(vO,{className:qv(OO.locals.VolumeButton,OO.locals.UnmuteButton),onClick:n?o:l,size:s},ta("div",{className:OO.locals.VolumeButton__content},ta("div",{className:qv(OO.locals.VolumeButton__iconContainer,{[OO.locals.VolumeButton__iconContainer_middle]:d})},ta(n?pO:gO,{className:OO.locals.VolumeButton__icon})),1!==r&&ta("div",{className:qv(OO.locals.UnmuteButton__text,OO.locals.UnmuteButton__text_animation,{[OO.locals.UnmuteButton__text_middle]:d}),style:{maxWidth:140*a,transform:"scale("+a+")",opacity:a,marginRight:12*a}},c)))};var TO=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,ta("svg",Object.assign({width:"34",height:"28",viewBox:"0 0 34 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[ta("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M24 14L0 28V0l24 14zm10 14V0h-4v28h4z",fill:"#fff"},[])])};const SO=e=>{let{className:t}=e;return ta(TO,{className:t})},wO=e=>{let{timeToSkipString:t,iconClassName:i,digitsContainerClassName:r}=e;if(!t)return ta(SO,{className:i});const[a,n]=t;return ta("div",{className:r},ta("span",null,a),ta("span",null,n))};var PO=i(116),IO=i.n(PO);const CO=e=>{let{isActive:t,onClick:i,countdownString:r}=e;return xa(IO.a),ta(vO,{className:qv(PO.locals.SkipButtonSmall,{[PO.locals.SkipButtonSmall__disabled]:!t}),onClick:i,size:"small",isActive:t},ta("div",{class:PO.locals.SkipButtonSmall__content},ta(wO,{timeToSkipString:r,iconClassName:PO.locals.SkipButtonSmall__timeToSkipString__icon})))};var DO=i(83),NO=i.n(DO);const RO=e=>{let{isActive:t,onClick:i,skipText:r,countdownString:a}=e;return xa(NO.a),ta(vO,{className:DO.locals.SkipButtonWithText,onClick:i,size:"middle",isActive:t},ta("div",{className:DO.locals.SkipButtonWithText__content},ta("div",{className:DO.locals.SkipButtonWithText__text},r),ta("div",{className:DO.locals.SkipButtonWithText__timeToSkipString},ta(wO,{timeToSkipString:a,iconClassName:DO.locals.SkipButtonWithText__icon,digitsContainerClassName:DO.locals.SkipButtonWithText__digitsContainer}))))};var kO=i(88);const VO=2,jO=()=>{const e=Qv(),{skipCurrentAdPod:t,timeToSkip:i}=$g(),r=ob(),a=hn(e),n=function(e){if(e<=0)return"";const t=Math.ceil(e)%100;return Object(kO.a)(String(t),VO,"0")}(i),o=0===i;return"small"===a?ta(CO,{onClick:t,countdownString:n,isActive:o}):ta(RO,{onClick:t,skipText:r("SKIP"),countdownString:n,isActive:o})},LO=ga(0);LO.Provider.displayName="AdAnimationProgressContext";const MO=e=>{let{skinAnimationProgress:t}=e;return Ma(t)},BO=()=>Ca(LO),UO=ga({adPodsCount:0,playingAdPodIndex:0});UO.Provider.displayName="MediaFileContext";const xO=e=>{let{adPodsCount:t,playingAdPodIndex:i}=e;return{adPodsCount:Ma(t),playingAdPodIndex:Ma(i)}};var FO=i(162),HO=i.n(FO);const zO=()=>{xa(HO.a);const{adPodsCount:e,playingAdPodIndex:t}=(()=>Ca(UO))(),i=BO();return ta("div",{className:FO.locals.Timeline},Object(Io.a)(function(e){const t=[];for(let i=0;i<e;i++)t.push(i);return t}(e),r=>ta(vf,r<t?{key:r,adAnimationProgress:1,currentNumber:r,count:e,backgroundOpacity:.3}:r===t?{key:r,adAnimationProgress:i,currentNumber:r,count:e,backgroundOpacity:.3}:{key:r,adAnimationProgress:0,currentNumber:r,count:e,backgroundOpacity:.3})))},WO=ga(nm);WO.Provider.displayName="AdDurationContext";const GO=e=>{let{adDisplayController:t}=e;return Ma(t.adPodDuration)},YO=()=>Ca(WO),qO=(e,t)=>{const{width:i,height:r}=e,{fontSize:a,lineHeight:n=a,noFontSizeLimit:o}=t,s=Math.min(r+i/20,Math.sqrt(i*i+r*r)/2);if(o)return{fontSize:a*s+"px",lineHeight:n*s+"px"};const d=Math.max(a*s,9);return{fontSize:d+"px",lineHeight:Math.max(n/a*d,9)+"px"}};var XO=i(124),KO=i.n(XO);const QO=e=>{const{children:t,style:i,onClick:r}=e;return xa(KO.a),ta("button",{style:i,className:XO.locals.ArrowButton,onClick:r},ta("span",{className:XO.locals.ArrowButton__content},t&&ta("span",{className:XO.locals.ArrowButton__textContent},t),ta(pb,null)))},JO={body:{fontSize:.035,lineHeight:.05},title:{fontSize:.057,lineHeight:.07},buttonWithoutText:{fontSize:.157,lineHeight:.157},buttonWithText:{fontSize:.107,lineHeight:.107}},ZO=ga(void 0);ZO.Provider.displayName="VideoContentSizeContext";const $O=e=>Ma(e),ey=()=>Ca(ZO),ty=ga(Mo);ty.Provider.displayName="VideoSlotSizeContext";const iy=e=>Ma(e),ry=()=>Ca(ty);var ay=i(70),ny=i.n(ay);const oy=e=>{let{disableAnimation:t=!1}=e;xa(ny.a);const{actionButtonParameters:i,clickThrough:r}=hb();if(!i)return null;const{oldButtonStyle:a,buttonPlacement:n,label:o}=i,s=BO(),d=YO(),l=d*s,{adjacentSize:c,innerSize:u,extraHorizontalSpace:h}=Wt({slotSize:Qv(),videoContentSize:ey(),videoSlotSize:ry()}),p={height:h?u:c,width:h?c:u},A=p.width>451&&!Object(Ko.a)(["left-center","right-center"],n.position)?70:"",m=t?void 0:function(e,t,i){return{[i]:ln({position:e,unit:"number",steps:[{duration:.06*t,values:[-100,5],easing:dn(.54,1.25,.54,1.26,.01)},{duration:.62*t,value:5},{duration:.02*t,values:[5,4.9],easing:dn(.5,1,.5,60,.01)},{duration:.04*t,values:[4.9,5],easing:dn(.5,100,.5,-100,.01)}]})+"%"}}(l,d,n.side),v=Ia(()=>r({}),[r]);return ta("div",{className:qv({[ay.locals.OldActionButton__wrapper]:!0,[ay.locals.OldActionButton__bannerPosition_right_center]:"right-center"===n.position,[ay.locals.OldActionButton__bannerPosition_left_center]:"left-center"===n.position,[ay.locals.OldActionButton__bannerPosition_left_bottom]:"left-bottom"===n.position}),style:p},ta("div",{className:ay.locals.OldActionButton__body,style:{bottom:A}},ta("div",{className:ay.locals.OldActionButton__context}),ta("div",{className:ay.locals.OldActionButton__buttonContainer,style:m},ta(QO,{style:Bn({},qO(p,o?JO.buttonWithText:JO.buttonWithoutText),a),onClick:v},o))))},sy=e=>"https://favicon.yandex.net/favicon/"+e+"?size=32";var dy=i(125),ly=i.n(dy);const cy=e=>{let{clickThrough:t,actionButtonParameters:i}=e;xa(ly.a);const r=Qv(),{clickUrl:a,domain:n,punyDomain:o,greenUrl:s,label:d,title:l,body:c}=i,u=hn(Qv());let h;Object(ks.a)(o)?h=sy(o):Object(ks.a)(n)&&(h=sy(n));const p=Ia(()=>{t({url:a})},[a]),A=Boolean(c||l);let m=0;const v=md.a.getFlagValueAndActivateTestId("ACTION_PANEL_VERTICAL_SHIFT_IN_PERCENTS");return Object(ks.a)(v)&&(m=r.height*(parseFloat(v)/100)),ta("div",{className:qv(dy.locals.SkinActionButton,"middle"===u&&dy.locals.SkinActionButton__middle,A&&dy.locals.SkinActionButton__lifted),style:{marginBottom:m}},ta(Cb,{greenUrl:s,buttonLabel:d,onButtonClick:p,faviconSrc:h}))},uy=()=>{const e=YO(),{actionButtonParameters:t,clickThrough:i,shouldUseActionPanel:r}=hb(),{isPackshotPlaying:a}=Qg();return!1===Q_().actionButton?null:t?a?null:o(e)?r?ta(cy,{clickThrough:i,actionButtonParameters:t}):ta(oy,null):null:null},hy=ga([]);hy.Provider.displayName="SubtitlesContext";const py=e=>{let{adDisplayController:t}=e;return Ma(t.adPodCurrentSubtitles)};var Ay=i(153),my=i.n(Ay);const vy=()=>{xa(my.a);const e=(()=>Ca(hy))();return e.length>0?ta("div",{className:Ay.locals.Subtitles__container},Object(Io.a)(e,e=>{let{text:t}=e;return ta("div",{className:Ay.locals.Subtitles__subtitle},t)})):null};var fy=i(117),by=i.n(fy);const _y=()=>{xa(by.a);const{timeToSkip:e}=$g(),{playingState:t}=qg(),i=Q_(),{volumeStatus:r}=iO(),{isPackshotPlaying:a}=Qg(),n=Hg(),o=Qv(),s=(()=>Ca(zg))(),d=hn(o),l="idle"!==t&&"unknown"!==r&&void 0!==n&&!1!==i.mute,c=e!==Nb&&!1!==i.skip,u=!1!==i.timeline&&!a,h="small"===d,p=s.length>0&&!1!==i.disclaimers,{shouldUseActionPanel:A}=hb();return ta(ra,null,ta("div",{className:fy.locals.BottomControls__container},A&&ta(uy,null),!h&&ta(vy,null),ta("div",{className:qv(fy.locals.ButtonControls,p&&fy.locals.ButtonControls_OnDisclaimers)},l&&ta(EO,null),h&&ta(vy,null),c&&ta(jO,null)),p&&ta("div",{className:fy.locals.DisclaimerContainer},Object(Io.a)(s,(e,t)=>{let{text:i,mandatoryHeightPortion:r}=e;return ta(lO,{key:t,heightPortion:r,text:i})}))),u&&ta(zO,null))};var gy=i(163),Oy=i.n(gy),yy=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,ta("svg",Object.assign({width:"18",height:"18",viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},t),[ta("path",{fill:"#FC0",d:"M14.684 3.292Q17.053 5.661 17.053 9q0 3.34-2.369 5.708Q12.34 17.053 9 17.053V18q3.742 0 6.371-2.629Q18 12.742 18 9q0-3.718-2.629-6.371Q12.742 0 9 0v.947q3.34 0 5.684 2.345z"},[])])};Object(Ts.a)({propertyName:"SPINNER_ICON_GLOBAL_CALLBACK",win:window});const Ey=e=>{let{className:t}=e;return xa(Oy.a),ta(yy,{className:qv(gy.locals.SpinnerIcon__css_animated,t)})},Ty=Ey;var Sy=i(164),wy=i.n(Sy);const Py=e=>{let{className:t}=e;return xa(wy.a),ta(Ty,{className:qv(Sy.locals.Spinner,t)})};var Iy=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,ta("svg",Object.assign({width:"60",height:"60",viewBox:"0 0 60 60",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[ta("path",{d:"M30 60c16.569 0 30-13.431 30-30C60 13.431 46.569 0 30 0 13.431 0 0 13.431 0 30c0 16.569 13.431 30 30 30z",fill:"#000","fill-opacity":".65"},[]),ta("path",{d:"M25.423 19.454c-.793-.476-1.19-.714-1.516-.684a1 1 0 00-.713.404C23 19.44 23 19.901 23 20.826v18.348c0 .925 0 1.388.194 1.652a1 1 0 00.713.404c.326.03.723-.208 1.516-.684l15.29-9.174c.755-.453 1.132-.679 1.26-.971a1 1 0 000-.802c-.128-.292-.505-.518-1.26-.971l-15.29-9.174z",fill:"#fff","fill-rule":"evenodd","clip-rule":"evenodd"},[])])};const Cy=e=>{let{className:t}=e;return ta(Iy,{className:t})};var Dy=i(95),Ny=i.n(Dy);const Ry=e=>{let{onClick:t,size:i}=e;xa(Ny.a);const r=qv(Dy.locals.CirclePlayButton,{[Dy.locals.CirclePlayButton_middle]:"middle"===i}),a=qv(Dy.locals.CirclePlayButton__icon,{[Dy.locals.CirclePlayButton__icon_middle]:"middle"===i});return ta(lg,{className:r,contentClassName:Dy.locals.CirclePlayButton__basecontent,onClick:t},ta(Cy,{className:a}))},ky=()=>{const e=hn(Qv()),{play:t}=qg();return ta(Ry,{size:e,onClick:t})};var Vy=i(165),jy=i.n(Vy);const Ly=()=>{xa(jy.a);const{playingState:e,isStarted:t,isSlowStart:i}=qg(),r=Q_(),a="pause"===e,n=a&&!1!==r.play,o=!n&&!a&&!t&&i&&!1!==r.loader;return ta("div",{className:Vy.locals.CenterControls},n&&ta(ky,null),o&&ta(Py,null))},My=ga({adSystemType:void 0,openAdSystemWebsite:Vs.a});My.Provider.displayName="AdSystemContext";const By=e=>{let{adDisplayController:t}=e;return{adSystemType:Ma(t.adSystemType),openAdSystemWebsite:t.openAdSystemWebsite}};var Uy=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,ta("svg",Object.assign({height:"14",viewBox:"0 0 67 14",width:"67",xmlns:"http://www.w3.org/2000/svg"},t),[ta("path",{d:"M4.133.977h-.616c-.932 0-1.834.616-1.834 2.405 0 1.728.827 2.284 1.834 2.284h.616zm-.962 5.65l-1.834 4.119H0l2.014-4.404C1.067 5.862.436 4.99.436 3.382.436 1.127 1.863 0 3.562 0H5.29v10.746H4.133V6.628zM27.774 6.958c0-2.374.916-3.892 2.69-3.892.676 0 1.067.18 1.397.39l-.165 1.113c-.315-.27-.766-.526-1.247-.526-.842 0-1.443.947-1.443 2.855 0 1.894.45 2.976 1.398 2.976.57 0 1.007-.225 1.277-.466l.27.872c-.405.346-.886.57-1.577.57-1.623 0-2.6-1.307-2.6-3.892zm-3.427.015v3.773h-1.172V3.17h1.172v3.502l1.818-3.502h1.188l-1.879 3.562 2.15 4.013h-1.278zm-5.516-.706h1.94c0-1.292-.211-2.24-.888-2.24-.721 0-.977.887-1.052 2.24zm1.293 4.584c-1.563 0-2.525-1.247-2.525-3.577 0-2.435.676-4.208 2.284-4.208 1.263 0 2.09.947 2.09 3.517v.646h-3.157c0 1.713.481 2.615 1.413 2.615.661 0 1.187-.3 1.488-.51l.27.9c-.48.376-1.112.617-1.863.617zm-4.99-6.733h-1.307v.135c0 1.593-.075 3.923-.707 5.531h2.014zm1.759 8.116H15.84v-1.488h-3.247v1.488h-1.052v-2.45h.466c.691-1.608.767-3.953.767-5.967v-.646h3.516v6.613h.602zM10.866 3.17v7.575H9.709V7.349H7.965v3.397H6.793V3.17h1.172v3.216H9.71V3.171zM39.121.616h-2.33c-.045 2.72-.12 4.794-.24 6.343-.135 1.608-.376 2.675-.781 3.17h3.351zm.796 10.13H35.32l-.106 1.788h-.586V10.13h.316c.526-.436.782-1.639.932-3.171.15-1.594.195-3.968.24-6.959h3.758v10.13h.736v2.404h-.586zM45.223 5.47c0-.39.03-.72.06-1.036h-.045c-.105.33-.24.646-.406.976l-2.464 5.336h-.602V3.17h.662v5.26c0 .406-.03.737-.06 1.067h.044c.106-.345.256-.676.406-1.007l2.465-5.32h.616v7.575h-.676zM51.294 6.793c0-1.984-.54-3.156-1.412-3.156-.676 0-1.247.721-1.578 1.533v4.238c.3.616.721.917 1.398.917.961 0 1.593-1.142 1.593-3.532zm-2.99 3.427v2.87h-.707V3.171h.617l.06 1.248c.33-.722.886-1.398 1.728-1.398 1.263 0 1.999 1.518 1.999 3.712 0 2.78-.932 4.148-2.345 4.148a1.716 1.716 0 01-1.352-.661zM53.67 6.523h2.75c.12-2.014-.482-2.916-1.248-2.916-.797 0-1.443 1.022-1.503 2.916zm1.652 3.757c1.007 0 1.533-.812 1.533-.812l.226.571s-.571.857-1.774.857c-1.608 0-2.344-1.458-2.344-3.937 0-2.48.932-3.938 2.21-3.938 1.307 0 2.148 1.368 1.908 4.058h-3.427c.03 2.074.571 3.2 1.668 3.2zM59.125 10.746h-.707V3.17h.707v3.562l2.54-3.562h.691l-2.495 3.517 2.675 4.058h-.781l-2.63-3.923zM65.257 3.757v6.989h-.707V3.757h-1.758v-.586H67v.586z"},[])])},xy=i(118),Fy=i.n(xy);const Hy=e=>{let{size:t,adSystemType:i,onClick:r}=e;xa(Fy.a);const a=ob(),n="yandex"===i;return ta("span",{className:qv(xy.locals.AdLabel,{[xy.locals.AdLabel_middle]:"middle"===t,[xy.locals.AdLabel_withIcon]:n}),title:a("YANDEX_DIRECT"),onClick:r},n?ta(Uy,{className:xy.locals.AdLabel_icon}):a("AD_TITLE"))};var zy=i(166),Wy=i.n(zy);const Gy=e=>{let{onClick:t}=e;xa(Wy.a);const i=ob()("SOCIAL_ADVERTISING_AD_LABEL");return ta("a",{className:zy.locals.SocialAdvertisingAdLabel,onClick:t},i)},Yy=()=>{const e=hn(Qv()),{adSystemType:t,openAdSystemWebsite:i}=(()=>Ca(My))(),{socialAdvertising:r}=$_();return r?ta(Gy,{onClick:i}):void 0===t||"yandex"===t?null:ta(Hy,{size:e,adSystemType:t,onClick:i})};var qy=i(167),Xy=i.n(qy);const Ky=()=>{xa(Xy.a);const{playingState:e}=qg(),t=!1!==Q_().adLabel&&"idle"!==e;return ta("div",{className:qy.locals.TopControls},t&&ta(Yy,null))},Qy=()=>{const{abuseDisplayStatus:e,isAbuseSupported:t}=q_(),i="selection"===e,r=Q_(),a=j_(r),{shouldUseActionPanel:n}=hb();return ta(ra,null,ta(Ky,null),ta(_y,null),ta(Ly,null),!n&&ta(uy,null),a&&t&&ta(Ug,{isVisible:i}))},Jy=ga(Pl.a);Jy.Provider.displayName="ABFlagContext";const Zy=()=>Pl.a,$y=[e=>ta(Jv.Provider,{value:Zv(e.slotElement),children:e.children}),e=>ta(Gg.Provider,{value:Yg(e),children:e.children}),e=>ta(UO.Provider,{value:xO(e.adDisplayController),children:e.children}),e=>ta(LO.Provider,{value:MO(e.adDisplayController),children:e.children}),e=>ta(WO.Provider,{value:GO(e),children:e.children}),e=>ta(Xv.Provider,{value:Kv(e.adDisplayController.slotParameters.size),children:e.children}),e=>ta(ty.Provider,{value:iy(e.adDisplayController.videoSlotSize)},e.children),e=>ta(ZO.Provider,{value:$O(e.adDisplayController.videoContentSize)},e.children),e=>ta(Jg.Provider,{value:Zg(e),children:e.children}),e=>ta(ab.Provider,{value:nb(e),children:e.children}),e=>ta(X_.Provider,{value:K_(e),children:e.children}),e=>ta(eO.Provider,{value:tO(e),children:e.children}),e=>ta(xg.Provider,{value:Fg(e),children:e.children}),e=>ta(Jy.Provider,{value:Zy(),children:e.children}),e=>ta(G_.Provider,{value:Y_(e),children:e.children}),e=>ta(My.Provider,{value:By(e),children:e.children}),e=>ta(J_.Provider,{value:Z_(e),children:e.children}),e=>ta(cb.Provider,{value:ub(e.adDisplayController),children:e.children}),e=>ta(zg.Provider,{value:Wg(e.adDisplayController),children:e.children}),e=>ta(Xg.Provider,{value:Kg(e.adDisplayController),children:e.children}),e=>ta(hy.Provider,{value:py(e)},e.children)];const eE=(e=>(t,i)=>{const r=new ts.a,a=new ts.a,n=new ts.a,o=new Promise((e,t)=>{r.addOne(()=>{r.removeAll(),a.removeAll(),e()}),a.addOne(e=>{r.removeAll(),a.removeAll(),t(e)})}),s=new Promise((e,t)=>{n.addOne(()=>{t()})}),d=ta(Wv,{onFirstRender:e=>{"success"===e.status?r.dispatch(void 0):a.dispatch(e.error)},onRuntimeError:()=>{n.dispatch(void 0)}},ta(Yv,{components:$y,componentsProps:{id:"skin",adDisplayController:i,slotElement:t}},e()));return Object(Jo.a)("Skin: render skin"),_a(d,t),{firstRenderPromise:o,runtimeErrorPromise:s,clear:()=>{r.removeAll(),a.removeAll(),Object(Jo.a)("Skin: destroy skin"),_a(null,t)}}})(()=>ta(Qy,null));var tE=new WeakMap,iE=new WeakMap,rE=new WeakMap,aE=new WeakMap,nE=new WeakMap,oE=new WeakMap,sE=new WeakMap;class dE{constructor(e,t){var i=this;tE.set(this,{writable:!0,value:void 0}),iE.set(this,{writable:!0,value:[]}),rE.set(this,{writable:!0,value:[]}),aE.set(this,{writable:!0,value:void 0}),nE.set(this,{writable:!0,value:void 0}),xn(this,"createPlaybackController",(function(e,t,r){void 0===r&&(r={}),xo.c.event({name:"CreatePlaybackController",probability:Fo.a,data:{config:r}});const a=Un(r,["autoplay"]),{config:n,errors:o}=on(a);ie(o);const s="VideoBannerAd"===Ud.c||"Test"===Ud.c,d=r.renderSkin,l=new W_({videoSlot:e,slot:t,mediaAds:Fn(i,aE),playbackParameters:n,onPlayAd:()=>Fn(i,oE).call(i,"PublicControllerPlayAd"),renderSkin:s&&d?d:eE}).getPublicInstance(),c=Object(To.a)(Fn(i,rE),e=>{let{event:t}=e;return"CreateAdPlaybackController"===t});return Object(Co.a)(c,e=>{let{handler:t}=e;return t({playbackController:l})}),l})),xn(this,"showAd",(function(e,t,r){void 0===r&&(r={}),Fn(i,oE).call(i,"AdStoreShowAd");const a=i.createPlaybackController(e,t,r);Fn(i,iE).push(a);const n=new Promise(e=>{a.subscribe("AdStopped",()=>{Hn(i,iE,Object(To.a)(Fn(i,iE),e=>e!==a)),e()})});return a.playAd(),n})),xn(this,"getAdDuration",()=>Fn(this,aE).getDuration()),xn(this,"separateAdPods",()=>Object(Io.a)(Fn(this,aE).mediaAds,e=>{const t=new dE(new Vp([e]),Fn(this,nE));return Object(Co.a)(Fn(this,rE),e=>{let{event:i,handler:r}=e;t.subscribe(i,r)}),t})),xn(this,"getAdSourceTypes",()=>Object(To.a)(Object(Io.a)(Fn(this,aE).mediaAds,e=>{let{contentType:t}=e;return t}),(e,t,i)=>i.indexOf(e)===t)),xn(this,"setStatsRootFields",e=>{xo.c.setRootFields(e)}),xn(this,"hasNotReplacedBroadcastAd",()=>ll(Fn(this,aE).mediaAds,e=>e.isNotReplacedBroadcastAd())),xn(this,"hasYandexCreative",()=>ll(Fn(this,aE).mediaAds,e=>e.getIsYandexCreative())),xn(this,"getNonYandexVastXmlTree",()=>this.hasYandexCreative()?void 0:function e(t){const i=Object(Io.a)(t.children,t=>e(t));return{xmlString:t.xmlString,children:i}}(Fn(this,nE))),xn(this,"destroy",()=>{Object(Co.a)(Fn(this,iE),e=>{e.stopAd()}),Fn(this,iE).length=0,Fn(this,sE).call(this,"AdStoreDestroy"),Hn(this,tE,void 0),Fn(this,rE).length=0}),xn(this,"preload",e=>{let{preloadTimeout:t=Sl}=e,i=Un(e,["preloadTimeout"]);if(Object(ns.a)(Object(as.a)(window)))return Promise.resolve();const r=Object(Do.a)(t).promise.then(()=>Fn(this,sE).call(this,"Timeout"));if(void 0===Fn(this,tE)){const e=Object(Io.a)(Fn(this,aE).mediaAds,e=>e.preload(i));Hn(this,tE,Promise.all(e).then(Vs.a))}return Promise.race([Fn(this,tE),r])}),xn(this,"filterAdPodsIndependentOnHtmlControls",e=>{const[t,i]=g(Fn(this,aE).mediaAds,e=>e.getIfIsRequiredHtmlControls());Hn(this,aE,new Vp(i)),Object(Co.a)(t,t=>{t.trackError(new Uo.a({code:"CANNOT_SHOW_CPC_CONTROLS",details:{mediaFile:t.getJSMediaFile(),reason:e}}))})}),xn(this,"preventPlaying",(e,t)=>{Object(Co.a)(Fn(this,aE).mediaAds,i=>{i.trackError(new Uo.a({code:"AD_STORE_PLAYING_PREVENTED",details:{mediaFiles:i.vastAd.mediaFiles,reason:e,details:t}}))}),Hn(this,aE,new Vp([]))}),xn(this,"getAdPodsCount",()=>Fn(this,aE).mediaAds.length),xn(this,"subscribe",(e,t)=>(Fn(this,rE).push({event:e,handler:t}),()=>{Hn(this,rE,Object(To.a)(Fn(this,rE),i=>{return!(i.event===e&&i.handler===t)}))})),oE.set(this,{writable:!0,value:e=>{Object(Co.a)(Fn(this,aE).mediaAds,t=>{t.isPreloaded()||t.cancelPreloading(e)})}}),sE.set(this,{writable:!0,value:e=>{Object(Co.a)(Fn(this,aE).mediaAds,t=>{t.cancelPreloading(e)})}}),Hn(this,aE,e),Hn(this,nE,t)}}class lE extends Eo.a{constructor(e){let{adConfig:t,whenVmapLoaded:i,adBreak:r,adPlacementOptions:a}=e;if(super(),zn(this,"whenVmapLoaded",void 0),zn(this,"adBreak",void 0),zn(this,"vmap",void 0),zn(this,"adConfig",void 0),zn(this,"adPlacementOptions",void 0),zn(this,"getPublicInstance",()=>({loadAd:this.loadAd,destroy:()=>this.destroy()})),zn(this,"load",async e=>{await this.whenVmapLoaded;const{mediaAds:t}=await this.startLoadAd({adBreak:e});return t}),zn(this,"loadAd",async()=>{try{await this.whenVmapLoaded;const e=this.adBreak?this.adBreak:this.getDefaultAdBreakToPlayAd();if(!e)throw new Uo.a({code:"AD_BREAK_IS_NOT_FOUND",details:{adConfig:this.adConfig,adBreaks:this.getAdBreaks()}});const{mediaAds:t,vast:i}=await this.startLoadAd({adBreak:e});return new dE(t,i)}catch(e){throw hi(e),xo.c.errorToStats(e),e}}),zn(this,"getInPageBlock",()=>Si(this.getAdBreaks(),"inpage")[0]),zn(this,"getPrerollBlock",()=>Si(this.getAdBreaks(),"preroll")[0]),zn(this,"getDefaultAdBreakToPlayAd",()=>{const{impId:e}=this.adConfig;return e?function(e,t){return Object(yh.a)(e,e=>e.impId===t)}(this.getAdBreaks(),e):Si(this.getAdBreaks(),"preroll")[0]}),this.adConfig=t,this.whenVmapLoaded=i,this.adBreak=r,this.adPlacementOptions=a,Object(Jo.a)("AdLoader: create"),xo.c.event({name:"CreateAdLoader",probability:Fo.a,data:{adConfig:t,adBreak:r}}),cc({secureMode:t.secureMode,url:void 0})){const e=rd();e.addUser(),this.addDestroyHandler(()=>{e.removeUser()}),"idle"===e.state.getValue().name&&e.init({container:document.body,initTimeout:Lf})}i.then(e=>{this.vmap=e}).catch(e=>{xo.c.errorToStats(e)})}getAdBreaks(){if(this.adBreak)return[this.adBreak];if(this.vmap)return this.vmap.adBreaks;throw new Uo.a({code:"NO_AD_BREAK_OR_VMAP_IN_AD_LOADER",details:void 0})}async startLoadAd(e){let{adBreak:t}=e;const{adConfig:i,adPlacementOptions:r}=this;return Ti({adConfig:i,adBreak:t,adPlacementOptions:r,win:window})}}const cE=e=>{return(new XMLSerializer).serializeToString(e)},uE={start:"preroll",end:"postroll"},hE=Object(bs.a)({inpage:0,preroll:0,midroll:0,pauseroll:0,overlay:0,postroll:0,replaced:0,notReplaced:0,inroll:0,"inroll-overlay":0}),pE="linear,nonlinear",AE="linear",mE="nonlinear",vE=0,fE=0,bE=0,_E={dark:"dark",light:"light"},gE={top:"top",bottom:"bottom",auto:"auto","bottom-right":"bottom-right","bottom-left":"bottom-left","top-left":"top-left","top-right":"top-right"},OE=e=>{const t=Xn("Collapse",e);return!0===Xn("Repeat",e)?"auto":!1===t?"manual":null},yE=async e=>{let{url:t,vmapLoadParams:i,timeout:r}=e;const a=Date.now();let n;xo.c.event({name:"VmapLoadStart",data:i,probability:Fo.a});try{const e=!Object(ns.a)(Object(as.a)(window)),i="boolean"===typeof Go?Go:e;n=await te({url:t,data:null,timeout:r,withCredentials:i})}catch(l){const e=Jl({thrownError:l,errorCode:"VMAP_LOAD_ERROR",errorDetails:i,timeoutCode:"VMAP_LOAD_TIMEOUT",timeoutDetails:i});throw xo.c.error({error:e}),e}const{responseStatus:s,responseText:d}=n;if(200!==s){const e=(e=>{const t=e.match(/<!-- Page (\d+) disabled -->/i);if(!Array.isArray(t))return;const[,i]=t;return void 0!==i?parseInt(i,10):void 0})(d);if(o(e))throw new Uo.a({code:"BAD_PARTNER_OR_DOMAIN_FOR_VMAP_REQUEST",details:io({},i,{responseStatus:s,disabledPageId:e})});throw new Uo.a({code:"INVALID_VMAP_RESPONSE_STATUS",details:io({},i,{responseStatus:s,responseText:n.responseText})})}try{const e=to(i.config),{vmap:t,events:r,errors:o}=$n({vmapXmlObject:n,vmapLoadParams:i,vmapAdBreaksConfig:e});return ie(o),Object(Co.a)(r,e=>xo.c.event(io({labels:void 0},e))),xo.c.values({name:"VmapLoadSuccess",data:io({},i,{vmap:t}),probability:Fo.a,labels:{},values:{adBreaksCount:t.adBreaks.length,timeSpent:Date.now()-a}}),t}catch(l){throw xo.c.errorToStats(l),l}},EE=3e3;var TE=i(119);const SE=()=>Object(TE.a)()/qu,wE="adsdksessionwatchedtimesinceadmap",PE=0;class IE{constructor(){var e,t,i;i=void 0,(t="storage")in(e=this)?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,void 0!==localStorage&&(this.storage=localStorage)}update(e){let{category:t}=e;!function(e){let{category:t,storage:i,now:r=SE}=e;if(!i)return;const a=ro(i);a[t]=r();try{i.setItem(wE,JSON.stringify(a))}catch(n){}}({category:t,storage:this.storage})}getWatchedTimeSinceAd(e){let{category:t}=e;return function(e){let{category:t,storage:i,now:r=SE}=e;if(!i)return PE;const a=ro(i)[t];if(!o(a))return PE;const n=r();if(!o(n))return PE;const s=n-a;return o(s)?s:PE}({category:t,storage:this.storage})}}const CE="https://"+("TRUE"===Cl("REQUEST_VMAP_FROM_YANDEX_RU")&&!is.a.LOADER_LOADED_FROM_AN_YANDEX_RU?cl.b+"/an/vmap/":cl.a+"/vmap/"),DE=e=>{const{category:t,vmapScenarioId:i,hasPreroll:r}=e,a=function(e){let{vmapId:t,category:i}=e;return t&&i?{"vmap-id":String(t),"video-category-id":String(i)}:t?{"vmap-id":String(t),"video-category-id":void 0}:{"vmap-id":void 0,"video-category-id":String(i)}}(e),n=nh(e);let o;try{o=new IE}catch(d){}let s=PE;return"number"===typeof t&&o&&(s=o.getWatchedTimeSinceAd({category:t})),ao({[Pu.a]:Cu},n,a,{"has-preroll":!1===r?String(r):void 0,"vmap-scenario-id":void 0===i?void 0:String(i),"wtime-since-ad":String(Math.floor(s)),client_type:"html"})};class NE{constructor(){so(this,"adBreaks",[]),so(this,"isSingleVideoSession",!1)}static async load(e,t){const i=oo(e),r=function(e){let{config:t,adPlacementOptions:i=Bo,win:r=window}=e;const{partnerId:a}=t;if(!a)throw new Uo.a({code:"VMAP_CONFIG_WITHOUT_PARTNER_ID",details:void 0});const n=DE(t),o=w({url:Object(Ad.b)(""+CE+a,n),ignoreAbd:!0,options:i,win:window}),s=Object(as.a)(r);return"function"===typeof s?s(Object(Ad.b)(o,{abd:"1"})):o}({config:i,adPlacementOptions:t,win:window}),{vmapLoadTimeout:a}=i;let n=EE;a&&(n=a);const o={url:r,config:e,timeout:n};return await yE({url:r,vmapLoadParams:o,timeout:n})}}const RE={impId:vE,sessionId:"",vastTimeout:3e3,videoTimeout:1e4,vpaidTimeout:1e4,wrapperTimeout:3e3,wrapperMaxCount:3,bufferFullTimeout:5e3,bufferEmptyLimit:5},kE={adTagURI:"",adFoxParameters:void 0,inlineVast:void 0},VE=lo({adType:"preroll"},kE,RE),jE=e=>{if(!Object(Ro.a)(e))return;const{preferableAdSize:t}=e;if(!Object(Ro.a)(t))return;const{width:i,height:r}=t;return o(i)&&o(r)?{width:i,height:r}:void 0},LE=Object(bs.a)(oc),ME=e=>{if(!Object(Ro.a)(e))return"Unsafe";const{secureMode:t}=e;return t&&-1!==LE.indexOf(t)?t:"Unsafe"},BE="0",UE=mo({adType:"inpage",replayMode:null,stick:!1},kE,RE),xE={repeatAfter:bE,maxRepeatCount:fE,repeatNumber:0,timeOffset:10},FE=vo({adType:"midroll",broadcastReplace:!1},kE,xE,RE),HE=fo({adType:"overlay"},kE,xE,RE),zE=bo({adType:"postroll"},kE,RE),WE={inpage:UE,preroll:VE,midroll:FE,postroll:zE,overlay:HE},GE=Object(bs.a)(WE),YE=async function(e,t,i,r){void 0===t&&(t=!1),void 0===i&&(i="preroll"),void 0===r&&(r=Bo);const{adConfig:n,adBreak:o,warnings:s}=function(e,t,i){const{vastBase64:r,adBreakType:n}=e,o=Oo(e,["vastBase64","adBreakType"]),s=[],d=po(o),{config:{videoContentId:l},errors:c}=d,u=Oo(d.config,["videoContentId"]);s.push(...c);const h=go({},u,{videoContentId:Ao(l)});let p,A;if(r&&(h.vast=a(r)),_o(n)?A=n:t&&(s.push(new Uo.a({code:"USING_SYNTHETIC_VMAP_TYPE_PARAMETER",details:{adLoaderConfig:e,useDefaultAdPlaybackParameters:t,syntheticVMAPType:i}})),_o(i)&&(A=i)),A){const e=to(o);p=go({},WE[A],e)}return{adConfig:h,adBreak:p,warnings:s}}(e,t,i);ie(s);const{adFoxParameters:d}=n;if(d){const e=o||VE,t=new NE;return t.adBreaks=[e],new lE({adConfig:n,whenVmapLoaded:Promise.resolve(t),adBreak:e,adPlacementOptions:r})}if(o){const e=new NE;return e.adBreaks=[o],new lE({adConfig:n,whenVmapLoaded:Promise.resolve(e),adBreak:e.adBreaks[0],adPlacementOptions:r})}if(n.vmap){const e=(e=>{const t=I(e),{vmap:i,events:r,errors:a}=$n({vmapXmlObject:{responseText:e,xml:t},vmapLoadParams:void 0,vmapAdBreaksConfig:void 0});return ie(a),Object(Co.a)(r,e=>xo.c.event(co({labels:void 0},e))),i})(n.vmap);return new lE({adConfig:n,whenVmapLoaded:Promise.resolve(e),adPlacementOptions:r})}const l=NE.load(n,r),c=new lE({adConfig:n,whenVmapLoaded:l,adPlacementOptions:r});return c.addDestroyHandler(vn(()=>{c.destroy()},null!==yo.a&&void 0!==yo.a?yo.a:window)),l.catch(()=>{c.destroy()}),l.then(()=>c)},qE=(e,t,i)=>YE(e,t,i).then(e=>e.getPublicInstance());!function(e,t){nt({videoAd:{loadedModules:{[e]:t},modules:{[ss.a]:{[e]:t}}}},"ya")}("AdLoader",{AdLoader:{create:qE},play:async e=>{let{videoSlot:t,slot:i,config:r}=e;Object(Jo.a)("videoAd.play: create adLoader");const a=await qE(r);try{Object(Jo.a)("videoAd.play: load ad");const e=await a.loadAd();Object(Jo.a)("videoAd.play: show ad"),await e.showAd(t,i,r)}finally{Object(Jo.a)("videoAd.play: destroy loader"),a.destroy()}return Object(Jo.a)("videoAd.play: done"),{}}})}]);