!function(e){function t(r){if(i[r])return i[r].exports;var n=i[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var i={};t.m=e,t.c=i,t.d=function(e,i,r){t.o(e,i)||Object.defineProperty(e,i,{enumerable:!0,get:r})},t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,i){if(1&i&&(e=t(e)),8&i)return e;if(4&i&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&i&&"string"!=typeof e)for(var n in e)t.d(r,n,function(t){return e[t]}.bind(null,n));return r},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=178)}([function(e,t,i){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}i.d(t,"a",(function(){return o}));var n=i(47);const a={NO_APPROPRIATE_VIDEO_SOURCE:52,MEDIA_ERR_ABORTED:101,MEDIA_ERR_NETWORK:102,MEDIA_ERR_SRC_NOT_SUPPORTED:104,VIDEO_ERROR:10,INVALID_VAST_XML:40,YANDEX_INVALID_VAST_XML:40,INCORRECT_SKIPOFFSET_FORMAT:46,YANDEX_INCORRECT_SKIPOFFSET_FORMAT:46,ADFOX_VAST_LOAD_ERROR:47,VAST_LOAD_ERROR:48,NO_AD_SECTION:53,VAST_LOAD_TIMEOUT:60,YANDEX_VAST_LOAD_TIMEOUT:60,NO_INLINE_OR_WRAPPER_NODE:58,YANDEX_NO_INLINE_OR_WRAPPER_NODE:58,INLINE_AND_WRAPPER_NODE_IN_ONE_AD_SECTION:59,YANDEX_INLINE_AND_WRAPPER_NODE_IN_ONE_AD_SECTION:59,VIDEO_TIMEOUT:62,BUFFER_FULL_TIMEOUT:63,BUFFER_EMPTY_LIMIT:64,VPAID_START_TIMEOUT:65,VMAP_CONFIG_WITHOUT_PARTNER_ID:1003,NO_AD_TO_DISPLAY:51,VPAIDLoadingError:68,VPAIDPlayingError:67,VpaidEventBusCallbackError:81,CANNOT_LOAD_VPAID_MEDIA_FILE:82,CANNOT_LOAD_MODULE:91,CANNOT_INIT_MODULE:92,TOO_MANY_CREATE_AD_DISPLAY_CONTROLLER_REQUESTS:21002,PUBLIC_CONTROLLER_PLAY_ERROR:21010,NO_AD_CUSTOM_MARKER:21101};class o extends n.a{constructor(e,t){void 0===e&&(e={}),void 0===t&&(t={});const i=t.message||e.message;var n,o,s;super(e,r({},t,{message:"AdSDK Error ["+(t.code||e.code)+"]"+(i?"["+i+"]":"")})),s=void 0,(o="id")in(n=this)?Object.defineProperty(n,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[o]=s,this.id=function(e){return a[e]||0}(this.code)}}},function(e,t,i){"use strict";function r(e){var t;return(void 0===t&&(t=window),void 0===Q&&(Q=t.JSON),Q).stringify(e,function(){const e=[],t=function(){const e="undefined"!==typeof WeakMap?new WeakMap:void 0,t=[];return{set:(i,r)=>{if(void 0!==e)try{e.set(i,r)}catch(n){t.push({path:r,value:i})}else t.push({path:r,value:i})},get:i=>{const r=Object(G.a)(t,e=>e.value===i);return void 0!==e&&void 0===r?e.get(i):r?r.path:void 0}}}();return(i,r)=>{if(Object(w.a)(r))return Object(X.a)(r.name)?r.name:"[Function]";if(Object(Y.a)(r))return Object(K.c)(r);if(!Object(q.a)(r))return r;const n=t.get(r);if(n)return"[Circular "+n+"]";for(;e.length>0&&e[e.length-1].value[i]!==r;)e.pop();const a=(e.length>0?e[e.length-1].path:"")+(i?"/"+i:"~");return e.push({path:a,value:r}),t.set(r,a),r}}())}function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}var o=i(27);var s=i(16),d=i(18),l=i(36),c=i(41),u=i(102);var h=i(32),p=i(0),A=i(26),m=i(10),v=i(63),f=i(5),_=i(110),b=i(47),g=i(148);const O=Object(g.a)(window);var y=i(81),T=i(103),E=i(72),S=i(39),w=i(9),I=i(69),P=i(133),C=i(53),D=i(44),N=i(43),R=i(134);const k=Object(R.a)(window),V=64;var L=i(42);Object(L.a)({propertyName:"YANDEX_STATS_GLOBAL_CALLBACK_PROPERTY_NAME",win:window});var B=i(46),M=i(58),j=i(104),U=i(105),x=i(101),F=i(136),H=i(137),z=i(138),W=i(146),G=i(45),Y=i(74),q=i(2),X=i(17),K=i(88);let Q;var J=i(60),Z=i(147),$=i(106),ee=i(140),te=i(107);const ie=e=>{let{eventType:t,eventName:i,value:r,values:n}=e;const o={};return Object(D.a)(n,(e,r)=>{o[t+"_"+i+"_"+r]=e}),a({[t+"_"+i]:r},o)},re=a({},ee.a,{[F.a]:String(Z.a.serialize()),bannerTypeFromNanpu:W.a,bundleName:A.c,abFlags:B.a,iCookie:j.a,testIds:U.a,ecmaVer:"ES2017"});class ne{constructor(e){n(this,"rootFields",{}),n(this,"labels",{}),n(this,"params",void 0),n(this,"event",e=>{let{name:t,data:i,labels:r,probability:n,extraRootFields:a,queryParams:o}=e;this.push({eventType:"event",eventName:t,data:i,additionalStatsLabels:r,probability:n,extraRootFields:a,queryParams:o})}),n(this,"error",e=>{let{error:t,labels:i,probability:r,extraRootFields:n}=e;const a=new b.a(t);this.push({eventName:String(a.code),eventType:"fatal",data:a,additionalStatsLabels:i,probability:r,extraRootFields:n})}),n(this,"values",e=>{let{name:t,values:i,data:r,labels:n,probability:a,extraRootFields:o}=e;this.push({eventName:t,eventType:"values",data:r,additionalStatsLabels:n,probability:a,values:i,extraRootFields:o})}),n(this,"warning",e=>{let{name:t,message:i,probability:r,extraRootFields:n}=e;Object(J.a)(i),this.push({eventName:t,eventType:"warning",data:{message:i},probability:r,extraRootFields:n})}),n(this,"getParams",()=>{return function(e,t){if(null==e)return{};var i,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)i=a[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}(this.params,["onLogError"])}),n(this,"setRootFields",e=>{const t=Object(N.a)(e);Object(f.a)(t,e=>{let[t,i]=e;void 0===i?delete this.rootFields[t]:this.rootFields[t]=i})}),n(this,"setLabels",e=>{const t=Object(N.a)(e);Object(f.a)(t,e=>{let[t,i]=e;void 0===i?delete this.labels[t]:this.labels[t]=i})}),n(this,"errorToStats",(e,t,i)=>{const r=new b.a(e);this.push({eventName:String(r.code),eventType:"fatal",data:r,additionalStatsLabels:t,extraRootFields:i})});const{onLogError:t}=e;this.params=a({},e,{sid:e.sid||Object(S.a)(V),rnd:e.rnd,onLogError:t?e=>{try{t(e)}catch(e){Object(o.a)(e)}}:o.a})}push(e){let{eventName:t,eventType:i,data:n={},additionalStatsLabels:o,value:s=1,probability:l=1,values:c={},extraRootFields:u={},queryParams:h={}}=e;if(!Object(te.a)(l))return;const{service:p,version:A}=this.params,m={service:p,version:A,data:n,eventName:t,eventType:i,additionalStatsLabels:o,value:s,values:c};if(void 0!==ne.sendingEventName)throw new b.a({message:"RecursiveStatsRequests",details:{service:p,version:A,eventType:i,eventName:t,sendingEventName:ne.sendingEventName}});ne.sendingEventName=t;try{const e=Object(d.b)(ae,a({[p]:A,[i]:t},o,h)),n=this.createFullStatsObject(m,u);this.sendData(e,r(n))}catch(v){ne.sendingEventName=void 0,this.params.onLogError(new b.a(v,{details:{service:p,version:A,eventType:i,eventName:t}}))}ne.sendingEventName=void 0}sendData(e,t){(function(e,t){return!!k&&window.navigator.sendBeacon(e,t)})(e,t)||Object(P.a)({url:e,data:t,method:"POST"})}createFullStatsObject(e,t){const{service:i,version:r,eventName:n,eventType:o,data:s,additionalStatsLabels:d,value:l}=e,c=ie(e),u=a({},this.labels,d,{version:this.params.version}),h=Object(N.a)(c),p=Object(C.a)(h),A=Object(N.a)(u),m={service:i,tags:p,labels:Object(C.a)(A)},{location:f,referrer:b}=Object(T.a)(document),g=_.a?Object(H.a)(window):void 0;return a({},t,re,this.rootFields,m,{timestamp:Date.now(),eventType:o,eventName:n,data:s,sid:this.params.sid,version:r,location:Object(E.a)(window),topLocation:f,topAncestor:y.b,isTopAncestorUndetermined:!y.a||void 0,ancestorOrigins:O,documentIsVisible:Object($.a)(document),referrer:window.document.referrer,topReferrer:b,currentScriptSrc:x.a,secureIFrame:I.a,isVideoADB:Object(w.a)(v.a),value:l,rnd:this.params.rnd,topDocumentFocus:Object(z.a)(),pcodeActiveTestIds:M.a.getActiveTestIds(),deviceOrientation:g})}}n(ne,"sendingEventName",void 0),i.d(t,"a",(function(){return ae})),i.d(t,"b",(function(){return oe})),i.d(t,"c",(function(){return se}));const ae="https://jstracer.yandex.ru/jstracer",oe=Object(d.e)(ae).hostname,se=new ne({service:"AdSDKJS",version:String(h.a),sid:c.a,rnd:u.a,onLogError:Object(m.a)(e=>{Object(o.a)(e),se.error({error:new p.a(e,{code:"STATS_LOG_ERROR",details:void 0})})})});void 0===l.a.flags.VAS_STABLE_VERSION&&se.error({error:new p.a({code:"NO_VAS_STABLE_VERSION_IN_AB_FLAGS",details:{WEBPACK_BUNDLE_NAME:A.c}})}),s.a.addErrorHandler(e=>{se.error({error:new p.a(e,{code:"DESTROYABLE_CALLBACK_ERROR",details:void 0})})})},function(e,t,i){"use strict";function r(e){const t=typeof e;return Boolean(e)&&("object"===t||"function"===t)}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";function r(e){var t;const i=(n.a||window).console;if(!o.a||void 0===i)return;const r="AdSDKJS["+s.c+"]:";null===(t=i.log)||void 0===t||t.call(i,r,e)}var n=i(25),a=i(100);Object(a.a)(window);i(101);var o=i(75),s=(i(157),i(26)),d=i(42);Object(d.a)({propertyName:"DEBUG_LOG_GLOBAL_CALLBACK_PROPERTY_NAME",win:window});i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));const r=(e,t,i)=>{const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=t.call(i,e[n],n,e);return r}},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));const r=(e,t,i)=>{for(let r=0;r<e.length;r++)t.call(i,e[r],r,e)}},function(e,t,i){"use strict";function r(e){return Object(n.a)(e)&&e.length>0}i.d(t,"a",(function(){return r}));var n=i(17)},function(e,t,i){"use strict";function r(){return Math.random()<d}i.d(t,"b",(function(){return s})),i.d(t,"e",(function(){return r})),i.d(t,"a",(function(){return c})),i.d(t,"c",(function(){return u})),i.d(t,"d",(function(){return h}));var n=i(107),a=i(36),o=i(75);const s=1,d=.001,l=o.a||a.a.isInternalNetwork||!1,c=l?s:.05,u=l?s:d,h=Object(n.a)(c)},function(e,t,i){"use strict";function r(){}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";function r(e){return"function"===typeof e||"Function"===Object(n.a)(e)}i.d(t,"a",(function(){return r}));var n=i(55)},function(e,t,i){"use strict";function r(e){let t=function(){let i;return t=()=>i,i=e.apply(this,arguments)};return function(){return t.apply(this,arguments)}}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i(13),n=i(123);class a extends r.a{constructor(e,t){void 0===t&&(t=(e,t)=>e===t),super(),this.checkToEqualFunction=t,this.value=e}getValue(){return this.value}subscribeValueCondition(e,t){return this.add(i=>{e(i)&&Object(n.a)(t,i)})}subscribeValueConditionOnce(e,t){const i=this.subscribeValueCondition(e,e=>{i(),Object(n.a)(t,e)});return i}dispatch(e){this.checkToEqualFunction(this.value,e)||(this.value=e,super.dispatch(e))}}},function(e,t,i){"use strict";function r(e){if("function"===typeof Object.keys)return Object.keys(e);{const t=[];for(const i in e)Object(n.a)(e,i)&&t.push(i);return t}}i.d(t,"a",(function(){return r}));var n=i(73)},function(e,t,i){"use strict";function r(e,t){e.forEach(e=>{Object(n.a)(e,t)})}var n=i(123);i.d(t,"a",(function(){return a}));class a{constructor(){this.on=[],this.once=[]}add(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.on.push(...t),()=>this.remove(...t)}addOne(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.once.push(...t),()=>this.remove(...t)}promise(){return new Promise(e=>this.addOne(e))}dispatch(e){const{once:t}=this;this.once=[],r(this.on,e),r(t,e)}removeAll(){this.on.length=0,this.once.length=0}remove(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.on=this.on.filter(e=>t.indexOf(e)<0),this.once=this.once.filter(e=>t.indexOf(e)<0)}}},function(e,t,i){"use strict";function r(e){let{element:t,eventName:i,listener:r,options:l,ignoreBubbling:c=!1}=e;const u=c?function(e){e.target===t&&r.call(this,e)}:r,h=function(e){let t=!1,i=!1,r=!1;return!0===e?t=!0:"object"===typeof e&&(t=Boolean(e.capture),i=Boolean(e.passive),r=Boolean(e.once)),{capture:t,passive:i,once:r}}(l),p=a.a?h:h.capture,A=h.once&&!a.b?function(e){m(),u.call(this,e)}:u,m=()=>{Object(n.b)(t,i,A,p)};try{Object(n.a)(t,i,A,p)}catch(v){const e=Object(s.a)(v)?v:new o.a({code:"ADD_EVENT_LISTENER_FUNCTION_CALL_ERROR",details:{error:v}});throw d.c.error({error:e}),e}return m}i.d(t,"a",(function(){return r}));var n=i(80),a=i(115),o=i(0),s=i(49),d=i(1)},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));const r=(e,t,i)=>{const r=[];for(let n=0;n<e.length;n++){const a=e[n];t.call(i,a,n,e)&&r.push(a)}return r}},function(e,t,i){"use strict";i(47);var r=i(99);const n=function(e,t){void 0===e&&(e=document);const i=e.currentScript;if(i)return i;{const i=e.getElementsByTagName("script"),r=[];for(let e=0;e<i.length;e++)r.push(i[e]);if("function"===typeof t){const e=r.filter(t);return e[e.length-1]}return r[r.length-1]}}();n&&n.src;i(39);var a=i(33),o=i(42);Object(o.a)({propertyName:"YANDEX_DESTROYABLE_GLOBAL_CALLBACK_PROPERTY_NAME",win:window});i.d(t,"a",(function(){return s}));class s{constructor(){this._isDestroyed=!1,this.destroyHandlers=[]}get destroyReason(){return this._destroyReason}get isDestroyed(){return this._isDestroyed}static addErrorHandler(e){s.errorHandlers.push(e)}onDestroy(e){this._addDestroyHandler(e)}addDestroyListener(e){this._addDestroyHandler(e)}addDestroyHandler(e){this._addDestroyHandler(e)}destroy(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const[n]=t;if(!this._isDestroyed){this._isDestroyed=!0,this._destroyReason=n;try{Object(r.a)(this.destroyHandlers,...t)}catch(a){Object(r.a)(s.errorHandlers,a)}this.destroyHandlers.length=0}}getIsDestroyed(){return this._isDestroyed}ignoreAfterDestroy(e){var t=this;let i=e;return function(){t.isDestroyed&&(i=a.a);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];i.apply(t,r)}}_addDestroyHandler(e){this._isDestroyed?e(this._destroyReason):this.destroyHandlers.push(e)}}s.errorHandlers=[]},function(e,t,i){"use strict";function r(e){return"string"===typeof e}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function n(e){A.a.href=e;let t=A.a.pathname||"";"/"!==t.charAt(0)&&(t="/"+t);const i=(A.a.search||"")+(A.a.hash||""),a=e.lastIndexOf(i),o=-1===a?e:e.slice(0,a);if(m.test(e)){const t=n(e.replace(m,"https:"));return A.a.href=e,r({},t,{originalPath:o,protocol:e.slice(0,e.indexOf(":")+1),href:A.a.href})}const s=A.a.protocol&&/^[a-z\-]+:/i.test(A.a.protocol)?A.a.protocol:"";return{originalPath:o,href:A.a.href,protocol:s,host:A.a.host,hostname:A.a.hostname,port:A.a.port,pathname:t,search:A.a.search,hash:A.a.hash}}function a(e,t){if(void 0===t&&(t=!1),t){const t=e.originalPath,i="/"===e.pathname&&"/"!==t[t.length-1];return e.originalPath+(i?"/":"")+e.search+e.hash}const i="443"===e.port||"80"===e.port?e.hostname:e.host;return e.protocol+"//"+i+e.pathname+e.search+e.hash}function o(e){const t={},i=e.replace(/^[?#]+/,"").replace(/#.*$/,"").split("&");for(let r=0;r<i.length;r++){const e=i[r].indexOf("=");let n,a;if(-1===e?(n=v(i[r]),a=""):(n=v(i[r].slice(0,e)),a=i[r].slice(e+1)),n){const e=Boolean(/(\[\])$/.exec(n));n=n.replace(/\[\]$/,""),e?void 0===t[n]?t[n]=[v(a)]:t[n]=[].concat(t[n],v(a)):t[n]=v(a)}}return t}function s(e){return o(n(e).search)}function d(e){const t=[];for(const i in e)if(e.hasOwnProperty(i)){const r=e[i];Object(u.a)(r)?t.push(f(i,r)):void 0!==r&&t.push(i+"="+encodeURIComponent(r))}return"?"+t.join("&")}function l(e,t,i){if(void 0===i)return e;const s=n(e),l=o(s.search);return l[t]=i,a(r({},s,{search:d(l)}))}function c(e,t,i){let{override:s=!0,saveOriginalPath:l=!1}=void 0===i?{}:i;const c=n(e),u=o(c.search);return Object(p.a)(t,(e,t)=>{(void 0===u[t]||s)&&(u[t]=e)}),a(r({},c,{search:d(u)}),l)}i.d(t,"e",(function(){return n})),i.d(t,"f",(function(){return a})),i.d(t,"d",(function(){return o})),i.d(t,"c",(function(){return s})),i.d(t,"a",(function(){return l})),i.d(t,"b",(function(){return c}));var u=i(40),h=i(130),p=i(44),A=i(38);Object(h.a)(e=>{return r({},n(e))});const m=/^(android-app:|chrome-extension:)/,v=e=>{try{return decodeURIComponent(e)}catch(t){return e}},f=(e,t)=>t.map(t=>e+"[]="+encodeURIComponent(t)).join("&")},function(e,t,i){"use strict";function r(e,t){return-1!==Object(n.a)(e,t)}i.d(t,"a",(function(){return r}));var n=i(135)},function(e,t,i){"use strict";i.d(t,"a",(function(){return r})),i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return a})),i.d(t,"d",(function(){return o}));const r=["a","n.ya","nd","ex.ru"].join(""),n=["y","a","nde","x.ru"].join(""),a=["ya","sta","tic.net"].join(""),o=[n,r,a]},function(e,t,i){"use strict";function r(e,t){var i,r=e[1]||"",n=e[3];if(!n)return r;if(t&&"function"===typeof btoa){var a=(i=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),o=n.sources.map((function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"}));return[r].concat(o).concat([a]).join("\n")}return[r].join("\n")}e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i=r(t,e);return t[2]?"@media "+t[2]+"{"+i+"}":i})).join("")},t.i=function(e,i){"string"===typeof e&&(e=[[null,e,""]]);for(var r={},n=0;n<this.length;n++){var a=this[n][0];null!=a&&(r[a]=!0)}for(n=0;n<e.length;n++){var o=e[n];null!=o[0]&&r[o[0]]||(i&&!o[2]?o[2]=i:i&&(o[2]="("+o[2]+") and ("+i+")"),t.push(o))}},t}},function(e,t,i){"use strict";i.d(t,"g",(function(){return o})),i.d(t,"k",(function(){return s})),i.d(t,"c",(function(){return d})),i.d(t,"d",(function(){return l})),i.d(t,"i",(function(){return c})),i.d(t,"j",(function(){return u})),i.d(t,"a",(function(){return h})),i.d(t,"b",(function(){return p})),i.d(t,"h",(function(){return A})),i.d(t,"e",(function(){return m})),i.d(t,"f",(function(){return v}));var r=i(61),n=i(87);const a=r.a?Object(n.b)(r.a):void 0;r.a&&Object(n.a)(r.a);const o=null===a||void 0===a?void 0:a.SID,s=null===a||void 0===a?void 0:a.VSID,d=null===a||void 0===a?void 0:a.ICOOKIE,l=null===a||void 0===a?void 0:a.LOADER_LOADED_FROM_AN_YANDEX_RU,c=null===a||void 0===a?void 0:a.TEST_IDS,u=null===a||void 0===a?void 0:a.VAS_UAAS_CONFIG,h=null===a||void 0===a?void 0:a.AB_FLAGS,p=null===a||void 0===a?void 0:a.AB_FLAGS_STORE,A=null===a||void 0===a?void 0:a.AdditionalStatsRootFields,m=null===a||void 0===a?void 0:a.VAS_USER_SESSION_RANDOM,v=null===a||void 0===a?void 0:a.RUM_WRAPPER},function(e,t,i){(t=e.exports=i(21)(!1)).push([e.i,"",""]),t.locals={AD_FONT:'YS Text, -apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", "Roboto", "Helvetica", "Arial", sans-serif'}},function(e,t,i){"use strict";function r(e){if(!e||!e.toString)return!1;const t=e.toString();return/\[native code\]/.test(t)||/\/\* source code not available \*\//.test(t)}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i(79);const{length:n}=r.a,a=n>0?r.a[n-1].ownerDocument.defaultView:window},function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){return a}));const r="",n="Multiroll",a=1633615456492},function(e,t,i){"use strict";function r(e){setTimeout(()=>{throw e},0)}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";function r(e,t){const i={UrlParams:()=>m[t],SessionStorage:()=>e.sessionStorage.getItem(t),LocalStorage:()=>e.localStorage.getItem(t),GlobalVariable:()=>{for(const n of Object(o.a)(e)){var i,r;const e=null===(i=n.Ya)||void 0===i?void 0:null===(r=i.hardcodedParams)||void 0===r?void 0:r[t];if(e)return String(e)}}};for(const[r,n]of Object(d.a)(i)){const e=Object(p.a)(n);if(Object(l.a)(e))return Object(A.a)("VAS WARNING! Hardcoded parameter=["+t+"] with value=["+e+"] found in ["+r+"]"),e}}function n(e,t,i){const n=r(e,t);return n?Number(n):function(e){const t=100*Object(u.a)();let i=0;for(let r=0;r<e.length;r++)if(t<(i+=e[r].percent))return e[r].id;return e[0].id}(i)}var a=i(67),o=i(85),s=i(131),d=i(43),l=i(6),c=i(18),u=i(59),h=i(68),p=i(51),A=i(60);i.d(t,"b",(function(){return r})),i.d(t,"a",(function(){return n}));const m={},v=Object(s.a)(document);for(const{location:f}of v){const e=Object(c.c)(f);Object(a.a)(e,(e,t)=>{0===h.b[t]&&(m[t]=e)})}},function(e,t,i){"use strict";function r(e){if(!e)return;const{parentElement:t}=e;t&&t.removeChild(e)}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var r=i(85),n=i(9),a=i(76),o=i(122);const s=function(e){if(void 0===e&&(e=window),o.a)return o.a;const t=Object(r.a)(e);for(;t.length;){const e=t.pop();if(!e)continue;const i=Object(a.a)(e,"ya.videoAd.encodeUrl");if(Object(n.a)(i))return i}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));const r=e=>{let t=0;return{promise:new Promise(i=>{t=window.setTimeout(i,e)}),clear(){clearTimeout(t)},timeoutId:t}}},function(e,t,i){"use strict";let r;i.d(t,"b",(function(){return r})),i.d(t,"a",(function(){return n}));try{r={build:434168,code:[{id:434168,percent:100}]}}catch(a){r={}}const n=r.build},function(e,t,i){"use strict";function r(){}i.d(t,"a",(function(){return r}))},function(e,t,i){(t=e.exports=i(21)(!1)).i(i(23),""),t.push([e.i,".croF6dfV7h{position:absolute;z-index:1;box-sizing:border-box;overflow:hidden;background-color:#fff;opacity:0;transition:opacity .1s ease-in,height .1s ease-in;pointer-events:none;will-change:opacity,height}.croF6dfV7h:not(.AobIZD2){visibility:hidden}.AobIZD2{opacity:1;pointer-events:auto}.croF6dfV7h:not(.Db6Z1g){top:36px;right:4px;width:240px;border-radius:16px;box-shadow:4px 4px 40px rgba(0,21,64,.22)}.Db6Z1g{top:0;right:0;bottom:0;left:0}.a6avHUq{box-sizing:border-box;padding:8px}.Db6Z1g .a6avHUq{height:100%;overflow:auto}.YDWQsgr{display:flex;align-items:center;height:36px}.u5tbgAjLAS{box-sizing:border-box;width:100%;height:112px;padding:8px 12px;color:#575c66;font-size:14px;font-family:"+i(23).locals.AD_FONT+";line-height:20px;background-color:#f4f6fb;border-color:transparent;border-radius:8px;outline:none;resize:none;pointer-events:auto}.u5tbgAjLAS:focus{border-color:#498bff}.gUmuR6lAyq{margin-top:8px;background-color:#498bff;border-radius:8px}.gUmuR6lAyq:hover{background-color:#2e71e5}.sD1JtCy0{justify-content:center;height:26px;color:#fff;font-weight:400;line-height:20px}.Zl9XdmCq6I{padding:8px;color:#3a3d40}.sD1JtCy0,.RKDf7GeaN,.Zl9XdmCq6I{font-size:15px}.RKDf7GeaN{color:#a3acbf;line-height:16px;word-break:break-word}.hk81WwRI .RKDf7GeaN,.J7m9 .RKDf7GeaN{padding:10px 8px}.a7W3mCHhn7 .RKDf7GeaN{margin-right:15px;margin-left:10px}.RKDf7GeaN,.Zl9XdmCq6I{font-weight:600;font-family:"+i(23).locals.AD_FONT+";line-height:16px}.zvltbC{display:flex;align-items:center;justify-content:center;width:28px;height:28px;margin-right:2px;margin-left:2px;border-radius:50%;cursor:pointer;transition:background-color .1s ease-in;pointer-events:auto}.zvltbC:hover{background-color:#f4f8ff}.Gsmbex0ZiT{display:flex;flex-direction:column}.tTXJybFJl8{max-height:70px;margin:8px;overflow-y:auto;color:#a3acbf;font-size:11px;font-family:"+i(23).locals.AD_FONT+";line-height:14px;white-space:pre-line}.Db6Z1g .tTXJybFJl8{margin-right:18px}",""]),t.locals={AD_FONT:""+i(23).locals.AD_FONT,AbuseDisplay:"croF6dfV7h",AbuseDisplay_visible:"AobIZD2",AbuseDisplay_fullSize:"Db6Z1g",AbuseDisplay__content:"a6avHUq",AbuseDisplay__customReasonDisplayHeader:"YDWQsgr",AbuseDisplay__customReasonDisplayTextarea:"u5tbgAjLAS",AbuseDisplay__customReasonDisplayButton:"gUmuR6lAyq",AbuseDisplay__customReasonDisplayButtonContent:"sD1JtCy0",AbuseDisplay__text:"Zl9XdmCq6I",AbuseDisplay__hint:"RKDf7GeaN",AbuseDisplay__complaintDisplay:"hk81WwRI",AbuseDisplay__hideDisplay:"J7m9",AbuseDisplay__customReasonDisplay:"a7W3mCHhn7",AbuseDisplay__arrowLeftIcon:"zvltbC",AbuseDisplay__messageBox:"Gsmbex0ZiT",AbuseDisplay__legal:"tTXJybFJl8"}},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));const r=function(e,t,i){let r=0;for(arguments.length<3&&(r=1,i=e[0]);r<e.length;r++)i=t(i,e[r],r,e);return i}},function(e,t,i){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}var n=i(10),a=(i(169),i(5)),o=i(40),s=i(74),d=i(12),l=i(2),c=i(17),u=i(114);const h=(e,t)=>{if(!Object(l.a)(t))throw new Error("Parsed replaced macro is not an object: "+e);if(function(e){if(void 0!==e){if(!Object(c.a)(e))throw new Error("testIdsString is not a string or undefined ["+e+"]");if(0===e.length)throw new Error("testIdsString string is empty");for(const t of e.split(";")){const i=t.split(",");if(3!==i.length)throw new Error("testIdParts length error ["+e+"]");const[r,,n]=i;if(0===r.trim().length)throw new Error("testId length error ["+e+"]");if(0===n.trim().length)throw new Error("testId bucket length error ["+e+"]")}}}(t.testIds),!("flags"in t)||!Object(l.a)(t.flags))throw new Error("Parsed replaced macro has no flags field: "+e);return!0},p=e=>{const t=function(e,t){if(null==e)return{};var i,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)i=a[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}(e,["expFlags"]),i={},n={};return Object(a.a)(e.expFlags,e=>{Object(a.a)(e,e=>{let{CONTEXT:{FLAGS:t},TESTID:r}=e;Object(l.a)(t)&&Object(a.a)(Object(d.a)(t),e=>{var a;const o=t[e];i[e]=o,n[e]=null!==(a=n[e])&&void 0!==a?a:[],n[e].push({value:o,testId:r[0]})})})}),r({flags:i,flagsMap:n},t)},A={testIds:"",flags:{}};const m=Object(n.a)(()=>{try{return null!==u.a&&void 0!==u.a?u.a:__UAAS_CFG__}catch(e){return e}}),v=e=>{if(Object(s.a)(e))return{error:e,config:A};try{const t=Object(l.a)(e)?e:JSON.parse(""+(e||"")),i=(e=>!!Object(l.a)(e)&&!!("expFlags"in e&&Object(o.a)(e.expFlags)))(t)?p(t):t;if(!h(String(e),i))throw new Error("UAAS config is not valid: "+e);return{error:void 0,config:i}}catch(t){return{error:t,config:A}}},f=Object(n.a)(()=>v(m()));var _=i(22);i.d(t,"a",(function(){return O})),i.d(t,"b",(function(){return y}));let b,g=_.j||A;try{const e=f();if(e.error)throw e.error;g=e.config}catch(T){b=T}const O=g,y=b},function(e,t,i){(t=e.exports=i(21)(!1)).push([e.i,"",""]),t.locals={NORMAL_BUTTON_HEIGHT:"32px",MIDDLE_BUTTON_HEIGHT:"40px",NORMAL_BUTTON_LEFT_RIGHT_MARGIN:"8px",MIDDLE_BUTTON_LEFT_RIGHT_MARGIN:"12px"}},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));const r=document.createElement("a")},function(e,t,i){"use strict";function r(e){let t="";for(let i=0;i<e;i++)t+=(16*Object(n.a)()|0).toString(16);return t}i.d(t,"a",(function(){return r}));var n=i(59)},function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var r=i(55),n=i(90);const a=Object(n.a)(Array,"isArray"),o=Boolean(a)?e=>a.call(Array,e):e=>"Array"===Object(r.a)(e)},function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var r=i(39),n=i(3),a=i(22);const o=a.g||Object(r.a)(64);Object(n.a)((a.g?"Use existing SID":"Generate new SID")+" ["+o+"]")},function(e,t,i){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}var n=i(126),a=i(33);const o=a.a,s=a.a;i.d(t,"a",(function(){return d}));const d=e=>{let{win:t,propertyName:i}=e;return{call:e=>Object(n.a)(r({win:t,propertyName:i},e)),subscribe:e=>s(r({win:t,propertyName:i},e)),wait:e=>(e=>{let{propertyName:t,win:i}=e;return new Promise(e=>{s({callback:function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return e(i)},propertyName:t,win:i})})})(r({win:t,propertyName:i},e)),waitUntil:e=>(e=>{let{propertyName:t,win:i,comparator:r}=e;return new Promise(e=>{s({propertyName:t,win:i,callback:function(){r(...arguments)&&e()}})})})(r({win:t,propertyName:i},e)),clear:e=>o(r({win:t,propertyName:i},e))}}},function(e,t,i){"use strict";function r(e){return"function"===typeof Object.entries?Object.entries(e):Object(n.a)(e).map(t=>[t,e[t]])}i.d(t,"a",(function(){return r}));var n=i(12)},function(e,t,i){"use strict";function r(e,t,i){for(const r in e)Object(n.a)(e,r)&&t.call(i,e[r],r,e)}i.d(t,"a",(function(){return r}));var n=i(73)},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i(24);const n=[].find,a=Object(r.a)(n)?(e,t)=>n.call(e,t):(e,t)=>{for(let i=0;i<e.length;i++){const r=e[i];if(t(r,i,e))return r}}},function(e,t,i){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}i.d(t,"a",(function(){return v}));var n=i(35),a=i(25),o=(i(2),i(17)),s=i(18),d=i(36),l=i(22),c=i(28);const u=d.a.flags;const h=Object(s.d)(location.search).adsdkabflags,p=Object(c.b)(a.a,"adsdkabflags"),A=null!==h&&void 0!==h?h:p,m=Object(o.a)(A)?Object(n.a)(A.split(","),(e,t)=>{const[i,n]=t.split("=");return r({},e,{[i]:n})},{}):{},v=r({},{},u,l.a,m)},function(e,t,i){"use strict";function r(e){return void 0===e&&(e=window),void 0===u&&(u=function(e){void 0===e&&(e=window);return e.JSON&&Object(c.a)(e.JSON.stringify)&&Object(c.a)(e.JSON.parse)}(e)?e.JSON:{stringify:p("stringify"),parse:p("parse")}),u}function n(e){return r().stringify(e,function(){const e=[],t=function(){const e="undefined"!==typeof WeakMap?new WeakMap:void 0,t=[];return{set:(i,r)=>{if(void 0!==e)try{e.set(i,r)}catch(n){t.push({path:r,value:i})}else t.push({path:r,value:i})},get:i=>{const r=Object(o.a)(t,e=>e.value===i);return void 0!==e&&void 0===r?e.get(i):r?r.path:void 0}}}();return(i,r)=>{if(Object(s.a)(r))return Object(m.a)(r.name)?r.name:"[Function]";if(!Object(A.a)(r))return r;const n=t.get(r);if(n)return"[Circular "+n+"]";for(;e.length>0&&e[e.length-1].value[i]!==r;)e.pop();const a=(e.length>0?e[e.length-1].path:"")+(i?"/"+i:"~");return e.push({path:a,value:r}),t.set(r,a),r}}())}var a=i(15),o=i(45),s=i(9),d=i(129),l=i(29),c=i(24);let u;const h=function(e){void 0===e&&(e=document.body);const t=function(e){const t=Object(d.a)(e);return t.width="0",t.height="0",t.style.position="absolute",t}(e);return{JSON:t.contentWindow.JSON,clean:()=>(function(e){e.src="",Object(l.a)(e)})(t)}},p=e=>t=>{const{JSON:i,clean:r}=h();try{return i[e](t)}finally{r()}};var A=i(2),m=i(17);const v={message:"DEFAULT_ERROR_MESSAGE",code:0,details:"",stack:"?:?:?",isFatal:!0};i.d(t,"a",(function(){return _}));const f=i(171);class _ extends Error{constructor(e,t){void 0===t&&(t={});const i="object"===typeof e?e:{message:String(e||v.message)};super(),f(this,_.prototype),this.message=t.message||i.message||v.message,this.code=t.code||i.code||i.id||v.code,this.isFatal=Boolean(function(e){const[t]=Object(a.a)(e,e=>void 0!==e);return t}([t.isFatal,i.isFatal,v.isFatal])),this.details=t.details||i.details||v.details;const r=t.stack||i.stack||function(e){const{url:t,line:i,col:r,fileName:n,columnNumber:a,lineNumber:o}=e;return(t||n||"?")+":"+(i||o||"?")+":"+(r||a||"?")}(i);let o=r===v.stack?this.stack:r;if(o&&o!==v.stack)this.stack=o;else if(!this.stack)try{throw new Error(this.message)}catch(s){this.stack=o=s.stack||v.stack}this.toString=()=>n(this.toJSON()),this.toJSON=()=>({message:this.message,code:this.code,isFatal:this.isFatal,details:this.details,stack:o})}}},function(e,t,i){"use strict";var r=i(12),n=i(2),a=i(6),o=i(51);i.d(t,"b",(function(){return l})),i.d(t,"a",(function(){return c}));const{rootFields:s,extractionError:d}=(e=>{let t,i;return{rootFields:t=Object(o.a)(()=>(e=>{var t,i;const o=null===e||void 0===e?void 0:null===(t=e.ya)||void 0===t?void 0:null===(i=t.videoAd)||void 0===i?void 0:i.statsRootParams;if(Object(n.a)(o)){const e={},{vsid:t,contentPlayerVersion:i,pcodeVersion:n,widgetVersion:s}=o;if(Object(a.a)(t)&&(e.vsid=t),Object(a.a)(i)&&(e.contentPlayerVersion=i),Object(a.a)(n)&&(e.pcodeVersion=n),Object(a.a)(s)&&(e.widgetVersion=s),Object(r.a)(e).length>0)return e}})(e),e=>{i=e})||void 0,extractionError:i}})(window),l=s,c=d},function(e,t,i){"use strict";function r(e){return Object(n.a)(e)&&Boolean(e.code)}i.d(t,"a",(function(){return r}));var n=i(88)},function(e,t,i){(t=e.exports=i(21)(!1)).push([e.i,".obfkCv1Ha{border-radius:16px;cursor:pointer;transition:background-color .1s ease-in;will-change:background-color}.obfkCv1Ha:not(.WrgynP),.WrgynP{background-color:rgba(35,37,38,.1)}.obfkCv1Ha:not(.WrgynP):hover,.WrgynP:hover{background-color:rgba(35,37,38,.4)}.GxCl4HiWF{transform:translate(12px,12px);will-change:transform}.pbi{transform:rotate(45deg);opacity:0}.EY7w3XyPC,.pbi{transition:transform .1s ease-in,opacity .1s ease-in;will-change:transform,opacity}.WrgynP .EY7w3XyPC{opacity:0}.WrgynP .pbi{opacity:1}.WrgynP .vucAh5{transform:translateY(6px)}.WrgynP .yMek8JK{transform:translateY(-6px)}.WrgynP .jTwdBqmM{transform:rotate(0deg)}.WrgynP .N9wDTyfiUF{transform:rotate(90deg)}",""]),t.locals={AbuseAnimationIcon:"obfkCv1Ha",AbuseAnimationIcon_cross:"WrgynP",AbuseAnimationIcon__lines:"GxCl4HiWF",AbuseAnimationIcon__line:"pbi",AbuseAnimationIcon__dot:"EY7w3XyPC",AbuseAnimationIcon__dot_top:"vucAh5",AbuseAnimationIcon__dot_bottom:"yMek8JK",AbuseAnimationIcon__line_left:"jTwdBqmM",AbuseAnimationIcon__line_right:"N9wDTyfiUF"}},function(e,t,i){"use strict";function r(e,t){try{return e()}catch(i){"function"===typeof t&&t(i)}}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";function r(e){let t=function(){let i;return t=()=>i,i=e.apply(this,arguments)};return function(){return t.apply(this,arguments)}}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";function r(e){const t={};return e.forEach(e=>{let[i,r]=e;t[i]=r}),t}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";function r(e,t){return function(){try{e(...arguments)}catch(i){h.c.error({error:new c.a(i,{code:t})}),Object(v.a)(i)}}}function n(e,t,i){var r,n,a,o,s,d,l;const c=null===(r=i.ya)||void 0===r?void 0:null===(n=r.videoAd)||void 0===n?void 0:null===(a=n.loadedModules)||void 0===a?void 0:a[e];return c||(void 0!==t?null===(o=i.ya)||void 0===o?void 0:null===(s=o.videoAd)||void 0===s?void 0:null===(d=s.modules)||void 0===d?void 0:null===(l=d[t])||void 0===l?void 0:l[e]:void 0)}function a(e){let{moduleName:t,version:i=d.a,onSuccess:a,onError:v,win:f,timeout:_}=e,b="loading";const O=Date.now(),T=Object(m.a)(r(e=>{b="success";const r=Date.now()-O;h.c.values({name:"ModuleLoaded",labels:{bundleName:t},data:{loaderVersion:l.a,bundleVersion:i},values:{timeSpent:r}}),a(e)},"LOAD_MODULE_CALLBACK_ERROR")),E=Object(m.a)(r(e=>{b="error",h.c.error({error:e}),v(e)},"LOAD_MODULE_CALLBACK_ERROR")),S=n(t,i,f);if(S)return T(S),A.a;const w=I({version:i,bundleName:t,win:f,ecmaVersion:g}),{promise:P,teardown:C}=N({src:w,win:f}),{promise:D,clear:R}=Object(o.a)(_),k=Object(p.a)({element:f,eventName:"unload",listener:()=>{E(new c.a({code:"LOAD_MODULE_REJECTED_BY_WINDOW_UNLOAD",details:{moduleName:t,version:i,timeout:_}}))}}),V=()=>{k(),R()};return D.then(()=>{E(new c.a({code:"LOAD_MODULE_TIMEOUT",details:{moduleName:t,version:i,timeout:_}}))}),P.then(()=>{V();const e=n(t,i,f),r=y(t);e?(u.a&&s.a.logTimingAndLoadRum(r,w),T(e)):E(new c.a({code:"CANNOT_INIT_MODULE",details:{moduleName:t,version:i}}))}).catch(e=>{V(),E(new c.a(e,{code:"CANNOT_LOAD_MODULE",details:{moduleName:t,version:i}}))}),()=>{V(),C(),"loading"===b&&h.c.event({name:"LoadModuleTeardownCalled",data:void 0})}}var o=i(31),s=i(109),d=i(108),l=i(32),c=i(0),u=i(142),h=i(1),p=i(14),A=i(8),m=i(10),v=i(27),f=i(134);const _=(e=>(e=>{try{if("noModule"in e.HTMLScriptElement.prototype)return!0}catch(t){}return!1})(e)&&Object(f.a)(e))(window);var b=i(120);const g=(()=>"ES2017"===b.a?"ES2017":"ES5"===b.a?"ES5":_?"ES2017":"ES5")();var O=i(143);const y=e=>O.b[e]+".bundle.js";var T=i(30),E=i(9),S=i(144),w=i(112);const I=e=>{let{bundleName:t,win:i,ecmaVersion:r,version:n}=e;const a=S.a[r],o=Object(T.a)(i),s=y(t),d=""+Object(w.a)(n)+a+"/"+s;return Object(E.a)(o)?o(d):d};var P=i(113),C=i(121);const D=e=>{var t;(e=>{e.crossOrigin="anonymous"})(e),null===(t=C.a.onBeforeLoad)||void 0===t||t.call(C.a,e)},N=e=>{let{src:t,win:i}=e;return Object(P.a)({src:t,onBeforeLoad:D,win:i})};i.d(t,"a",(function(){return R})),i.d(t,"b",(function(){return a}));const R=3e4},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));const r={}.toString,n=/\[object (\w+)\]/,a=e=>{const t=r.call(e);if(!t)return null;const i=t.match(n);if(!i)return null;const a=i[1];return a||null}},function(e,t,i){"use strict";function r(e){void 0===e&&(e=window);try{return(e.navigator||{}).userAgent||""}catch(t){return""}}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";function r(e){if(!e)return[];const t=[];for(let i=0;i<e.length;i++)t.push(e[i]);return t}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i(111),n=i(22);const a=null!==n.b&&void 0!==n.b?n.b:r.a},function(e,t,i){"use strict";var r=i(24);const n=!Object(r.a)(Math.random)||Math.random()===Math.random();var a=i(119),o=i(9);const s="undefined"===typeof window?void 0:window.performance,d=s&&Object(o.a)(s.now),l=s&&s.timing&&s.timing.navigationStart?s.timing.navigationStart:Object(a.a)();let c=0;const u=d?()=>s.now():()=>(()=>{const e=Object(a.a)()-l;return c=Math.max(e,c)})(),h=2147483647,p=16807;let A=Date.now()*u()%h;const m=h-1;i.d(t,"a",(function(){return v}));const v=n?function(){return((A=A*p%h)-1)/m}:function(){return Math.random()}},function(e,t,i){"use strict";function r(e){Object(a.a)(console)&&Object(n.a)(console.warn)&&console.warn(e)}i.d(t,"a",(function(){return r}));var n=i(9),a=i(2)},function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var r=i(45),n=i(57),a=i(87);let o=document.currentScript;if(!o){const e=Object(n.a)(document.getElementsByTagName("script"));(o=Object(r.a)(e,a.c))||(o=e[e.length-1])}const s=o},function(e,t,i){(t=e.exports=i(21)(!1)).i(i(37),""),t.push([e.i,".aR7,.GlCjzpMRj,.BFzw2ImP9{position:static}.KnR,.seJOnRIs{display:flex;align-items:center;justify-content:center}.seJOnRIs{width:"+i(37).locals.NORMAL_BUTTON_HEIGHT+";height:"+i(37).locals.NORMAL_BUTTON_HEIGHT+"}.X76{width:"+i(37).locals.MIDDLE_BUTTON_HEIGHT+";height:"+i(37).locals.MIDDLE_BUTTON_HEIGHT+"}.UZs00{width:29px;height:24px}.Dsc4{position:relative;bottom:1px;margin-right:"+i(37).locals.NORMAL_BUTTON_LEFT_RIGHT_MARGIN+"}.YUrgZc2LR6{white-space:nowrap;transform-origin:left center}.xiH1x4Hlll{margin-right:"+i(37).locals.MIDDLE_BUTTON_LEFT_RIGHT_MARGIN+"}",""]),t.locals={NORMAL_BUTTON_HEIGHT:""+i(37).locals.NORMAL_BUTTON_HEIGHT,MIDDLE_BUTTON_HEIGHT:""+i(37).locals.MIDDLE_BUTTON_HEIGHT,NORMAL_BUTTON_LEFT_RIGHT_MARGIN:""+i(37).locals.NORMAL_BUTTON_LEFT_RIGHT_MARGIN,MIDDLE_BUTTON_LEFT_RIGHT_MARGIN:""+i(37).locals.MIDDLE_BUTTON_LEFT_RIGHT_MARGIN,MuteButton:"aR7",UnmuteButton:"GlCjzpMRj",VolumeButton:"BFzw2ImP9",VolumeButton__content:"KnR",VolumeButton__iconContainer:"seJOnRIs",VolumeButton__iconContainer_middle:"X76",VolumeButton__icon:"UZs00",UnmuteButton__text:"Dsc4",UnmuteButton__text_animation:"YUrgZc2LR6",UnmuteButton__text_middle:"xiH1x4Hlll"}},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var r=i(30);const n=Object(r.a)(window)},function(e,t,i){"use strict";function r(e){return function(e){return Boolean(e.PointerEvent)}(e)&&function(e){const t=e.navigator||{},{msMaxTouchPoints:i,maxTouchPoints:r}=t;return i||r||0}(e)>0&&!d(e)}function n(e,t){if(!Object(c.a)(e.matchMedia))return!1;const i=e.matchMedia(t);return Object(u.a)(i)&&Boolean(i.matches)}function a(e){return void 0===e&&(e=window),r(e)||function(e){return n(e,p)}(e)||function(e){return n(e,A)}(e)||function(e){const{DocumentTouch:t}=e;return Boolean(t)&&e.document instanceof t}(e)||Object(o.a)(e)}var o=i(127),s=i(71);const d=function(e){return void 0===e&&(e=window),Object(s.a)(e)>11};var l=i(4),c=i(9),u=i(2),h=i(86);const p=Object(l.a)(h.a,e=>"("+e+"any-pointer:coarse)").join(","),A=Object(l.a)(h.a,e=>"("+e+"touch-enabled)").join(",");var m=i(98),v=i(56);const f=function(e){void 0===e&&(e=window);const t=Object(v.a)(e).toLowerCase();if(t.indexOf("android")>-1)return!1;const i=t.replace(/\(.+?\)/gi,"").split(" ").map(e=>e.trim().split("/")[0]).filter(e=>e&&"mobile"!==e);return 4===i.length&&"mozilla"===i[0]&&"applewebkit"===i[1]&&"version"===i[2]&&"safari"===i[3]};i.d(t,"a",(function(){return _}));const _=(void 0===b&&(b=window),f(b)||Object(m.a)(b)||function(e){return void 0===e&&(e=window),/Apple/.test(e.navigator.vendor)&&a(e)}(b));var b},function(e,t,i){"use strict";function r(e){const{src:t,win:i,onBeforeLoad:r=s.a}=e,d=new n.a({});let l=s.a;return{promise:new Promise((e,s)=>{const c=i.document.createElement("script");let u=!1;l=()=>{u=!0,Object(a.a)(c)};c.type="text/javascript",c.async=!0,c.onload=()=>{u||e()},c.onerror=e=>{u||(s(new n.a(d,{message:"Failed to load script ["+t+"]",details:{src:t,isSelfWindow:i===window,event:e}})),l())},c.src=t,c.charset=o,r(c),function(e){const t=e.document;let i=t.getElementsByTagName("head")[0];return i||(i=t.createElement("head"),t.documentElement.appendChild(i)),i}(i).appendChild(c)}),teardown:l}}var n=i(47),a=i(29);const o="utf-8";var s=i(8);i.d(t,"a",(function(){return r}))},function(e,t,i){(t=e.exports=i(21)(!1)).push([e.i,"",""]),t.locals={AD_FONT_WEIGHT:"500"}},function(e,t,i){"use strict";var r=i(44);i.d(t,"a",(function(){return r.a}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return a}));var r=i(12);const n="aim-banner-id",a={adsdkver:0,adsdkdebug:0,adsdknovastconvertation:0,adsdkmotionoldanimation:0,adsdkecmaver:0,adsdktracelogs:0,adsdksecuremode:0,adsdkwithcredentials:0,adsdkthemeemptyactionbutton:0,adsdkabflags:0,adsdkuaas:0,[n]:0};Object(r.a)(a)},function(e,t,i){"use strict";var r=i(4),n=i(79);i.d(t,"a",(function(){return a}));const a=function(){const e=Object(r.a)(n.a,e=>e.ownerDocument),{length:t}=e,i=(t?e[t-1]:document).defaultView;return!!i&&i.self!==i.parent}()},function(e,t,i){(t=e.exports=i(21)(!1)).push([e.i,".xr4M{position:absolute;bottom:60px;left:0;display:flex;flex-direction:row;box-sizing:border-box;width:100%}.hTXHl2 .xr4M{top:50%;bottom:auto;transform:translateY(-50%)}.qiyd5Q7Dt .xr4M{top:50%;bottom:auto;flex-direction:row-reverse;transform:translateY(-50%)}.tOmi5C .xr4M{flex-direction:row-reverse}.cTbHdjnX{position:relative;display:flex;flex:1 1;align-items:center;padding:0 5%}.RhOFjnGf{position:relative;flex:0 0 auto;padding:0 .5em;pointer-events:auto}.w6YJzx{position:absolute;top:50%;left:50%;z-index:0;overflow:hidden;transform:translateY(-50%) translateX(-50%)}",""]),t.locals={OldActionButton__body:"xr4M",OldActionButton__bannerPosition_right_center:"hTXHl2",OldActionButton__bannerPosition_left_center:"qiyd5Q7Dt",OldActionButton__bannerPosition_left_bottom:"tOmi5C",OldActionButton__context:"cTbHdjnX",OldActionButton__buttonContainer:"RhOFjnGf",OldActionButton__wrapper:"w6YJzx"}},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));const r=i(170),n=function(e){void 0===e&&(e=window);const t=r(e);return"boolean"===typeof t?-1:t}},function(e,t,i){"use strict";function r(e){if(e&&e.location){const{location:t}=e;return"function"===typeof t.toString?t.toString():t.href||""}return""}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var r=i(55);const n=e=>e instanceof Error||"Error"===Object(r.a)(e)},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var r=i(132);const n=Boolean(r.a)},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var r=i(2);const n=(e,t)=>{for(const i of t.split(".")){if(!Object(r.a)(e)){e=void 0;break}e=e[i]}return e}},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));const r=["aw","ap","s-a","d-sd","k-j","s"].join("")},function(e,t,i){"use strict";var r=i(46),n=i(140),a=i(58),o=i(104),s=i(18),d=i(141),l=i(101),c=i(20),u=i(22);const h=l.a?Object(s.e)(l.a).hostname:void 0,p=d.a&&h===c.a||u.d;var A=i(105),m=i(36),v=i(109),f=i(41),_=i(102),b=i(149);i.d(t,"a",(function(){return g}));const g={SID:f.a,VSID:b.a,VAS_USER_SESSION_RANDOM:_.a,AB_FLAGS:r.a,AB_FLAGS_STORE:a.a,ICOOKIE:o.a,TEST_IDS:A.a,VAS_UAAS_CONFIG:m.a,AdditionalStatsRootFields:n.a,RUM_WRAPPER:v.a,LOADER_LOADED_FROM_AN_YANDEX_RU:p}},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var r=i(97);const n=Object(r.a)(document.documentElement)},function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return a}));var r=i(90);let n=function(e,t,i){e.attachEvent("on"+t,i)},a=function(e,t,i){e.detachEvent("on"+t,i)};Object(r.a)(document,"addEventListener")&&Object(r.a)(document,"removeEventListener")&&(n=function(e,t,i,n){const a=e&&Object(r.a)(e,"addEventListener");a&&a.call(e,t,i,n)},a=function(e,t,i,n){const a=e&&Object(r.a)(e,"removeEventListener");a&&a.call(e,t,i,n)})},function(e,t,i){"use strict";var r=i(25),n=i(100),a=i(103),o=i(69),s=i(18),d=i(148);i.d(t,"b",(function(){return u})),i.d(t,"a",(function(){return h}));const{topAncestor:l,isTrusted:c}=function(e){void 0===e&&(e=window);const t=Object(d.a)(e);if(t.length>0)return{topAncestor:t[t.length-1],isTrusted:!0};const{location:i,referrer:l}=Object(a.a)(e.document),c=o.a?l:i,u=!o.a||Object(n.a)(r.a).length<2,{protocol:h,hostname:p,host:A,port:m}=Object(s.e)(c);return{topAncestor:Object(s.f)({protocol:h,hostname:p,host:A,port:m,originalPath:"",href:"",pathname:"",search:"",hash:""}),isTrusted:u}}(),u=l,h=c},function(e,t,i){(t=e.exports=i(21)(!1)).i(i(23),""),t.push([e.i,".Gu8smbJ{position:relative}.Du2U4yQ1V{cursor:pointer}.nZQM{position:absolute;top:0;left:0;display:flex;align-items:center;justify-content:center;width:100%;height:100%}.Pr3Gz2BdP5{position:absolute;top:0;left:0}.zBKcG9NcF{position:absolute;bottom:10px;display:flex;justify-content:center;width:100%;color:#fff;font-family:"+i(23).locals.AD_FONT+"}.ucbVruwlQF{position:absolute;bottom:0;width:100%;height:2px}",""]),t.locals={AD_FONT:""+i(23).locals.AD_FONT,PackshotScreen:"Gu8smbJ",PackshotScreen_clickable:"Du2U4yQ1V",PackshotScreen__buttonWrapper:"nZQM",PackshotScreen__packshotOverlayWrapper:"Pr3Gz2BdP5",PackshotScreen__textBlock:"zBKcG9NcF",PackshotScreen__timelineBarWrapper:"ucbVruwlQF"}},function(e,t,i){(t=e.exports=i(21)(!1)).i(i(23),""),t.push([e.i,".Gv3oyhxlOF{font-family:"+i(23).locals.AD_FONT+"}.iHI7{position:relative;min-width:42px;height:100%}.VLeR{position:relative;display:flex;align-items:stretch;box-sizing:border-box;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;height:100%;padding:0 10px;overflow:hidden;background-color:rgba(38,38,38,.65);border-radius:4px;cursor:pointer;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);pointer-events:auto}.RrwfaaDv{position:absolute;top:50%;left:10px;display:flex;align-items:center;justify-content:center;width:32px;min-width:32px;height:32px;border-radius:16px;transform:translateY(-50%)}.PGzhRz{display:flex;flex-wrap:nowrap;align-items:center;margin-left:40px;overflow:hidden}.bkFKwsv{margin-left:10px}.RrwfaaDv img{border-radius:2px}",""]),t.locals={AD_FONT:""+i(23).locals.AD_FONT,YoutubeLikeActionButton:"Gv3oyhxlOF",YoutubeLikeActionButton__content:"iHI7",YoutubeLikeActionButton__mask:"VLeR",YoutubeLikeActionButton__favicon:"RrwfaaDv",YoutubeLikeActionButton__wrapper:"PGzhRz",YoutubeLikeActionButton__wrapper_wide:"bkFKwsv"}},function(e,t,i){(t=e.exports=i(21)(!1)).push([e.i,".y7TSj{position:static;margin-left:auto}.q0PU7JB{position:relative;margin-left:4px}.jES{position:relative;bottom:1px;display:flex;align-items:center;margin-left:8px}.WXgH{position:relative;justify-content:center;width:35px;text-align:center}.Z8QE{display:flex}.Z8QE>span:first-child{width:16px;text-align:right}.DBKMlr0{position:relative;top:0;width:19px;height:13px}",""]),t.locals={SkipButtonWithText:"y7TSj",SkipButtonWithText__text:"q0PU7JB",SkipButtonWithText__content:"jES",SkipButtonWithText__timeToSkipString:"WXgH",SkipButtonWithText__digitsContainer:"Z8QE",SkipButtonWithText__icon:"DBKMlr0"}},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var r=i(72);const n=e=>{const t=[];for(;e;)try{if(Object(r.a)(e),t.push(e),e.parent===e)break;e=e.parent}catch(i){break}return t}},function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"a",(function(){return n}));const r=["","webkit","moz","o","ms"],n=["","-webkit-","-ms-","-moz-","-o-"]},function(e,t,i){"use strict";i.d(t,"c",(function(){return n})),i.d(t,"d",(function(){return a})),i.d(t,"b",(function(){return o})),i.d(t,"a",(function(){return s}));var r=i(2);const n=e=>Object(r.a)(e.__AD_SDK_SCRIPT_SESSION_PARAMETERS__),a=(e,t)=>{e.__AD_SDK_SCRIPT_SESSION_PARAMETERS__=t},o=e=>e.__AD_SDK_SCRIPT_SESSION_PARAMETERS__,s=e=>{delete e.__AD_SDK_SCRIPT_SESSION_PARAMETERS__}},function(e,t,i){"use strict";i.d(t,"a",(function(){return a})),i.d(t,"c",(function(){return o})),i.d(t,"b",(function(){return s}));var r=i(2),n=i(17);const a=e=>!!Object(r.a)(e)&&(!!Object(n.a)(e.name)&&!!Object(n.a)(e.message)),o=e=>({name:e.name,message:e.message,stack:e.stack}),s=e=>{const t=new Error;return t.name=e.name,t.message=e.message,t.stack=e.stack,t}},function(e,t,i){"use strict";function r(e,t,i){void 0===i&&(i=" ");const r=t-e.length;if(r>0){let t=i;for(;t.length<r;)t+=t;return(t.length>r?t.substr(0,r):t)+e}return e}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";function r(e,t){let i=e[t];if(!Object(n.a)(i)){const n=i;try{delete e[t];const r=e[t];"function"===typeof r&&(i=r),e[t]=n}catch(r){}}return i}i.d(t,"a",(function(){return r}));var n=i(24)},function(e,t,i){(t=e.exports=i(21)(!1)).push([e.i,".qM35Jq{width:100%;transform-origin:0;will-change:transform}.qM35Jq,.TzKus{position:absolute;height:2px}.PmJhr{background-color:#ff1a2d;transform:scaleX(0)}.RomfpM{background-color:#cdcdcd;transform:scaleX(1)}",""]),t.locals={TimelineBar:"qM35Jq",TimelineBar__container:"TzKus",TimelineBar__progress:"PmJhr",TimelineBar__background:"RomfpM"}},function(e,t,i){(t=e.exports=i(21)(!1)).i(i(23),""),t.push([e.i,".yx3jc{-ms-flex:1 1 0;flex:1 1 0;margin-right:8px;color:#fff;font-weight:700;font-size:1em;font-family:"+i(23).locals.AD_FONT+";line-height:1.3}.e1Nkk7zI{line-height:1.3;-webkit-line-clamp:2}.X6CGWeHuV .e1Nkk7zI{font-size:.9em}.bQU{position:fixed;white-space:nowrap;visibility:hidden}.absp{font-weight:400;font-size:.8em;white-space:-moz-pre-wrap;white-space:pre-wrap;white-space:-o-pre-wrap;word-break:break-all;-webkit-line-clamp:1}.absp,.e1Nkk7zI{display:-webkit-box;overflow:hidden;text-overflow:ellipsis;-webkit-box-orient:vertical}",""]),t.locals={AD_FONT:""+i(23).locals.AD_FONT,InfoBlock:"yx3jc",InfoBlock__title:"e1Nkk7zI",InfoBlock_multiline:"X6CGWeHuV",InfoBlock__titleSpy:"bQU",InfoBlock__greenUrl:"absp"}},function(e,t,i){(t=e.exports=i(21)(!1)).i(i(23),""),t.i(i(66),""),t.i(i(37),""),t.push([e.i,".BHSHZh00z{display:inline-block;color:#000;font-weight:"+i(66).locals.AD_FONT_WEIGHT+";font-size:16px;font-family:"+i(23).locals.AD_FONT+";cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ma5XWP4A{cursor:pointer}.xKl6qWUG{text-decoration:none}.ma5XWP4A .GcamW{opacity:.915}.ma5XWP4A:hover .GcamW{opacity:1}.mDjQpVpB{padding:4px;pointer-events:auto}.GcamW{display:flex;align-items:center;height:"+i(37).locals.NORMAL_BUTTON_HEIGHT+";opacity:.6}",""]),t.locals={AD_FONT:""+i(23).locals.AD_FONT,AD_FONT_WEIGHT:""+i(66).locals.AD_FONT_WEIGHT,NORMAL_BUTTON_HEIGHT:""+i(37).locals.NORMAL_BUTTON_HEIGHT,Button:"BHSHZh00z",Button_active:"ma5XWP4A",Button_link:"xKl6qWUG",Button__content:"GcamW",Button__clickable:"mDjQpVpB"}},function(e,t,i){(t=e.exports=i(21)(!1)).push([e.i,".Mjn{width:100%;color:#498bff;font-weight:400;border-radius:8px;transition:background-color .1s ease-in}.hBe{display:flex;align-items:center;margin-right:13px}.YIMgF{margin-left:auto}.Mjn:hover{background-color:#e5f2ff}.Mjn .mDjQpVpB{padding:0}.kzTrLm9{padding:8px}.QREg{height:auto;font-size:15px;line-height:16px}",""]),t.locals={AbuseOptionButton:"Mjn",AbuseOptionButton__leftIcon:"hBe",AbuseOptionButton__rightIcon:"YIMgF",Button__clickable:"mDjQpVpB",AbuseOptionButton__clickable:"kzTrLm9",AbuseOptionButton__content:"QREg"}},function(e,t,i){(t=e.exports=i(21)(!1)).i(i(37),""),t.push([e.i,".nyVWSUlka{font-size:18px}.nyVWSUlka .FMzQaWQ{height:"+i(37).locals.MIDDLE_BUTTON_HEIGHT+"}.MKeYH{color:#fff;text-shadow:0 2px 2px rgba(0,0,0,.1)}.MKeYH .JVrkV7{position:relative;background-color:rgba(38,38,38,.3);border-radius:4px;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px)}.MKeYH.Mvp9:hover .JVrkV7{background-color:rgba(0,0,0,.65)}.Mvp9 .GcamW{opacity:1}.Mvp9 .JVrkV7{background-color:rgba(38,38,38,.65)}",""]),t.locals={MIDDLE_BUTTON_HEIGHT:""+i(37).locals.MIDDLE_BUTTON_HEIGHT,SquareButton_middle:"nyVWSUlka",SquareButton__basecontent:"FMzQaWQ",SquareButton:"MKeYH",SquareButton__basebutton:"JVrkV7",SquareButton_active:"Mvp9",Button__content:"GcamW"}},function(e,t,i){(t=e.exports=i(21)(!1)).i(i(37),""),t.push([e.i,".vK9{cursor:pointer}.xpsPv{font-size:18px}.xpsPv .tu5zE{height:"+i(37).locals.MIDDLE_BUTTON_HEIGHT+"}.IuGwn{width:60px;height:60px}.qkhs{width:80px;height:80px}",""]),t.locals={MIDDLE_BUTTON_HEIGHT:""+i(37).locals.MIDDLE_BUTTON_HEIGHT,CirclePlayButton:"vK9",CirclePlayButton_middle:"xpsPv",CirclePlayButton__basecontent:"tu5zE",CirclePlayButton__icon:"IuGwn",CirclePlayButton__icon_middle:"qkhs"}},function(e,t,i){"use strict";function r(e,t){if(void 0===t&&(t=!0),n.a&&t)return[];{const t=[];let r=e;for(;;)try{if(!(r=r.ownerDocument.defaultView.frameElement))return t;t.push(r)}catch(i){return t}}}i.d(t,"a",(function(){return r}));var n=i(64)},function(e,t,i){"use strict";function r(e){void 0===e&&(e=window);const t=e.navigator.userAgent.toLowerCase();return/ipad|iphone|ipod/.test(t)&&!e.MSStream&&!Object(n.a)(e)}i.d(t,"a",(function(){return r}));var n=i(128)},function(e,t,i){"use strict";function r(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];Object(n.a)(e)&&e.forEach(e=>{"function"===typeof e&&e(...i)})}i.d(t,"a",(function(){return r}));var n=i(40)},function(e,t,i){"use strict";function r(e){let t=e;const i=[e],{top:r}=e;for(;t!==r;)t=t.parent,i.push(t);return i}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var r=i(61);const n=r.a?r.a.src:""},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i(59),n=i(22);const a=null!==n.e&&void 0!==n.e?n.e:Object(r.a)()},function(e,t,i){"use strict";function r(e){let t="",i="";if(e){Object(n.a)(e).reverse().forEach(e=>{let{location:r,referrer:n}=e;t=t||r,i=i||n})}return{location:t,referrer:i}}i.d(t,"a",(function(){return r}));var n=i(131)},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i(22),n=i(36);const a=r.c||n.a.iCookie},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i(22),n=i(36);const a=r.i||(null===n.a||void 0===n.a?void 0:n.a.testIds)||void 0},function(e,t,i){"use strict";function r(e,t){void 0===t&&(t=!0);const i=Object(n.a)(e);return i?!e[i]:t}i.d(t,"a",(function(){return r}));var n=i(139)},function(e,t,i){"use strict";function r(e){return n.a<e}i.d(t,"a",(function(){return r}));var n=i(102)},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i(28),n=i(32);const a=Object(r.a)(window,"adsdkver",n.b.code)},function(e,t,i){"use strict";function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var n=i(19),a=i(110),o=i(59),s=i(11);const d="production";var l=i(32),c=i(1),u=i(8),h=i(3);const p={idle:["initializing"],initializing:["initialized","disabled"]};var A=i(22);i.d(t,"a",(function(){return m}));const m=null!==A.f&&void 0!==A.f?A.f:new class{constructor(e){r(this,"state",new s.a({name:"idle"},(e,t)=>{const i=p[e.name];return!i||!Object(n.a)(i,t.name)||(Object(h.a)("RumWrapperClass: change state from ["+e.name+"] to ["+t.name+"]"),!1)})),r(this,"config",void 0),this.config=e,this.state.subscribeValueCondition(e=>"initializing"===e.name,()=>this.loadRum()),this.state.subscribeValueCondition(e=>"disabled"===e.name,()=>c.c.event({name:"RumIsDisabled",data:void 0}))}init(){this.state.dispatch({name:"initializing"})}logBundleTiming(e,t){const i=this.state.getValue();"disabled"!==i.name&&("initialized"===i.name?this.sendResTiming({name:e,src:t,state:i}):this.state.subscribeValueCondition(e=>"initialized"===e.name,i=>{this.sendResTiming({name:e,src:t,state:i})}))}logTimingAndLoadRum(e,t){"idle"===this.state.getValue().name&&this.init(),this.logBundleTiming(e,t)}isLoading(){return"initializing"===this.state.getValue().name}isLoaded(){return"initialized"===this.state.getValue().name}loadRum(){var e;let t=null===(e=this.config)||void 0===e?void 0:e.loadModule;t||(t=i(172).loadRumModule),t().then(e=>{this.initLoadedRum(e),e.isRumInited()?this.state.dispatch({name:"initialized",rum:e}):this.state.dispatch({name:"disabled"})}).catch(u.a)}initLoadedRum(e){const t={clck:"https://yandex.ru/clck/click",reqid:Date.now()+":adsdk:"+Object(o.a)(),scrollLatencyMetric:!0,sendAutoElementTiming:!0,isDevMode:!1},i=a.a?"touch":"desktop",r={rum_id:"ru.adsdk."+i,"-project":"adsdk","-page":window.location.host,"-version":l.a,"-platform":i,"-env":d,"-url":window.location.href,"-domain":window.location.host,"-blocker":void 0};e.init(t,r)}sendResTiming(e){let{state:t,name:i,src:r}=e;t.rum.sendResTiming(i,r)}}},function(e,t,i){"use strict";var r=i(127);i.d(t,"a",(function(){return n}));const n=(void 0===a&&(a=window),Object(r.a)(a));var a},function(e,t,i){"use strict";function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i(25);var n=i(36),a=i(46),o=i(45),s=i(5),d=i(19);i.d(t,"a",(function(){return l}));const l=new class{constructor(e,t){r(this,"vasUaasConfig",void 0),r(this,"abFlags",void 0),r(this,"initialAbFlags",void 0),r(this,"activeTestIds",[]),r(this,"getFlagValueAndActivateTestId",e=>{const t=this.abFlags[e],i=this.vasUaasConfig.flagsMap,r=this.vasUaasConfig.testIds;return r&&i&&i[e]&&Object(s.a)(i[e],e=>{let{value:i,testId:n}=e;if(i===t){const e=Object(o.a)(r.split(";"),e=>0===e.indexOf(n));e&&!Object(d.a)(this.activeTestIds,e)&&this.activeTestIds.push(e)}}),t}),r(this,"getActiveTestIds",()=>this.activeTestIds),r(this,"__setAbFlags",e=>{this.abFlags=e}),r(this,"__restoreAbFlags",()=>{this.abFlags=this.initialAbFlags}),this.vasUaasConfig=e,this.abFlags=t,this.initialAbFlags=t}}(n.a,a.a);l.getFlagValueAndActivateTestId("ADSDKVER")},function(e,t,i){"use strict";function r(e){return n.b||function(e){return a.a+"1.0-"+e+"/"}(e)}var n=i(26),a=i(145);i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";function r(e,t){void 0===t&&(t=window);const{hostname:i}=Object(s.e)(e),r=Object(o.a)(t);return r?-1===d.d.indexOf(i)?e:r(e):e}function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function a(e){const{src:t,win:i}=e;return Object(l.a)(n({},c.a,e,{src:r(t,i)}))}i(25),i(9);var o=i(30),s=i(18),d=i(20),l=i(65),c=i(121);i.d(t,"a",(function(){return a}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var r=i(28);const n=Object(r.b)(window,"adsdkuaas")},function(e,t,i){"use strict";var r=i(33),n=i(80);i.d(t,"b",(function(){return a})),i.d(t,"a",(function(){return s}));let a=!1,o=!1,s=!1;try{if(function(e){void 0===e&&(e=window);const t=e.Object;try{const e={};return t.defineProperty(e,"sentinel",{}),"sentinel"in e}catch(i){return!1}}()){const e=document.createElement("div"),t={};Object.defineProperty(t,"once",{get:()=>a=!0}),Object.defineProperty(t,"passive",{get:()=>o=!0}),Object.defineProperty(t,"capture",{get:()=>s=!0}),Object(n.a)(e,"click",r.a,t)}}catch(d){}},function(e,t,i){(t=e.exports=i(21)(!1)).push([e.i,".yJjKgz{position:static;margin-left:auto}.n1fKIm8WMI{display:flex;align-items:center;justify-content:center;width:32px;height:32px}.xzJvy{opacity:.5;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.dGNRw3DPGc{width:17px}",""]),t.locals={SkipButtonSmall:"yJjKgz",SkipButtonSmall__content:"n1fKIm8WMI",SkipButtonSmall__disabled:"xzJvy",SkipButtonSmall__timeToSkipString__icon:"dGNRw3DPGc"}},function(e,t,i){(t=e.exports=i(21)(!1)).push([e.i,".BNLuuFZOWl{position:absolute;right:0;bottom:0;left:0;display:flex;flex-flow:column nowrap}.QT7{display:flex;align-items:flex-end;margin:2px 6px 16px}.l41gkoT{}.LhJ{margin-bottom:10px}",""]),t.locals={BottomControls__container:"BNLuuFZOWl",ButtonControls:"QT7",DisclaimerContainer:"l41gkoT",ButtonControls_OnDisclaimers:"LhJ"}},function(e,t,i){(t=e.exports=i(21)(!1)).i(i(23),""),t.i(i(66),""),t.i(i(155),""),t.i(i(156),""),t.push([e.i,".sin{position:absolute;top:2px;left:6px;display:inline-block;padding:4px;color:#fff;font-weight:"+i(66).locals.AD_FONT_WEIGHT+";font-size:10px;font-family:"+i(23).locals.AD_FONT+";line-height:"+i(155).locals.AD_LABEL_SMALL_HEIGHT+";letter-spacing:1px;text-transform:uppercase;text-decoration:none;text-shadow:0 0 20px rgba(0,0,0,.2),1px 0 1px rgba(0,0,0,.1),0 1px 1px rgba(0,0,0,.1);transform-origin:bottom left;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:auto}.fqe{top:4px}.lH3niNQDmT{top:4px;font-size:12px;line-height:"+i(156).locals.AD_LABEL_MIDDLE_HEIGHT+"}.fqe.lH3niNQDmT{top:6px}.FRBgfU{filter:drop-shadow(0 2px 3px rgba(0,0,0,.2));fill:#fff}",""]),t.locals={AD_FONT:""+i(23).locals.AD_FONT,AD_FONT_WEIGHT:""+i(66).locals.AD_FONT_WEIGHT,AD_LABEL_SMALL_HEIGHT:""+i(155).locals.AD_LABEL_SMALL_HEIGHT,AD_LABEL_MIDDLE_HEIGHT:""+i(156).locals.AD_LABEL_MIDDLE_HEIGHT,AdLabel:"sin",AdLabel_withIcon:"fqe",AdLabel_middle:"lH3niNQDmT",AdLabel_icon:"FRBgfU"}},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var r=i(9);const n=Date&&Object(r.a)(Date.now)?()=>Date.now():()=>(new Date).getTime()},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i(28);const n=(""+Object(r.b)(window,"adsdkecmaver")).toUpperCase(),a="ES2017"===n||"ES5"===n?n:void 0},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i(78),n=i(87);const a={onBeforeLoad:e=>{Object(n.d)(e,r.a)}}},function(e,t,i){"use strict";var r=i(9),n=i(2);const a="__ADB_CONFIG__";i.d(t,"a",(function(){return s}));const o=Object(n.a)(a)&&a.fn&&Object(r.a)(a.fn.encodeUrl)?a.fn.encodeUrl:void 0,s=void 0!==o?e=>o(e):void 0},function(e,t,i){"use strict";function r(e,t){!function(e){return"function"===typeof e.dispatch}(e)?e(t):e.dispatch(t)}i.d(t,"a",(function(){return r}))},function(e,t,i){(t=e.exports=i(21)(!1)).i(i(23),""),t.i(i(66),""),t.push([e.i,".mkGpdqpS{display:inline-block;box-sizing:content-box;min-width:1em;min-height:1em;padding:0;overflow:hidden;color:#000;font-weight:"+i(66).locals.AD_FONT_WEIGHT+";font-size:inherit;font-family:"+i(23).locals.AD_FONT+";line-height:inherit;white-space:nowrap;text-align:center;text-decoration:none;text-overflow:ellipsis;background-color:#ffdc00;border:.05em solid transparent;border-radius:1em;outline:none;box-shadow:0 6px 8px rgba(255,220,0,.53);cursor:pointer}.llqG6V9eR8{display:flex;align-items:center;justify-content:center;height:1em;padding:0 .3em}.PS7H5p{display:inline;min-width:1em;min-height:1em;padding-right:.4em;font-size:.47em}",""]),t.locals={AD_FONT:""+i(23).locals.AD_FONT,AD_FONT_WEIGHT:""+i(66).locals.AD_FONT_WEIGHT,ArrowButton:"mkGpdqpS",ArrowButton__content:"llqG6V9eR8",ArrowButton__textContent:"PS7H5p"}},function(e,t,i){(t=e.exports=i(21)(!1)).push([e.i,".OUS{position:relative;padding-left:10px;overflow:hidden}.mRTk{}.xLxK2 .OUS{right:0;bottom:50%;left:auto;transform:translateY(50%)}.LyUnWHhWn1 .OUS{bottom:50%;transform:translateY(50%)}.l5w6uzjNPU .OUS{right:0;left:auto}.oUoR{bottom:50%;transform:translateY(50%)}",""]),t.locals={SkinActionButton:"OUS",SkinActionButton__middle:"mRTk",SkinActionButton__position_right_center:"xLxK2",SkinActionButton__position_left_center:"LyUnWHhWn1",SkinActionButton__position_right_bottom:"l5w6uzjNPU",SkinActionButton__lifted:"oUoR"}},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));i(85),i(99);const r=i(33).a},function(e,t,i){"use strict";function r(e){return"ontouchstart"in e}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));const r=function(e){return void 0===e&&(e=window),e.navigator.userAgent.indexOf("UCBrowser")>-1}},function(e,t,i){"use strict";function r(e,t){let{content:i,size:r}=void 0===t?{}:t;const n=e.ownerDocument.createElement("iframe");n.scrolling="no",n.setAttribute("allowfullscreen",""),n.style.display="block",r&&(n.height=r.height,n.width=r.width),e.appendChild(n);const a=n.contentDocument;return a.open(),i&&a.write(i),a.close(),a.body.style.margin="0",n.style.borderWidth="0",n}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class r{constructor(e){this.cache=e}get(e){return this.cache[e]}has(e){return e in this.cache}set(e,t){this.cache[e]=t}}const n=function(e,t,i){return void 0===t&&(t=e=>e),void 0===i&&(i=new r({})),function(){const r=t.apply(this,arguments);if(i.has(r))return i.get(r);const n=e.apply(this,arguments);return i.set(r,n),n}}},function(e,t,i){"use strict";function r(e){const t=Object(a.a)(e.documentElement).map(e=>e.ownerDocument);return t.unshift(e),t.map(e=>({location:Object(n.a)(e.defaultView),referrer:e.referrer}))}i.d(t,"a",(function(){return r}));var n=i(72),a=i(97)},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var r=i(28);const n=Object(r.b)(window,"adsdkdebug")},function(e,t,i){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function n(e){const{method:t,url:i,async:c=!0,data:u,responseType:h="text",onBeforeSend:p=o.a,onRetry:A=o.a,checkStatus:m=(e=>d===e),headers:v={},xhrConstructor:f=XMLHttpRequest,retries:_=0,timeout:b=0,withCredentials:g,onAbort:O,onSetup:y}=e;if(!f)return;const T=e.onSuccess?Object(a.a)(e.onSuccess):o.a,E=e.onError?Object(a.a)(e.onError):o.a;let S,w=!1,I=0,P=e=>{w=!0,P=o.a,S=e,C(new Error("Abort request")),"function"===typeof O&&O(e)};const C=t=>{if(D.onerror=null,D.onreadystatechange=null,I&&clearTimeout(I),I&&D.readyState!==l||w)try{D.abort()}catch(t){}if(!w)if(_>0){const i=A(t,D);if("boolean"!==typeof i||Boolean(i)||P(),w)return;n(r({},e,{onSetup:e=>{let{abort:t}=e;P=e=>t(e),w&&t(S)},retries:_-1}))}else P=o.a,E(t,D)},D=new f;try{D.open(t,i,c)}catch(N){return void C(N)}if(D.responseType=h,D.withCredentials=Boolean(g),Object(s.a)(v,(e,t)=>{try{D.setRequestHeader(t,e)}catch(N){}}),b>0&&isFinite(b)&&(I=window.setTimeout(()=>{C(new Error("Request timeout, "+i))},b)),D.onerror=C,D.onreadystatechange=()=>{if(D.readyState===l){const{status:e}=D;m(e)?(P=o.a,clearTimeout(I),T(D)):C(new Error("Invalid request status "+e+", "+i))}},("function"!==typeof y||(y({abort:e=>P(e)}),!w))&&(p(D,e),!w))try{D.send(u)}catch(N){C(N)}}i.d(t,"a",(function(){return n}));var a=i(52),o=i(33),s=i(44);const d=200,l=4},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var r=i(24);const n=e=>Object(r.a)(e.navigator.sendBeacon)},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));const r=function(e,t,i,r){void 0===i&&(i=0),void 0===r&&(r=n);for(let n=i;n<e.length;n++)if(r(e[n],t))return n;return-1},n=(e,t)=>e===t},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));const r="adsdk-test-tag"},function(e,t,i){"use strict";function r(e){return e.screen.availHeight>e.screen.availWidth?"portrait":"landscape"}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";function r(){if(n.a&&void 0!==n.a.document&&"function"===typeof n.a.document.hasFocus)try{return n.a.document.hasFocus()}catch(e){}}i.d(t,"a",(function(){return r}));var n=i(25)},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));const r=e=>"hidden"in e?"hidden":"webkitHidden"in e?"webkitHidden":void 0},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i(22),n=i(48);const a=r.h||n.b||void 0},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));const r="AdSDKLoader"===i(26).c},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i(7),n=i(107);const a=Object(n.a)(r.a)},function(e,t,i){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return a}));const n={MotionTGO:"motion_ad_creative",InteractiveElementsAdCreative:"interactive_elements_ad_creative",ThemeEmpty:"theme_empty",Survey:"survey_ad_creative"},a=r({},{InPage:"inpage",VideoPlayer:"video_player",AdLoader:"loader",VideoBannerAd:"videobannerad",Multiroll:"multiroll",YaMusicAPI:"ya-music-api",VpaidPlayer:"vpaid_player",Rum:"rum"},n)},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));const r={ES5:"bundles",ES2017:"bundles-es2017"}},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var r=i(77);const n="https://"+i(20).c+"/"+r.a+"-bundles/"},function(e,t,i){"use strict";const r=i(85).a;i.d(t,"a",(function(){return n}));const n=function(e){const t=r(e);for(const i of t){const{BANNER_TYPE_FROM_NANPU:e}=i;if("string"===typeof e&&e.length>0)return e}}(window)},function(e,t,i){"use strict";function r(e){const t=[];for(const[i,r]of e){const e=n(r,i);t.push(e)}return function(e){if(e.length>53)throw new Error("bitUtils.toDecimal: \u0431\u043e\u043b\u044c\u0448\u0435 53 \u0431\u0438\u0442 \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0438\u0437-\u0437\u0430 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043d\u043e\u0439 \u0442\u043e\u0447\u043d\u043e\u0441\u0442\u0438, \u043d\u043e \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u0430 \u0441\u0442\u0440\u043e\u043a\u0430 \u0434\u043b\u0438\u043d\u043e\u0439 "+e.length+" \u0431\u0438\u0442.");return parseInt(e,2)}(t.reverse().join(""))}function n(e,t){return a(function(e,t){return Number(e)&Math.pow(2,t)-1}(e,t).toString(2),t)}function a(e,t){return Object(h.a)(e,t,"0")}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}var s=i(63),d=i(9),l=i(5),c=i(4),u=i(2),h=i(89);class p{constructor(e){void 0===e&&(e={}),this.props={},this.setProps(o({},this.defaults(),e))}static sliceBits(e,t,i){return function(e,t,i){const r=t+i,n=a(e.toString(2),r).substr(-r,i);return parseInt(n,2)}(e,t,i)}defaults(){return{}}toString(){return this.serialize().toString()}setProps(e){return Object(u.a)(e)&&Object(l.a)(this.getTemplate(),t=>{let[,i]=t;i&&e.hasOwnProperty(i)&&(this.props[i]=e[i])},this),this}getProps(){return o({},this.props)}clone(){return new(0,this.constructor)(this.props)}serialize(){var e,t;return r((e=this.getTemplate(),t=this.props,Object(c.a)(e,e=>{let[i,r]=e;return[i,r&&t[r]||null]})))}slice(e,t){return p.sliceBits(this.serialize(),e,t)}}var A=i(32),m=i(26);i.d(t,"a",(function(){return f}));const v={AdSDKLoader:0,VpaidPlayerLoader:1,AdLoader:11,InPage:13,VideoPlayer:15,Multiroll:16,VideoBannerAd:17,YaMusicAPI:19,MotionTGO:20,InteractiveElementsAdCreative:24,VpaidPlayer:21,VASFrame:24,ThemeEmpty:26,Rum:27,Survey:28,Examples:30,TestStand:29,Test:31,TestVpaid:31};const f=new class extends p{getTemplate(){return[[10,"VERSION"],[5,"BUNDLE"],[36,"UNUSED"],[1,"ADBLOCK"]]}defaults(){return{VERSION:A.a,BUNDLE:v[m.c],UNUSED:0,ADBLOCK:Object(d.a)(s.a)}}}},function(e,t,i){"use strict";function r(e){return n?Object(a.a)(e.location.ancestorOrigins):[]}const n=Boolean(window.location.ancestorOrigins);var a=i(57);i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";var r=i(39),n=i(89),a=i(32);const o="VAS",s=e=>Object(n.a)(String(e%Math.pow(10,4)),4,"0"),d=()=>Object(n.a)(Date.now().toString().slice(0,10),10,"0");var l=i(3),c=i(22);i.d(t,"a",(function(){return u}));const u=(null===c.h||void 0===c.h?void 0:c.h.vsid)||c.k||(void 0===h&&(h=a.a),[Object(r.a)(44),o,s(h),d()].join("x"));var h;Object(l.a)(((null===c.h||void 0===c.h?void 0:c.h.vsid)?"Use VSID from player":c.k?"Use VSID from session":"Generate new VSID")+" ["+u+"]")},function(e,t,i){(t=e.exports=i(21)(!1)).i(i(23),""),t.push([e.i,".Akky{display:inline-block;color:#000;font-size:16px;font-family:"+i(23).locals.AD_FONT+";background-color:#ffd400;border-radius:3px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:auto}.eWLEfve{padding:10px 16px;line-height:16px}",""]),t.locals={AD_FONT:""+i(23).locals.AD_FONT,PackshotButton:"Akky",PackshotButton__content:"eWLEfve"}},function(e,t,i){(t=e.exports=i(21)(!1)).i(i(23),""),t.push([e.i,".YFQGKxNAp{display:flex;align-items:center;box-sizing:border-box;min-width:0;height:100%;padding:10px 0}.iF9ofqzA{display:flex;align-items:center;height:2.4em;padding:0 .5em;color:#000;font-weight:700;font-size:1em;font-family:"+i(23).locals.AD_FONT+";line-height:3;white-space:nowrap;background-color:#ffd500;border-radius:2px;cursor:pointer;pointer-events:auto}",""]),t.locals={AD_FONT:""+i(23).locals.AD_FONT,ActionButton:"YFQGKxNAp",ActionButton__content:"iF9ofqzA"}},function(e,t,i){(t=e.exports=i(21)(!1)).push([e.i,".vMoFJkPoZ{position:absolute;top:4px;right:4px;width:24px;height:24px;cursor:pointer;pointer-events:auto}.cyT{z-index:2}",""]),t.locals={AbuseBurgerButton:"vMoFJkPoZ",AbuseBurgerButton_inFullSize:"cyT"}},function(e,t,i){(t=e.exports=i(21)(!1)).push([e.i,".iBSe2agP2{width:100%;height:100%;font-weight:100;fill:#c4c4c4}.aRBw{text-transform:uppercase}",""]),t.locals={DisclaimerSvg:"iBSe2agP2",DisclaimerSvg_text:"aRBw"}},function(e,t,i){(t=e.exports=i(21)(!1)).i(i(23),""),t.push([e.i,".XYZVwdGs{display:flex;flex:1;flex-flow:column nowrap;max-height:calc(100% - 56px);padding:4px 10px;overflow:hidden;font-size:16px;font-family:"+i(23).locals.AD_FONT+";letter-spacing:0;text-shadow:0 2px 2px rgba(0,0,0,.1)}.qQ3K9vwEPe{margin:2px auto 0;padding:.25em;color:#fff;white-space:pre-wrap;text-align:center;background-color:rgba(38,38,38,.65);border-radius:4px}",""]),t.locals={AD_FONT:""+i(23).locals.AD_FONT,Subtitles__container:"XYZVwdGs",Subtitles__subtitle:"qQ3K9vwEPe"}},function(e,t,i){(t=e.exports=i(21)(!1)).push([e.i,"",""]),t.locals={AD_LABEL_SMALL_HEIGHT:"18px"}},function(e,t,i){(t=e.exports=i(21)(!1)).push([e.i,"",""]),t.locals={AD_LABEL_MIDDLE_HEIGHT:"20px"}},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i(28);const n=Object(r.b)(window,"adsdktracelogs"),a=Boolean(n)||void 0},function(e,t,i){(t=e.exports=i(21)(!1)).push([e.i,".ggfL0{background-color:#000;opacity:.5}",""]),t.locals={PackshotOverlay:"ggfL0"}},function(e,t,i){(t=e.exports=i(21)(!1)).push([e.i,".M6o4{}",""]),t.locals={AbuseContainer:"M6o4"}},function(e,t,i){(t=e.exports=i(21)(!1)).push([e.i,".jpBk{display:flex;box-sizing:border-box;width:100%;padding:2px .2em;font-family:Arial,Helvetica,sans-serif;background:rgba(0,0,0,.4)}",""]),t.locals={Disclaimer:"jpBk"}},function(e,t,i){(t=e.exports=i(21)(!1)).push([e.i,".FC0FWPX{filter:drop-shadow(0 2px 3px rgba(0,0,0,.2))}",""]),t.locals={MuteIcon:"FC0FWPX"}},function(e,t,i){(t=e.exports=i(21)(!1)).push([e.i,".HTJAnL1G{filter:drop-shadow(0 2px 3px rgba(0,0,0,.2))}",""]),t.locals={UnmuteIcon:"HTJAnL1G"}},function(e,t,i){(t=e.exports=i(21)(!1)).push([e.i,".GCLS0PDg{position:absolute;bottom:0;left:0;width:100%;height:2px}",""]),t.locals={Timeline:"GCLS0PDg"}},function(e,t,i){(t=e.exports=i(21)(!1)).push([e.i,"@keyframes BevBd{0%{transform:translate(-50%,-50%) rotate(0deg)}to{transform:translate(-50%,-50%) rotate(1turn)}}.JaMkQ{animation-name:BevBd;animation-duration:1s;animation-timing-function:linear;animation-iteration-count:infinite}",""]),t.locals={SpinnerIcon__css_animated:"JaMkQ",spin:"BevBd"}},function(e,t,i){(t=e.exports=i(21)(!1)).push([e.i,".DtIUQHDu{position:absolute;top:50%;left:50%;width:38px;height:38px;transform:translate(-50%,-50%)}",""]),t.locals={Spinner:"DtIUQHDu"}},function(e,t,i){(t=e.exports=i(21)(!1)).push([e.i,".yIIfWiYI{position:absolute;top:50%;left:50%;display:flex;transform:translate(-50%,-50%)}",""]),t.locals={CenterControls:"yIIfWiYI"}},function(e,t,i){(t=e.exports=i(21)(!1)).i(i(23),""),t.push([e.i,".RpaylXlFb5{position:absolute;top:10px;left:10px;display:inline-block;height:16px;padding:0 6px;color:#000;font-weight:500;font-size:11px;font-family:"+i(23).locals.AD_FONT+";text-decoration:none;background-color:#fff;border:1px solid #e5e5e5;border-radius:2px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:auto}",""]),t.locals={AD_FONT:""+i(23).locals.AD_FONT,SocialAdvertisingAdLabel:"RpaylXlFb5"}},function(e,t,i){(t=e.exports=i(21)(!1)).push([e.i,".DkpEk8bSWA{position:absolute;top:0;right:0;left:0}",""]),t.locals={TopControls:"DkpEk8bSWA"}},function(e,t){},function(e,t){e.exports=function(e){e||(e=window);var t=e.navigator.userAgent,i=t.indexOf("MSIE ");if(i>0)return parseInt(t.substring(i+5,t.indexOf(".",i)),10);if(t.indexOf("Trident/")>0){var r=t.indexOf("rv:");return parseInt(t.substring(r+3,t.indexOf(".",r)),10)}var n=t.indexOf("Edge/");return n>0&&parseInt(t.substring(n+5,t.indexOf(".",n)),10)}},function(e,t){e.exports=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){return e.__proto__=t,e}:function(e,t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i]);return e})},function(e,t,i){"use strict";i.r(t),i.d(t,"loadRumModule",(function(){return n}));var r=i(54);const n=()=>new Promise((e,t)=>{Object(r.b)({moduleName:"Rum",version:void 0,onSuccess:t=>{e(t)},onError:t,win:window,timeout:r.a})})},function(e,t){Array.prototype.find||(Array.prototype.find=function(e){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!==typeof e)throw new TypeError("predicate must be a function");for(var t,i=Object(this),r=i.length>>>0,n=arguments[1],a=0;a<r;a++)if(t=i[a],e.call(n,t,a,i))return t})},function(e){e.exports={be:{adsdk:{ABUSE_ADS_TEXT:"",ABUSE_COPIED:"",ABUSE_COPY_TEXT:"",ABUSE_CUSTOM_FIELD_PLACEHOLDER:"",ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT:"",ABUSE_IMPROVE_REASON_TEXT:"",ABUSE_OPTION_ABOUT:"",ABUSE_OPTION_ALREADY_PURCHASED:"",ABUSE_OPTION_ANOTHER_REASON:"",ABUSE_OPTION_COMPLAINT:"",ABUSE_OPTION_FALSE_INFO_SOCIAL:"",ABUSE_OPTION_HIDE:"",ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE:"",ABUSE_OPTION_NOT_INTERESTED:"",ABUSE_OPTION_OVERLAP_CONTENT:"",ABUSE_OPTION_POLITICAL_SOCIAL:"",ABUSE_OPTION_SCAMMERS:"",ABUSE_OPTION_SEEN_TOO_OFTEN:"",ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL:"",ABUSE_OPTION_UNPLEASANT_CONTENT:"",ABUSE_SCREEN_DESCRIPTION:"",ABUSE_SCREEN_DESCRIPTION_SHORT:"",ABUSE_SCREEN_TITLE:"",ABUSE_VARIANT_ANNOYING:"",ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD:"",ABUSE_VARIANT_NOT_INTERESTED:"",ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD:"",ABUSE_VARIANT_POLITICAL_SOCIAL_AD:"",ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD:"",ABUSE_VARIANT_SPAM:"",ABUSE_VARIANT_SPAM_SHORT:"",AD_TITLE:"",LEARN_MORE:"",MORE:"",MOTION_BTN:"",MOTION_BTN_WITHOUT_GREEN_URL:"",MOTION_DIETARYSUPPL_DISCLAIMER:"",MOTION_DISTANCE_SALES:"",MOTION_DRUG_DISCLAIMER:"",MOTION_HIDE_DISCLAIMER:"",MOTION_SHOW_DISCLAIMER:"",REPEAT:"",REWARDED_TIMER_1:"",REWARDED_TIMER_2:"",SECONDS:"",SKIP:"",SKIP_TIME_LEFT:"",SOCIAL_ADVERTISING_AD_LABEL:"",THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE:"",THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE:"",THEME_EMPTY_ACTION_BUTTON_LABEL:"",TIME_LEFT:"",UNMUTE:"",UNMUTE_INVITE:"",VISIT_SITE:"",YANDEX_DIRECT:"",YANDEX_DIRECT_LINK:""}},en:{adsdk:{ABUSE_ADS_TEXT:"Ad",ABUSE_COPIED:"Copied",ABUSE_COPY_TEXT:"Copy link",ABUSE_CUSTOM_FIELD_PLACEHOLDER:"Enter your message",ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT:"Submit",ABUSE_IMPROVE_REASON_TEXT:"State the reason:",ABUSE_OPTION_ABOUT:"Ads on Yandex",ABUSE_OPTION_ALREADY_PURCHASED:"Already purchased",ABUSE_OPTION_ANOTHER_REASON:"Another reason",ABUSE_OPTION_COMPLAINT:"Report",ABUSE_OPTION_FALSE_INFO_SOCIAL:"Speculation",ABUSE_OPTION_HIDE:"Hide",ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE:"Illegal goods or services",ABUSE_OPTION_NOT_INTERESTED:"Not interested",ABUSE_OPTION_OVERLAP_CONTENT:"Covers page content",ABUSE_OPTION_POLITICAL_SOCIAL:"Political ad",ABUSE_OPTION_SCAMMERS:"Scammers",ABUSE_OPTION_SEEN_TOO_OFTEN:"I see this ad too often",ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL:"Shocking content",ABUSE_OPTION_UNPLEASANT_CONTENT:"I don't like it",ABUSE_SCREEN_DESCRIPTION:"We try to show you ads that match your interests. Tell us why you didn't like this video. This will help us select better ads for you.",ABUSE_SCREEN_DESCRIPTION_SHORT:"Please tell us why you didn't like this video. This will help us select better ads for you.",ABUSE_SCREEN_TITLE:"Report this ad",ABUSE_VARIANT_ANNOYING:"Intrusive or annoying",ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD:"False information",ABUSE_VARIANT_NOT_INTERESTED:"I'm not interested in this",ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD:"I'm not interested in this",ABUSE_VARIANT_POLITICAL_SOCIAL_AD:"Political ad",ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD:"Shocking content",ABUSE_VARIANT_SPAM:"Inappropriate content or spam",ABUSE_VARIANT_SPAM_SHORT:"Looks like spam",AD_TITLE:"Ad",LEARN_MORE:"Learn more",MORE:"More",MOTION_BTN:"",MOTION_BTN_WITHOUT_GREEN_URL:"",MOTION_DIETARYSUPPL_DISCLAIMER:"",MOTION_DISTANCE_SALES:"",MOTION_DRUG_DISCLAIMER:"",MOTION_HIDE_DISCLAIMER:"",MOTION_SHOW_DISCLAIMER:"",REPEAT:"Repeat",REWARDED_TIMER_1:"",REWARDED_TIMER_2:"",SECONDS:"sec",SKIP:"Skip",SKIP_TIME_LEFT:"Skip ad",SOCIAL_ADVERTISING_AD_LABEL:"Social ad",THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE:"Read more",THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE:"Read more on the website",THEME_EMPTY_ACTION_BUTTON_LABEL:"Go",TIME_LEFT:"Ad",UNMUTE:"Unmute",UNMUTE_INVITE:"Move mouse over ad<br>to hear sound",VISIT_SITE:"Go to advertiser\u2019s site",YANDEX_DIRECT:"",YANDEX_DIRECT_LINK:""}},kk:{adsdk:{ABUSE_ADS_TEXT:"",ABUSE_COPIED:"",ABUSE_COPY_TEXT:"",ABUSE_CUSTOM_FIELD_PLACEHOLDER:"",ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT:"",ABUSE_IMPROVE_REASON_TEXT:"",ABUSE_OPTION_ABOUT:"",ABUSE_OPTION_ALREADY_PURCHASED:"",ABUSE_OPTION_ANOTHER_REASON:"",ABUSE_OPTION_COMPLAINT:"",ABUSE_OPTION_FALSE_INFO_SOCIAL:"",ABUSE_OPTION_HIDE:"",ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE:"",ABUSE_OPTION_NOT_INTERESTED:"",ABUSE_OPTION_OVERLAP_CONTENT:"",ABUSE_OPTION_POLITICAL_SOCIAL:"",ABUSE_OPTION_SCAMMERS:"",ABUSE_OPTION_SEEN_TOO_OFTEN:"",ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL:"",ABUSE_OPTION_UNPLEASANT_CONTENT:"",ABUSE_SCREEN_DESCRIPTION:"",ABUSE_SCREEN_DESCRIPTION_SHORT:"",ABUSE_SCREEN_TITLE:"",ABUSE_VARIANT_ANNOYING:"",ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD:"",ABUSE_VARIANT_NOT_INTERESTED:"",ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD:"",ABUSE_VARIANT_POLITICAL_SOCIAL_AD:"",ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD:"",ABUSE_VARIANT_SPAM:"",ABUSE_VARIANT_SPAM_SHORT:"",AD_TITLE:"",LEARN_MORE:"",MORE:"",MOTION_BTN:"",MOTION_BTN_WITHOUT_GREEN_URL:"",MOTION_DIETARYSUPPL_DISCLAIMER:"",MOTION_DISTANCE_SALES:"",MOTION_DRUG_DISCLAIMER:"",MOTION_HIDE_DISCLAIMER:"",MOTION_SHOW_DISCLAIMER:"",REPEAT:"",REWARDED_TIMER_1:"",REWARDED_TIMER_2:"",SECONDS:"",SKIP:"",SKIP_TIME_LEFT:"",SOCIAL_ADVERTISING_AD_LABEL:"",THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE:"",THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE:"",THEME_EMPTY_ACTION_BUTTON_LABEL:"",TIME_LEFT:"",UNMUTE:"",UNMUTE_INVITE:"",VISIT_SITE:"",YANDEX_DIRECT:"",YANDEX_DIRECT_LINK:""}},ru:{adsdk:{ABUSE_ADS_TEXT:"\u0420\u0435\u043a\u043b\u0430\u043c\u043d\u043e\u0435 \u043e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u0435",ABUSE_COPIED:"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u043e",ABUSE_COPY_TEXT:"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443",ABUSE_CUSTOM_FIELD_PLACEHOLDER:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c",ABUSE_IMPROVE_REASON_TEXT:"\u0423\u0442\u043e\u0447\u043d\u0438\u0442\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u0443:",ABUSE_OPTION_ABOUT:"\u0420\u0435\u043a\u043b\u0430\u043c\u0430 \u043d\u0430 \u042f\u043d\u0434\u0435\u043a\u0441\u0435",ABUSE_OPTION_ALREADY_PURCHASED:"\u0423\u0436\u0435 \u043f\u0440\u0438\u043e\u0431\u0440\u0435\u0442\u0435\u043d\u043e",ABUSE_OPTION_ANOTHER_REASON:"\u0414\u0440\u0443\u0433\u0430\u044f \u043f\u0440\u0438\u0447\u0438\u043d\u0430",ABUSE_OPTION_COMPLAINT:"\u041f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c\u0441\u044f",ABUSE_OPTION_FALSE_INFO_SOCIAL:"\u041d\u0435\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",ABUSE_OPTION_HIDE:"\u0421\u043a\u0440\u044b\u0442\u044c",ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE:"\u041d\u0435\u0437\u0430\u043a\u043e\u043d\u043d\u044b\u0439 \u0442\u043e\u0432\u0430\u0440/\u0443\u0441\u043b\u0443\u0433\u0430",ABUSE_OPTION_NOT_INTERESTED:"\u041d\u0435 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u0435\u0442",ABUSE_OPTION_OVERLAP_CONTENT:"\u041f\u0435\u0440\u0435\u043a\u0440\u044b\u0432\u0430\u0435\u0442 \u043a\u043e\u043d\u0442\u0435\u043d\u0442",ABUSE_OPTION_POLITICAL_SOCIAL:"\u041f\u043e\u043b\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0440\u0435\u043a\u043b\u0430\u043c\u0430",ABUSE_OPTION_SCAMMERS:"\u042d\u0442\u043e \u043c\u043e\u0448\u0435\u043d\u043d\u0438\u043a\u0438",ABUSE_OPTION_SEEN_TOO_OFTEN:"\u0412\u0438\u0436\u0443 \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u0447\u0430\u0441\u0442\u043e",ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL:"\u0428\u043e\u043a\u0438\u0440\u0443\u044e\u0449\u0438\u0439 \u043a\u043e\u043d\u0442\u0435\u043d\u0442",ABUSE_OPTION_UNPLEASANT_CONTENT:"\u041c\u043d\u0435 \u044d\u0442\u043e \u043d\u0435\u043f\u0440\u0438\u044f\u0442\u043d\u043e",ABUSE_SCREEN_DESCRIPTION:"\u041c\u044b \u0441\u0442\u0430\u0440\u0430\u0435\u043c\u0441\u044f \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u0435\u0437\u043d\u0443\u044e \u0432\u0430\u043c \u0440\u0435\u043a\u043b\u0430\u043c\u0443, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043e\u0442\u0432\u0435\u0447\u0430\u0435\u0442 \u0432\u0430\u0448\u0438\u043c \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u0430\u043c. \u041f\u043e\u044f\u0441\u043d\u0438\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0447\u0435\u043c\u0443 \u0432\u0430\u043c \u043d\u0435 \u043f\u043e\u0434\u043e\u0448\u0451\u043b \u0440\u043e\u043b\u0438\u043a. \u042d\u0442\u043e \u043f\u043e\u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u043c \u043b\u0443\u0447\u0448\u0435 \u043e\u0442\u0431\u0438\u0440\u0430\u0442\u044c \u0434\u043b\u044f \u0432\u0430\u0441 \u0440\u0435\u043a\u043b\u0430\u043c\u0443.",ABUSE_SCREEN_DESCRIPTION_SHORT:"\u041f\u043e\u044f\u0441\u043d\u0438\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0447\u0435\u043c\u0443 \u0432\u0430\u043c \u043d\u0435 \u043f\u043e\u043d\u0440\u0430\u0432\u0438\u043b\u0441\u044f \u0440\u043e\u043b\u0438\u043a. \u042d\u0442\u043e \u043f\u043e\u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u043c \u043b\u0443\u0447\u0448\u0435 \u043e\u0442\u0431\u0438\u0440\u0430\u0442\u044c \u0434\u043b\u044f \u0432\u0430\u0441 \u0440\u0435\u043a\u043b\u0430\u043c\u0443.",ABUSE_SCREEN_TITLE:"\u041f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043d\u0430&nbsp;\u0440\u0435\u043a\u043b\u0430\u043c\u0443",ABUSE_VARIANT_ANNOYING:"\u041d\u0430\u0432\u044f\u0437\u0447\u0438\u0432\u043e \u0438\u043b\u0438 \u043d\u0430\u0434\u043e\u0435\u043b\u043e",ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD:"\u041d\u0435\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",ABUSE_VARIANT_NOT_INTERESTED:"\u041d\u0435 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u044e\u0441\u044c \u044d\u0442\u043e\u0439 \u0442\u0435\u043c\u043e\u0439",ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD:"\u041d\u0435\u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u0430\u044f \u0442\u0435\u043c\u0430",ABUSE_VARIANT_POLITICAL_SOCIAL_AD:"\u041f\u043e\u043b\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0440\u0435\u043a\u043b\u0430\u043c\u0430",ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD:"\u0428\u043e\u043a\u0438\u0440\u0443\u044e\u0449\u0438\u0439 \u043a\u043e\u043d\u0442\u0435\u043d\u0442",ABUSE_VARIANT_SPAM:"\u0421\u043e\u043c\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u044f \u0438\u043b\u0438 \u0441\u043f\u0430\u043c",ABUSE_VARIANT_SPAM_SHORT:"\u041f\u043e\u0445\u043e\u0436\u0435 \u043d\u0430 \u0441\u043f\u0430\u043c",AD_TITLE:"\u0420\u0435\u043a\u043b\u0430\u043c\u0430",LEARN_MORE:"\u0423\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435",MORE:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435",MOTION_BTN:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435",MOTION_BTN_WITHOUT_GREEN_URL:"\u0410\u0434\u0440\u0435\u0441 \u0438 \u0442\u0435\u043b\u0435\u0444\u043e\u043d",MOTION_DIETARYSUPPL_DISCLAIMER:"\u041d\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043b\u0435\u043a\u0430\u0440\u0441\u0442\u0432\u043e\u043c",MOTION_DISTANCE_SALES:"\u0420\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b \u043f\u0440\u043e\u0434\u0430\u0432\u0446\u0430 \u043d\u0430 \u0440\u0435\u043a\u043b\u0430\u043c\u0438\u0440\u0443\u0435\u043c\u043e\u043c \u0441\u0430\u0439\u0442\u0435.",MOTION_DRUG_DISCLAIMER:"\u0415\u0441\u0442\u044c \u043f\u0440\u043e\u0442\u0438\u0432\u043e\u043f\u043e\u043a\u0430\u0437\u0430\u043d\u0438\u044f. \u041f\u043e\u0441\u043e\u0432\u0435\u0442\u0443\u0439\u0442\u0435\u0441\u044c \u0441 \u0432\u0440\u0430\u0447\u043e\u043c.",MOTION_HIDE_DISCLAIMER:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0443",MOTION_SHOW_DISCLAIMER:"\u042e\u0440. \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",REPEAT:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c",REWARDED_TIMER_1:"\u0414\u043e \u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f \u043d\u0430\u0433\u0440\u0430\u0434\u044b",REWARDED_TIMER_2:"\u0441\u0435\u043a",SECONDS:"\u0441\u0435\u043a",SKIP:"\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c",SKIP_TIME_LEFT:"\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0440\u0435\u043a\u043b\u0430\u043c\u0443",SOCIAL_ADVERTISING_AD_LABEL:"\u0421\u043e\u0446\u0438\u0430\u043b\u044c\u043d\u0430\u044f \u0440\u0435\u043a\u043b\u0430\u043c\u0430",THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435",THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 \u043d\u0430 \u0441\u0430\u0439\u0442\u0435",THEME_EMPTY_ACTION_BUTTON_LABEL:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438",TIME_LEFT:"\u0420\u0435\u043a\u043b\u0430\u043c\u0430",UNMUTE:"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0437\u0432\u0443\u043a",UNMUTE_INVITE:"\u041d\u0430\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u0443\u0440\u0441\u043e\u0440,<br>\u0447\u0442\u043e\u0431\u044b \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0437\u0432\u0443\u043a",VISIT_SITE:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0441\u0430\u0439\u0442 \u0440\u0435\u043a\u043b\u0430\u043c\u043e\u0434\u0430\u0442\u0435\u043b\u044f",YANDEX_DIRECT:"\u042f\u043d\u0434\u0435\u043a\u0441.\u0414\u0438\u0440\u0435\u043a\u0442",YANDEX_DIRECT_LINK:"https://direct.yandex.ru/?partner"}},tr:{adsdk:{ABUSE_ADS_TEXT:"Reklam",ABUSE_COPIED:"Kopyaland\u0131",ABUSE_COPY_TEXT:"Ba\u011flant\u0131y\u0131 kopyala",ABUSE_CUSTOM_FIELD_PLACEHOLDER:"Mesaj\u0131n\u0131z\u0131 girin",ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT:"G\xf6nder",ABUSE_IMPROVE_REASON_TEXT:"Nedenini a\xe7\u0131klay\u0131n:",ABUSE_OPTION_ABOUT:"Yandex'te reklam",ABUSE_OPTION_ALREADY_PURCHASED:"Zaten sat\u0131n al\u0131nd\u0131",ABUSE_OPTION_ANOTHER_REASON:"Ba\u015fka bir neden var",ABUSE_OPTION_COMPLAINT:"\u015eikayet et",ABUSE_OPTION_FALSE_INFO_SOCIAL:"Yanl\u0131\u015f bilgi",ABUSE_OPTION_HIDE:"Gizle",ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE:"Yasad\u0131\u015f\u0131 mal/hizmet",ABUSE_OPTION_NOT_INTERESTED:"\u0130lgilenmiyorum",ABUSE_OPTION_OVERLAP_CONTENT:"\u0130\xe7eri\u011fin \xfczerini kapl\u0131yor",ABUSE_OPTION_POLITICAL_SOCIAL:"Siyasi i\xe7erikli reklam",ABUSE_OPTION_SCAMMERS:"Doland\u0131r\u0131c\u0131lar",ABUSE_OPTION_SEEN_TOO_OFTEN:"Bunu \xe7ok s\u0131k g\xf6r\xfcyorum",ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL:"Rahats\u0131z edici i\xe7erik",ABUSE_OPTION_UNPLEASANT_CONTENT:"Ho\u015fuma gitmiyor",ABUSE_SCREEN_DESCRIPTION:"\u0130lgi alanlar\u0131n\u0131za uygun reklamlar g\xf6stermeye \xe7al\u0131\u015f\u0131yoruz. Sizin i\xe7in daha faydal\u0131 reklamlar se\xe7ebilmemiz i\xe7in bu videoyu neden be\u011fenmedi\u011finizi a\xe7\u0131klar m\u0131s\u0131n\u0131z?",ABUSE_SCREEN_DESCRIPTION_SHORT:"Size daha uygun reklamlar se\xe7ebilmemiz i\xe7in bu videoyu neden be\u011fenmedi\u011finizi a\xe7\u0131klar m\u0131s\u0131n\u0131z?",ABUSE_SCREEN_TITLE:"Reklam\u0131 \u015fikayet et",ABUSE_VARIANT_ANNOYING:"Israrc\u0131 veya b\u0131kt\u0131r\u0131c\u0131",ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD:"",ABUSE_VARIANT_NOT_INTERESTED:"Bu konuyla ilgilenmiyorum",ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD:"",ABUSE_VARIANT_POLITICAL_SOCIAL_AD:"",ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD:"",ABUSE_VARIANT_SPAM:"G\xfcvenilir olmayan i\xe7erik veya spam",ABUSE_VARIANT_SPAM_SHORT:"Spam gibi g\xf6r\xfcn\xfcyor",AD_TITLE:"Reklam",LEARN_MORE:"Daha fazla bilgi edinin",MORE:"Daha fazla",MOTION_BTN:"",MOTION_BTN_WITHOUT_GREEN_URL:"",MOTION_DIETARYSUPPL_DISCLAIMER:"",MOTION_DISTANCE_SALES:"",MOTION_DRUG_DISCLAIMER:"",MOTION_HIDE_DISCLAIMER:"",MOTION_SHOW_DISCLAIMER:"",REPEAT:"Tekrarla",REWARDED_TIMER_1:"",REWARDED_TIMER_2:"",SECONDS:"sn",SKIP:"Atla",SKIP_TIME_LEFT:"Reklam\u0131 atla",SOCIAL_ADVERTISING_AD_LABEL:"",THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE:"",THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE:"",THEME_EMPTY_ACTION_BUTTON_LABEL:"",TIME_LEFT:"Reklam",UNMUTE:"Sesi a\xe7",UNMUTE_INVITE:"Sesi a\xe7mak i\xe7in<br>imleci \xfczerine getirin",VISIT_SITE:"Reklam verenin sitesine git",YANDEX_DIRECT:"",YANDEX_DIRECT_LINK:""}},uk:{adsdk:{ABUSE_ADS_TEXT:"",ABUSE_COPIED:"",ABUSE_COPY_TEXT:"",ABUSE_CUSTOM_FIELD_PLACEHOLDER:"",ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT:"",ABUSE_IMPROVE_REASON_TEXT:"",ABUSE_OPTION_ABOUT:"",ABUSE_OPTION_ALREADY_PURCHASED:"",ABUSE_OPTION_ANOTHER_REASON:"",ABUSE_OPTION_COMPLAINT:"",ABUSE_OPTION_FALSE_INFO_SOCIAL:"",ABUSE_OPTION_HIDE:"",ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE:"",ABUSE_OPTION_NOT_INTERESTED:"",ABUSE_OPTION_OVERLAP_CONTENT:"",ABUSE_OPTION_POLITICAL_SOCIAL:"",ABUSE_OPTION_SCAMMERS:"",ABUSE_OPTION_SEEN_TOO_OFTEN:"",ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL:"",ABUSE_OPTION_UNPLEASANT_CONTENT:"",ABUSE_SCREEN_DESCRIPTION:"",ABUSE_SCREEN_DESCRIPTION_SHORT:"",ABUSE_SCREEN_TITLE:"",ABUSE_VARIANT_ANNOYING:"",ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD:"",ABUSE_VARIANT_NOT_INTERESTED:"",ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD:"",ABUSE_VARIANT_POLITICAL_SOCIAL_AD:"",ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD:"",ABUSE_VARIANT_SPAM:"",ABUSE_VARIANT_SPAM_SHORT:"",AD_TITLE:"",LEARN_MORE:"",MORE:"",MOTION_BTN:"",MOTION_BTN_WITHOUT_GREEN_URL:"",MOTION_DIETARYSUPPL_DISCLAIMER:"",MOTION_DISTANCE_SALES:"",MOTION_DRUG_DISCLAIMER:"",MOTION_HIDE_DISCLAIMER:"",MOTION_SHOW_DISCLAIMER:"",REPEAT:"",REWARDED_TIMER_1:"",REWARDED_TIMER_2:"",SECONDS:"",SKIP:"",SKIP_TIME_LEFT:"",SOCIAL_ADVERTISING_AD_LABEL:"",THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE:"",THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE:"",THEME_EMPTY_ACTION_BUTTON_LABEL:"",TIME_LEFT:"",UNMUTE:"",UNMUTE_INVITE:"",VISIT_SITE:"",YANDEX_DIRECT:"",YANDEX_DIRECT_LINK:""}},uz:{adsdk:{ABUSE_ADS_TEXT:"",ABUSE_COPIED:"",ABUSE_COPY_TEXT:"",ABUSE_CUSTOM_FIELD_PLACEHOLDER:"",ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT:"",ABUSE_IMPROVE_REASON_TEXT:"",ABUSE_OPTION_ABOUT:"",ABUSE_OPTION_ALREADY_PURCHASED:"",ABUSE_OPTION_ANOTHER_REASON:"",ABUSE_OPTION_COMPLAINT:"",ABUSE_OPTION_FALSE_INFO_SOCIAL:"",ABUSE_OPTION_HIDE:"",ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE:"",ABUSE_OPTION_NOT_INTERESTED:"",ABUSE_OPTION_OVERLAP_CONTENT:"",ABUSE_OPTION_POLITICAL_SOCIAL:"",ABUSE_OPTION_SCAMMERS:"",ABUSE_OPTION_SEEN_TOO_OFTEN:"",ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL:"",ABUSE_OPTION_UNPLEASANT_CONTENT:"",ABUSE_SCREEN_DESCRIPTION:"",ABUSE_SCREEN_DESCRIPTION_SHORT:"",ABUSE_SCREEN_TITLE:"",ABUSE_VARIANT_ANNOYING:"",ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD:"",ABUSE_VARIANT_NOT_INTERESTED:"",ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD:"",ABUSE_VARIANT_POLITICAL_SOCIAL_AD:"",ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD:"",ABUSE_VARIANT_SPAM:"",ABUSE_VARIANT_SPAM_SHORT:"",AD_TITLE:"",LEARN_MORE:"",MORE:"",MOTION_BTN:"",MOTION_BTN_WITHOUT_GREEN_URL:"",MOTION_DIETARYSUPPL_DISCLAIMER:"",MOTION_DISTANCE_SALES:"",MOTION_DRUG_DISCLAIMER:"",MOTION_HIDE_DISCLAIMER:"",MOTION_SHOW_DISCLAIMER:"",REPEAT:"",REWARDED_TIMER_1:"",REWARDED_TIMER_2:"",SECONDS:"",SKIP:"",SKIP_TIME_LEFT:"",SOCIAL_ADVERTISING_AD_LABEL:"",THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE:"",THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE:"",THEME_EMPTY_ACTION_BUTTON_LABEL:"",TIME_LEFT:"",UNMUTE:"",UNMUTE_INVITE:"",VISIT_SITE:"",YANDEX_DIRECT:"",YANDEX_DIRECT_LINK:""}}}},function(e,t){e.exports={initMoatTracking:function(e,t,i,r){var n=document.createElement("script"),a={events:[],addEvent:function(e){s.sendEvent?(a.events&&(s.sendEvent(a.events),a.events=!1),s.sendEvent(e)):a.events.push(e)}},o=function(t){return function(){var r,n=-1;if(e&&e.getAdVolume&&(r=e.getAdVolume()),"number"==typeof r&&!isNaN(r)&&0<=r&&(n=r),a.addEvent({type:t,adVolume:n}),-1!==h.indexOf(t)&&e&&e.unsubscribe&&!u)for(var o in u=!0,c)if(c.hasOwnProperty&&c.hasOwnProperty(o))try{e.unsubscribe(c[o],o)}catch(i){}}},s={adData:{ids:i,vpaid:e,build:"cc07a80-clean"},dispatchEvent:a.addEvent};i="_moatApi"+Math.floor(1e8*Math.random());var d,l,c={AdStarted:o("AdStarted"),AdStopped:o("AdStopped"),AdSkipped:o("AdSkipped"),AdLoaded:o("AdLoaded"),AdLinearChange:o("AdLinearChange"),AdSizeChange:o("AdSizeChange"),AdExpandedChange:o("AdExpandedChange"),AdSkippableStateChange:o("AdSkippableStateChange"),AdDurationChange:o("AdDurationChange"),AdRemainingTimeChange:o("AdRemainingTimeChange"),AdVolumeChange:o("AdVolumeChange"),AdImpression:o("AdImpression"),AdClickThru:o("AdClickThru"),AdInteraction:o("AdInteraction"),AdVideoStart:o("AdVideoStart"),AdVideoFirstQuartile:o("AdVideoFirstQuartile"),AdVideoMidpoint:o("AdVideoMidpoint"),AdVideoThirdQuartile:o("AdVideoThirdQuartile"),AdVideoComplete:o("AdVideoComplete"),AdUserAcceptInvitation:o("AdUserAcceptInvitation"),AdUserMinimize:o("AdUserMinimize"),AdUserClose:o("AdUserClose"),AdPaused:o("AdPaused"),AdPlaying:o("AdPlaying"),AdError:o("AdError")},u=!1,h=["AdStopped","AdSkipped","AdVideoComplete"];!function(){if(e&&e.subscribe)for(var t in c)c.hasOwnProperty&&c.hasOwnProperty(t)&&e.subscribe(c[t],t)}();try{l=(d=t.ownerDocument).defaultView||d.parentWindow}catch(p){d=document,l=window}return l[i]=s,n.type="text/javascript",t&&t.insertBefore(n,t.childNodes[0]||null),n.src="https://z.moatads.com/"+r+"/moatvideo.js#"+i,s}}},function(e,t){!function(e){function t(){this.intersectionSupport=!!e.IntersectionObserver,this.intersectionRatio=-1,this.observerData=[{percent:.5,duration:2e3,useFocus:!0,name:"MRC"}],this.audibilityFired=!1,this.secondsAudible=0,this.started=!1}function i(e){return e!=t.eventsMap.AdImpression||a?e==t.eventsMap.AdClickThru?"{{protocol}}//{{domain}}/fcgi-bin/dispatch.fcgi?a.A=cl&a.si={{account}}&a.te={{tte}}&a.aap={{aap}}&a.agi={{agi}}&g.lu=":"{{protocol}}//{{domain}}/fcgi-bin/dispatch.fcgi?a.A=ev&a.si={{account}}&a.te={{tte}}&a.aap={{aap}}&a.agi={{agi}}&a.evn="+e+"&g.ra={{random}}&a.ycp={{siteID}}":(a=!0,"{{protocol}}//{{domain}}/fcgi-bin/dispatch.fcgi?a.A=im&a.si={{account}}&a.te={{tte}}&a.aap={{aap}}&a.agi={{agi}}&a.hr=XC&g.ra={{random}}&a.ycp={{siteID}}")}function r(e,t){for(var i in t)t.hasOwnProperty(i)&&(e=e.replace(new RegExp("{{"+i+"}}","g"),t[i]));return e}function n(e){(new Image).src=e}var a=!1;t.prototype.version=function(){console.log("[Viewability Observer JS] 2018.02.20")},t.VOLUME_ON="Audible",t.VOLUME_OFF="Inaudible",t.INITIALLY_ON="initially_unmuted",t.INITIALLY_OFF="initially_muted",t.FIRE_TIME=2e3,t.DELAY=250,t.ON_PAGE="OnPage",t.S_FRAME="SameDomainFrame",t.X_FRAME="CrossDomainFrame",t.VIEWABLE="Viewable",t.NOT_VIEWABLE="Unviewable",t.UNDETERMINED="Undetermined",t.VISIBILITY_RATIO=.5,t.USE_FOCUS=!0,t.eventsMap={AdLoaded:"load",AdStarted:"creativeView",AdVideoStart:"start",AdImpression:"",AdImpressionYandex:"AdImpressionYandex",AdVideoFirstQuartile:"firstQuartile",AdVideoMidpoint:"midpoint",AdVideoThirdQuartile:"thirdQuartile",AdVideoComplete:"complete",AdUserClose:"close",AdStopped:"stop",AdSkipped:"skip",AdClickThru:"click",AdPaused:"pause",AdPlaying:"resume",AdError:"error"},t.audioEventsMap={AdVideoStart:"start",AdVideoFirstQuartile:"firstQuartile",AdVideoMidpoint:"midpoint",AdVideoThirdQuartile:"thirdQuartile",AdVideoComplete:"complete"},t.playerSizeParams={PlayerSmallDesktop:[0,480],PlayerNormalDesktop:[480,720],PlayerBigDesktop:[720,960],PlayerHugeDesktop:[960,0],PlayerSmallMobile:[0,260],PlayerNormalMobile:[260,320],PlayerBigMobile:[320,380],PlayerHugeMobile:[380,0]},t.prototype.hasFocus=function(){return("undefined"===this.realDocument.hidden||!0!==this.realDocument.hidden)&&(this.getPosition()===t.X_FRAME||"function"!==typeof this.realWindow.top.document.hasFocus||this.realWindow.top.document.hasFocus())},t.prototype.getPosition=function(){if(!this.position)if(e.top===this.realWindow)this.position=t.ON_PAGE;else{this.position=t.S_FRAME;try{for(var i=this.realWindow;i.parent!==i;){if(i.parent.document.domain!==i.document.domain){this.position=t.X_FRAME;break}i=i.parent}}catch(r){this.position=t.X_FRAME}}return this.position},t.prototype.init=function(e,a,o){this.rootElement=e,this.realDocument=this.rootElement.ownerDocument,this.realWindow=this.realDocument.defaultView||this.realDocument.parentWindow,this.adParameters=JSON.parse(a),this.adParameters.agi=Math.round(1e3*Math.random()),this.adParameters.random=Math.round(1e8*Math.random()),this.adParameters.protocol="https:",this.vpaidObject=o,this.volume=-1,this.completeDispatched=this.durationChecked=!1,e={cet:0,pg:0,ulv:0,dnn:0};try{if("undefined"!==typeof this.adParameters.cp){var s=decodeURIComponent(this.adParameters.cp).split("|");for(a=0;a<s.length;a++)if(s[a]){var d=s[a].split(":");e[d[0]]=2!=d.length||("undefined"!==typeof e[d[0]]?isNaN(parseInt(d[1],10))?e[d[0]]:parseInt(d[1],10):d[1])}}}catch(c){}for(var l in this.customParams=e,0<this.customParams.pg&&(this.observerData=[{percent:.5,duration:2e3,useFocus:!0,name:"MRC"},{percent:.7,duration:2e3,useFocus:!0,name:"70and2"},{percent:.99,duration:2e3,useFocus:!0,name:"100and2"},{percent:.75,duration:5e3,useFocus:!0,name:"MRC75Prc"}]),0<this.customParams.ulv&&(this.observerData=[{percent:.5,duration:2e3,useFocus:!0,name:"MRC"},{percent:.5,duration:2e3,useFocus:!0,name:"visibility_2sec"},{percent:.5,duration:4e3,useFocus:!0,name:"visibility_4sec"},{percent:.5,duration:7e3,useFocus:!0,name:"visibility_7sec"},{percent:.5,duration:1e4,useFocus:!0,name:"visibility_10sec"},{percent:.5,duration:15e3,useFocus:!0,name:"visibility_15sec"},{percent:.5,duration:2e4,useFocus:!0,name:"visibility_20sec"},{percent:.5,duration:3e4,useFocus:!0,name:"visibility_30sec"}]),0<this.customParams.dnn&&(this.observerData=[{percent:.5,duration:2e3,useFocus:!0,name:"MRC"},{percent:.7,duration:5e3,useFocus:!0,name:"MRC70"}]),n(r(i(this.getPosition()),this.adParameters)),t.eventsMap)t.eventsMap.hasOwnProperty(l)&&o.subscribe(this.onVPAIDEvent.bind(this,l),l);if(this.intersectionSupport)this.intersectionObserver=new IntersectionObserver(function(e){this.intersectionRatio=Math.round(100*e[0].intersectionRatio)/100}.bind(this),{threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]}),this.intersectionObserver.observe(this.rootElement);else if(this.getPosition()==t.X_FRAME)return n(r(i(this.observerData.shift().name+t.UNDETERMINED),this.adParameters)),!1},t.prototype.checkDuration=function(){if(this.vpaidObject&&"function"==typeof this.vpaidObject.getAdDuration&&this.vpaidObject.getAdDuration()){var e=Math.round(this.vpaidObject.getAdDuration());if(0<e){this.durationChecked=!0;for(var t=0;t<this.observerData.length;t++)this.observerData[t].duration>1e3*e&&(this.observerData.splice(t,1),t--)}else setTimeout(this.checkDuration,250)}},t.prototype.onVPAIDEvent=function(e){if(0<this.customParams.ulv&&!this.durationChecked&&"AdVideoStart"==e&&this.checkDuration(),"AdVideoStart"==e){this.onVPAIDEvent("AdImpression"),this.onVPAIDEvent("AdImpressionYandex"),this.started||(this.started=!0,this.updater=setInterval(t.updateTime.bind(this),t.DELAY),this.updaterAudibility=setInterval(t.updateTimeAudibility.bind(this),t.DELAY)),this.volume=parseFloat(this.vpaidObject.getAdVolume(),10),n(r(i(c=this.volume>0?t.INITIALLY_ON:t.INITIALLY_OFF),this.adParameters));var a=t.playerSizeParams,o=parseFloat(this.vpaidObject.getAdWidth(),10);for(var s in a)if(a.hasOwnProperty(s)){var d=a[s];(!d[0]||o>=d[0])&&(!d[1]||o<d[1])&&n(r(i(s),this.adParameters))}}if("AdVideoComplete"==e){if(this.completeDispatched)return;if(this.completeDispatched=!0,0<this.customParams.pg)(l=this.getViewAbility(t.VISIBILITY_RATIO,t.USE_FOCUS)).state===t.VIEWABLE&&n(r(i("AdVideoCompleteMRC"),this.adParameters))}if("AdClickThru"==e&&0<this.customParams.cet&&(0<(l=this.vpaidObject.getAdDuration()-this.vpaidObject.getAdRemainingTime())&&n(r(i("AdVideoClick"+parseInt(l,10)),this.adParameters))),"AdPaused"==e&&(clearInterval(this.updater),clearInterval(this.updaterAudibility)),-1!=["AdStopped","AdSkipped","AdUserClose"].indexOf(e)&&this.stop(),t.eventsMap.hasOwnProperty(e)){var l=this.getViewAbility(t.VISIBILITY_RATIO,t.USE_FOCUS);n(r(i(t.eventsMap[e]),this.adParameters)),"AdImpression"!=e&&"AdImpressionYandex"!=e&&l.state&&n(r(i(e+l.state),this.adParameters))}if("AdVideoThirdQuartile"==e&&this.checkTwoSeconds(),t.audioEventsMap.hasOwnProperty(e)){this.volume=parseFloat(this.vpaidObject.getAdVolume(),10);var c=this.volume>0?t.VOLUME_ON:t.VOLUME_OFF;n(r(i(t.eventsMap[e]+c),this.adParameters))}},t.prototype.checkTwoSeconds=function(){if(!this.completeDispatched){var e=this.vpaidObject.getAdRemainingTime();if(0<e&&1.1>e)this.completeDispatched=!0,e=this.getViewAbility(t.VISIBILITY_RATIO,t.USE_FOCUS),0<this.customParams.pg&&e.state===t.VIEWABLE&&n(r(i("AdVideoCompleteMRC"),this.adParameters)),n(r(i(t.eventsMap.AdVideoComplete),this.adParameters)),e.state&&n(r(i("AdVideoComplete"+e.state),this.adParameters)),this.stop();else{var a=this;setTimeout((function(){a.checkTwoSeconds()}),250)}}},t.prototype.stop=function(){if(clearInterval(this.updater),clearInterval(this.updaterAudibility),this.started=!1,t.updateTime.call(this),this.observerData&&this.observerData.length)for(;this.observerData.length;)n(r(i(this.observerData.shift().name+t.NOT_VIEWABLE),this.adParameters));this.updater&&clearInterval(this.updater),this.audibilityFired||(this.audibilityFired=!0,n(r(i(t.VOLUME_OFF),this.adParameters)))},t.prototype.getViewAbility=function(i,r){if(this.intersectionSupport)return t.match(this.hasFocus(),r,this.intersectionRatio,i);if(this.getPosition()==t.X_FRAME)return{error:t.UNDETERMINED,state:t.UNDETERMINED,percent:0,focus:!1};var n=this.realWindow,a=this.rootElement.getBoundingClientRect(),o=t.calculateArea(a,n);try{for(;n!==e.top;){var s=n.name||(n.name="wb-"+Math.round(1e6*Math.random()).toString(16));a=(n=n.parent).frames[s].frameElement.getBoundingClientRect(),o=Math.min(t.calculateArea(a,n),o)}}catch(d){return{error:t.UNDETERMINED,state:t.UNDETERMINED,percent:0,focus:!1}}return t.match(this.hasFocus(),r,o,i)},t.updateTime=function(){var e=this.getViewAbility();if(!this.observerData||!this.observerData.length)return clearInterval(this.updater);for(var a=[],o=0;o<this.observerData.length;o++){var s=this.observerData[o];s.timeInView=(!s.useFocus||e.focus)&&e.percent>=s.percent?t.DELAY+(s.timeInView||0):0,s.timeInView>=s.duration?n(r(i(s.name+t.VIEWABLE),this.adParameters)):a.push(s)}this.observerData=a},t.updateTimeAudibility=function(){if(this.audibilityFired)return clearInterval(this.updaterAudibility);this.volume=parseFloat(this.vpaidObject.getAdVolume(),10),this.volume<=0||isNaN(this.volume)?this.secondsAudible=0:this.secondsAudible+=t.DELAY,this.secondsAudible>=t.FIRE_TIME&&(this.audibilityFired=!0,n(r(i(t.VOLUME_ON),this.adParameters)))},t.match=function(e,i,r,n){var a=t.NOT_VIEWABLE;return(e||!i)&&r>=n&&(a=t.VIEWABLE),{state:a,focus:e,percent:r}},t.calculateArea=function(e,t){var i=e.width*e.height,r=e.width,n=e.height;return 0>e.top&&(n+=e.top),e.bottom>t.innerHeight&&(n-=e.bottom-t.innerHeight),0>e.left&&(r+=e.left),e.right>t.innerWidth&&(r-=e.right-t.innerWidth),r*n/i},e.WBViewAbility=t}(window)},function(e,t,i){"use strict";function r(e,t,i,r,n,a,o){var s,d,l=document.createElement("script"),c=[],u={vidIntType:"3",vidIntVersion:"1.0",adData:{ids:t,duration:i,url:a},dispatchEvent:function(e){u.sendEvent?(c&&(c.push(e),e=c,c=!1),u.sendEvent(e)):c&&c.push(e)},clientCallback:o};t="_moatApi"+Math.floor(1e8*Math.random());try{d=(s=e.ownerDocument).defaultView||s.parentWindow}catch(h){s=document,d=window}return d[t]=u,l.type="text/javascript",e&&e.insertBefore(l,e.childNodes[0]||null),l.src=["https://yast","atic.net/pc","ode-static/measurers/"].join("")+n+"/moat/"+r+"/moatvideo.js#"+t,u}i.r(t),i.d(t,"initMoatTracking",(function(){return r}))},function(e,t,i){"use strict";function r(e,t){return void 0===t&&(t=1e6),function(e){let t="",i=0;for(;i<e.length;){const r=e.charCodeAt(i++),n=e.charCodeAt(i++),a=e.charCodeAt(i++),o=r>>2,s=(3&r)<<4|n>>4;let d=(15&n)<<2|a>>6,l=63&a;isNaN(n)?d=l=64:isNaN(a)&&(l=64),t=t+ts.charAt(o)+ts.charAt(s)+ts.charAt(d)+ts.charAt(l)}return t}(function(e,t){e=e.replace(/\r\n/g,"\n");let i="";for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);let a;if(n<128?a=String.fromCharCode(n):n>127&&n<2048?(a=String.fromCharCode(n>>6|192),a+=String.fromCharCode(63&n|128)):(a=String.fromCharCode(n>>12|224),a+=String.fromCharCode(n>>6&63|128),a+=String.fromCharCode(63&n|128)),i.length+a.length>t)break;i+=a}return i}(e,3*t/4|0))}function n(e){return function(e){const t=[];let i=0;for(;i<e.length;){const r=e.charCodeAt(i);if(r<128)t.push(String.fromCharCode(r)),i++;else if(r>191&&r<224){const n=e.charCodeAt(i+1);t.push(String.fromCharCode((31&r)<<6|63&n)),i+=2}else{const n=e.charCodeAt(i+1),a=e.charCodeAt(i+2);t.push(String.fromCharCode((15&r)<<12|(63&n)<<6|63&a)),i+=3}}return t.join("")}(function(e){const t=[];let i=0;e=e.replace(/[^A-Za-z0-9\-_=]/g,"");for(;i<e.length;){const r=ts.indexOf(e.charAt(i++)),n=ts.indexOf(e.charAt(i++)),a=ts.indexOf(e.charAt(i++)),o=ts.indexOf(e.charAt(i++)),s=r<<2|n>>4,d=(15&n)<<4|a>>2,l=(3&a)<<6|o;t.push(String.fromCharCode(s)),64!==a&&t.push(String.fromCharCode(d)),64!==o&&t.push(String.fromCharCode(l))}return t.join("")}(e))}function a(e){return"number"===typeof e&&isFinite(e)}function o(e){return"number"===typeof e&&isFinite(e)&&e>0}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function d(e){const t=function(e){if("function"===typeof e.getVideoPlaybackQuality){const t=e.getVideoPlaybackQuality();if(Object(is.a)(t)){const{droppedVideoFrames:e,corruptedVideoFrames:i,totalVideoFrames:r}=t;return{droppedVideoFrames:e,corruptedVideoFrames:i||0,totalVideoFrames:r}}}const t=e;return"number"===typeof t.webkitDroppedFrameCount&&"number"===typeof t.webkitDecodedFrameCount?s({},ns,{droppedVideoFrames:t.webkitDroppedFrameCount,totalVideoFrames:t.webkitDecodedFrameCount}):ns}(e),{droppedVideoFrames:i,totalVideoFrames:r}=t;let n=as.droppedVideoFramesRatio;return o(r)&&a(i)&&(n=i/r),s({},t,{droppedVideoFramesRatio:n})}function l(e,t){const i=e.style;for(const r in t)if(t.hasOwnProperty(r)){i[Fs(r)]=t[r]}}function c(e,t){Object(Hs.a)(t).forEach(i=>{const r=t[i];null===r?e.removeAttribute(i):e.setAttribute(i,r)})}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function p(e,t){try{return e()}catch(i){"function"===typeof t&&t(i)}}function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function v(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function _(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function b(e){return[].concat.apply([],e)}function g(e,t){const i=[],r=[];return Object($o.a)(e,(n,a)=>{t(n,a,e)?i.push(n):r.push(n)}),[i,r]}function O(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.join("")}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function T(e,t){return t===e.substring(e.length-t.length)}function E(e){const{hostname:t}=Object(jd.e)(e);return t===Rl||T(t,"."+Rl)}function S(e){if(!e)return!1;const{hostname:t}=Object(jd.e)(e);return!(!t||0===t.length)&&kl(Ll,e=>e===t||T(t,"."+e))}function w(e){let{url:t,options:i,ignoreAbd:r=!1,win:n}=e;if(Object(Cs.a)(Ld.a)&&!r)return t;if(!S(t)&&!E(t))return t;const a=Math.round(100*i.visibility),o=Math.round(i.size.width),s=Math.round(i.size.height),d=Math.round(100*i.videoVolume),l=Math.round(i.videoAvatarSize.width),c=Math.round(i.videoAvatarSize.height),u=Object(Nl.a)();return Object(jd.b)(t,{[Wd]:String(Ns.a),[Gd]:ll.c,[Yd]:String(a),[qd]:String(o),[Xd]:String(s),[Kd]:String(l),[Qd]:String(c),[Fd.a]:String(Bl.a.serialize()),[Jd]:Cl(),[Zd]:xd.a,[al]:Dl(n),[el]:Md.b,[tl]:Md.a?"0":"1",[Hd]:String(Date.now()),[zd]:String((new Date).getTimezoneOffset()),[$d]:Ul?"0":"1",[il]:String(d),[rl]:i.videoMuted?"1":"0",[nl]:Ud.a.getActiveTestIds().join(";")||void 0,[ol]:void 0===u?"unknown":String(u),[sl]:void 0===i.isFullscreen?"unknown":String(i.isFullscreen),[dl]:Bd.a?Object(cl.a)(n):void 0},{override:!1})}function I(e){if(void 0===e||null===e)return"";const{documentElement:t}=e,{tagName:i}=t;return"string"===typeof i?i:""}function P(e){if(!e)return null;try{const t=(new DOMParser).parseFromString(e,"application/xml");return null===t.querySelector("parsererror")?t:null}catch(t){return null}}function C(e,t,i){if(void 0===i&&(i=""),e.hasAttribute(t)){var r;const i=e.getAttribute(t);return null!==(r=null===i||void 0===i?void 0:i.trim())&&void 0!==r?r:""}return i}function D(e){var t,i;return null!==(t=null===e||void 0===e?void 0:null===(i=e.textContent)||void 0===i?void 0:i.trim())&&void 0!==t?t:""}function N(e){return Boolean(e&&D(e).length)}function R(e){try{return Object(Vs.a)(e)?JSON.parse(e):void 0}catch(t){return}}function k(e){const t=parseInt(C(e,"width",0),10),i=parseInt(C(e,"height",0),10),r=parseInt(C(e,"bitrate",0),10),n=C(e,"minBitrate",""),a=n?parseInt(n,10):void 0,s=C(e,"maxBitrate",""),d=s?parseInt(s,10):void 0,l=C(e,"vmafAvg",""),c=l?parseFloat(l):void 0,u=C(e,"codec",""),h={width:t,height:i,bitrate:r,type:C(e,"type"),url:D(e)};return Object(rd.a)(u)&&(h.codec=u),o(a)&&(h.minBitrate=a),o(d)&&(h.maxBitrate=d),o(a)&&o(d)&&a>d&&cs.c.error({error:new ls.a({code:"MIN_BITRATE_GREATER_THAN_MAX_BITRATE",details:{adMediaFile:h}})}),o(c)&&(h.vmafAvg=c),h.url?h.type?h:(cs.c.error({error:new ls.a({code:"INVALID_MEDIA_FILE_TYPE",details:{adMediaFile:h}})}),null):(cs.c.error({error:new ls.a({code:"INVALID_MEDIA_FILE_URL",details:{adMediaFile:h}})}),null)}function V(e){const t=e.querySelector("StaticResource");return{width:parseInt(C(e,"width",0),10),height:parseInt(C(e,"height",0),10),type:t?C(t,"creativeType"):null,url:t?D(t):"",bitrate:0,minBitrate:void 0,maxBitrate:void 0}}function L(e){const t={};return Object(is.a)(e)&&Object($o.a)(Object(Hs.a)(e),i=>{const r=e[i];Array.isArray(r)&&(t[i]=Object(Xo.a)(r,e=>"string"===typeof e))}),t}function B(){const e={};for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return Object($o.a)(i,t=>{Object($o.a)(Object(Hs.a)(t),i=>{const r=e[i]||[],n=t[i]||[];e[i]=[...r,...n]})}),e}function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function j(e){if(ec&&ic)return;if(void 0===e)return;const t=Number(e);return o(t)?t:void 0}function U(e,t){const i={};return Object(Hs.a)(e).forEach(r=>{i[r]=t(e[r],r)}),i}function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function F(e){const t=Rd(sc);if(!Object(is.a)(e))return t;const i=(e,i)=>{void 0===t.controlsVisibility[i]&&"boolean"===typeof e&&(t.controlsVisibility[i]=e)};return i(e.showSoundButton,"mute"),i(e.showSkipButton,"skip"),Object(is.a)(e.controlsSettings)&&(Object(is.a)(e.controlsSettings.controlsVisibility)&&Object(Ql.a)(e.controlsSettings.controlsVisibility,(e,i)=>{ac.indexOf(i)>-1&&"boolean"===typeof e&&(t.controlsVisibility[i]=e)}),Object(is.a)(!1===e.controlsSettings.visibility)&&(t.controlsVisibility=x({},oc))),delete t.visibility,t}function H(){return(H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function z(e){const{packshotSettings:t}=e;if(!Object(is.a)(t))return dc;const{isEnabled:i}=t;return H({},dc,{isEnabled:!1!==i&&void 0})}function W(e){const t=Object(is.a)(e)?e:{},i=[],r="number"===typeof t.bufferFullTimeout?Math.min(t.bufferFullTimeout,Kl):void 0;let n;return void 0!==t.skipDelay&&(a(t.skipDelay)&&t.skipDelay>=0?n=t.skipDelay:i.push(new ls.a({code:"INCORRECT_SKIP_DELAY_FORMAT",details:{value:t.skipDelay,stringValue:String(t.skipDelay),type:typeof t.skipDelay}}))),{config:{autoplay:void 0===t.autoplay?void 0:Boolean(t.autoplay),pauseOnClickThrough:void 0===t.pauseOnClickThrough||Boolean(t.pauseOnClickThrough),showGuiForVpaid:"boolean"===typeof t.showGuiForVpaid?t.showGuiForVpaid:void 0,backgroundBlur:void 0===t.backgroundBlur?void 0:Boolean(t.backgroundBlur),description:"string"===typeof t.description?t.description:void 0,skipDelay:n,videoTimeout:o(t.videoTimeout)?t.videoTimeout:void 0,vpaidTimeout:o(t.vpaidTimeout)?t.vpaidTimeout:void 0,bufferFullTimeout:r,bufferEmptyLimit:o(t.bufferEmptyLimit)?t.bufferEmptyLimit:void 0,clickThroughUrl:"string"===typeof t.clickThroughUrl?t.clickThroughUrl:void 0,trackingEvents:t.trackingEvents?L(t.trackingEvents):{},controlsSettings:F(t),videoSlotCanAutoPlay:void 0===t.videoSlotCanAutoPlay?void 0:Boolean(t.videoSlotCanAutoPlay),desiredBitrate:j(t.desiredBitrate),lang:"string"===typeof t.lang?t.lang:Yl,packshotSettings:z(t)},errors:i}}function G(e){(new Image).src=e}function Y(e,t){if(S(e)||E(e)){if(function(e,t){return!!lc&&window.navigator.sendBeacon(e,t)}(e,t))return}else S(e)&&cs.c.event({name:"TrackYandexUrlWithImage",data:{url:e},probability:us.c});G(e)}function q(e){let{error:t,trackingUrls:i}=e;Object(Os.a)("Track error=["+t+"]"),function(e){if(!Array.isArray(e))return;const t=Object(Zo.a)(e,e=>w({url:e,options:ds,win:window}));Object($o.a)(t,e=>Y(e))}(i)}function X(e,t){void 0===t&&(t=[]),cs.c.errorToStats(e),q({error:e,trackingUrls:t})}function K(e){return"string"!==typeof e?NaN:Object(Qo.a)(e.split(":").reverse(),(e,t,i)=>e+parseFloat(t)*60**i,0)}function Q(e){if(e.indexOf("%")>-1){const t=parseFloat(e);return a(t)?{unit:"portion",value:t/100}:void 0}const t=K(e);if(a(t))return{unit:"seconds",value:t}}function J(e){return"number"===typeof e&&isFinite(e)&&e>=0}function Z(){return(Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function $(){return($=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function ee(){return(ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function te(e){let{url:t,data:i,timeout:r,doRequest:n=gc,withCredentials:a}=e;return new Promise(async(e,o)=>{"https:"===window.location.protocol&&(t=function(e){return bc.a.href=e,bc.a.protocol="https:",bc.a.href}(t));const s=_c(r),d=n({url:t,data:i,withCredentials:a});try{const t=await Promise.race([d,s]);if(t){return e(ee({},t,{xml:P(t.responseText)}))}return o({reason:"timeout",error:new Error("XHR Timeout")})}catch(l){return o(l)}})}function ie(e){Object($o.a)(e,e=>cs.c.error({error:e}))}function re(e,t){let i=!1;const r=function(){const r=i?t:e;return i=!0,r.apply(this,arguments)};return function(){return r.apply(this,arguments)}}function ne(e){let{win:t,methodName:i,data:r,id:n}=e;t.postMessage({methodName:i,data:r,id:n},"*")}function ae(e){const t=Object.values;if("function"===typeof t)return t(e);{const t=[];for(const i in e)Object(Pc.a)(e,i)&&t.push(e[i]);return t}}function oe(){return(oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function se(){return(se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function de(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function le(e,t){const i=window,n=i.document;if(t&&(a=function(e){return e.location.host}(i))&&a&&0!==a.length&&kl(Lc,e=>e===a||function(e,t){return t===e.substring(e.length-t.length)}(a,"."+e)))return t;var a;let o=ce(e,n);if("t\n"===o&&i.top!==i.self)try{o=ce(e,i.parent.document)}catch(s){}return r(o,e)}function ce(e,t){const i=[];let r=0;i.push("t"+(t.title||"")),r+=i[0].length;for(let n=1;n<4&&r<e;n++){const e=t.getElementsByTagName("h"+n),a=e.length;for(let t=0;t<a;t++){const a=ue(e[t]);r+=a.length,i.push(""+n+a)}}return i.join("\n")+"\n"}function ue(e){const t=[];let i="";if(!e)return i;for(t.push(e);t.length>0;){if(3===(e=t.pop()).nodeType)i+=e.nodeValue+" ";else if(e.childNodes&&e.childNodes.length>0){const i=e.childNodes;for(let e=i.length-1;e>=0;e--)t.push(i[e])}}return i.replace(/\s+/g," ")}function he(e){let t;try{t=JSON.stringify(e)}catch(i){}return t}function pe(e){return Boolean(e.YA_TURBO_PAGES)}function Ae(e){return void 0===e&&(e=window),Boolean(e.ampSeen)}function me(e){void 0===e&&(e=window);let t="";const i=e.context,r=e.Ya;return Ae(e)&&i&&i.master.Ya&&i.master.Ya.getSkipToken?t=i.master.Ya.getSkipToken():r&&r.Context&&r.Context.AdvManager&&r.Context.AdvManager.getSkipToken&&(t=r.Context.AdvManager.getSkipToken()),t}function ve(e){void 0===e&&(e=window);const{navigator:t}=e,{connection:i={}}=t;if("number"===typeof i.downlink)return i.downlink;if("number"===typeof i.downlinkMax)return i.downlinkMax;if("string"===typeof i.type||"number"===typeof i.type)switch(i.type){case xc.BLUETOOTH:return 3;case Uc.CELL_2G:return.384;case Uc.CELL_3G:case xc.CELLULAR:return 2;case xc.WIMAX:return 37;case xc.NONE:return 0;case Uc.ETHERNET:case xc.ETHERNET:case Uc.WIFI:case xc.WIFI:case xc.MIXED:return 10;case Uc.UNKNOWN:case xc.UNKNOWN:case xc.OTHER:}return-1}function fe(){const e={width:window.innerWidth,height:window.innerHeight},t=jc(),i={win_width:Fc(e.width),win_height:Fc(e.height),pixel_ratio:Bc(),bandwidth:ve()};return t&&(i.quirks=t),i}function _e(){const e=function(){const e=window;let t=0;return e.Ya&&e.Ya.Context&&e.Ya.Context.AdvManager&&e.Ya.Context.AdvManager.getCapturedCount&&(t=e.Ya.Context.AdvManager.getCapturedCount()),t}();return Wc()+e}function be(e){return void 0===e&&(e=window),String(e.location)}function ge(e){return void 0===e&&(e=window),r(Xc(e.document,"_ym_uid")||"")}function Oe(e){return void 0===e&&(e=window),e.location.hostname}function ye(){return(ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Te(){return(Te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Ee(e,t){void 0===t&&(t="");const{params:i,bids:n,matchIdDirect:a=!1,reloadCounter:o}=e,s=Te({},function(e){const t=e.win||window,i=void 0===e.isTurbo?pe(t):e.isTurbo,r=kl(Zc,e=>e.test(t.location.hostname));return Qc(Te({},e,{win:t,isTurbo:i,addsSsSkipToken:r}))}(e),i||{},a?{"matchid-direct":1}:{},{"enable-page-options":65536});if(Object($o.a)($c,e=>{s[e]=void 0}),s.pk)try{s.pk=decodeURIComponent(s.pk)}catch(d){}if(n){const e=n.map(e=>Te({},e,{placement_id:e.placement_id?String(e.placement_id):void 0}));e.toJSON&&(e.toJSON=void 0),s.bids=r(he(e)||"")}return s.grab=le(Jc-t.length),s.utf8="\u2713",o&&(s.adf_refresh=o),s}function Se(e){!function(e){const{ownerId:t}=e;if(!t)throw new Error("there is no `ownerId` for getAdfoxBulkUrl()")}(e);const t=function(e){let t,{adblock:i,useXhr:r,ownerId:n,domain:a=eu}=e;return"https://"+a+("/"+n+"/"+(t=r?"getBulk/v2":i?"getCodeTest":"prepareCode"))}(e);return{base:t,queryParams:Ee(e,t)}}function we(e){const t=e.trim();return"//"===t.substr(0,2)||"http://"===t.substr(0,7)||"https://"===t.substr(0,8)}function Ie(){return(Ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Pe(e,t){const i=Object(Ps.a)(window);let r;try{r=function(e){const{base:t,queryParams:i}=Se(e);return Object(jd.b)(t,i)}(Ie({},e,{layoutConfig:new Hc,useXhr:!0,domain:tu}))}catch(a){throw new ls.a(a,{code:"CREATE_ADFOX_URL_ERROR",details:{adFoxParameters:e}})}if(!we(r))throw new ls.a({code:"CANNOT_CREATE_ADFOX_URL",details:{adFoxParameters:e}});const n=w({url:r,options:t,ignoreAbd:!0,win:window});return i?i(n):n}async function Ce(e){let{adFoxParameters:t,adPlacementOptions:i,secureMode:r}=e;const n=Pe(t,i),a=Vc({secureMode:r,url:n})?Pd:gc;try{const e=await a({url:n,withCredentials:!0});if(200!==e.responseStatus)throw new Error("Invalid status ["+e.responseStatus+"]");const{creative:t,errors:i}=function(e){const t=R(e),i=[];if(!Object(is.a)(t))throw new ls.a({code:"ADFOX_AD_DATA_IS_NOT_VALID_JSON_OBJECT",details:{adFoxDataString:e}});const{error:r,data:n}=t;if(Array.isArray(r)&&r.length>0)throw new ls.a({code:"ADFOX_AD_DATA_ERROR",details:{adFoxData:t}});if(!Array.isArray(n))throw new ls.a({code:"INVALID_ADFOX_DATA_FORMAT",details:{adFoxData:t}});const a=Object(Xo.a)(n,(e,r)=>{if(!Object(is.a)(e)||!Object(is.a)(e.attributes))return i.push(new ls.a({code:"INVALID_ADFOX_CREATIVE_DATA",details:{adFoxData:t,index:r}})),!1;const{campaignId:n,vastBase64:a}=e.attributes;return"string"===typeof a&&a.length>0||("string"===typeof n&&n.length>0||(i.push(new ls.a({code:"NO_REQUIRED_PARAMETERS_IN_ADFOX_CREATIVE",details:{adFoxData:t,index:r}})),!1))});if(0===a.length)throw new ls.a({code:"NO_ADS_IN_ADFOX_DATA",details:{adFoxData:t}});return a.length>1&&i.push(new ls.a({code:"EXTRA_ADFOX_DATA",details:{adFoxData:t}})),{creative:a[0].attributes,errors:i}}(e.responseText);return ie(i),t}catch(o){if(Object(_s.a)(o))throw o;throw new ls.a(o,{code:"ADFOX_AD_DATA_LOADING_ERROR",details:{adFoxParameters:t,adFoxUrl:n}})}}function De(){return(De=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Ne(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Re(e){return!!Object(is.a)(e)&&("string"===typeof e.url&&(!!e.url.trim()&&("string"===typeof e.type&&!!e.type.trim())))}function ke(){return(ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Ve(){return(Ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Le(e,t){if(!("video-banner_theme_empty"===e||"video-banner_theme_caucasus"===e||"video-banner_theme_moroz"===e||"video-banner_theme_lake"===e))return!1;if(!Object(is.a)(t))return!1;const{AUCTION_DC_PARAMS:i}=t;if(!Object(is.a)(i))return!1;const{data_params:r}=i;if(!Object(is.a)(r))return!1;const{misc:n}=r;if(!Object(is.a)(n))return!1;const{layout_type:a}=n;return"clickable_video"===a}function Be(e){let t;try{t=JSON.parse(e)}catch(u){throw new ls.a({code:"CANNOT_DETECT_VAS_MEDIA_FILE_BY_INVALID_JSON",details:{adParametersString:e}})}if(!Object(is.a)(t))throw new ls.a({code:"CANNOT_DETECT_VAS_MEDIA_FILE_BY_NON_OBJECT_JSON",details:{adParametersString:e}});const{mediaFiles:i}=t;if(!Object(Ko.a)(i)||0===i.length)return{url:bu,isNonLinear:!1,adFormatType:"motion",isOldVastFormat:!0};const[r]=i;if(!Re(r))throw new ls.a({code:"FIRST_MEDIA_FILE_IN_AD_PARAMETERS_IS_INVALID",details:{adParametersString:e}});const n=function(e){const{type:t}=e;return t===hu.Motion?"MotionTGO":t===hu.VpaidCreative?"ThemeEmpty":void 0}(r);if(n)return{url:uu[n],isNonLinear:!1,adFormatType:fu[n],isOldVastFormat:!1};const{theme:a}=t,o=Object(rd.a)(a),s="video-banner_theme_empty"===a,d="video-banner_survey"===a,l="video-banner_interactive-viewer"===a,c={url:du,isNonLinear:!1,adFormatType:"interactiveViewer",isOldVastFormat:Ic(i,e=>e.url!==vu.url)};if(l)return c;if(Le(a,t))return{url:Su,isNonLinear:!1,adFormatType:"clickableVideo",isOldVastFormat:!0};if(o){const e=(()=>{switch(!0){case s:return"themeEmpty";case d:return"survey";default:return"vpaidCreative"}})();return{url:s||d?Su:Eu,isNonLinear:!1,adFormatType:e,isOldVastFormat:!0}}return cs.c.event({name:"DetectInteractiveViewerAsDefault",probability:us.a,data:{adParametersObject:t}}),c}function Me(){return(Me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function je(){return(je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Ue(){return(Ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function xe(){return(xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Fe(){return(Fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function He(){return(He=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function ze(e,t){if(null==e)return{};var i,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)i=a[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}function We(e){const{adParametersObject:t,description:i}=e;if(!Object(is.a)(t))throw new ls.a({code:"CANNOT_CONVERT_IV_INTO_AD_CREATE_WITHOUT_AD_PARAMETERS",details:{vastAd:e}});const{tickerData:r,interactiveElements:n,mediaFiles:a}=t,o=ze(t,["tickerData","interactiveElements","mediaFiles"]),s=r&&r.isVisible&&Object(rd.a)(r.text),d=Array.isArray(n)&&n.length>0,l=!s&&!d;const c=He({},o,{adParameters:{description:i,tickerData:r,interactiveElements:n},mediaFiles:!("DO_NOT_LOAD"===Iu.a.getFlagValueAndActivateTestId("IV_CONCEALED_ANIMATION_LOADING_POLICY"))||!l?[...a,vu]:a});return He({},e,{mediaFiles:[Du],adParametersObject:c,adParameters:JSON.stringify(c)})}function Ge(e){const{adParametersObject:t}=e;if(!Object(is.a)(t))throw new ls.a({code:"CANNOT_CONVERT_MOTION_INTO_AD_CREATIVE_WITHOUT_AD_PARAMETERS",details:{vastAd:e}});const{AUCTION_DC_PARAMS:i,HAS_BUTTON:r,HAS_DOMAIN:n,HAS_AGE:a,HAS_LEGAL:o,LEGAL_TEXT:s}=t,d=He({},ze(t,["AUCTION_DC_PARAMS","HAS_BUTTON","HAS_DOMAIN","HAS_AGE","HAS_LEGAL","LEGAL_TEXT"]),{adParameters:He({AUCTION_DC_PARAMS:i},"HAS_BUTTON"in t?{HAS_BUTTON:r}:{},"HAS_DOMAIN"in t?{HAS_DOMAIN:n}:{},"HAS_AGE"in t?{HAS_AGE:a}:{},"HAS_LEGAL"in t?{HAS_LEGAL:o}:{},"LEGAL_TEXT"in t?{LEGAL_TEXT:s}:{}),mediaFiles:[Nu]});return He({},e,{mediaFiles:[Du],adParametersObject:d,adParameters:JSON.stringify(d)})}function Ye(e){var t;const{adParametersObject:i}=e;if(!Object(is.a)(i))throw new ls.a({code:"CANNOT_CONVERT_EMPTY_INTO_AD_CREATIVE_WITHOUT_AD_PARAMETERS",details:{vastAd:e}});const r=He({},i,{mediaFiles:[ku,...null!==(t=i.mediaFiles)&&void 0!==t?t:[]],adParameters:He({},i)}),{duration:n}=i,a=o(n)?n:void 0;return He({},e,{mediaFiles:[Du],adParametersObject:r,adParameters:JSON.stringify(r),durationLimit:a})}function qe(e){const{adParametersObject:t}=e;if(!Object(is.a)(t))throw new ls.a({code:"CANNOT_CONVERT_VAST_AD_INTO_CLICKABLE_VIDEO_AD_CREATIVE_WITHOUT_AD_PARAMETERS",details:{vastAd:e}});const i=function(e){if(!Object(is.a)(e))return;const{AUCTION_DC_PARAMS:t}=e;if(!Object(is.a)(t))return;const{data_params:i}=t;if(!Object(is.a)(i))return;const{misc:r}=i;if(!Object(is.a)(r))return;const{object_id:n}=r;if(!Object(Vs.a)(n))return;const a=i[n];if(!Object(is.a)(a))return;const{click_url:o}=a;if(!Object(is.a)(o))return;const{action_button:s}=o;return Object(Vs.a)(s)?s:void 0}(e.adParametersObject),r=He({},e.adParametersObject,{adParameters:e.adParametersObject});return He({},e,{mediaFiles:[Du],adParametersObject:r,adParameters:JSON.stringify(r),playbackAdParameters:He({clickThroughUrl:i},t.playbackParameters)})}function Xe(e){var t;const{adParametersObject:i}=e;if(!Object(is.a)(i))throw new ls.a({code:"CANNOT_CONVERT_SURVEY_INTO_AD_CREATIVE_WITHOUT_AD_PARAMETERS",details:{vastAd:e}});const r=He({},i,{mediaFiles:[Ru,...null!==(t=i.mediaFiles)&&void 0!==t?t:[]],adParameters:He({},i)}),{duration:n}=i,a=o(n)?n:void 0;return He({},e,{mediaFiles:[Du],adParametersObject:r,adParameters:JSON.stringify(r),durationLimit:a})}function Ke(e){if(void 0===e.mediaFiles[0])return{vastAd:e,reason:void 0};let t;try{t=Be(e.adParameters)}catch(s){return cs.c.event({name:"PrepareYandexVastDetectionError",data:s}),{vastAd:e,reason:void 0}}const i="motion"===t.adFormatType,r="themeEmpty"===t.adFormatType,n="survey"===t.adFormatType,a="interactiveViewer"===t.adFormatType,o="clickableVideo"===t.adFormatType;if(e.adParametersObject){const{theme:t,mediaFiles:r}=e.adParametersObject;a&&t&&cs.c.error({error:new ls.a({code:"IV_THEME_SET_IN_AD_PARAMETERS",details:{vastAd:e}})}),i&&Array.isArray(r)&&r.length>0&&cs.c.error({error:new ls.a({code:"MOTION_MEDIA_FILES_IS_NOT_EMPTY_IN_AD_PARAMETERS",details:{vastAd:e}})})}if(t.isOldVastFormat&&!lu){if(o)return{vastAd:qe(e),reason:"ConvertClickableOnlyVideo"};if(r)return{vastAd:Ye(e),reason:"ConvertVideoBannerThemeEmpty"};if(a)return{vastAd:We(e),reason:"ConvertInteractiveViewerVpaidIntoAdCreative"};if(i)return{vastAd:Ge(e),reason:"ConvertMotionVpaidIntoAdCreative"};if(n)return{vastAd:Xe(e),reason:"ConvertVideoBannerSurveyAdCreative"}}return{vastAd:e,reason:void 0}}function Qe(e){const{adParametersObject:t}=e;return!!t&&Le(t.theme,t)}function Je(e){const t=e.split("?")[0].split("#")[0];return Object(bs.a)(Tu,t)}function Ze(e){let{mediaFiles:t,adParametersObject:i}=e;if((null===i||void 0===i?void 0:i.theme)===Lu)return!0;const[r]=t;return void 0!==r&&function(e){const t=e.split("?")[0].split("#")[0];return Object(bs.a)(Vu,t)}(r.url)}function $e(e){const{adParametersObject:t}=e;return(null===t||void 0===t?void 0:t.theme)===Mu&&Bu(e)}function et(e){return o(e)&&function(e){return a(e)&&Math.floor(e)===e}(e)}function tt(){return(tt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function it(){return(it=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function rt(e){return new Promise((t,i)=>{Object(vh.a)(it({},e,{onSuccess:t,onError:i}))})}function nt(){return(nt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function at(e,t){Th.ya||(Th.ya={}),Th.ya.isDeploying=!0,function e(t,i){const r=i.split(".");let n=window;for(let o=0;o<r.length-1;o++)n=n[r[o]];const a=r[r.length-1];if(void 0===n[a])n[a]=t;else if("object"===typeof n[a])for(const o in t)t.hasOwnProperty(o)&&e(t[o],i+"."+o)}(e,t),delete Th.ya.isDeploying}function ot(e){return void 0===e?e:Array.isArray(e)?e.join("\n"):String(e)}function st(e){if(!Object(is.a)(e))return;const t={},i=["string","number","boolean"];for(const r in e)e.hasOwnProperty(r)&&i.indexOf(typeof e[r])>=0&&(t[r]=e[r]);return t}function dt(){return(dt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function lt(e){return"number"===typeof e.repeatNumber}function ct(){return(ct=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function ut(e){const{adBreak:t}=e;return Object(Cs.a)(Ld.a)?t.adTagURI:function(e){const{adBreak:t,adPlacementOptions:i}=e,{adTagURI:r}=t;return S(r)?w({url:Object(jd.b)(r,Dh(e)),options:i,win:window}):r}(e)}function ht(e){return function(e,t){let i=e;return Object($o.a)(Object(Qu.a)(t),r=>{let[n,a]=r;if(void 0===a)return;const o="["+n+"]";if(a!==o)for(;i.indexOf(o)>-1;)Object(us.e)()&&cs.c.event({name:"ReplaceVastMacro",data:{macroName:n,macroValue:a,stringToReplace:e,macros:t}}),i=i.replace(o,a)}),i}(e,Lh)}function pt(e){let{trackingUrls:t,options:i,sendBeaconParams:r}=e;if(!Array.isArray(t))return;const n=Object(Xo.a)(t,we),a=Object(Zo.a)(n,ht),o=Object(Zo.a)(a,e=>w({url:e,options:i,win:window}));Object($o.a)(o,e=>Y(e,r))}function At(){return(At=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function mt(e){let{eventName:t,trackingEventDetails:i,trackingUrls:r,options:{devicePixelRatio:n,downlink:a,relativeSizeRatio:o,screenSize:s,size:d,visibility:l,videoContentSize:c,videoSlotSize:u,videoAvatarSize:h,videoPixelRatio:p,videoToDevicePixelRatio:A,videoFramesInfo:m,videoSrc:v,videoCurrentSrc:f,videoMuted:_,videoVolume:b,bufferingTime:g,bufferingTimeRatio:O,currentTime:y,remainingBufferedTime:T,adBreakType:E,adFormatType:S,isFullscreen:w}}=e;const I=jh[t],P=void 0===I?1:I+1;jh[t]=P;const C={videoSlotSize:u,videoContentSize:c,videoAvatarSize:{width:Math.round(h.width),height:Math.round(h.height)},videoPixelRatio:p,videoToDevicePixelRatio:A,videoFramesInfo:m,videoSrc:v,bufferingTime:g,bufferingTimeRatio:O,currentTime:y,remainingBufferedTime:T},D=At({trackingUrls:r,trackingEventDetails:i,isVisibilityReliable:Ul,counterInBundle:P},C,{devicePixelRatio:n,downlink:a,relativeSizeRatio:o,screenSize:s,size:d,visibility:l,videoCurrentSrc:f,videoMuted:_,videoVolume:b,adBreakType:E,adFormatType:S,isFullscreen:w});P===Uh&&cs.c.error({error:new ls.a({code:"NORMAL_EVENT_TRACKING_COUNT_EXCEEDED",details:At({eventName:t,eventTrackingsCounts:jh},D)})}),cs.c.event({name:Mh(t),probability:Object(bs.a)(Bh,t)?us.b:us.a,data:D,labels:{},queryParams:{"pcode-version":null===Ku.b||void 0===Ku.b?void 0:Ku.b.pcodeVersion,"widget-version":null===Ku.b||void 0===Ku.b?void 0:Ku.b.widgetVersion}})}function vt(){return(vt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function ft(e){try{mt(e=vt({},e,{options:_t(e.options)})),pt(e)}catch(t){cs.c.error({error:new ls.a({code:"TRACK_EVENT_WITH_STATS_ERROR",details:{trackingUrlsParams:e}})})}}function _t(e){const{size:t,screenSize:i,videoContentSize:r}=e;return vt({},e,{size:U(t,Math.round),screenSize:U(i,Math.round),videoContentSize:r&&U(r,Math.round)})}function bt(e){const{text:t,textColor:i,isVisible:r}=e||Hh;return{text:Object(rd.a)(t)?t:Hh.text,textColor:i||Hh.textColor,isVisible:"boolean"===typeof r?r:Hh.isVisible}}function gt(e){const t=[];if(!Array.isArray(e))throw new ls.a({code:"INVALID_MEDIA_FILES_PARAMETER_IN_AD_PARAMETERS",details:{rawMediaFiles:e}});if(0===e.length)throw new ls.a({code:"NO_MEDIA_FILES_IN_AD_PARAMETERS",details:{rawMediaFiles:e}});const i=Object(Xo.a)(e,Re);if(i.length!==e.length&&t.push("AD_PARAMETERS_CONTAINS_INVALID_MEDIA_FILES"),0===i.length)throw new ls.a({code:"NO_VALID_MEDIA_FILES_IN_AD_PARAMETERS",details:{mediaFiles:e}});const r=[],n=[],a=[];let o;if(Object($o.a)(i,e=>{const{type:t}=e;switch(t){case hu.Overlay:r.push(e);break;case hu.Motion:case hu.VpaidCreative:case hu.Survey:n.push(e);break;default:a.push(e)}}),r.length>0){if(i.length>1)throw new ls.a({code:"OVERLAY_HAS_TOO_MANY_MEDIA_FILES_IN_AD_PARAMETERS",details:{mediaFiles:e}});o=r[0]}else{if(n.length>1)throw new ls.a({code:"LINEAR_AD_CREATIVE_HAS_TOO_MANY_ANIMATION_MEDIA_FILES_IN_AD_PARAMETERS",details:{mediaFiles:e}});o=n[0]}return{errorCodes:t,videoMediaFiles:a,animationMediaFile:o}}function Ot(e){const t=[];let i={};if("string"!==typeof e)throw new ls.a({code:"NO_INTERACTIVE_AD_PARAMETERS",details:{}});try{i=JSON.parse(e)}catch(h){throw new ls.a(h,{code:"INVALID_INTERACTIVE_AD_PARAMETERS",details:{adParametersString:e}})}if(!Object(is.a)(i))throw new ls.a({code:"CANNOT_PARSE_NON_OBJECT_AD_PARAMETERS",details:{adParametersJson:i}});const{tickerData:r,adParameters:n,interactiveElements:a=[],mediaFiles:o}=i,{errorCodes:s,animationMediaFile:d,videoMediaFiles:l}=gt(o),c=Object(Zo.a)(s,t=>new ls.a({code:t,details:{adParametersString:e}}));return t.push(...c),{raw:i,parsed:{tickerData:bt(r),animationMediaFile:d,videoMediaFiles:l,adParameters:(u=n,"string"===typeof u?u:Object(is.a)(u)?he(u):void 0),interactiveElements:a},errors:t};var u}function yt(e){for(const{width:t,height:i}of e){const e=Number(t),r=Number(i);if(o(e)&&o(r))return{width:e,height:r}}}function Tt(e){let{type:t}=e;return Pu.indexOf(t)>-1?"js":"video"}function Et(){return(Et=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function St(e,t){let i=e;return"OnlyYandexCreatives"===t&&(i=Object(Xo.a)(i,e=>"video"===Tt(e)||S(e.url))),i=Object(Zo.a)(i,e=>"video"!==Tt(e)?e:Gh(e))}function wt(e,t){return Object(Yh.a)(St(e,t),e=>"js"===Tt(e))}function It(e){let{url:t}=e;return t===cu}function Pt(e){let{mediaFiles:t,isNonLinear:i}=e;const[r]=t;return void 0!==r&&It(r)}function Ct(e){let{adParametersObject:t}=e;const i=null===t||void 0===t?void 0:t.mediaFiles,r=Array.isArray(i)?i[0]:void 0;return Object(is.a)(r)&&r.url===Nu.url}function Dt(e,t,i){return e>i?i:e<t?t:e}function Nt(e){let{animationMediaFile:t,win:i}=e;const{url:r}=t,n=mu[r];if(void 0!==n){0;let e=nd.a;const t=new Promise((t,r)=>{e=Object(yh.b)({moduleName:n,version:void 0,onSuccess:e=>{t(e.initAdCreative)},onError:e=>{r(e)},win:i,timeout:yh.a})});return{teardown:e,promise:t}}const{promise:a,teardown:o}=Object(Qh.a)({src:r,win:i});return{promise:a.then(()=>i.initAdCreative),teardown:o}}function Rt(e,t){return function(e,t,i){if(e.length<1)return;let[r]=e,n=t(r);for(let a=1;a<e.length;a++){const o=e[a],s=t(o);i(s,n)<0&&(r=o,n=s)}return r}(e,t,(e,t)=>e-t)}function kt(e){let t;try{t=e.devicePixelRatio}catch(i){}return o(t)?t:1}function Vt(e){if(!Object(rd.a)(e))return;return e.split(",")[0].trim()}function Lt(e){return 0===e.indexOf("avc1.")}function Bt(e){return 0===e.indexOf("hvc1.")}function Mt(e){return"vp8"===e||"vp08"===e||0===e.indexOf("vp08.")||0===e.indexOf("vp8.")}function jt(e){return"vp9"===e||"vp09"===e||0===e.indexOf("vp9.")||0===e.indexOf("vp09.")}function Ut(e){return ep.indexOf(e.toLowerCase())>-1}function xt(e){return"number"===typeof e&&e>0}function Ft(e){const{minBitrate:t,maxBitrate:i}=e;return xt(t)&&xt(i)}function Ht(e,t){let{desiredBitrate:i}=t;if(function(e){return Ut(e.type)&&Ic(tp,t=>!xt(e[t]))}(e))return 0;if(Ft(e)){const{minBitrate:t,maxBitrate:r}=e;return i<t?t-i:i>r?i-r:0}const{bitrate:r}=e;return o(r)?Math.abs(r-i):ip}function zt(){return(zt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Wt(e,t){let{desiredBitrate:i}=t;const r=Object(Zo.a)(e,e=>{let{bitrate:t}=e;return zt({},function(e,t){if(null==e)return{};var i,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)i=a[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}(e,["bitrate"]),{bitrate:o(t)?t:ip})}),n=Object(Zo.a)(r,e=>zt({},e,{prioritySolution:Ht(e,{desiredBitrate:i})}));let a=[...n].sort((e,t)=>{let{prioritySolution:i}=e,{prioritySolution:r}=t;return i-r});{const e=Ft(a[0])?Dt(i,a[0].minBitrate,a[0].maxBitrate):a[0].bitrate;a=[...n].sort((t,i)=>t.bitrate<=e&&i.bitrate<=e?i.height-t.height:t.prioritySolution-i.prioritySolution)}return Object(Zo.a)(n,e=>zt({},e,{rating:$h(a,t=>{let{url:i}=t;return e.url===i})}))}function Gt(e){let{slotSize:t,videoSlotSize:i,videoContentSize:r}=e;const n=void 0===r?t.width/t.height:r.width/r.height,a=i.width/i.height>n,o=a?i.height*n:i.width/n,s=a?i.height:i.width,d={width:a?o:s,height:a?s:o},l=Math.min(t.width,d.width)/Math.min(t.height,d.height),c=t.width/t.height>l;return{adjacentSize:c?t.height*l:t.width/l,innerSize:c?t.height:t.width,extraHorizontalSpace:c}}function Yt(e){let{videoContentSize:t,slotSize:i,allowedToHideVideoSlotAreaPortion:r}=e;if(!t)return{reason:"unknownVideoContentSize",value:ds.videoPixelRatio};let{width:n,height:o}=t;if(Object(Vs.a)(n)&&(n=Number(n),ap()),Object(Vs.a)(o)&&(o=Number(o),ap()),!a(n)||!a(o))return{reason:"hasIncorrectWidthAndOrHeight",value:np};if(n<0||o<0)return{reason:"incorrect",value:ds.videoPixelRatio};if(0===o||0===i.height)return{reason:"incorrect",value:ds.videoPixelRatio};if(0===n||0===i.width)return{reason:"incorrect",value:ds.videoPixelRatio};const s=n/o;return{reason:"normal",value:(i.width/i.height>s?o/i.height:n/i.width)/(r?function(e){let{slotSize:t,adContentSize:i,allowedToHideVideoSlotAreaPortion:r}=e;if(!i)return rp;if(void 0===i.width&&void 0===i.height)return rp;const{innerSize:n,adjacentSize:a,extraHorizontalSpace:o}=Gt({slotSize:t,videoContentSize:i,videoSlotSize:t}),s=n/(a/(o?t.width:t.height)),d=n/(1-r);return{multiplier:Math.min(s,d)/n,isVertical:o}}({slotSize:i,adContentSize:t,allowedToHideVideoSlotAreaPortion:r}).multiplier:1)}}function qt(e,t){const i=$l(e);return Object(bs.a)(t,i)?i:void 0}function Xt(e){let{videoPixelRatio:t,type:i,bitrate:r,bitratePriorityFactor:n}=e;const a=function(e){const t=kt(window);let i=e-mp;if("DIVISION"===dp)i=e/t-Ap;else if("SUBTRACTION"===dp){i=e-((t-1)*("undefined"===typeof lp?1:lp)+1)}return 0===i?0:i<0?-i:i*pp}(t),s=function(e){if(!Boolean(e))return bp;if(!Object(Vs.a)(e))return bp;const t=e.toLowerCase();return t===vp?1:t===_p?2:3}(i);let d=2e4;return o(r)&&(d=r),{videoPixelRatioDistance:a,prioritySolution:a+sp*s+n*d}}function Kt(){return(Kt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Qt(e){let{mediaFile:t,abFlags:{enableVp9:i,enableH265:r,disable144p:n}}=e;const a=Vt(t.codec);if(Object(rd.a)(a)){if(n&&144===function(e){let{width:t,height:i}=e;if(o(t)&&o(i))return Math.min(t,i)}(t))return"quality144pIsDisabled";if(Lt(a)){const e=a.substr(5,2);if(Pp.indexOf(e)<0)return"unsupportedAvcPP";const t=a.substr(9,2);return Cp.indexOf(t)<0?"unsupportedAvcLL":void 0}if(!Mt(a))return function(e){return 0===e.indexOf("hev1.")}(a)||Bt(a)?r?void 0:"h265CodecIsDisabled":jt(a)?i?void 0:"vp9CodecIsDisabled":"unsupportedVideoCodec"}}function Jt(e){void 0===e&&(e=window);const t=e.MediaSource||e.WebKitMediaSource;return t&&Object(Cs.a)(t.isTypeSupported)&&!function(e){void 0===e&&(e=window);const t=e.SourceBuffer||e.WebKitSourceBuffer;return!!t&&!(t.prototype&&Object(Cs.a)(t.prototype.appendBuffer)&&Object(Cs.a)(t.prototype.remove))}(e)?t:void 0}function Zt(e){return Vp||Bp?!Vp&&Bp?"noMse":Vp&&!Bp?"noFetch":Object(Vs.a)(e.type)?-1===e.type.toLowerCase().indexOf(vp)?"isNotWebm":kp?Lp?"canPlayMseForAbd":"isNotAbd":"cannotPlayWebmWithMse":"noType":"noMseAndFetch"}function $t(){return($t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function ei(){return(ei=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function ti(e){if(!Array.isArray(e))return[];return Object(Zo.a)(e,e=>{const t=function(e){if(!Object(is.a)(e))return{validationType:"invalidObject"};const{type:t,codec:i,url:r,width:n,height:a,bitrate:s,maxBitrate:d,minBitrate:l,vmafAvg:c}=e,u={type:t,codec:i,url:r,width:n,height:a,bitrate:s,maxBitrate:d,minBitrate:l,vmafAvg:c};return void 0===l&&void 0===d||(!o(l)||!o(d)||l>=d)&&(jp(u),u.minBitrate=void 0,u.maxBitrate=void 0),"string"!==typeof r?$t({},u,{validationType:"invalidUrl"}):r.trim()?"string"!==typeof t?$t({},u,{validationType:"invalidType"}):t.trim()?$t({},u,{validationType:"correct"}):$t({},u,{validationType:"emptyType"}):$t({},u,{validationType:"emptyUrl"})}(e),i=Zt(t);return ei({},t,{playability:function(e){if(!Object(Vs.a)(e.type))return"noType";if(e.type===vp&&gp.a)return"cannotPlayWebmDueToMacOSLimitations";if(!Tp(Ip(e)))return"cannotPlay";const t=Qt({mediaFile:e,abFlags:{enableH265:!0===Sp,enableVp9:!0===wp,disable144p:!0===Ep}});return t||"canPlay"}(t),mseAvailability:i})})}function ii(e,t){if(null==e)return{};var i,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)i=a[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}function ri(){return(ri=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function ni(e,t,i){const r=Date.now(),n=ti(e);let a,s;const{desiredBitrate:d,isVideoADB:l}=t;if(o(d)){a=Wt(n,{desiredBitrate:d}),s="desiredBitrate"}else{a=function(e,t){if(0===e.length)return[];const i=Object(Zo.a)(e,i=>{if(!Boolean(i))throw new ls.a({code:"CANNOT_PRIORITISE_INVALID_MEDIA_FILE",details:{mediaFiles:e,opts:t}});const{value:r,reason:n}=Yt({videoContentSize:i,slotSize:t.container,allowedToHideVideoSlotAreaPortion:t.allowedToHideVideoSlotAreaPortion}),a=Kt({},i,{videoPixelRatio:r,videoPixelRatioReason:n}),{videoPixelRatioDistance:o,prioritySolution:s}=Xt({type:a.type,videoPixelRatio:a.videoPixelRatio,bitrate:a.bitrate,bitratePriorityFactor:t.bitratePriorityFactor});return Kt({},a,{videoPixelRatioDistance:o,prioritySolution:s})}),r=[...i].sort((e,t)=>{let{prioritySolution:i}=e,{prioritySolution:r}=t;return i-r});return Object(Zo.a)(i,e=>Kt({},e,{rating:$h(r,t=>e===t)}))}(n,t),s="videoPixelRatio"}let c,u;if(Zh){const[e,t]=g(a,e=>{let{validationType:t,playability:i,mseAvailability:r}=e;return"correct"===t&&("canPlay"===i&&(!l||"canPlayMseForAbd"===r))});c=e,u=t}else{const[e,t]=g(a,e=>{let{validationType:t,playability:i,mseAvailability:r}=e;return"correct"===t&&"canPlay"===i&&"canPlayMseForAbd"===r});if(e.length>0)c=e,u=t;else{const[e,t]=g(a,e=>{let{validationType:t,playability:i}=e;return"correct"===t&&"canPlay"===i});c=e,u=t}}const h=Rt(c,e=>{let{rating:t}=e;return t});let p,A;Object(Os.a)("prioritisedMediaFiles=["+JSON.stringify(a)+"]"),Object(Os.a)("filteredOutMediaFiles=["+JSON.stringify(u)+"]"),h&&(p=Vt(h.codec),A=h.type.split("/")[1]);const m={codecVp8:0,codecVp9:0,codecAvc:0,codecHvc:0,codecUnknown:0};Object(rd.a)(p)?Mt(p)?m.codecVp8=1:jt(p)?m.codecVp9=1:Lt(p)?m.codecAvc=1:Bt(p)?m.codecHvc=1:m.codecUnknown=1:m.codecUnknown=1;const v={typeWebm:0,typeMp4:0,typeM3u8:0,typeUnknown:0};Object(rd.a)(A)?"webm"===A?v.typeWebm=1:"mp4"===A?v.typeMp4=1:"m3u8"===A?v.typeM3u8=1:v.typeUnknown=1:v.typeUnknown=1;const f={desiredBitrate:0,videoPixelRatio:0};for(const o of Object(Hs.a)(f))if(s===o){f[o]=1;break}const{vast:_,adBreak:b,adConfig:O,adPodId:y,initiator:T}=i;return cs.c.values({name:"PrioritiseMediaFiles",data:{vast:_,adBreak:b,adConfig:O,adPodId:y,initiator:T,input:ri({mediaFiles:Object(Zo.a)(e,e=>Object(is.a)(e)?ri({},e):e)},t,{dpr:kt(window)}),output:{filteredOutMediaFiles:Rd(u),mediaFiles:Rd(a),mediaFile:h?ri({},h):void 0,methodType:s}},labels:{},values:ri({timeSpent:Date.now()-r},f,v,m)}),{validatedMediaFiles:Object(Zo.a)(c,e=>{if("videoPixelRatio"===s){return ii(e,["rating","prioritySolution","videoPixelRatio","videoPixelRatioReason"])}return ii(e,["rating","prioritySolution"])}),prioritisedMediaFiles:a,prioritisedMediaFile:h}}function ai(e){let{scope:t,errorType:i,error:r,details:n}=e;return new ls.a(r,{code:Up(t,i),details:n})}function oi(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];Object(Ko.a)(e)&&Object($o.a)(e,e=>{"function"===typeof e&&e(...i)})}function si(e,t){const i=[];i.push(Object(Is.a)({element:e,eventName:"unhandledrejection",listener:e=>{t(new Error,"UNHANDLED_PROMISE_REJECTION",{})}})),i.push(Object(Is.a)({element:e,eventName:"error",listener:(e,i,r,n,a)=>{t(e.error||new Error,"UNHANDLED_GLOBAL_ERROR",{event:e,src:i,line:r,column:n,error:a,filename:null===e||void 0===e?void 0:e.filename,message:null===e||void 0===e?void 0:e.message})}})),i.push(Object(Is.a)({element:window,eventName:"securitypolicyviolation",listener:e=>{let{blockedURI:i,columnNumber:r,documentURI:n,effectiveDirective:a,lineNumber:o,originalPolicy:s,referrer:d,sourceFile:l,statusCode:c,violatedDirective:u}=e;const h={blockedURI:i,columnNumber:r,documentURI:n,effectiveDirective:a,lineNumber:o,originalPolicy:s,referrer:d,sourceFile:l,statusCode:c,violatedDirective:u};t(new Error,"SECURITY_POLICY_VIOLATION",{securityPolicyViolationEventData:h})}}));const r=new xp({win:e,onReport:e=>{const{reportSourceEvent:i,reports:r,records:n}=e,a=new Error;0===r.length&&0===n.length&&t(a,"EMPTY_REPORT",{reportSourceEvent:i,reportSource:"empty",report:void 0}),Object($o.a)(Object(Qu.a)({reports:r,records:n}),e=>{let[r,n]=e;return Object($o.a)(n,e=>{t(a,function(e){if(!Object(is.a)(e))return"EMPTY_REPORT_ITEM";const{type:t,body:i}=e;if(!Object(rd.a)(t))return"EMPTY_REPORT_TYPE";if("csp-violation"===t)return"CSP_VIOLATION_REPORT";if("intervention"===t){if(Object(is.a)(i)&&Object(rd.a)(i.message)){const e=i.message.toLowerCase();if(e.indexOf("network usage")>-1)return"NETWORK_USAGE_INTERVENTION_REPORT";if(e.indexOf("peak cpu")>-1)return"PEAK_CPU_INTERVENTION_REPORT";if(e.indexOf("total cpu")>-1)return"TOTAL_CPU_INTERVENTION_REPORT";if(e.indexOf("cpu usage")>-1)return"CPU_USAGE_INTERVENTION_REPORT";if(e.indexOf("touchmove")>-1)return"TOUCHMOVE_INTERVENTION_REPORT"}return"UNKNOWN_INTERVENTION_REPORT"}return"deprecation"===t?"DEPRECATION_REPORT":"feature-policy-violation"===t?"FEATURE_POLICY_VIOLATION_REPORT":"UNKNOWN_REPORT_TYPE"}(e),{reportSourceEvent:i,reportSource:r,report:e})})})}});return i.push(()=>{r.destroy()}),()=>oi(i)}function di(e,t){return si(e,(e,i,r)=>{if("SECURITY_POLICY_VIOLATION"===i){const{securityPolicyViolationEventData:e}=r;if(void 0!==e){const{blockedURI:t}=e;if(t&&t.indexOf(cs.b)>-1)return}}t(e,i,r)})}function li(e){return 0===zp.length&&(Hp=window.setInterval(()=>{zp.forEach(e=>e())},Fp)),zp.push(e),()=>{const t=zp.indexOf(e);t>-1&&zp.splice(t,1),0===zp.length&&clearInterval(Hp)}}function ci(e,t){const i=e.ownerDocument.createElement("iframe");if(t&&c(i,t),i.scrolling="no",i.setAttribute("allowfullscreen",""),i.style.display="block",e.appendChild(i),void 0!==i.contentDocument&&null!==i.contentDocument)return i.contentDocument.open(),i.contentDocument.close(),i.contentDocument.body.style.margin="0",i.style.borderWidth="0",i.contentDocument.body.style.width="100%",i.contentDocument.body.style.height="100%",i;Object(Es.a)(i)}function ui(){return(ui=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function hi(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function pi(e){if(qp.a&&console&&console.error){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];console.error(e,...i)}}function Ai(e){let{mediaFiles:t,isNonLinear:i}=e;const[r]=t;return void 0!==r&&(!!i||It(r))}function mi(){return(mi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function vi(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function fi(){return(fi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function _i(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function bi(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function gi(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Oi(e){return"overlay"===e.adType||"inroll-overlay"===e.adType}function yi(){return(yi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Ti(e){let t,{adBreak:{vastTimeout:i,wrapperMaxCount:r,wrapperTimeout:n},isAdFox:a,url:o,adPlacementOptions:s,adConfig:d}=e;return{adPlacementOptions:s,vastSourceType:t=a||o&&E(o)?"AD_FOX":o&&S(o)?"YANDEX":"EXTERNAL",vastTimeout:i,wrapperMaxCount:r,wrapperTimeout:n,requestMethod:Vc({secureMode:d.secureMode,url:o})?"VASFrame":"XMLHttpRequest"}}function Ei(e){let{adConfig:t,adBreak:i,adPlacementOptions:r,win:n}=e;const a=i.adFoxParameters||t.adFoxParameters;if(a)return async function(e){return new iu(e).loadVastPromise}({adConfig:yi({},t,{adFoxParameters:a}),adBreak:i,adPlacementOptions:r});const{loadHarmlessVastCallback:o}=t,s=t.hasOwnProperty("vast")?t.vast:void 0,d=i.inlineVast,l=null!==s&&void 0!==s?s:d,c=Ti({adConfig:t,adBreak:i,isAdFox:!1,adPlacementOptions:r});if(l)return fc({xmlString:l,loadParameters:c,vastUrl:void 0}).then(e=>(o&&0===e.children.length&&o({adPods:Object(Zo.a)(e.ads,e=>{let{clickThrough:t}=e;return{clickThroughUrl:t}})}),e));const u=t.vastUrl?t.vastUrl:ut({adConfig:t,adBreak:i,random:Math.random(),adPlacementOptions:r,win:n});return Tc({url:u,loadParameters:Ti({adConfig:t,adBreak:i,isAdFox:!1,url:u,adPlacementOptions:r})})}async function Si(e){const{adConfig:t,adBreak:i}=e;let r;try{r=await Ei(e)}catch(l){throw l.details||(l.details={}),l.details.adConfig=t,X(l),l}const n=[];for(const c of r.ads)try{var a;const e=c.mediaFiles[0],t=null!==(a=null===e||void 0===e?void 0:e.url)&&void 0!==a?a:"",i=t.split("?")[0].split("#")[0]===du||Je(t)||$e(c)||Qe(c)||Ze(c);if(Boolean(e)&&i){const{vastAd:e,reason:t}=Ke(c);t&&cs.c.event({name:t,data:{previous:c,next:e},probability:us.a}),n.push(e)}else n.push(c)}catch(l){cs.c.error({error:l})}r.children.length>0&&cs.c.event({name:"WrapperVASTLoaded",data:{vast:r}});const o=Object(Zo.a)(n,e=>(e.vast=r,new rA(i,e,t))),s=function(e,t,i){const r=Oi(i);return Object(Xo.a)(e,e=>{const{isNonLinear:n}=e.vastAd;return n===r||(e.trackError(new ls.a({code:n?"CANNOT_PLAY_NONLINEAR_IN_LINEAR_AD_BREAK":"CANNOT_PLAY_LINEAR_IN_NONLINEAR_AD_BREAK",details:{adConfig:t,adBreak:i}})),!1)})}(o,t,i),d=new nA(s);if(0===d.mediaAds.length)throw new ls.a({code:"NO_AD_SECTION",details:void 0});if(Object(Xo.a)(d.mediaAds,e=>e.hasMediaFiles()).length>0)return{mediaAds:d,vast:r};if(d.hasFilteredOutMediaFiles()){const e=Jo(Object(Zo.a)(o,e=>e.vastAd.mediaFiles));throw new ls.a({code:"ALL_MEDIA_FILES_FILTERED_OUT",details:{adConfig:t,unfilteredMediaFiles:e}})}throw new ls.a({code:"NO_AD_TO_DISPLAY",details:void 0})}function wi(e,t){return Object(Yh.a)(e,e=>e.impId===t)}function Ii(e,t){return Object(Xo.a)(e,e=>e.adType===t)}function Pi(e,t){const i=U(t,(t,i)=>e.style[i]);return l(e,t),Object(ul.a)(()=>{l(e,i)})}function Ci(e,t){return void 0===t&&(t=window),("function"===typeof t.getComputedStyle?t.getComputedStyle(e,null):e.currentStyle)||{}}function Di(e){const t=e.getRootNode;if(Object(Cs.a)(t))return t.call(e);let i=e;for(;i.parentNode;)i=i.parentNode;return i}function Ni(e){return!!e&&"ShadowRoot"===Object(Zs.a)(e)}function Ri(e){const t=e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;let i=e;for(;i;){if(i&&t.document.body.contains(i))return!0;const e=Di(i);if(!Ni(e)||!aA(e.host))return!1;i=e.host}return!1}function ki(e,t){const i={};return Object(Hs.a)(t).forEach(t=>{i[t]=e.getAttribute(t)}),c(e,t),Object(ul.a)(()=>{c(e,i)})}function Vi(e){e&&"function"===typeof e.catch&&e.catch(e=>void 0)}function Li(e,t){if(void 0===t&&(t=window),!t||!t[e]||!t[e].prototype)return;const{play:i}=t[e].prototype;return i&&Object($s.a)(i)?i:void 0}function Bi(e){if(!yp)return Promise.reject();const t=(i=e.play)[pA]||i;var i;if(Object($s.a)(t))return t.call(e);const r=Li("HTMLVideoElement")||Li("HTMLMediaElement");if(r)return r.call(e);const n=document.createElement("div");n.style.display="none",document.body.appendChild(n);const a=Li("HTMLMediaElement",Object(hA.a)(n).contentWindow);if(a){const t=a.call(e);return Object(Es.a)(n),t}return e.play()}function Mi(e,t,i,r){const n=function(e){let t=!1,i=!1,r=!1;return!0===e?t=!0:"object"===typeof e&&(t=Boolean(e.capture),i=Boolean(e.passive),r=Boolean(e.once)),{capture:t,passive:i,once:r}}(r),a=wA.a?n:n.capture,o=n.once&&!wA.b?function(e){s(),i.call(this,e)}:i,s=()=>{Object(SA.b)(e,t,o,a)};return Object(SA.a)(e,t,o,a),s}function ji(e,t){void 0===t&&(t={});let i=0;const r=[],n=(t,n)=>{r.push(Mi(e,t,n,PA)),clearTimeout(i)},a=()=>Object(IA.a)(r),o=new Promise((r,a)=>{const o=t=>{e.paused&&a(t)},s=Bi(e);if(o(EA.VideoTagPaused),n("durationchange",()=>o(EA.VideoTagPausedAfterDurationChange)),n("error",()=>o(EA.VideoTagPausedAfterError)),n("pause",()=>a(EA.PauseEvent)),n("playing",()=>{r(EA.PlayingEvent)}),s)t.useProgressEvent&&n("progress",()=>{r(EA.ProgressEvent)}),s.then(()=>r(EA.PromiseResolve)).catch(e=>a(function(e){return e?EA.PromiseReject+"["+e.code+"]["+e.name+"]["+e.message+"]":EA.PromiseReject}(e)));else{const{timeoutForNonPromisePlay:e}=t;"number"===typeof e&&e>0&&(i=window.setTimeout(()=>{a(EA.Timeout)},t.timeoutForNonPromisePlay))}});return o.then(a,a),o}function Ui(e,t){const{paused:i}=e,r=t();return i||Vi(Bi(e)),r}function xi(){return(xi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Fi(e){let{canPlayUnMuted:t,canPlayMuted:i,detectionMethod:r}=e;return{canPlayUnMuted:t,canPlayMuted:i,requireMute:!t&&i,requireUserGesture:!t&&!i,detectionMethod:r}}function Hi(e){if("boolean"===typeof e.allowedToPlay)return Promise.resolve(function(e){const t=AA(e);return e.muted=!1,e.volume=1,e.allowedToPlay?(t(),Fi({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:bA.YaBroAllowedToPlay})):(e.muted=!0,e.volume=0,e.allowedToPlay?(t(),Fi({canPlayUnMuted:!1,canPlayMuted:!0,detectionMethod:bA.YaBroAllowedToPlay})):(t(),Fi({canPlayUnMuted:!1,canPlayMuted:!1,detectionMethod:bA.YaBroAllowedToPlay})))}(e));const t=function(e){if(void 0===e&&(e=window),TA(e))return Fi({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:bA.WebOSSmartTV})}();if(void 0!==t)return Promise.resolve(t);const i=function(e){if(void 0===e&&(e=window),_A(e))return Fi({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:bA.OrsaySmartTV})}();if(void 0!==i)return Promise.resolve(i);const r=function(e){if(void 0===e&&(e=window),gA(e))return Fi({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:bA.PlayStationSmartTV})}();if(void 0!==r)return Promise.resolve(r);if(e.isAVPlay)return Promise.resolve(xi({},RA,{detectionMethod:bA.TizenAVPlay}));const n=function(e){if(void 0===e&&(e=window),OA(e))return yA(e)?Fi({canPlayUnMuted:!1,canPlayMuted:!1,detectionMethod:bA.Tizen23SmartTV}):Fi({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:bA.TizenSmartTVModern})}();return void 0!==n?Promise.resolve(n):lA&&dA<=9||CA?Promise.resolve(xi({},NA,{detectionMethod:bA.IOS9OrLess})):yp?DA?Promise.resolve(xi({},RA,{detectionMethod:bA.OldIE})):void 0:Promise.resolve(xi({},NA,{detectionMethod:bA.HTML5VideoIsNotSupported}))}function zi(){return(zi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Wi(e){return void 0===e&&(e=""),e.replace(qA,e=>e in XA?XA[e]:e)}function Gi(e){var t;const{AUCTION_DC_PARAMS:i}=e;if(!Object(is.a)(i)||!Object(is.a)(i.data_params))return;const r=QA(i.data_params);if(!Object(is.a)(r))return;let n=null===(t=r.click_url)||void 0===t?void 0:t.action_button;const a=Ud.a.getFlagValueAndActivateTestId("CHANGE_CLICK_THROUGH_LOGIC");var o,s;if("ACTION_BUTTON_PRIORITY"===a)n=(null===(o=r.click_url)||void 0===o?void 0:o.action_button)||(null===(s=r.click_url)||void 0===s?void 0:s.text_name);else if("TEXT_NAME_PRIORITY"===a){var d,l;n=(null===(d=r.click_url)||void 0===d?void 0:d.text_name)||(null===(l=r.click_url)||void 0===l?void 0:l.action_button)}return Object(rd.a)(n)?n:void 0}function Yi(e){return!Object(Hs.a)(e).length}function qi(e){if(!Object(is.a)(e))return[];const{AUCTION_DC_PARAMS:t}=e;if(!Object(is.a)(t)||!Object(is.a)(t.data_params))return[];const i=QA(t.data_params);if(!Object(is.a)(i)||!Object(is.a)(i.text))return[];const r=i.text,n=i.unmoderated||r.unmoderated||{};return ZA(n.images)}function Xi(e){const{AUCTION_DC_PARAMS:t}=e;if(!Object(is.a)(t)||!Object(is.a)(t.data_params))return;const i=QA(t.data_params);if(!Object(is.a)(i))return;const r=i.target_url;return Object(rd.a)(r)?r:void 0}function Ki(e){var t,i;if(!Object(is.a)(e))throw new ls.a({code:"CANNOT_PARSE_DISCLAIMERS_FROM_AD_PARAMETERS",details:{adParametersJson:e}});const{AUCTION_DC_PARAMS:r,LEGAL_TEXT:n,HAS_LEGAL:a}=e,o=QA(null!==(t=null===r||void 0===r?void 0:r.data_params)&&void 0!==t?t:{}),{warning:s,dynamic_disclaimer:d,banner_flags:l}=null!==(i=null===o||void 0===o?void 0:o.text)&&void 0!==i?i:{},c=null!==l&&void 0!==l?l:[],u=Object(bs.a)(c,"medicine"),h=Object(bs.a)(c,"dietarysuppl"),p=Object(bs.a)(c,"distance_sales"),A=a&&(null===n||void 0===n?void 0:n.trim())&&n,m=Object(rd.a)(s)&&"1"===d?s:void 0;return(a||Object(rd.a)(A)||Object(rd.a)(m)||u||h||p)&&$A({HAS_LEGAL:a,LEGAL_TEXT:n,dynamic_disclaimer:d,warning:s,hasDrugDisclaimer:u,hasDietarysupplDisclaimer:h,hasDistanceSales:p}),{hasDrugDisclaimer:u,hasDietarysupplDisclaimer:h,hasDistanceSales:p,legalInfoText:A||m||void 0}}function Qi(){const e=Rd(sc);for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];const n=Object(Xo.a)(i,e=>Boolean(e));return Object(Qo.a)(n,(e,t)=>(function(e,t){const i=Rd(sc);!1===t.visibility?i.visibility=!1:i.visibility=e.visibility;for(const r of cm)!1===i.visibility?i.controlsVisibility[r]=!1:"boolean"===typeof t.controlsVisibility[r]?i.controlsVisibility[r]=t.controlsVisibility[r]:i.controlsVisibility[r]=e.controlsVisibility[r];return i})(e,t),e)}function Ji(e){const{BUTTON_LABELS:t,BUTTON_TEXT:i}=e;return Object(is.a)(t)&&Object(rd.a)(t[Yl])?t[Yl]:Object(rd.a)(i)?i:void 0}function Zi(e){const{imhoParams:t,isNonLinear:i}=e;if(i)return!1;if(function(e){let{mediaFiles:t}=e;const[i]=t;return void 0!==i&&Je(i.url)}(e))return!1;if(Ze(e))return!1;if(Ai(e)){const{adParametersObject:t}=e;if(!t)return!1;const i=Object(Pl.a)(()=>gt(t.mediaFiles));if(!i)return!1;if(0===i.videoMediaFiles.length)return!1}return t?t.showSoundButton:pm}function $i(e){if(Ze(e))return!1}function er(e){const{imhoParams:t,playbackAdParameters:i}=e,r={controlsVisibility:{adLabel:null===t||void 0===t?void 0:t.showLabel,mute:Zi(e),skip:hm,play:$i(e)}};let n;return i&&(n=i.controlsSettings),Qi(r,n)}function tr(e){let{playbackParameters:t,secureMode:i,vastAd:r,adBreak:n}=e;const s=Qi(er(r),t.controlsSettings),{skipDelay:d,eventName:l}=function(e){let{vastAd:t}=e;const{skipTime:i,skipOffset:r,playbackAdParameters:n}=t;return n&&a(n.skipDelay)?{skipDelay:n.skipDelay,eventName:void 0}:a(r)?a(i)?{skipDelay:i,eventName:"UsingSkipTimeExtensionValue"}:{skipDelay:r,eventName:void 0}:{skipDelay:um,eventName:void 0}}({vastAd:r});let c;void 0!==l&&cs.c.event({name:l,probability:us.a,data:void 0}),!0===t.backgroundBlur?c="blur":r.backgroundColor?c={color:r.backgroundColor}:!0===r.backgroundBlur&&!1!==t.backgroundBlur&&(c="blur");const u=!1===t.packshotSettings.isEnabled,h=Object(is.a)(r.adParametersObject)&&!u?function(e){const t=e.packshot_duration;if(!o(t))return;const i=e.PACKSHOT_IMAGE_URL;if(!Object(rd.a)(i))return;const r=Gi(e);return void 0!==r?{packshotDuration:t,packshotImageUrl:i,packshotActionButtonClickUrl:r,packshotButtonText:Ji(e)}:void 0}(r.adParametersObject):void 0;let p,A;var m,v;(p=!0===t.showGuiForVpaid||(Boolean(r.imhoParams)||Pt(r)),"number"===typeof t.bufferFullTimeout)?A=t.bufferFullTimeout:A=null!==(m=null===(v=r.playbackAdParameters)||void 0===v?void 0:v.bufferFullTimeout)&&void 0!==m?m:n.bufferFullTimeout;let f;var _,b;o(t.bufferEmptyLimit)?f=t.bufferEmptyLimit:f=null!==(_=null===(b=r.playbackAdParameters)||void 0===b?void 0:b.bufferEmptyLimit)&&void 0!==_?_:n.bufferEmptyLimit;let g;var O,y;o(t.videoTimeout)?g=t.videoTimeout:g=null!==(O=null===(y=r.playbackAdParameters)||void 0===y?void 0:y.videoTimeout)&&void 0!==O?O:n.videoTimeout;const T=o(t.vpaidTimeout)?t.vpaidTimeout:n.vpaidTimeout,E=r.adParametersObject?Gi(r.adParametersObject):void 0,S="string"===typeof t.clickThroughUrl||r.isClickable&&Object(rd.a)(r.clickThrough)||Object(rd.a)(E);return{controlsSettings:s,background:c,showGuiForVpaid:p,skipDelay:"number"===typeof t.skipDelay?t.skipDelay:d,bufferFullTimeout:A,bufferEmptyLimit:f,videoTimeout:g,vpaidTimeout:T,clickThroughUrl:Object(rd.a)(t.clickThroughUrl)?t.clickThroughUrl:Object(rd.a)(r.clickThrough)?r.clickThrough:Object(rd.a)(E)?E:"",isClickable:S,packshotParameters:h}}function ir(e){if("error"===e.reason)return e.details}function rr(e){var t,i,r,n,a,o,s,d;const l=null!==(t=null!==(i=null!==(r=null!==(n=e.requestAnimationFrame)&&void 0!==n?n:e.mozRequestAnimationFrame)&&void 0!==r?r:e.webkitRequestAnimationFrame)&&void 0!==i?i:e.msRequestAnimationFrame)&&void 0!==t?t:t=>e.setTimeout(t,Am),c=null!==(a=null!==(o=null!==(s=null!==(d=e.cancelAnimationFrame)&&void 0!==d?d:e.mozCancelAnimationFrame)&&void 0!==s?s:e.webkitCancelAnimationFrame)&&void 0!==o?o:e.msCancelAnimationFrame)&&void 0!==a?a:t=>e.clearTimeout(t);return{requestAnimationFrame:l.bind(e),cancelAnimationFrame:c.bind(e)}}function nr(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function ar(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function or(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function sr(e,t,i){const r=()=>Object(Zo.a)(e,e=>e.getValue());let n=t(...r());i(n);const a=()=>{const e=t(...r());n!==e&&(n=e,i(e))},o=Object(Zo.a)(e,e=>e.add(a));return()=>{oi(o)}}function dr(e){return!!Object(is.a)(e)&&aA(e)}function lr(e){let{videoNodeController:t,bufferEmptyLimit:i,callback:r}=e;if(!o(i))return nd.a;let n=0;const a=t.onBufferingAfterPlay.add(()=>{n++,Object(Os.a)("bufferEmptyCount=["+n+"] limit=["+i+"]"),n<=i||(a(),r())});return a}function cr(e){let{videoNodeController:t,bufferFullTimeout:i,callback:r}=e,n=nd.a;const a=t.isBuffering.add(async e=>{if(n(),!e)return;const{promise:t,clear:o}=Object(es.a)(i);n=o,await t,n(),a(),r()});return()=>{n(),a()}}function ur(e,t){const i=Object(Is.a)({element:e,eventName:"timeupdate",listener:()=>{e.currentTime>0&&!e.paused&&(n(),t())}}),r=Object(Is.a)({element:e,eventName:"playing",listener:()=>{e.duration>0&&(n(),t())}}),n=()=>{i(),r()};return n}function hr(e){function t(){let{duration:e}=i.getCurrentPosition();return o(e)||(e=r()),o(n)?Math.min(e,n):e}let{videoNodeController:i,durationFallback:r,durationLimit:n,callbacks:{AdStarted:a,AdVideoFirstQuartile:s,AdVideoMidpoint:d,AdVideoThirdQuartile:l,AdVideoBeforeComplete:c,AdVideoComplete:u}}=e;const h=Object(ad.a)(s),p=Object(ad.a)(d),A=Object(ad.a)(l),m=Object(ad.a)(c);let v=0;const f=()=>{const e=t();if(!o(e))return;const{currentTime:r}=i.getCurrentPosition(),n=(r-v)/e;n>=.25&&h(),n>=.5&&p(),n>=.75&&A()},_=Object(ad.a)((function(e){void 0===e&&(e={completeOnDurationLimit:!1}),f(),u(e)})),b=[ur(i.videoNode,()=>{v=i.getCurrentPosition().currentTime,a()}),i.currentPosition.add(e=>{let{currentTime:i}=e;const{isBeforeEnd:r,isEnd:a}=function(e){let{currentTime:t,duration:i}=e;return t>=i?{isBeforeEnd:!1,isEnd:!0}:t+Om>=i?{isBeforeEnd:!0,isEnd:!1}:{isBeforeEnd:!1,isEnd:!1}}({currentTime:i,duration:t()});r&&m(),a&&o(n)&&_({completeOnDurationLimit:!0,durationLimit:n})}),i.currentPosition.add(f),i.onEnd.add(_)];return()=>oi(b)}function pr(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Ar(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function mr(e){var t;if(!S(e)&&!E(e)||!jl.a)return e;const i=Rm.a[Rm.a.length-1],r=null!==(t=null===i||void 0===i?void 0:i.ownerDocument)&&void 0!==t?t:document;return Object(jd.a)(e,"target_ref",r.referrer)}function vr(e,t){if(e===t)return!0;if(!Object(is.a)(e)||!Object(is.a)(t))return!1;if(Object(Ko.a)(e)!==Object(Ko.a)(t))return!1;const i=Object(Hs.a)(e),r=Object(Hs.a)(t);if(i.length!==r.length)return!1;for(const n of r){if(!(n in e))return!1;if(!vr(e[n],t[n]))return!1}return!0}function fr(e,t){const i=function(e){const t=Object(Bm.a)(e);if(t)return t.replace(/hidden/i,"visibilitychange")}(e);return i?Object(Is.a)({element:e,eventName:i,listener:()=>{t(Object(Lm.a)(e))}}):nd.a}function _r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function br(){return(br=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function gr(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Or(){return(Or=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function yr(e,t){if(!t)return;if(!function(e){return Object(bs.a)(rv,e)}(e))return;const i=Object(Hs.a)(t);for(const r of i){const t=nv[r][e];cs.c.event({name:t,data:void 0})}}function Tr(e,t){let{width:i,height:r}=e;const n=Object(Zo.a)([i,r],e=>Math.round(e)),a=Math.min(...n),o=Math.max(...n);return t?a>=dv&&o*a>=lv:a>=ov&&o*a>=sv}function Er(){return(Er=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Sr(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function wr(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Ir(e,t){const i=function(e){void 0===e&&(e=window);const{document:t={}}=e;return Object(Xo.a)(mv,e=>{let{enabled:i}=e;return i in t})}(e);if(i.length>0)return i[0];const r=function(e,t){var i,r;return void 0===e&&(e=window),void 0===t&&(t=null!==(i=null===(r=e.HTMLVideoElement)||void 0===r?void 0:r.prototype)&&void 0!==i?i:{}),Object(Xo.a)(mv,e=>{let{enabled:i}=e;return i in t})}(e,t);return r.length>0?r[0]:void 0}function Pr(e,t){const i=Ir(e,t);if(!i)return null;let r=e.document[i.element];return t&&t[i.element]&&(r=t),r||null}function Cr(e){const{videoWidth:t,videoHeight:i}=e;if(o(t)&&o(i))return{width:t,height:i}}function Dr(e){let{win:t,slotSize:i,slotVisibilityRatio:r,videoSlotSize:n,videoNode:s,bufferingTime:l,adBreakType:c,adFormatType:u}=e;const h=Av(t),p=h.width*h.height,A=i.width*i.height,m=0===p?0:A/p,v=kt(t),f=function(e){void 0===e&&(e=window);const{navigator:t}=e,{connection:i={}}=t;if("number"===typeof i.downlink)return i.downlink;if("number"===typeof i.downlinkMax)return i.downlinkMax;const r=i.type;if("string"===typeof r||"number"===typeof r)switch(r){case"BLUETOOTH":return 3;case vv.CELL_2G:return.384;case vv.CELL_3G:case"CELLULAR":return 2;case"WIMAX":return 37;case"NONE":return 0;case vv.ETHERNET:case"ETHERNET":case vv.WIFI:case"WIFI":case"MIXED":return 10;case vv.UNKNOWN:}return-1}(t),_=s?Cr(s):ds.videoContentSize;let b=ds.videoAvatarSize,g=ds.videoFramesInfo,O=ds.videoSrc,y=ds.videoCurrentSrc,T=ds.videoMuted,E=ds.videoVolume,S=ds.currentTime,w=ds.bufferingTimeRatio,I=ds.remainingBufferedTime,P=ds.isFullscreen;if(s){const{innerSize:e,adjacentSize:r,extraHorizontalSpace:o}=Gt({slotSize:i,videoContentSize:_,videoSlotSize:n});b={width:o?r:e,height:o?e:r},g=d(s),O=s.src,y=s.currentSrc,T=s.muted,E=s.volume;const c=function(e){const t=[];if(!e)return t;if(!e.buffered)return t;if(!a(e.buffered.length)||!Object(Cs.a)(e.buffered.start)||!Object(Cs.a)(e.buffered.end))return t;for(let i=0;i<e.buffered.length;i++)t.push({start:e.buffered.start(i),end:e.buffered.end(i)});return function(e){if(e.length<=1)return e;const t=e.map(e=>{let{start:t,end:i}=e;return{start:t,end:i}}).sort((e,t)=>e.start-t.start),i=[t[0]];for(let r=1;r<t.length;r++){const e=t[r],n=i[i.length-1];n.end<e.start?i.push(e):n.end<e.end&&(n.end=e.end)}return i}(t)}(s);S=s.currentTime;const u=(C=c,D=S,Object(Yh.a)(C,e=>{let{start:t,end:i}=e;return t<=D&&D<=i}));u&&(I=u.end-S),a(S)&&a(l)&&l+S>0&&(w=l/(l+S)),P=function(e,t){const i=Pr(e);return!!i&&i.contains(t)}(t,s)}var C,D;const{value:N}=Yt({videoContentSize:_,slotSize:i});let R=ds.videoToDevicePixelRatio;return o(N)&&(R=N/v),{visibility:r,size:i,relativeSizeRatio:m,screenSize:h,devicePixelRatio:v,downlink:f,videoContentSize:_,videoSlotSize:n,videoAvatarSize:b,videoPixelRatio:N,videoToDevicePixelRatio:R,videoFramesInfo:g,videoSrc:O,videoCurrentSrc:y===O?void 0:y,videoMuted:T,videoVolume:E,bufferingTime:l,currentTime:S,bufferingTimeRatio:w,remainingBufferedTime:I,adBreakType:c,adFormatType:u,isFullscreen:P}}function Nr(e){const t=e.ownerDocument,i=t.defaultView,r=t.documentElement,n=e.getBoundingClientRect();return{winWidth:_v?Math.max(r.clientWidth,(null===i||void 0===i?void 0:i.innerWidth)||0):(null===i||void 0===i?void 0:i.innerWidth)||r.clientWidth||t.body.clientWidth,winHeight:_v?Math.max(r.clientHeight,(null===i||void 0===i?void 0:i.innerHeight)||0):(null===i||void 0===i?void 0:i.innerHeight)||r.clientHeight||t.body.clientHeight,left:n.left,top:n.top,width:n.width,height:n.height}}function Rr(e){let{width:t,height:i,top:r,left:n,winWidth:a,winHeight:o}=e;const s=n+t,d=r+i,l=Dt(n,0,a),c=Dt(r,0,o);return{winWidth:a,winHeight:o,left:l,top:c,width:Dt(s,l,a)-l,height:Dt(d,c,o)-c}}function kr(e,t){return e.width*e.height/(t.width*t.height)}function Vr(e){const t=function(e){return[Nr(e),...Object(Zo.a)(Object(fv.a)(e),Nr)]}(e);let i=Rr(t[0]),r=kr(i,t[0]);for(let o=1;o<t.length;o++){const e=t[o];r=kr(i=Rr((n=i,{winWidth:(a=e).winWidth,winHeight:a.winHeight,left:n.left+a.left,top:n.top+a.top,width:n.width,height:n.height})),t[0])}var n,a;return r}function Lr(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Br(e){return Object($o.a)(Object(Hs.a)(Qm),t=>{const i=Qm[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:()=>{if("function"===typeof e[i])try{return e[i]()}catch(r){cs.c.error({error:new ls.a({code:"VPAID_METHOD_FOR_GETTER_ERROR",details:{propertyName:t}})})}else cs.c.error({error:new ls.a({code:"VPAID_HAS_NO_METHOD_FOR_GETTER",details:{propertyName:t}})})}})}),Object($o.a)(Object(Hs.a)(Jm),t=>{const i=Jm[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!0,set:r=>{if("function"===typeof e[i])try{return e[i](r)}catch(n){cs.c.error({error:new ls.a({code:"VPAID_METHOD_FOR_SETTER_ERROR",details:{propertyName:t,value:r}})})}else cs.c.error({error:new ls.a({code:"VPAID_HAS_NO_METHOD_FOR_SETTER",details:{propertyName:t,value:r}})})}})}),e}function Mr(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function jr(){return(jr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Ur(){return(Ur=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function xr(){return(xr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Fr(){return(Fr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Hr(e){return"YandexTestMeasurerVpaidEvent_"+e}function zr(e,t){const i={};return Object(Hs.a)(e).forEach(r=>{t(e[r],r)&&(i[r]=e[r])}),i}function Wr(e){return Array.isArray(e)?Object(Xo.a)(e,e=>"string"===typeof e&&e.length>0):[]}function Gr(e){const t=[];return Object(is.a)(e)?{measurers:zr(e,(i,r)=>Object(is.a)(i)?-1!==Hv.indexOf(r)||(t.push(new ls.a({code:"UNSUPPORTED_MEASURER",details:{measurerName:r,measurersParameters:e}})),!1):(t.push(new ls.a({code:"MEASURER_PARAMS_IN_NOT_AN_OBJECT",details:{measurerName:r,measurersParameters:e}})),!1)),errors:t}:(void 0!==e&&t.push(new ls.a({code:"INVALID_MEASURERS_PARAMETERS",details:{measurersParameters:e}})),{measurers:{},errors:t})}function Yr(){return(Yr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function qr(e){const t=[],{measurers:i,AUCTION_DC_PARAMS:r}=e;let n={},a={};const{bannerParameters:o,errors:s}=function(e){const t=[];if(!Object(is.a)(e))return{bannerParameters:void 0,errors:t};const{data_params:i}=e;if(!Object(is.a)(i))return{bannerParameters:void 0,errors:t};const{misc:r}=i;if(!Object(is.a)(r))return{bannerParameters:void 0,errors:t};const{object_id:n}=r,a=i[n];return Object(is.a)(a)?{bannerParameters:a,errors:t}:{bannerParameters:void 0,errors:t}}(r);if(t.push(...s),Object(is.a)(o)){const{measurers:i,unmoderated:r}=o,{measurers:s,errors:d}=Gr(i);if(t.push(...d),n=s,Object(is.a)(r)){const{measurers:i}=r;i&&t.push(new ls.a({code:"AUCTION_DC_PARAMS_UNMODERATED_MEASURERS_ARE_USED",details:{rawAdParameters:e}}));const{measurers:n,errors:o}=Gr(i);t.push(...o),a=n}}const{measurers:d,errors:l}=Gr(i);t.push(...l);const c=Object(Hs.a)(a).length>0,u=Object(Hs.a)(n).length>0,h=Object(Hs.a)(d).length>0;return Number(c)+Number(u)+Number(h)>1&&t.push(new ls.a({code:"USING_MULTIPLE_MEASURERS_OBJECTS",details:{rawAdParameters:e}})),{measurers:Yr({},a,n,d),errors:t}}function Xr(e){return Object(is.a)(e)?U(zv,(t,i)=>Wr(e[i])):Rd(zv)}function Kr(e){const{sad:t,AUCTION_DC_PARAMS:i}=e;return"sad"===t||!!Object(is.a)(i)&&"sad"===i.sad}function Qr(e){if(!Object(is.a)(e))return;const{ids:t,partnerCode:i}=e;return"string"===typeof i?Object(is.a)(t)?{partnerCode:i,ids:zr(t,e=>"string"===typeof e)}:{partnerCode:i,ids:{}}:void 0}function Jr(e){return e<2?1e3:2===e?3e3:5e3}function Zr(){return(Zr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function $r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function en(e,t,i){void 0===i&&(i={});const r=e,{onStop:n=nd.a,onInitMeasurer:a=nd.a,onTrackEvent:o=nd.a,onExecutionError:s=nd.a,onAdError:d=nd.a,onPlayingStateChange:l=nd.a,onSlotHoverStateChange:c=nd.a,onSlotVisibilityStateChange:u=nd.a,onSlotSizeChange:h=nd.a}=i,p=new Wv(r,t,{onStop:n,onInitMeasurer:a,onTrackEvent:o,onExecutionError:s,onAdError:d,onPlayingStateChange:l,onSlotVisibilityStateChange:u,onSlotHoverStateChange:c,onSlotSizeChange:h});return{measurableVPAIDCreative:function(e,t){let{vpaidWillCallMethod:i,vpaidWillSetProperty:r}=t;const n=U(Xm,(e,t)=>{return function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return i(t,r)}});return Object($o.a)(Object(Hs.a)(Km),t=>{Object.defineProperty(n,t,{configurable:!0,enumerable:!0,get:()=>e[t],set:e=>{r(t,e)}})}),n}(r,p),userInteractionDispatchers:p.userInteractionDispatchers,vpaidCreativeProxyForMeasurers:p.vpaidCreativeProxyForMeasurers}}function tn(e,t){for(var i in t)e[i]=t[i];return e}function rn(e){var t=e.parentNode;t&&t.removeChild(e)}function nn(e,t,i){var r,n=arguments,a={};for(r in t)"key"!==r&&"ref"!==r&&(a[r]=t[r]);if(arguments.length>3)for(i=[i],r=3;r<arguments.length;r++)i.push(n[r]);if(null!=i&&(a.children=i),"function"==typeof e&&null!=e.defaultProps)for(r in e.defaultProps)void 0===a[r]&&(a[r]=e.defaultProps[r]);return an(e,a,t&&t.key,t&&t.ref)}function an(e,t,i,r){var n={type:e,props:t,key:i,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0};return Qv.vnode&&Qv.vnode(n),n}function on(e){return e.children}function sn(e,t){this.props=e,this.context=t}function dn(e,t){if(null==t)return e.__?dn(e.__,e.__.__k.indexOf(e)+1):null;for(var i;t<e.__k.length;t++)if(null!=(i=e.__k[t])&&null!=i.__e)return i.__e;return"function"==typeof e.type?dn(e):null}function ln(e){var t,i;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(i=e.__k[t])&&null!=i.__e){e.__e=e.__c.base=i.__e;break}return ln(e)}}function cn(e){(!e.__d&&(e.__d=!0)&&1===Jv.push(e)||$v!==Qv.debounceRendering)&&(($v=Qv.debounceRendering)||Zv)(un)}function un(){var e,t,i,r,n,a,o;for(Jv.sort((function(e,t){return t.__v.__b-e.__v.__b}));e=Jv.pop();)e.__d&&(i=void 0,r=void 0,a=(n=(t=e).__v).__e,(o=t.__P)&&(i=[],r=vn(o,n,tn({},n),t.__n,void 0!==o.ownerSVGElement,null,i,null==a?dn(n):a),fn(i,n),r!=a&&ln(n)))}function hn(e,t,i,r,n,a,o,s,d){var l,c,u,h,p,A,m,v=i&&i.__k||nf,f=v.length;if(s==rf&&(s=null!=a?a[0]:f?dn(i,0):null),l=0,t.__k=function e(t,i,r){if(null==r&&(r=[]),null==t||"boolean"==typeof t)i&&r.push(i(null));else if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n],i,r);else r.push(i?i("string"==typeof t||"number"==typeof t?an(null,t,null,null):null!=t.__e||null!=t.__c?an(t.type,t.props,t.key,null):t):t);return r}(t.__k,(function(i){if(null!=i){if(i.__=t,i.__b=t.__b+1,null===(u=v[l])||u&&i.key==u.key&&i.type===u.type)v[l]=void 0;else for(c=0;c<f;c++){if((u=v[c])&&i.key==u.key&&i.type===u.type){v[c]=void 0;break}u=null}if(h=vn(e,i,u=u||rf,r,n,a,o,s,d),(c=i.ref)&&u.ref!=c&&(m||(m=[]),u.ref&&m.push(u.ref,null,i),m.push(c,i.__c||h,i)),null!=h){var _;if(null==A&&(A=h),void 0!==i.__d)_=i.__d,i.__d=void 0;else if(a==u||h!=s||null==h.parentNode){e:if(null==s||s.parentNode!==e)e.appendChild(h),_=null;else{for(p=s,c=0;(p=p.nextSibling)&&c<f;c+=2)if(p==h)break e;e.insertBefore(h,s),_=s}"option"==t.type&&(e.value="")}s=void 0!==_?_:h.nextSibling,"function"==typeof t.type&&(t.__d=s)}}return l++,i})),t.__e=A,null!=a&&"function"!=typeof t.type)for(l=a.length;l--;)null!=a[l]&&rn(a[l]);for(l=f;l--;)null!=v[l]&&gn(v[l],v[l]);if(m)for(l=0;l<m.length;l++)bn(m[l],m[++l],m[++l])}function pn(e,t,i){"-"===t[0]?e.setProperty(t,i):e[t]="number"==typeof i&&!1===af.test(t)?i+"px":null==i?"":i}function An(e,t,i,r,n){var a,o,s,d,l;if(n?"className"===t&&(t="class"):"class"===t&&(t="className"),"key"===t||"children"===t);else if("style"===t)if(a=e.style,"string"==typeof i)a.cssText=i;else{if("string"==typeof r&&(a.cssText="",r=null),r)for(o in r)i&&o in i||pn(a,o,"");if(i)for(s in i)r&&i[s]===r[s]||pn(a,s,i[s])}else"o"===t[0]&&"n"===t[1]?(d=t!==(t=t.replace(/Capture$/,"")),l=t.toLowerCase(),t=(l in e?l:t).slice(2),i?(r||e.addEventListener(t,mn,d),(e.l||(e.l={}))[t]=i):e.removeEventListener(t,mn,d)):"list"!==t&&"tagName"!==t&&"form"!==t&&"type"!==t&&"size"!==t&&!n&&t in e?e[t]=null==i?"":i:"function"!=typeof i&&"dangerouslySetInnerHTML"!==t&&(t!==(t=t.replace(/^xlink:?/,""))?null==i||!1===i?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),i):null==i||!1===i?e.removeAttribute(t):e.setAttribute(t,i))}function mn(e){this.l[e.type](Qv.event?Qv.event(e):e)}function vn(e,t,i,r,n,a,o,s,d){var l,c,u,h,p,A,m,v,f,_,b=t.type;if(void 0!==t.constructor)return null;(l=Qv.__b)&&l(t);try{e:if("function"==typeof b){if(v=t.props,f=(l=b.contextType)&&r[l.__c],_=l?f?f.props.value:l.__:r,i.__c?m=(c=t.__c=i.__c).__=c.__E:("prototype"in b&&b.prototype.render?t.__c=c=new b(v,_):(t.__c=c=new sn(v,_),c.constructor=b,c.render=On),f&&f.sub(c),c.props=v,c.state||(c.state={}),c.context=_,c.__n=r,u=c.__d=!0,c.__h=[]),null==c.__s&&(c.__s=c.state),null!=b.getDerivedStateFromProps&&(c.__s==c.state&&(c.__s=tn({},c.__s)),tn(c.__s,b.getDerivedStateFromProps(v,c.__s))),h=c.props,p=c.state,u)null==b.getDerivedStateFromProps&&null!=c.componentWillMount&&c.componentWillMount(),null!=c.componentDidMount&&c.__h.push(c.componentDidMount);else{if(null==b.getDerivedStateFromProps&&v!==h&&null!=c.componentWillReceiveProps&&c.componentWillReceiveProps(v,_),!c.__e&&null!=c.shouldComponentUpdate&&!1===c.shouldComponentUpdate(v,c.__s,_)){for(c.props=v,c.state=c.__s,c.__d=!1,c.__v=t,t.__e=i.__e,t.__k=i.__k,c.__h.length&&o.push(c),l=0;l<t.__k.length;l++)t.__k[l]&&(t.__k[l].__=t);break e}null!=c.componentWillUpdate&&c.componentWillUpdate(v,c.__s,_),null!=c.componentDidUpdate&&c.__h.push((function(){c.componentDidUpdate(h,p,A)}))}c.context=_,c.props=v,c.state=c.__s,(l=Qv.__r)&&l(t),c.__d=!1,c.__v=t,c.__P=e,l=c.render(c.props,c.state,c.context),t.__k=null!=l&&l.type==on&&null==l.key?l.props.children:l,null!=c.getChildContext&&(r=tn(tn({},r),c.getChildContext())),u||null==c.getSnapshotBeforeUpdate||(A=c.getSnapshotBeforeUpdate(h,p)),hn(e,t,i,r,n,a,o,s,d),c.base=t.__e,c.__h.length&&o.push(c),m&&(c.__E=c.__=null),c.__e=!1}else t.__e=_n(i.__e,t,i,r,n,a,o,d);(l=Qv.diffed)&&l(t)}catch(e){Qv.__e(e,t,i)}return t.__e}function fn(e,t){Qv.__c&&Qv.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){Qv.__e(e,t.__v)}}))}function _n(e,t,i,r,n,a,o,s){var d,l,c,u,h,p=i.props,A=t.props;if(n="svg"===t.type||n,null==e&&null!=a)for(d=0;d<a.length;d++)if(null!=(l=a[d])&&(null===t.type?3===l.nodeType:l.localName===t.type)){e=l,a[d]=null;break}if(null==e){if(null===t.type)return document.createTextNode(A);e=n?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type,A.is&&{is:A.is}),a=null}if(null===t.type)null!=a&&(a[a.indexOf(e)]=null),p!==A&&e.data!=A&&(e.data=A);else if(t!==i){if(null!=a&&(a[a.indexOf(e)]=null,a=nf.slice.call(e.childNodes)),c=(p=i.props||rf).dangerouslySetInnerHTML,u=A.dangerouslySetInnerHTML,!s){if(p===rf)for(p={},h=0;h<e.attributes.length;h++)p[e.attributes[h].name]=e.attributes[h].value;(u||c)&&(u&&c&&u.__html==c.__html||(e.innerHTML=u&&u.__html||""))}(function(e,t,i,r,n){var a;for(a in i)a in t||An(e,a,null,i[a],r);for(a in t)n&&"function"!=typeof t[a]||"value"===a||"checked"===a||i[a]===t[a]||An(e,a,t[a],i[a],r)})(e,A,p,n,s),t.__k=t.props.children,u||hn(e,t,i,r,"foreignObject"!==t.type&&n,a,o,rf,s),s||("value"in A&&void 0!==A.value&&A.value!==e.value&&(e.value=null==A.value?"":A.value),"checked"in A&&void 0!==A.checked&&A.checked!==e.checked&&(e.checked=A.checked))}return e}function bn(e,t,i){try{"function"==typeof e?e(t):e.current=t}catch(e){Qv.__e(e,i)}}function gn(e,t,i){var r,n,a;if(Qv.unmount&&Qv.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||bn(r,null,t)),i||"function"==typeof e.type||(i=null!=(n=e.__e)),e.__e=e.__d=void 0,null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){Qv.__e(e,t)}r.base=r.__P=null}if(r=e.__k)for(a=0;a<r.length;a++)r[a]&&gn(r[a],t,i);null!=n&&rn(n)}function On(e,t,i){return this.constructor(e,i)}function yn(e,t,i){var r,n,a;Qv.__&&Qv.__(e,t),n=(r=i===ef)?null:i&&i.__k||t.__k,e=nn(on,null,[e]),a=[],vn(t,(r?t:i||t).__k=e,n||rf,rf,void 0!==t.ownerSVGElement,i&&!r?[i]:n?null:nf.slice.call(t.childNodes),a,i||rf,r),fn(a,e)}function Tn(e){var t={},i={__c:"__cC"+tf++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var r,n=this;return this.getChildContext||(r=[],this.getChildContext=function(){return t[i.__c]=n,t},this.shouldComponentUpdate=function(t){e.value!==t.value&&r.some((function(e){e.context=t.value,cn(e)}))},this.sub=function(e){r.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){r.splice(r.indexOf(e),1),t&&t.call(e)}}),e.children}};return i.Consumer.contextType=i,i}function En(e){Qv.__h&&Qv.__h(sf);var t=sf.__H||(sf.__H={__:[],__h:[]});return e>=t.__.length&&t.__.push({}),t.__[e]}function Sn(e){return function(e,t,i){var r=En(of++);return r.__c||(r.__c=sf,r.__=[i?i(t):Bn(void 0,t),function(t){var i=e(r.__[0],t);r.__[0]!==i&&(r.__[0]=i,r.__c.setState({}))}]),r.__}(Bn,e)}function wn(e,t){var i=En(of++);Ln(i.__H,t)&&(i.__=e,i.__H=t,sf.__H.__h.push(i))}function In(e,t){var i=En(of++);Ln(i.__H,t)&&(i.__=e,i.__H=t,sf.__h.push(i))}function Pn(e){return Cn((function(){return{current:e}}),[])}function Cn(e,t){var i=En(of++);return Ln(i.__H,t)?(i.__H=t,i.__h=e,i.__=e()):i.__}function Dn(e,t){return Cn((function(){return e}),t)}function Nn(e){var t=sf.context[e.__c];if(!t)return e.__;var i=En(of++);return null==i.__&&(i.__=!0,t.sub(sf)),t.props.value}function Rn(){lf.some((function(e){if(e.__P)try{e.__H.__h.forEach(kn),e.__H.__h.forEach(Vn),e.__H.__h=[]}catch(t){return Qv.__e(t,e.__v),!0}})),lf=[]}function kn(e){e.t&&e.t()}function Vn(e){var t=e.__();"function"==typeof t&&(e.t=t)}function Ln(e,t){return!e||t.some((function(t,i){return t!==e[i]}))}function Bn(e,t){return"function"==typeof t?t(e):t}function Mn(){return(Mn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function jn(e){var t,i,r="";if("string"===typeof e||"number"===typeof e)r+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(i=jn(e[t]))&&(r&&(r+=" "),r+=i);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Un(e){const[t,i]=Sn(e.getValue());return wn(()=>(i(e.getValue()),e.add(i)),[e]),t}function xn(e,t){var i;const r=(null!==(i=e.ownerDocument)&&void 0!==i?i:document).createElement("style");return r.type="text/css",r.textContent=t,e.appendChild(r),r}function Fn(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Hn(e){const t=Ef();In(()=>wf.useStyleModule(t.element,e),[e])}function zn(e){let{descriptionText:t,buttonText:i,openClickThroughUrl:r,animationProgress:n,hasTimeline:a,disableOverlay:o}=e;return{descriptionText:t,buttonText:i,openClickThroughUrl:r,disableOverlay:o,progress:Un(n),hasTimeline:a}}function Wn(){return(Wn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Gn(){return(Gn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Yn(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function qn(e){const t=new Qf(e),i=Br(t),{measurableVPAIDCreative:r,userInteractionDispatchers:n}=en(i,{visibilityRatio:e.visibilityRatio,measurersSlot:e.measurersSlot},{onStop:e=>{let{error:t,reason:i}=e;t?cs.c.error({error:t}):cs.c.event({name:"AdCreativeMeasured",probability:us.a,data:{stopReason:i}})},onInitMeasurer:e=>{!function(e){if("yandexTestMeasurer"===e.measurerName)return;const t=iv[e.measurerName];cs.c.event({name:t,probability:us.a,data:void 0})}(e)},onTrackEvent:e=>{mt(e)},onExecutionError:e=>{cs.c.error({error:e})},onAdError:e=>{let{error:t}=e;cs.c.errorToStats(t)}});return{creative:r,wrapper:t,userInteractionDispatchers:n}}function Xn(e){const t="undefined"!==typeof Object.getOwnPropertyDescriptor(e.document,"hidden"),i="undefined"!==typeof Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e.document),"hidden");return t||i}function Kn(e){return Boolean(e.IntersectionObserver)&&!Object($s.a)(e.IntersectionObserver)}function Qn(e){var t;if(null!==(t=!Boolean(e.ownerDocument))&&void 0!==t?t:!e.ownerDocument.defaultView)return null;const i=e.ownerDocument.defaultView,r=function(e,t){try{if(Object($s.a)(e.attachShadow))return e.attachShadow(t);if(Object($s.a)(e.createShadowRoot))return e.createShadowRoot();if(Object($s.a)(e.webkitCreateShadowRoot))return e.webkitCreateShadowRoot()}catch(i){}return null}(e,{mode:a_});if(!r)return null;const n=i.document.createElement("div");return r.appendChild(n),n}function Jn(){return(Jn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Zn(e){let{creative:t,isYandexCreative:i,getLogDetails:r}=e;return function(e,t){let{methodCallError:i,methodAbsent:r,getterError:n,setterError:a}=t;const o=U(Xm,(t,n)=>(function(){for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];if("function"===typeof e[n])try{return e[n].apply(e,a)}catch(s){i({methodName:n,args:a,error:s})}else r({methodName:n,args:a})}));return Object(Nd.a)(Km,(t,i)=>{Object.defineProperty(o,i,{configurable:!0,enumerable:!0,get:()=>{try{return e[i]}catch(t){n({propertyName:i,error:t})}},set:t=>{try{e[i]=t}catch(r){a({propertyName:i,error:r,value:t})}}})}),o}(t,{methodCallError:e=>{let{methodName:t,args:n,error:a}=e;cs.c.error({error:new ls.a(a,{code:i?"YANDEX_VPAID_METHOD_CALL_ERROR":"VPAID_METHOD_CALL_ERROR",details:Jn({methodName:t,args:n},r())})}),Object(id.a)(a)},methodAbsent:e=>{let{methodName:t,args:n}=e;cs.c.error({error:new ls.a({code:i?"YANDEX_VPAID_METHOD_ABSENT":"VPAID_METHOD_ABSENT",details:Jn({methodName:t,args:n},r())})})},getterError:e=>{let{propertyName:t,error:n}=e;cs.c.error({error:new ls.a(n,{code:i?"YANDEX_VPAID_GETTER_ERROR":"VPAID_GETTER_ERROR",details:Jn({propertyName:t},r())})}),Object(id.a)(n)},setterError:e=>{let{propertyName:t,value:n,error:a}=e;cs.c.error({error:new ls.a(a,{code:i?"YANDEX_VPAID_SETTER_ERROR":"VPAID_SETTER_ERROR",details:Jn({propertyName:t,value:n},r())})}),Object(id.a)(a)}})}function $n(e){"function"===typeof e.catch&&e.catch(e=>void 0)}function ea(){return(ea=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function ta(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function ia(e,t){return p_.indexOf(e)>=p_.indexOf(t)}function ra(e){let{creativeLifeCycleStage:t,isYandexCreative:i,adCreativeWrapper:r}=e;if(ia(t,"start")){if(r){const e=r.params.animationParameters,t=r.params.videoParameters;if(e&&!r.adCreativeLatch.getDispatched())return t?"YANDEX_AD_CREATIVE_WITH_VIDEO_START_TIMEOUT_NO_ANIMATION":"YANDEX_AD_CREATIVE_NO_VIDEO_START_TIMEOUT_NO_ANIMATION";if(t&&!r.videoStartedLatch.getDispatched())return e?"YANDEX_AD_CREATIVE_WITH_ANIM_VIDEO_START_TIMEOUT":"YANDEX_AD_CREATIVE_NO_ANIM_VIDEO_START_TIMEOUT"}return i?"YANDEX_VPAID_START_TIMEOUT":"VPAID_START_TIMEOUT"}return ia(t,"init")?i?"YANDEX_VPAID_INIT_TIMEOUT":"VPAID_INIT_TIMEOUT":i?"YANDEX_VPAID_LOAD_TIMEOUT":"VPAID_LOAD_TIMEOUT"}function na(){return(na=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function aa(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function oa(){return(oa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function sa(e){const{config:t,errors:i}=function(e){const t=[],i=Object(is.a)(e)?e:{};let r;return aA(i.backgroundSlot)?r=i.backgroundSlot:void 0!==i.backgroundSlot&&t.push(new ls.a({code:"BACKGROUND_SLOT_IS_NOT_ELEMENT_OR_UNDEFINED",details:{config:e}})),{config:{backgroundSlot:r,clickThroughCallback:Object(Cs.a)(i.clickThroughCallback)?i.clickThroughCallback:void 0,clickThroughConfirmation:"boolean"===typeof i.clickThroughConfirmation?i.clickThroughConfirmation:void 0,renderSkin:Object(Cs.a)(i.renderSkin)?i.renderSkin:void 0,retainLastMediaAfterPlayback:"boolean"===typeof i.retainLastMediaAfterPlayback?i.retainLastMediaAfterPlayback:void 0,allowedToHideVideoSlotAreaPortion:i.allowedToHideVideoSlotAreaPortion},errors:t}}(e),{config:r,errors:n}=W(e);return{config:oa({},t,r),errors:[...i,...n]}}function da(e,t){return Object(Zo.a)(e,e=>T_(e)?{duration:e.durationPortion*t,value:e.value}:{duration:e.durationPortion*t,values:e.values,easing:"easeInOut"})}function la(e,t,i,r,n){const a=t=>{const r=1-t;return 3*r*r*t*e+3*r*t*t*i+t*t*t},o=e=>{const i=1-e;return 3*i*i*e*t+3*i*e*e*r+e*e*e},s=t=>{const r=1-t;return 3*(2*(t-1)*t+r*r)*e+3*(-t*t*t+2*r*t)*i};return e=>{const t=e;let i,r,d,l,c,u;for(d=t,u=0;u<8;u++){if(c=a(d)-t,Math.abs(c)<n)return o(d);if(l=s(d),Math.abs(l)<1e-6)break;d-=c/l}if(r=1,(d=t)<(i=0))return o(i);if(d>r)return o(r);for(;i<r;){if(c=a(d),Math.abs(c-t)<n)return o(d);t>c?i=d:r=d,d=.5*(r-i)+i}return o(d)}}function ca(e){let{position:t,unit:i,steps:r}=e;const{step:n,stepPosition:a}=function(e,t){let i=0;const{length:r}=t;for(let n=0;n<r;n++){const a=t[n],o=i+a.duration,s=i<=e&&e<o;if(n===r-1||s)return{step:a,stepPosition:i};i=o}throw new ls.a({code:"CANNOT_DETERMINE_ANIMATION_SCRIPT_STEP_BY_POSITION",details:{position:e,steps:t}})}(t,r);if(E_(n))return n.value;const{duration:o,values:[s,d],easing:l=w_}=n;if(s===d)return s;if(t>=a+o)return d;const c=("function"===typeof l?l:S_[l])((t-a)/o);return(0,I_[i])(c,s,d)}function ua(){return(ua=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function ha(){return(ha=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function pa(e){let{width:t}=e;return t<k_?"small":"middle"}function Aa(e,t,i,r){"undefined"!==typeof i&&"undefined"!==typeof t&&(i+=!nb.test(t)&&i>>>0?"px":"",e.style.setProperty?e.style.setProperty(t,i,r?"important":""):e.style.cssText+=";"+t+": "+i+(r?"!important":""))}function ma(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function va(e,t){const{pictureInPictureElement:i}=e;if(i)return i;if(t){if(t.webkitPresentationMode===yb.pictureInPicture)return t;if(t.broughtOut)return t}return null}function fa(e,t){void 0===t&&(t=window);let i=nd.a;const r=t=>{"pagehide"===t.type&&t.persisted||(e(t),i())},n=Object(Zo.a)(Sb,e=>Object(Is.a)({element:t,eventName:e,listener:r}));return i=Object(ad.a)(()=>{oi(n)})}function _a(e,t){void 0===t&&(t={meta:!1,strict:!0});const{meta:i=!1,strict:r=!1}=t,n=e.trim().replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n\n"),a=n.shift();if(!(null===a||void 0===a?void 0:a.startsWith("WEBVTT")))throw new Error('Must start with "WEBVTT"');const o=a.split("\n"),s=o[0].replace("WEBVTT","");if(s.length>0&&" "!==s[0]&&"\t"!==s[0])throw new Error("Header comment must start with space or tab");if(0===n.length&&1===o.length)return{valid:!0,strict:r,cues:[],errors:[]};if(!i&&o.length>1&&""!==o[1])throw new Error("Missing blank line after signature");const{cues:d,errors:l}=function(e,t){const i=[];return{cues:Object(Xo.a)(Object(Zo.a)(e,(e,r)=>{try{return function(e,t,i){let r="",n=0,a=.01,o="",s="";const d=Object(Xo.a)(e.split("\n"),Boolean);if(d.length>0&&d[0].trim().startsWith("NOTE"))return;if(1===d.length&&!Oa(d[0]))throw new Error("Cue identifier cannot be standalone (cue #"+t+")");if(d.length>1&&!Oa(d[0])&&!Oa(d[1])){throw new Error("Cue identifier needs to be followed by timestamp (cue #"+t+")")}d.length>1&&Oa(d[1])&&(r=d.shift());if("string"!==typeof d[0])throw new Error("Invalid cue timestamp (cue #"+t+")");const l=d[0].split(" --\x3e ");if(2!==l.length||!ba(l[0])||!ba(l[1]))throw new Error("Invalid cue timestamp (cue #"+t+")");if(n=ga(l[0]),a=ga(l[1]),i){if(n>a)throw new Error("Start timestamp greater than end (cue #"+t+")");if(a<=n)throw new Error("End must be greater than start (cue #"+t+")")}if(!i&&a<n)throw new Error("End must be greater or equal to start when not strict (cue #"+t+")");if(s=l[1].replace(wb,"").trim(),d.shift(),!(o=d.join("\n")))return;return{identifier:r,start:n,end:a,text:o,styles:s}}(e,r,t)}catch(n){return void i.push(n)}}),Boolean),errors:i}}(n,r);if(r&&l.length>0)throw l[0];const c=i?function(e){const t={};return Object($o.a)(e.slice(1),e=>{const i=e.indexOf(":"),r=e.slice(0,i).trim(),n=e.slice(i+1).trim();t[r]=n}),Object(Hs.a)(t).length>0?t:void 0}(o):void 0,u={valid:0===l.length,strict:r,cues:d,errors:l};return i&&(u.meta=c),u}function ba(e){return wb.test(e)}function ga(e){const t=e.match(wb);if(null===t)throw new Error("Timestamp parse error");const i=parseFloat(t[1]||"0"),r=parseFloat(t[2]),n=parseFloat(t[3]);return i*bh+r*_h+n}function Oa(e){return-1!==e.indexOf("--\x3e")}function Ta(e,t,i){function r(){0!==o&&(clearTimeout(o),o=0)}let{threshold:n=Cb,delay:a=Db}=void 0===i?{}:i,o=0,s=0,d=0;const l=Mi(e,"click",(function(e){0!==o&&(r(),t(e))}),{passive:!0}),c=Mi(e,"touchstart",(function(e){1===e.touches.length&&(s=e.changedTouches[0].screenX,d=e.changedTouches[0].screenY,r(),o=window.setTimeout(r,a))}),{passive:!0}),u=Mi(e,"touchend",(function(e){0!==o&&(r(),t(e))}),{passive:!0}),h=Mi(e,"touchmove",(function(e){if(0===o||!Object(is.a)(e.touches)||1!==e.touches.length)return void r();const{screenX:t,screenY:i}=e.changedTouches[0];(function(e,t){return Math.abs(s-e)>n||Math.abs(d-t)>n})(t,i)&&r()}),{passive:!0});return()=>{l(),c(),u(),h()}}function Ea(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Sa(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function wa(e){const t=e.duration||0;let i=(r=e.currentTime,n=Vb,Math.round(r/n)*n||0);var r,n;return t-i<Vb&&(i=t),{currentTime:Math.max(0,i),duration:Math.max(0,t)}}function Ia(){return(Ia=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Pa(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Ca(e){return e.muted?0:e.volume}function Da(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Na(e){if(!Pt(e))return!1;const{adParametersObject:t,adParameters:i}=e;if(!Object(is.a)(t))return!1;const{parsed:{animationMediaFile:r}}=Ot(i);return!!r&&r.url===Au.ThemeEmpty}function Ra(e){var t,i;const r=!0===e.HAS_TITLE,n=!0===e.HAS_BODY,a=e.BUTTON_POSITION,{data_params:o}=null!==(t=e.AUCTION_DC_PARAMS)&&void 0!==t?t:{},s=o&&QA(o),{title:d,body:l}=null!==(i=null===s||void 0===s?void 0:s.text)&&void 0!==i?i:{},c=function(e){let{titleEnabled:t,bodyEnabled:i,body:r,title:n,buttonPosition:a}=e;return!(t&&i&&r&&n)?Object(bs.a)(tg,a)?a:"left-bottom":Object(bs.a)(eg,a)?a:"right-bottom"}({titleEnabled:r,bodyEnabled:n,buttonPosition:a,title:d,body:l});return"left-bottom"===c||"left-center"===c?{position:c,side:"left",oppositeSide:"right"}:{position:c,side:"right",oppositeSide:"left"}}function ka(e){const{BUTTON_COLOR:t="#ffdb4d",BUTTON_TEXT_COLOR:i="#000000",BUTTON_BORDER_COLOR:r=""}=e,n=Object(Zo.a)((a=t,[parseInt(a.substr(1,2),16),parseInt(a.substr(3,2),16),parseInt(a.substr(5,2),16)]),e=>et(e)?e:0).join(", ");var a;return{backgroundColor:"rgb("+n+")",boxShadow:"0 6px 8px rgba("+n+", 0.53)",color:i,borderColor:r}}function Va(e,t,i){if(!e)return og;const r=ag(e.controlsVisibility),n=Boolean(t.abuseUrl);return{isCloseAvailable:r&&n,isCloseDialogActive:"selection"===i}}function La(){return(La=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Ba(){return(Ba=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Ma(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function ja(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Ua(){return(Ua=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function xa(){return(xa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Fa(e,t){if(null==e)return{};var i,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)i=a[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}function Ha(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function za(e,t){var i=t.get(e);if(!i)throw new TypeError("attempted to get private field on non-instance");return i.get?i.get.call(e):i.value}function Wa(e,t,i){var r=t.get(e);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(e,i);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=i}return i}function Ga(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Ya(e){const t={};for(const i in e)Object(Pc.a)(e,i)&&void 0!==e[i]&&(t[i]=e[i]);return t}function qa(e){if(!Object(is.a)(e))return{};const{stickTo:t,stickyColorScheme:i}=e;return Ya({stickTo:Xa(t,WT),stickyColorScheme:Xa(i,zT)})}function Xa(e,t){if("string"!==typeof e)return;if(!Object(is.a)(t))return;const i=e.toLowerCase();return ae(t).indexOf(i)>-1?i:void 0}function Ka(e,t){const i=t.querySelector('Extension[type="'+e+'"]');return i?D(i):void 0}function Qa(e,t){return"true"===Ka(e,t)}function Ja(){return(Ja=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Za(){return(Za=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function $a(e,t,i){var r;const n=[],a=i.querySelector("AdSource");if(!a)throw new ls.a({code:"VMAP_AD_BREAK_WITHOUT_AD_SOURCE",details:t});let o=xT;if(a.hasAttribute("id")){if(!et(o=Number(a.getAttribute("id"))))throw new ls.a({code:"INVALID_AD_BREAK_IMP_ID_ATTRIBUTE",details:t})}else n.push(new ls.a({code:"NO_AD_BREAK_IMP_ID_ATTRIBUTE",details:t}));const s=i.querySelector("Extensions");if(!s)throw new ls.a({code:"NO_AD_BREAK_EXTENSIONS",details:t});const d=a.querySelector("VASTAdData"),l=null!==(r=null===d||void 0===d?void 0:d.querySelector("VAST"))&&void 0!==r?r:void 0,c=l?VT(l):void 0,u=a.querySelector("AdTagURI"),h=D(u);if(!u||!h)throw new ls.a({code:"VMAP_AD_SOURCE_WITHOUT_AD_TAG_URI",details:t});const p={adTagURI:h,adFoxParameters:void 0,inlineVast:c},A=i.getAttribute("breakType"),m=C(i,"breakId"),v=C(i,"timeOffset","start"),f=()=>new ls.a({code:"VMAP_INCORRECT_TIME_OFFSET",details:Za({},t,{timeOffset:v,breakIdAttribute:m})});if(-1===BT.indexOf(m))throw new ls.a({code:"VMAP_UNSUPPORTED_AD_BREAK_TYPE",details:Za({},t,{breakIdAttribute:m})});const _=A===UT,b=function(e,t){switch(e){case MT:return[new ls.a({code:"LINEAR_AND_NON_LINEAR_ALLOWED_IN_AD_BREAK",details:t})];case jT:case UT:return[];default:throw new ls.a({code:"INVALID_BREAK_TYPE_ATTRIBUTE",details:t})}}(A,t);if(n.push(...b),_!==Oi({adType:m})){if("inroll-overlay"!==m)throw new ls.a({code:"INCOMPATIBLE_BREAK_TYPE_ATTRIBUTE",details:t});n.push(new ls.a({code:"INCORRECT_BREAK_TYPE_ATTRIBUTE",details:{adBreakType:m,adBreakTypeAttribute:A}}))}let g;if("inpage"===m)g=function(e){const t=Ka("Stick",e),i=qa({stickTo:Ka("StickTo",e),stickyColorScheme:Ka("ColorScheme",e)});return Ja({stick:"true"===t,adType:"inpage",replayMode:GT(e)},i)}(s);else if("inroll"===m)g={adType:"inroll"};else if("inroll-overlay"===m)g={adType:"inroll-overlay"};else if("start"===v){if(LT[v]!==m)throw f();g={adType:"preroll"}}else if("end"===v){if(LT[v]!==m)throw f();g={adType:"postroll"}}else{if(!/^\d{2}:\d{2}:\d{2}(\.\d+)?/.test(v))throw f();{if(["midroll","overlay"].indexOf(m)<0)throw f();const e=function(e,t){return Number(Ka(e,t))}("MaxRepeatCount",s),t=K(C(i,"repeatAfter")),r={timeOffset:K(v),repeatAfter:isNaN(t)?HT:t,maxRepeatCount:isNaN(e)?FT:e,repeatNumber:0};g=Za("midroll"===m?{adType:"midroll",broadcastReplace:Qa("BroadcastReplace",s)}:{adType:"overlay"},r)}}return{adBreak:Za({impId:o},g,e,p),errors:n,events:[]}}function eo(){return(eo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function to(e){let{vmapXmlObject:t,vmapLoadParams:i,vmapAdBreaksConfig:r}=e;const{xml:n,responseText:a}=t,o={responseText:a,vmapLoadParams:i};if(null===n||void 0===n)throw i?new ls.a({code:"VMAP_EMPTY_RESPONSE",details:eo({},i,{vmapXmlObject:t})}):new ls.a({code:"VMAP_IS_EMPTY",details:{vmapXmlObject:t}});const s=n.querySelector("VMAP");if(!s)throw new ls.a({code:"NO_VMAP_ROOT_NODE",details:o});const d=s.querySelectorAll("AdBreak");if(null===d||0===d.length)throw new ls.a({code:"NO_VMAP_AD_BREAKS",details:o});const l=new tE,c=n.querySelector("VMAP > Extensions");if(!c)throw new ls.a({code:"NO_VMAP_EXTENSIONS",details:o});const u=s.querySelectorAll("TrackingEvents");Object(nd.a)(u);const h=e=>{const t=c.querySelector('Extension[type="'+e+'"]');return t?D(t):""},p=e=>parseInt(h(e),10);l.isSingleVideoSession=(e=>"true"===h(e))("SingleVideoSession");const A={sessionId:h("SessionID"),vastTimeout:p("VASTTimeout"),videoTimeout:p("VideoTimeout"),vpaidTimeout:p("VPAIDTimeout"),wrapperTimeout:p("WrapperTimeout"),wrapperMaxCount:p("WrapperMaxCount"),bufferFullTimeout:p("BufferFullTimeout"),bufferEmptyLimit:p("BufferEmptyLimit")},m=[],v=[];for(let _=0;_<d.length;_++)try{const{adBreak:e,errors:t,events:i}=$a(eo({},A,r),o,d[_]);l.adBreaks.push(e),m.push(...t),v.push(...i)}catch(f){m.push(f)}return{vmap:l,errors:m,events:v}}function io(){return(io=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function ro(e){const t=Object(is.a)(e)?e:{};return Ya(io({},qa(t),{repeat:void 0===t.repeat?void 0:Boolean(t.repeat),vastTimeout:void 0===t.vastTimeout?void 0:Number(t.vastTimeout),wrapperTimeout:void 0===t.wrapperTimeout?void 0:Number(t.wrapperTimeout),wrapperMaxCount:void 0===t.wrapperMaxCount?void 0:Number(t.wrapperMaxCount),bufferFullTimeout:void 0===t.bufferFullTimeout?void 0:Number(t.bufferFullTimeout),bufferEmptyLimit:void 0===t.bufferEmptyLimit?void 0:Number(t.bufferEmptyLimit),videoTimeout:void 0===t.videoTimeout?void 0:Number(t.videoTimeout),vpaidTimeout:void 0===t.vpaidTimeout?void 0:Number(t.vpaidTimeout)}))}function no(){return(no=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function ao(e){let t={};try{const i=e.getItem(QT);null!==i&&(t=JSON.parse(i))}catch(r){}const i={};return Object(Ql.a)(t,(e,t)=>{o(e)&&(i[t]=e)}),i}function oo(){return(oo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function so(){return(so=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function lo(e){if(!Object(is.a)(e))return{};const{partnerId:t,category:i,vmapId:r,vmapScenarioId:n,impId:a,videoContentId:o,additionalParams:s,vmap:d,hasPreroll:l}=e;if(void 0!==a&&!et(a))throw new ls.a({code:"INVALID_CONFIG_IMP_ID_VALUE",details:{config:e}});if(void 0!==r&&!et(r))throw new ls.a({code:"INVALID_CONFIG_VMAP_ID_VALUE",details:{config:e}});if(void 0!==d&&!Object(rd.a)(d))throw new ls.a({code:"INVALID_CONFIG_INLINE_VMAP_VALUE",details:{config:e}});if(void 0!==l&&"boolean"!==typeof l)throw new ls.a({code:"INVALID_CONFIG_HAS_PREROLL_VALUE",details:{config:e}});if(void 0!==n&&!et(n))throw new ls.a({code:"INVALID_CONFIG_VMAP_SCENARIO_ID_VALUE",details:{config:e}});return so({},function(e){const t=Object(is.a)(e)?e:{};return Ya({vmapLoadTimeout:void 0===t.vmapLoadTimeout?void 0:Number(t.vmapLoadTimeout)})}(e),{vmap:d,hasPreroll:l,partnerId:void 0===t?void 0:Number(t),category:void 0===i?void 0:Number(i),impId:a,vmapId:r,vmapScenarioId:n,videoContentId:"string"===typeof o?o:void 0,additionalParams:st(s)})}function co(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function uo(){return(uo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function ho(){return(ho=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function po(e){if(!Object(is.a)(e))return"ADFOX_PARAMETERS_IS_NOT_AN_OBJECT";if(!he(e))return"ADFOX_PARAMETERS_IS_NOT_SERIALIZABLE";return void 0===e.containerId||Object(rd.a)(e.containerId)?Object(Vs.a)(e.ownerId)?0===e.ownerId.length?"ADFOX_PARAMETERS_OWNER_ID_IS_EMPTY_STRING":void 0:"ADFOX_PARAMETERS_OWNER_ID_IS_NOT_A_STRING":"ADFOX_PARAMETERS_CONTAINER_ID_IS_INVALID"}function Ao(){return(Ao=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function mo(e){if(!Object(is.a)(e))return{config:{},errors:[]};const{config:t,errors:i}=function(e){if(!Object(is.a)(e))return{config:{},errors:[]};const t={},i=[];if(void 0!==e.adFoxParameters){const r=po(e.adFoxParameters);r?i.push(new ls.a({code:r,details:{adConfig:e}})):t.adFoxParameters=e.adFoxParameters}return{config:t,errors:i}}(e);return{config:Ao({},t,lo(e),function(e){if(Object(is.a)(e))return{width:void 0===e.width?void 0:String(e.width),height:void 0===e.height?void 0:String(e.height),videoContentId:void 0===e.videoContentId?void 0:String(e.videoContentId),videoContentName:void 0===e.videoContentName?void 0:String(e.videoContentName),videoPublisherId:void 0===e.videoPublisherId?void 0:String(e.videoPublisherId),videoPublisherName:void 0===e.videoPublisherName?void 0:String(e.videoPublisherName),videoGenreId:Array.isArray(e.videoGenreId)?Object(Zo.a)(e.videoGenreId,String):void 0===e.videoGenreId?void 0:String(e.videoGenreId),videoGenreName:Array.isArray(e.videoGenreName)?Object(Zo.a)(e.videoGenreName,String):void 0===e.videoGenreName?void 0:String(e.videoGenreName),musicArtistId:void 0===e.musicArtistId?void 0:String(e.musicArtistId),musicGenreId:"string"===typeof e.musicGenreId?e.musicGenreId:void 0,musicGenreName:"string"===typeof e.musicGenreName?e.musicGenreName:void 0,tagsList:Array.isArray(e.tagsList)?Object(Zo.a)(e.tagsList,String):void 0,extParam:void 0===e.extParam?void 0:String(e.extParam),charset:void 0===e.charset?void 0:String(e.charset),targetRef:void 0===e.targetRef?void 0:String(e.targetRef),distrId:void 0===e.distrId?void 0:String(e.distrId)}}(e),function(e){if(!Object(is.a)(e))return;const{metaRequestIndex:t,metaImpIdRequestIndex:i}=e;if(void 0!==t&&!J(t))throw new ls.a({code:"INVALID_CONFIG_META_REQUEST_INDEX_VALUE",details:{config:e}});if(void 0!==i&&!J(i))throw new ls.a({code:"INVALID_CONFIG_META_IMP_ID_REQUEST_INDEX_VALUE",details:{config:e}});return{metaRequestIndex:t,metaImpIdRequestIndex:i}}(e),{vastUrl:void 0===e.vastUrl?void 0:String(e.vastUrl),vast:e.hasOwnProperty("vast")&&Object(rd.a)(e.vast)?String(e.vast):void 0,desiredBitrate:j(e.desiredBitrate),secureMode:dE(e),preferableAdSize:oE(e),loadHarmlessVastCallback:Object(Cs.a)(e.loadHarmlessVastCallback)?e.loadHarmlessVastCallback:void 0}),errors:i}}function vo(e){return Object(rd.a)(e)?e:lE}function fo(){return(fo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function _o(){return(_o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function bo(){return(bo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function go(){return(go=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Oo(e){return!!Object(Vs.a)(e)&&vE.indexOf(e)>-1}function yo(){return(yo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function To(e,t){if(null==e)return{};var i,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)i=a[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}function Eo(e,t,i){const{vastBase64:r,adBreakType:a}=e,o=To(e,["vastBase64","adBreakType"]),s=[],d=mo(o),{config:{videoContentId:l},errors:c}=d,u=To(d.config,["videoContentId"]);s.push(...c);const h=yo({},u,{videoContentId:vo(l)});let p,A;if(r&&(h.vast=n(r)),Oo(a)?A=a:t&&(s.push(new ls.a({code:"USING_SYNTHETIC_VMAP_TYPE_PARAMETER",details:{adLoaderConfig:e,useDefaultAdPlaybackParameters:t,syntheticVMAPType:i}})),Oo(i)&&(A=i)),A){const e=ro(o);p=yo({},mE[A],e)}return{adConfig:h,adBreak:p,warnings:s}}function So(e,t){const i=function(e){var t,i;const r=null!==(t=e.ownerDocument)&&void 0!==t?t:document,n=null!==(i=r.defaultView)&&void 0!==i?i:window,a=gE&&(yE||TE),o=Pr(n,e)===e,s=va(r,e)===e;if(o||a||s)return o?"Fullscreen":a?"BrowserInFullscreenBlackList":s?"PiP":"Unrecognised"}(t);return i?(Object($o.a)(e,e=>{e.filterAdPodsIndependentOnHtmlControls(i)}),e):e}function wo(e,t){let{videoSlot:i,videoSlotSizeSensor:r,getAdConfig:n}=t;const a=b(Object(Zo.a)(e,e=>e.separateAdPods())),o=r.getSize(),s=So(Tr(o,!1)?a:Object(Xo.a)(a,e=>!e.hasYandexCreative()||(e.preventPlaying("IncompatibleVideoSlotSize",{videoSlotSize:o,adConfig:n()}),!1)),i);return Object(Xo.a)(s,e=>e.getAdPodsCount()>0)}function Io(e){Object($o.a)(e,e=>e.destroy())}function Po(e){let{adStore:t}=e;return t}function Co(){return(Co=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Do(){return(Do=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}async function No(e){let{adConfig:t,adBreaks:i,adPlacementOptions:r,getAndIncrementMetaRequestIndexes:n}=e;const a=await Promise.all(Object(Zo.a)(i,e=>(async function(e){let{adConfig:t,adBreak:i,adPlacementOptions:r,getAndIncrementMetaRequestIndexes:n}=e;if(void 0===i)return;const a=Do({},t,n(i.impId)),o=EE(a,i,r),s=await o.loadAd().catch(nd.a);return o.destroy(),void 0===s?void 0:{adStore:s,adBreak:i}})({adConfig:t,adBreak:e,adPlacementOptions:r,getAndIncrementMetaRequestIndexes:n})));return Object(Xo.a)(a,e=>void 0!==e)}function Ro(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function ko(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Vo(){return(Vo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Lo(e,t,i){return Object(Qo.a)(i,(i,r)=>{const n=function(e,t,i){const{timeOffset:r,repeatAfter:n,maxRepeatCount:a,repeatNumber:o}=e,{watchedTime:s}=t,{preloadOffset:d}=i,l=s-(r-d);if(l<0)return{current:[],remaining:[e]};if(n===HT||1===a)return{current:[e],remaining:[]};const c=Math.floor(l/n)+1,u=a===FT?1/0:a,h=Math.min(c,u),p=[];for(let A=0;A<h;A++)p.push(Vo({},e,{timeOffset:r+n*A,maxRepeatCount:1,repeatNumber:o+A}));return{current:p,remaining:u>h?[Vo({},e,{timeOffset:r+n*h,maxRepeatCount:a===FT?a:a-h,repeatNumber:o+h})]:[]}}(r,e,t);return{current:[...i.current,...n.current],remaining:[...i.remaining,...n.remaining]}},{current:[],remaining:[]})}function Bo(){return(Bo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Mo(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function jo(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Uo(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function xo(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Fo(){return(Fo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Ho(e){if("midroll"===e.adType){return Fo({},hE,e)}if("preroll"===e.adType)return Fo({},nE,e);if("postroll"===e.adType)return Fo({},AE,e);if("overlay"===e.adType)return Fo({},pE,e);throw new ls.a({code:"INVALID_AD_TYPE_IN_AD_BREAK_CONFIG",details:{adBreakConfig:e}})}function zo(e){if(void 0===e)return{config:void 0,errors:[]};if(!Array.isArray(e))return{config:void 0,errors:[new ls.a({code:"INVALID_MULTIROLL_AD_BREAKS_PARAMETER",details:{adBreaksConfig:e}})]};const t=[],i=[];return Object($o.a)(e,e=>{try{const i=function(e){if(!Object(is.a)(e))throw new ls.a({code:"MULTIROLL_AD_BREAK_IS_NOT_AN_OBJECT",details:{adBreakConfig:e}});const{adFoxParameters:t}=e,i=po(t);if(i)throw new ls.a({code:"MULTIROLL_AD_BREAK_INVALID_ADFOX_PARAMETERS",details:{adBreakConfig:e,validationErrorCode:i}});if(function(e){return"midroll"===e.adType}(e)||function(e){return"overlay"===e.adType}(e)){const{timeOffset:i,repeatAfter:r}=e;if(!o(i))throw new ls.a({code:"overlay"===e.adType?"MULTIROLL_OVERLAY_AD_BREAK_HAS_INVALID_TIME_OFFSET":"MULTIROLL_MIDROLL_AD_BREAK_HAS_INVALID_TIME_OFFSET",details:{adBreakConfig:e}});if(void 0!==r&&!a(r))throw new ls.a({code:"overlay"===e.adType?"MULTIROLL_OVERLAY_AD_BREAK_HAS_INVALID_REPEAT_AFTER":"MULTIROLL_MIDROLL_AD_BREAK_HAS_INVALID_REPEAT_AFTER",details:{adBreakConfig:e}});return{adType:e.adType,adFoxParameters:t,timeOffset:i,repeatAfter:r}}if(function(e){return"preroll"===e.adType}(e))return{adType:"preroll",adFoxParameters:t};if(function(e){return"postroll"===e.adType}(e))return{adType:"postroll",adFoxParameters:t};throw new ls.a({code:"UNRECOGNIZED_MULTIROLL_AD_BREAK_TYPE",details:{adBreakConfig:e}})}(e);t.push(i)}catch(r){i.push(r)}}),{config:t,errors:i}}function Wo(){return(Wo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Go(){return(Go=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}i.r(t);var Yo=i(25),qo=i(16),Xo=i(15),Ko=i(40),Qo=i(35);const Jo=function e(t){return Object(Qo.a)(t,(t,i)=>t.concat(Object(Ko.a)(i)?e(i):i),[])};var Zo=i(4),$o=i(5),es=i(31);const ts="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=";var is=i(2);const rs=-1,ns={droppedVideoFrames:rs,corruptedVideoFrames:rs,totalVideoFrames:rs},as=s({},ns,{droppedVideoFramesRatio:rs}),os=0,ss={width:0,height:0},ds={visibility:0,size:ss,relativeSizeRatio:0,screenSize:ss,devicePixelRatio:0,downlink:0,videoSlotSize:ss,videoContentSize:void 0,videoAvatarSize:ss,videoPixelRatio:rs,videoToDevicePixelRatio:rs,videoFramesInfo:as,videoSrc:"",videoMuted:!0,videoVolume:os,videoCurrentSrc:"",bufferingTime:0,currentTime:0,bufferingTimeRatio:rs,remainingBufferedTime:0,isFullscreen:void 0};var ls=i(0),cs=i(1),us=i(7),hs=i(28);const ps=Object(hs.b)(window,"adsdkwithcredentials"),As=ps?(""+ps).toLowerCase():void 0,ms="true"===As||"false"!==As&&void 0,vs="\x3c!-- Bad partner/domain --\x3e",fs="\x3c!-- PageImp data not found --\x3e";var _s=i(49),bs=i(19),gs=i(11),Os=i(3),ys=i(39);const Ts=e=>{try{const{left:t,right:i,top:r,bottom:n}=e.getBoundingClientRect();return{left:t,right:i,top:r,bottom:n,width:i-t,height:n-r}}catch(t){return{left:0,width:0,top:0,height:0,right:0,bottom:0}}};var Es=i(29),Ss=i(13),ws=i(78),Is=i(14),Ps=i(30),Cs=i(9),Ds=i(144),Ns=i(32),Rs=i(112);const ks=e=>{let{version:t=Ns.a,win:i}=e;const r=Object(Ps.a)(i),n=Ds.a.ES5,a=""+Object(Rs.a)(t)+n+"/proxy_frame.html";return Object(Cs.a)(r)?r(a):a};var Vs=i(17);let Ls;const Bs=(void 0===(Ms=window)&&(Ms=window),Ls||(Ls=Ms.document.createElement("div")),Ls);var Ms;const js=(e,t)=>{const i="undefined"!==typeof Bs.style[e];if(i&&t&&Object(Vs.a)(t))try{Bs.style.cssText=e+": "+t+";";const i=Boolean(Bs.style.cssText);return Bs.style.cssText="",i}catch(r){return!1}return i};var Us=i(86);const xs={},Fs=function(e){return void 0===e&&(e=""),xs[e]||function(e){const t=""+e[0].toUpperCase()+e.slice(1);for(let i=0;i<Us.b.length;i++){const r=Us.b[i],n=r?""+r+t:e;if(js(n))return xs[e]=n}return xs[e]=e}(e)};var Hs=i(12);const zs={position:"absolute",width:"100%",height:"100%",left:"0",top:"0"},Ws=e=>{const t=u({},e,{RUM_WRAPPER:void 0,AB_FLAGS_STORE:void 0});return encodeURI(JSON.stringify(t))},Gs={attributes:{width:"0",height:"0",hidden:""},styles:{display:"none"}},Ys={attributes:{hidden:null,width:null,height:null},styles:{display:"block"}},qs=e=>{let{iframe:t,shouldBeVisibleNow:i}=e;const r=i?Ys:Gs;c(t,r.attributes),l(t,r.styles)};var Xs=i(42);const Ks=Yo.a,Qs=Object(Xs.a)({propertyName:"VAS_FRAME_GLOBAL_CALLBACK",win:Ks}),Js=["allow-scripts","allow-popups","allow-popups-to-escape-sandbox","allow-same-origin"].join(" ");var Zs=i(55),$s=i(24);const ed=e=>(e=>e instanceof Promise||"Promise"===Object(Zs.a)(e)&&Boolean(p(()=>Object($s.a)(e.constructor))))(e)||(e=>Boolean(p(()=>Object(Cs.a)(e.then)&&Object(Cs.a)(e.catch))))(e),td=e=>{const t=e.data;return!(!Object(is.a)(t)||"kill-me"!==t.type)};var id=i(27),rd=i(6),nd=i(8),ad=i(10),od=i(88);const sd=5e3;class dd extends qo.a{constructor(e,t){var i,r,n;super(),this.port=e,this.commandHandlers=t,n=e=>{const t=Object(Is.a)({element:this.port,eventName:"message",listener:t=>{const{data:i}=t;"command"===i.type&&(this.isEventDataCommandLike(i)?e(i):this.destroy(new ls.a({code:"VF_DISPATCHER_UNHANDLED_MESSAGE_EVENT",details:{eventData:i}})))}});return this.addDestroyHandler(t),t},(r="listenForCommandEvents")in(i=this)?Object.defineProperty(i,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[r]=n,this.listenForNewCommands(),this.addDestroyHandler(Object(Is.a)({element:e,eventName:"messageerror",listener:()=>{this.destroy(new ls.a({code:"VF_DISPATCHER_MESSAGE_ERROR",details:{}}))}}))}executeCommand(e,t){const i=Object(ys.a)(6),r=Object(es.a)(sd);r.promise.then(()=>{this.destroy(new ls.a({code:"VF_DISPATCHER_COMMAND_DETERMINATION_TIMEOUT",details:{name:e,commandId:i}}))}).catch(id.a),this.addDestroyHandler(()=>r.clear());const n=this.waitForNextCommandEvent({name:e,id:i}),a=new Promise((t,a)=>{n.then(n=>{if(r.clear(),"success"===n.status)t(n.payload);else if("error"===n.status){const e=n.payload;a(Object(od.b)(e))}else{if("abort"===n.status)return;this.destroy(new ls.a({code:"VF_DISPATCHER_UNHANDLED_COMMAND_STATE",details:{status:n.status,payload:n.payload,name:e,commandId:i}}))}}).catch(a)}),o=Object(ad.a)(()=>{this.sendCommand({status:"abort",name:e,id:i,payload:void 0})});return this.sendCommand({status:"start",name:e,id:i,payload:t}),{promise:a,abort:o}}sendCommand(e){try{JSON.stringify(e.payload)}catch(t){return void this.destroy(new ls.a({code:"VF_DISPATCHER_COMMAND_PAYLOAD_NON_SERIALIZABLE",details:{error:t}}))}try{this.port.postMessage(A({},e,{type:"command"}))}catch(t){0,this.destroy(new ls.a({code:"VF_DISPATCHER_SEND_ERROR",details:{error:t}}))}}async waitForNextCommandEvent(e){return new Promise(t=>{const i=this.listenForCommandEvents(r=>{r.name===e.name&&r.id===e.id&&(i(),t(r))})})}listenForNewCommands(){this.listenForCommandEvents(e=>{var t;if("start"!==e.status)return;const i=null===(t=this.commandHandlers)||void 0===t?void 0:t[e.name];if(!i)return void this.destroy(new ls.a({code:"VF_DISPATCHER_NO_SUCH_COMMAND_HANDLER",details:{data:e}}));const r=this.createCommandControlDescriptor(e),n=e.payload;try{i(r,n)}catch(a){0,this.destroy(new ls.a({code:"VF_DISPATCHER_HANDLER_ERROR",details:{error:a}}))}})}createCommandControlDescriptor(e){const t=new Ss.a;let i=!1;return this.waitForNextCommandEvent(e).then(this.ignoreAfterDestroy(r=>{i||"abort"===r.status&&r.id===e.id&&(t.dispatch(void 0),i=!0,t.removeAll())})).catch(nd.a),{resolve:r=>{if(!i)return i=!0,t.removeAll(),this.sendCommand({status:"success",name:e.name,id:e.id,payload:r})},reject:r=>{if(i)return;i=!0,t.removeAll();const n=Object(od.c)(r);return this.sendCommand({status:"error",name:e.name,id:e.id,payload:n})},subscribeForAbort:function(){return i?nd.a:t.add(...arguments)}}}isEventDataCommandLike(e){return!!Object(is.a)(e)&&("command"===e.type&&(!!Object(rd.a)(e.id)&&!!Object(rd.a)(e.status)))}}const ld=Object(Hs.a)({abort:0,canplay:0,canplaythrough:0,click:0,durationchange:0,emptied:0,ended:0,error:0,loadeddata:0,loadedmetadata:0,loadstart:0,pause:0,play:0,playing:0,progress:0,ratechange:0,resize:0,seeked:0,seeking:0,suspend:0,timeupdate:0,volumechange:0,waiting:0}),cd=["src","poster"],ud=Object(Hs.a)({src:0,currentTime:0,muted:0,volume:0,playbackRate:0}),hd=["video/mp4","video/webm"],pd={timeupdate:["currentTime"],durationchange:["duration"],volumechange:["volume","muted"],resize:["videoWidth","videoHeight"],ended:["ended"]},Ad=Object(Hs.a)({load:0,play:0,pause:0,setAttribute:0});var md=i(53);const vd=(e,t,i)=>{if(!Object(is.a)(e))return e;const r=e,n=t.split("."),a=n.pop();for(const o of n){const t=e[o];e=Object(is.a)(t)?t:e[o]={}}return e[a]=i,r};const fd=Object(Hs.a)({bubbles:0,cancelable:0,composed:0,defaultPrevented:0,eventPhase:0,isTrusted:0,returnValue:0,timeStamp:0,type:0}),_d=e=>{return m({},Object(md.a)(Object(Zo.a)(fd,t=>[t,e[t]])),{target:null})},bd=new WeakSet;class gd extends qo.a{static isVideoNodeLocked(e){return bd.has(e)}constructor(e){super(),this.params=e,this.subscribeVideoNodeEvents(),Object(Os.a)("[OutsideApiLocalVideoNode]: set video node initial props"),this.params.handleVideoNodePropertyChange("playableMimeTypes",Object(md.a)(Object(Zo.a)(hd,e=>[e,this.params.videoNode.canPlayType(e)]))),Object($o.a)(Object(Hs.a)(pd),e=>{const t=pd[e];Object($o.a)(t,e=>{this.params.handleVideoNodePropertyChange(e,this.params.videoNode[e])})})}callVideoNodeMethod(e,t){const{videoNode:i}=this.params;if(Object(bs.a)(Ad,e)){if("setAttribute"===e){const[e,r=""]=t;if(!Object(rd.a)(e))return;return Object(bs.a)(cd,e)?i.setAttribute(e,r):void cs.c.error({error:new ls.a({code:"VS_REMOTE_VIDEOTAG_RESTRICTED_ATTR",details:{name:e,value:r}})})}return i[e]()}cs.c.error({error:new ls.a({code:"VF_REMOTE_VIDEOTAG_UNHANDLED_METHOD_CALL",details:{methodName:e,args:t}})})}setVideoNodeProperty(e,t){const{videoNode:i}=this.params;if(!Object(bs.a)(ud,e))return void cs.c.error({error:new ls.a({code:"VF_INSIDE_FRAME_REMOTE_VIDEO_TAG_PROP_NOT_ALLOWED",details:{propName:e,value:t}})});const r=e,n=i[r];vd(i,e,t),this.params.handleVideoNodePropertyChange(r,i[r]),this.addDestroyHandler(()=>{vd(i,e,n)})}subscribeVideoNodeEvents(){const{videoNode:e}=this.params;Object($o.a)(ld,t=>{this.addDestroyHandler(Object(Is.a)({element:e,eventName:t,listener:e=>{pd.hasOwnProperty(e.type)&&Object($o.a)(pd[e.type],e=>{this.params.handleVideoNodePropertyChange(e,this.params.videoNode[e])}),setTimeout(this.ignoreAfterDestroy(()=>{const t=_d(e);this.params.handleVideoNodeEvent(t)}),0)}}))})}}class Od extends qo.a{constructor(e){super(),this.params=e,v(this,"dispatcher",void 0),v(this,"localVideoNode",void 0),v(this,"vpaidEventBus",new Ss.a),v(this,"vpaidGetterPropertyBus",new Ss.a),v(this,"dispatcherCommandHandlers",{handleVpaidEvent:(e,t)=>{let{resolve:i}=e,[{eventName:r,args:n}]=t;i(),this.vpaidEventBus.dispatch({eventName:r,args:n})},updateVpaidGetterValue:(e,t)=>{let{resolve:i}=e,[{methodName:r,value:n}]=t;i(),this.vpaidGetterPropertyBus.dispatch({methodName:r,value:n})},handleVideoTagMethodCall:(e,t)=>{let{resolve:i,reject:r}=e,[{methodName:n,args:a}]=t;const o=this.localVideoNode;if(o)try{Object(Os.a)("[outsideAPI] call video method=["+n+"], args=["+a+"]");const e=o.callVideoNodeMethod(n,a);return ed(e)?e.then(e=>{i(e)}).catch(r):i(e)}catch(s){this.destroy(new ls.a({code:"VF_REMOTE_VIDEO_TAG_CALL_ERROR",details:{error:s}}))}else this.destroy(new ls.a({code:"VF_NO_REMOTE_VIDEOTAG_TO_CALL",details:{}}))},handleVideoTagPropertySet:(e,t)=>{let{resolve:i}=e,[{propName:r,value:n}]=t;i();const a=this.localVideoNode;a?Object(bs.a)(ud,r)?(Object(Os.a)("[outsideAPI] set video property name=["+r+"], value=["+n+"]"),a.setVideoNodeProperty(r,n)):this.destroy(new ls.a({code:"VF_REMOTE_VIDEOTAG_PROP_SET_NOW_ALLOWED",details:{propName:r,value:n}})):this.destroy(new ls.a({code:"VF_NO_REMOTE_VIDEOTAG_TO_SET",details:{propName:r,value:n}}))}}),v(this,"handleVideoNodeEvent",e=>{const t=e.type;this.dispatcher.executeCommand("handleVideoTagEvent",[{eventName:t,event:e}])}),v(this,"handleVideoNodePropertyChange",(e,t)=>{Object(Os.a)("[outsideApi]: change VIDEO node property ["+e+"] remotely to ["+t+"]"),this.dispatcher.executeCommand("handleVideoTagPropertyChange",[{propName:e,value:t}])}),Object(Os.a)("[outsideApi]: init"),this.addDestroyHandler(e=>{e&&cs.c.error({error:e})}),this.changeFrameVisibility(!1),this.dispatcher=new dd(e.port,this.dispatcherCommandHandlers),this.addDestroyHandler(()=>this.dispatcher.destroy(void 0)),this.addDestroyHandler(Object(Is.a)({element:e.port,eventName:"message",listener:e=>{if(!td(e))return;const{data:t}=e;this.destroy(new ls.a({code:"VAS_FRAME_FATAL_DESTROY",details:{reason:t.reason}}))}})),this.dispatcher.addDestroyHandler(e=>{this.isDestroyed||(cs.c.error({error:null!==e&&void 0!==e?e:new ls.a({code:"VF_DISPATCHER_DIED_WITHOUT_REASON",details:{}})}),this.destroy(void 0))}),this.addDestroyHandler(()=>{this.vpaidEventBus.removeAll()})}async doGETRequest(e){Object(Os.a)("[outsideApi]: start get request");const t=this.dispatcher.executeCommand("doGETRequest",[e]),{responseText:i,responseStatus:r}=await t.promise;return Object(Os.a)("[outsideApi]: finish get request"),{responseStatus:r,responseText:i}}async loadCreative(e){Object(Os.a)("[outsideApi]: start loading creative"),await this.dispatcher.executeCommand("loadCreative",[e]).promise,Object(Os.a)("[outsideApi]: done loading creative")}async initCreative(e){Object(Os.a)("[outsideApi]: start init creative"),await this.dispatcher.executeCommand("initCreative",e).promise,Object(Os.a)("[outsideApi]: done init creative")}async callVpaidMethod(e,t){return Object(Os.a)("[outsideApi]: call VPAID method ["+e+"] remotely with args ["+JSON.stringify(t)+"]"),this.dispatcher.executeCommand("callVpaidMethod",[{methodName:e,args:t}]).promise}changeFrameVisibility(e){const t=this.params.frame;return Object(Os.a)("[outsideApi]: "+(e?"show":"hide")+" frame"),qs({iframe:t,shouldBeVisibleNow:e})}assignVideoTag(e){let{videoElement:t}=e;if(gd.isVideoNodeLocked(t))throw Object(Os.a)("[outsideApi]: oops, video tag is already assigned"),new Error("VAS_FRAME_VIDEOTAG_ASSIGNED_TWICE");Object(Os.a)("[outsideApi]: assign video tag"),this.localVideoNode=new gd({videoNode:t,handleVideoNodeEvent:this.handleVideoNodeEvent,handleVideoNodePropertyChange:this.handleVideoNodePropertyChange}),this.addDestroyHandler(()=>{var e;Object(Os.a)("[outsideApi]: UNassign video tag"),null===(e=this.localVideoNode)||void 0===e||e.destroy(void 0)})}listenRemoteVpaidEvents(e,t){return Object(Os.a)("[OutsideAPI]: add vpaid event listener eventName=["+e+"]"),this.vpaidEventBus.add(i=>{let{eventName:r,args:n}=i;e===r&&t(r,n)})}listenRemoteVpaidGetterValueChange(e){return this.vpaidGetterPropertyBus.add(t=>{let{methodName:i,value:r}=t;e(i,r)})}}const yd=async e=>{let{container:t,initAbort:i,initTimeout:r,win:n}=e;const a=Object(ys.a)(6);cs.c.event({name:"VASFrameInitStart",probability:us.a,data:{handshakeID:a}});const o=Date.now();let s=!1;const d=new Ss.a;d.add(()=>{s=!0}),i.add(()=>{Object(Os.a)("[initOutsideApi]: init aborted"),cs.c.event({name:"VASFrameInitAborted",probability:us.a,data:{handshakeID:a}}),d.dispatch(void 0)});const u=f({},ws.a,{handshakeID:a}),p=(e=>{let{container:t,frameUrl:i,initialData:r}=e;const n=t.ownerDocument.createElement("iframe");return c(n,{name:Ws(r),sandbox:Js,src:i,marginwidth:"0",marginheight:"0",scrolling:"no",frameborder:"no",tabindex:"-1",allowtransparency:"true",hidefocus:"true"}),l(n,h({},zs)),qs({iframe:n,shouldBeVisibleNow:!1}),t.appendChild(n),n})({container:t,frameUrl:ks({win:window}),initialData:u});d.add(()=>{Object(Os.a)("[initOutsideApi]: remove frame"),Object(Es.a)(p)});const A=new MessageChannel;A.port1.start(),d.add(()=>{A.port1.close()});const m=new Promise((e,t)=>{Object(Os.a)("[initOutsideApi]: wait for frame to load"),p.addEventListener("load",()=>{Object(Os.a)("[initOutsideApi]: got load event. transfer port"),p.contentWindow.postMessage({type:"init",handshakeID:a},"*",[A.port2]),e()})}),v=new Promise((e,t)=>{const i=Object(Is.a)({element:A.port1,eventName:"message",listener:t=>{const r=t.data;"handshake"===r.type&&r.initialData.handshakeID===a&&(Object(Os.a)("[initOutsideApi]: got handshake event"),i(),e())}})}),_=Promise.all([m,v]),{promise:b,clear:g}=Object(es.a)(r);if(b.then(()=>{var e;cs.c.error({error:new ls.a({code:"VAS_FRAME_INIT_TIMEOUT",details:{frameParentNodeTagName:null===(e=p.parentElement)||void 0===e?void 0:e.tagName,frameBoundingClientRect:Ts(p),handshakeID:a}})}),d.dispatch(void 0)}),_.then(()=>{g()}),d.add(()=>{g()}),await Promise.race([_,b]),s)throw new ls.a({code:"VAS_FRAME_DESTROY_BEFORE_INIT",details:{}});cs.c.values({name:"VASFrameInitSuccess",probability:us.a,data:{handshakeID:a},labels:{},values:{timeSpent:Date.now()-o}}),p.removeAttribute("name"),i.removeAll();const O=new Od({port:A.port1,initialData:u,frame:p});return O.addDestroyHandler(()=>{Object(Os.a)("[initOutsideApi]: do teardown since class destroy"),cs.c.event({name:"VASFrameDestroy",probability:us.a,data:{handshakeID:a}}),d.dispatch(void 0)}),O.addDestroyHandler(Object(Is.a)({element:A.port1,eventName:"message",listener:e=>{const t=e.data;Object(is.a)(t)&&"destroy"===t.type&&cs.c.error({error:new ls.a({code:"VAS_FRAME_FATAL_DESTROY",details:{reason:t.reason}})})}})),Object(Os.a)("[initOutsideApi]: init done"),O},Td=e=>{Object(Os.a)("[initOutsideApi]: do init"),(e=>Qs.call({propertyName:"VAS_FRAME_GLOBAL_CALLBACK",win:Ks,callbackArguments:[{step:e}]}))({name:"before OutsideAPI init call",initParams:e});const{container:t,initTimeout:i}=e,r=new Ss.a,n=t.ownerDocument.defaultView;return{initPromise:yd({container:t,initAbort:r,initTimeout:i,win:n}),abortInit:()=>r.dispatch(void 0)}},Ed={idle:["initializing"],initializing:["initialized"]};class Sd extends qo.a{constructor(){super(),_(this,"initPromise",void 0),_(this,"state",new gs.a({name:"idle"},(e,t)=>{const i=Ed[e.name];return i&&Object(bs.a)(i,t.name)||cs.c.error({error:new ls.a({code:"SINGLE_VAS_FRAME_CLASS_INVALID_TRANSITION",details:{from:e.name,to:t.name}})}),Object(Os.a)("SingleVASFrame: change state from ["+e.name+"] to ["+t.name+"]"),!1})),_(this,"users",0),Object(Os.a)("SingleVASFrame: create instance"),this.initPromise=new Promise(e=>{this.state.add(t=>{"initialized"===t.name&&e(t.outsideApi)})}),this.state.add(e=>{"initializing"===e.name&&e.outsideApiInitPromise.then(e=>{this.state.dispatch({name:"initialized",outsideApi:e}),this.addDestroyHandler(()=>{e.destroy(void 0)})}).catch(e=>{this.destroy(e)})})}init(e){Object(Os.a)("SingleVASFrame: do init");const t=Td(e);this.addDestroyHandler(()=>{t.abortInit()}),this.state.dispatch({name:"initializing",outsideApiInitPromise:t.initPromise})}addUser(){if(this.isDestroyed)throw new Error("SingleVASFrameClassCannotAddUserAfterDestroy");Object(Os.a)("SingleVASFrame: add user from "+this.users),this.users+=1}removeUser(){Object(Os.a)("SingleVASFrame: remove users from "+this.users),this.users=Math.max(0,this.users-1),0===this.users&&this.destroy(void 0)}}let wd;const Id=()=>(wd||(wd=new Sd).addDestroyHandler(()=>{wd=void 0}),wd),Pd=async e=>{const t=Id();return(await t.initPromise).doGETRequest(e)},Cd=function(e,t){let i=e[t];if(!Object($s.a)(i)){const n=i;try{delete e[t],i=e[t],e[t]=n}catch(r){}}return i}(Object,"create")?Object.create:function(e,t){function i(){}if(i.prototype=e,Object(is.a)(t))for(const r in t)t.hasOwnProperty(r)&&(i[r]=t[r]);return new i},Dd=e=>e instanceof Date||"Date"===Object(Zs.a)(e);var Nd=i(44);const Rd=function e(t,i){void 0===i&&(i={preserveConstructors:!0});let r=t;if(Object(Ko.a)(t)){return t.map(t=>e(t,i))}return Dd(t)?new Date(t.getTime()):(!Object(Cs.a)(t)&&Object(is.a)(t)&&(r=i.preserveConstructors?Cd(t):{},Object(Nd.a)(t,(t,n)=>{r[n]=e(t,i)})),r)};var kd=i(57);const Vd=["nobanner","noad"];var Ld=i(63),Bd=i(110),Md=i(81),jd=i(18),Ud=i(58),xd=i(41),Fd=i(136);const Hd="client-ts",zd="client-timezone-offset",Wd="adsdk-bundle-version",Gd="adsdk-bundle-name",Yd="adsdk-container-visibility",qd="adsdk-container-width",Xd="adsdk-container-height",Kd="video-avatar-width",Qd="video-avatar-height",Jd="ad-session-id",Zd="sid",$d="viewability-undetermined",el="top-ancestor",tl="top-ancestor-undetermined",il="video-volume",rl="video-muted",nl="pcode-active-testids",al="shyid",ol="document-has-focus",sl="is-fullscreen",dl="device-orientation";var ll=i(26),cl=i(137),ul=i(52);const hl=(e,t,i)=>{let r=e.getItem(t);return r||(r=i(t),e.setItem(t,r)),r};var pl=i(76);const Al=e=>{try{return e()}catch(t){return}},ml=(e,t,i,r)=>(function(){try{return t.apply(i||this,arguments)}catch(n){if(Object(Cs.a)(r)&&r(n),!0===n.preventProtect)throw n;ml.log(n,e)}});ml.log=function(e,t){console.log("LOG:"+t+":"+e)},ml.setTimeout=(e,t,i,r)=>window.setTimeout(ml("timeout",e,i,r),t);class vl{}vl.YaContextCallbacks=O("Ya.C","ontext._callbacks"),vl.YaContextCallbacksCalls=O("Ya.C","ontext._callbacks_call"),vl.AdvManager=O("A","dvManager"),vl.AdvBlock=O("A","dvBlock"),vl.RTB=O("R","TB"),vl.Rtb=O("R","tb"),vl.MetrikaAdtune=O("metrika_a","dtune");class fl{constructor(e){this.obj=e}getItem(e){return this.obj[e]}setItem(e,t){this.obj[e]=t}}const _l=Object(ul.a)(()=>((e,t,i)=>{let r;return((e,t)=>{const i=e.slice();for(;i.length;){const e=t(i.shift());if(!e)return;i.push(...e)}})([e.top],e=>{if(!(r=Al(()=>Object(pl.a)(e,t))))return Al(()=>Object(kd.a)(e.frames))||[]}),r||(r=i()),vd(e,t,r),r})(self,"Ya.pcodeCrossFrameData",()=>new fl({}))),bl=e=>hl(_l(),e,()=>new fl({})),gl=Object(ul.a)(()=>((e,t,i)=>{let r=Object(pl.a)(e,t);return r||(r=i(),vd(e,t,r)),r})(self,"Ya.pcodeWindowData",()=>new fl({}))),Ol=e=>hl(gl(),e,()=>new fl({})),yl=ml("metrika::pushEvent",(e,t)=>{const i=Object(pl.a)(e,"Ya._metrika.dataLayer")||[];vd(e,"Ya._metrika.dataLayer",i),i.push({ymetrikaEvent:{type:"params",parent:1,data:{__ym:y({},t)}}})}),Tl=ml("sessionId::configureMetrika",(e,t)=>{yl(e,{adSessionID:t})});var El=i(59);const Sl=()=>(1e6*Object(El.a)()).toFixed(0)+(new Date).valueOf().toString();let wl;const Il=()=>(wl||(wl=((e,t,i,r)=>{let n=t.getItem("sessionId");return n||(n=i.getItem("sessionId")||e(),r(window,n)),t.setItem("sessionId",n),i.setItem("sessionId",n),n})(Sl,Ol("common"),bl("common"),Tl)),wl);var Pl=i(51);const Cl=()=>Object(Pl.a)(Il)||void 0,Dl=e=>{var t;const i=null===(t=e.yandex)||void 0===t?void 0:t.getSiteUid;if(Object(Cs.a)(i))return String(i())};var Nl=i(138);const Rl="adfox.ru",kl=(e,t)=>{for(let i=0;i<e.length;i++)if(t(e[i],i,e))return!0;return!1};var Vl=i(20);const Ll=[...["localhost","127.0.0.1"].concat([]),...["yandex.ru","yandex.com","yandex.net","yandex.com.tr","yandex.ua","yandex.by","yandex.kz",Vl.c,"yandex.st","yandex-team.ru","yandex-team.com","yandex-team.com.ua","yandex-team.net.ua","yandex-team.com.tr","ya.ru","yandexsport.ru"]];var Bl=i(147);const Ml="function"===typeof IntersectionObserver&&Object($s.a)(IntersectionObserver);var jl=i(69);const Ul=Ml||!jl.a;let xl={ads:[],children:[],xmlString:"",url:void 0};const Fl=(e,t,i)=>{const r=C(e,t,i),n=parseInt(r,10);return a(n)?n:i},Hl=-1,zl=4;var Wl=i(47),Gl=i(130);const Yl="ru",ql="TranslatorError";class Xl extends Wl.a{constructor(){super(...arguments),this.name=ql}}const Kl=2147483647;var Ql=i(67),Jl=i(46);M({},Jl.a);const Zl=M({},Jl.a),$l=e=>Zl[e],ec=(nd.a,nd.a,nd.a,nd.a,"TRUE"===$l("IGNORE_DESIRED_BITRATE_INAPP"));var tc=i(146);const ic=Boolean(tc.a),rc=-1,nc={adLabel:0,actionButton:0,skip:0,mute:0,play:0,timeline:0,abuse:0,loader:0,disclaimers:0},ac=Object(Hs.a)(nc),oc=U(nc,()=>!1),sc={controlsVisibility:{}},dc={},lc=(e=>Object($s.a)(e.navigator.sendBeacon))(window);Object(Xs.a)({propertyName:"KNOCK_GLOBAL_CALLBACK_PROPERTY_NAME",win:window});let cc={sequence:0,adId:void 0,creativeId:void 0,parseIndex:0,randomHexString:"",adParameters:"",mediaFiles:[],icons:[],isNonLinear:!1,progressTrackings:[],trackingEvents:{},clickThrough:"",abuseUrl:"",duration:0,isClickable:!0,isNotReplacedBroadcastAd:!1};let uc={showCountDown:!0,showSoundButton:!0,showLabel:!0};const hc=e=>({src:D(e.querySelector("StaticResource")),program:C(e,"program"),xPosition:Fl(e,"xPosition",0),yPosition:Fl(e,"yPosition",0),width:Fl(e,"width",0),height:Fl(e,"height",0)}),pc=(e,t,i)=>{i&&"string"===typeof t&&(e.trackingEvents[t]=[...e.trackingEvents[t]||[],i])};let Ac;const mc=function(e,t){let{isYandexVastUrl:i}=void 0===t?{}:t;const r=e.querySelector("VideoClicks"),n=e.querySelectorAll("MediaFile"),a=e.querySelector("Linear"),o=e.querySelector("NonLinear"),s=e.querySelector("NonLinearClickThrough"),d=e.querySelector("TrackingEvents"),l=d?d.querySelectorAll("Tracking"):[],c=Object(kd.a)(e.querySelectorAll("Impression")),u=e.querySelectorAll("Error"),h=e.querySelector("Extensions"),p=e.querySelector("Description"),A=e.querySelectorAll("Icons Icon"),m=e.querySelector("AdParameters"),v=e.querySelector("AdSystem"),f=e.querySelector("AdTitle"),_=e.querySelector("Creative"),b=Object(rd.a)(e.id)?e.id:void 0,g=Rd(cc,{preserveConstructors:!1});g.adId=b,_&&(g.creativeId=Object(rd.a)(_.id)?_.id:void 0),g.parseIndex=void 0===Ac?Ac=0:++Ac,g.randomHexString=Object(ys.a)(16);const O=e.querySelector("InLine"),y=e.querySelector("Wrapper"),T=Boolean(O);if(T===Boolean(y)){if(T)throw new ls.a({code:i?"YANDEX_INLINE_AND_WRAPPER_NODE_IN_ONE_AD_SECTION":"INLINE_AND_WRAPPER_NODE_IN_ONE_AD_SECTION",details:void 0});throw new ls.a({code:i?"YANDEX_NO_INLINE_OR_WRAPPER_NODE":"NO_INLINE_OR_WRAPPER_NODE",details:void 0})}if(g.sequence=function(e){const t=e.getAttribute("sequence");if(null===t)return Hl;const i=parseInt(t,10);return J(i)?i:(cs.c.error({error:new ls.a({code:"INCORRECT_VAST_AD_SEQUENCE_ATTRIBUTE",details:{sequenceAttr:t}})}),Hl)}(e),T&&m){const e=D(m);g.adParameters=e;const t=R(e);if(Object(is.a)(t)){g.adParametersObject=t;const e=function(e){if(!Object(is.a)(e))return;const{AUCTION_DC_PARAMS:t}=e;if(!Object(is.a)(t))return;const{data_params:i}=t;if(!Object(is.a)(i))return;const{misc:r}=i;if(!Object(is.a)(r))return;const{click_url:n}=r;if(!Object(is.a)(n))return;const{abuse:a}=n;return Object(rd.a)(a)?a:void 0}(t);e&&(g.abuseUrl=e),g.playbackAdParameters=W(t.playbackParameters).config;const i=function(e){if(!Object(is.a)(e))return;const{background:t}=e;return Object(is.a)(t)&&Object(rd.a)(t.color)?t.color:void 0}(t);void 0!==i&&(g.backgroundColor=i);const r=function(e){const{PACKSHOT_START_NOTICE_URL:t}=e;if(Object(rd.a)(t))return t}(t);r&&pc(g,"packshotStart",r)}}if(y){const t=D(e.querySelector("VASTAdTagURI"));if(!t)throw new ls.a({code:i?"YANDEX_NO_VAST_AD_TAG_URI":"NO_VAST_AD_TAG_URI",details:void 0});g.vastAdTagUri=t}if(void 0!==n)for(let E=0;E<n.length;E++){const e=k(n[E]);e&&g.mediaFiles.push(e)}if(r){const e=D(r.querySelector("ClickThrough"));e&&(g.clickThrough=e)}if(r){const e=r.querySelectorAll("ClickTracking");for(let t=0;t<e.length;t++)pc(g,"clickThrough",D(e[t]))}for(let E=0;E<l.length;E++){const e=C(l[E],"event"),t=D(l[E]);if("progress"===e){const e=C(l[E],"offset",""),r=Q(e);void 0!==r?g.progressTrackings.push({urls:[t],offset:r}):cs.c.error({error:new ls.a({code:i?"YANDEX_VAST_INCORRECT_PROGRESS_OFFSET":"VAST_INCORRECT_PROGRESS_OFFSET",details:{url:t,offsetString:e}})})}else pc(g,e,t)}Object($o.a)(c,e=>{pc(g,"impression",D(e))});for(let E=0;E<u.length;E++)pc(g,"error",D(u[E]));for(let E=0;E<A.length;E++)g.icons.push(hc(A[E]));if(h){const e=h.querySelectorAll('Extension[type="skipAd"]');for(let l=0;l<e.length;l++)cs.c.event({name:"UsingSkipAdExtensionInVast",probability:us.a,data:void 0}),pc(g,"skip",D(e[l]));const t=h.querySelector('Extension[type="skipTime"]');if(N(t)){const e=K(D(t));cs.c.event({name:"UsingSkipTimeExtensionInVast",probability:us.a,data:{skipTime:e}}),g.skipTime=K(D(t)),g.skipTime>180&&(g.skipTime=0)}const i=h.querySelector('Extension[type="controls"]');i&&(g.imhoParams=(e=>{const t=Z({},uc),i=e.querySelector('control[id="countdown"]');i&&(t.showCountDown="0"!==C(i,"layout"));const r=e.querySelector('control[id="soundbtn"]');r&&(t.showSoundButton="0"!==C(r,"layout"));const n=e.querySelector('control[id="adlabel"]');return n&&(t.showLabel="0"!==C(n,"layout")),t})(i));const r=h.querySelector('Extension[type="isClickable"]');N(r)&&(g.isClickable="0"!==D(r)),h.querySelector('Extension[type="broadcastAdNotReplaced"]')&&(g.isNotReplacedBroadcastAd=!0);const n=h.querySelector('Extension[type="backgroundBlur"]');N(n)&&(g.backgroundBlur="1"===D(n));const a=h.querySelector('Extension[type="OutstreamEndScreen"]');a&&(g.endScreenParams=(e=>{const t={randomBackgrounds:[]},i=e.querySelector("RandomBackgrounds");if(i){const e=i.querySelectorAll("Background");for(let i=0;i<e.length;i++){const r=C(e[i],"src");Object(rd.a)(r)&&t.randomBackgrounds.push(r)}}return t})(a));const o=h.querySelector('Extension[type="CustomTracking"]'),s=o?o.querySelectorAll("Tracking"):[];for(let l=0;l<s.length;l++){const e=C(s[l],"event");pc(g,e,D(s[l]))}const d=h.querySelector('Extension[type="isIndependentOnVideoElement"]');N(d)&&(g.isIndependentOnVideoElement="1"===D(d))}if(N(p)&&(g.description=D(p)),N(v)&&(g.adSystem=D(v)),N(f)&&(g.adTitle=D(f)),a){const e=C(a,"skipoffset","").trim();if(""!==e){const t=K(e);isNaN(t)?X(new ls.a({code:i?"YANDEX_INCORRECT_SKIPOFFSET_FORMAT":"INCORRECT_SKIPOFFSET_FORMAT",details:{nodeValue:e}}),g.trackingEvents.error):g.skipOffset=t}const t=a.querySelector("Duration");t&&(g.duration=K(D(t)))}if(o){if(g.isNonLinear=!0,s){const e=D(s);e&&(g.clickThrough=e)}g.mediaFiles=Object(Xo.a)([V(o)],Boolean)}return g},vc=async e=>{const t="YANDEX"===e.loadParameters.vastSourceType,{xmlString:i,xmlVastNode:r}=e,n=r.getAttribute("version");if(!function(e){if(!Boolean(e))return!0;if(!Object(Vs.a)(e))return!1;const t=Number(e.split(".")[0]);return!!o(t)&&t<=zl}(n))throw new ls.a({code:t?"YANDEX_INCOMPATIBLE_VAST_VERSION":"INCOMPATIBLE_VAST_VERSION",details:{xmlString:i,version:n}});const a=Object(kd.a)(r.querySelectorAll("VAST Ad"));if(0===a.length)return Rd(xl,{preserveConstructors:!1});const s=[],d=Object(Zo.a)(a,i=>{const r=mc(i,{isYandexVastUrl:t}),{vastAdTagUri:n}=r;if(!n)return[r];if(e.loadParameters.wrapperMaxCount<=1)return cs.c.error({error:new ls.a({code:t?"YANDEX_WRAPPER_MAX_COUNT_LIMIT":"WRAPPER_MAX_COUNT_LIMIT",details:void 0})}),[];const{adPlacementOptions:a,wrapperTimeout:o}=e.loadParameters,d=Object(es.a)(o),l=d.promise.then(()=>(cs.c.error({error:new ls.a({code:t?"YANDEX_WRAPPER_LOAD_TIMEOUT":"WRAPPER_LOAD_TIMEOUT",details:{wrapperTimeout:o,vastAdTagUri:n,parsingParameters:e.loadParameters}})}),[])),c=Tc({url:w({url:n,options:a,win:window}),loadParameters:$({},e.loadParameters,{wrapperMaxCount:e.loadParameters.wrapperMaxCount-1})}).then(e=>(d.clear(),s.push(e),Object(Zo.a)(e.ads,e=>(((e,t)=>{t.mediaFiles.length&&(e.mediaFiles=[...e.mediaFiles,...t.mediaFiles]),Object($o.a)(Object(Hs.a)(t.trackingEvents),i=>{e.trackingEvents[i]=[...e.trackingEvents[i]||[],...t.trackingEvents[i]||[]]}),e.clickThrough||(e.clickThrough=t.clickThrough),null===e.skipTime&&(e.skipTime=t.skipTime),null===e.skipOffset&&(e.skipOffset=t.skipOffset),e.isClickable=e.isClickable||t.isClickable,e.progressTrackings.push(...t.progressTrackings),isNaN(e.duration)&&(e.duration=t.duration),e.sequence===Hl&&(e.sequence=t.sequence),t.isNotReplacedBroadcastAd&&(e.isNotReplacedBroadcastAd=!0),!1!==e.backgroundBlur&&"boolean"===typeof t.backgroundBlur&&(e.backgroundBlur=t.backgroundBlur),t.endScreenParams&&(e.endScreenParams?((e,t)=>{e.randomBackgrounds.push(...t.randomBackgrounds)})(e.endScreenParams,t.endScreenParams):e.endScreenParams=t.endScreenParams),e.adSystem||(e.adSystem=t.adSystem),t.isIndependentOnVideoElement&&(e.isIndependentOnVideoElement=!0)})(e,r),e)))).catch(i=>(cs.c.error({error:new ls.a({code:t?"YANDEX_WRAPPER_LOAD_ERROR":"WRAPPER_LOAD_ERROR",details:{error:i,vastAdTagUri:n,parsingParameters:e.loadParameters}})}),[]));return Promise.race([l,c])}),l=b(await Promise.all(d)),[c,u]=g(l,e=>e.isNonLinear),h=u.length>0;return h&&c.length>0&&cs.c.error({error:new ls.a({code:t?"YANDEX_LINEAR_AND_NONLINEAR_IN_SINGLE_VAST":"LINEAR_AND_NONLINEAR_IN_SINGLE_VAST",details:void 0})}),{ads:h?u:c,xmlString:i,children:s,url:e.vastUrl}},fc=async e=>{const{xmlString:t}=e,i=P(t),r="YANDEX"===e.loadParameters.vastSourceType;if(!i)throw new ls.a({code:r?"YANDEX_INVALID_VAST_XML":"INVALID_VAST_XML",details:{xmlString:t}});const n=i.querySelector("VAST");if(!n){const e=r?"YANDEX_NO_AD_CUSTOM_MARKER":"NO_AD_CUSTOM_MARKER",n=r?"YANDEX_VAST_TAG_NOT_FOUND":"VAST_TAG_NOT_FOUND";throw new ls.a({code:Vd.indexOf(I(i))>-1?e:n,details:{xmlString:t}})}return vc($({},e,{xmlVastNode:n}))},_c=async(e,t)=>{let i;try{await new Promise((r,n)=>{t&&t.then(r,n),i=window.setTimeout(r,e)})}finally{window.clearTimeout(i)}};var bc=i(38);const gc=e=>{let{url:t,data:i,withCredentials:r=!0}=e;return new Promise((e,n)=>{const a=new XMLHttpRequest;a.open("GET",t),a.withCredentials=r,a.onerror=()=>n({reason:"error",error:new Error("XHR Error["+a.status+"]["+a.statusText+"]["+t+"]")}),a.onreadystatechange=(e=>{let{xhr:t,resolve:i}=e;return()=>{if(4!==t.readyState)return;const{status:e}=t;if(0===e)return;const{responseText:r}=t;i({responseText:r,responseStatus:e})}})({xhr:a,resolve:e});try{a.send(i)}catch(o){o.message="XHR Send Error["+o.message+"]["+t+"]",n({reason:"error",error:o})}})},Oc=e=>{let{thrownError:t,errorCode:i,errorDetails:r,timeoutCode:n,timeoutDetails:a}=e;const o=t;if("string"===typeof o.reason&&Object(is.a)(o.error)){const{error:e,reason:t}=o;if("error"===t)return new ls.a(e,{code:i,details:r});if("timeout"===t)return new ls.a(e,{code:n,details:a})}return new ls.a(t,{code:i,details:r})},yc=async e=>{let{url:t,loadParameters:i}=e;const{vastTimeout:r}=i,n=S(t),a="VASFrame"===i.requestMethod?Pd:gc,o="boolean"!==typeof ms||ms;try{const{responseText:e,responseStatus:s}=await te({url:t,data:null,timeout:r,doRequest:a,withCredentials:o}),d=function(e,t,i){if(200!==t)switch(e){case vs:return"BAD_PARTNER_OR_DOMAIN_FOR_VAST_REQUEST";case fs:return"BAD_IMP_ID_FOR_VAST_REQUEST";default:return i?"YANDEX_INVALID_VAST_RESPONSE_STATUS":"INVALID_VAST_RESPONSE_STATUS"}}(e,s,n);if(d)throw new ls.a({code:d,details:{url:t,responseText:e,responseStatus:s}});return fc({xmlString:e,loadParameters:i,vastUrl:t})}catch(s){const e="AD_FOX"===i.vastSourceType;let a;a=Object(_s.a)(s)?s.code:e?"ADFOX_VAST_LOAD_ERROR":n?"YANDEX_VAST_LOAD_ERROR":"VAST_LOAD_ERROR";const o=Oc({thrownError:s,errorCode:a,errorDetails:void 0,timeoutCode:n?"YANDEX_VAST_LOAD_TIMEOUT":"VAST_LOAD_TIMEOUT",timeoutDetails:{vastTimeout:r,url:t}});return Promise.reject(o)}},Tc=async e=>{let{url:t,loadParameters:i}=e;if(!t)return Promise.reject(new ls.a({code:"VAST_URL_IS_NOT_DEFINED",details:void 0}));const{vastTimeout:r}=i;cs.c.event({name:"VastLoadStart",probability:us.a,data:{url:t,loadParameters:i,timeout:r}});const n=Date.now(),a=await yc({url:t,loadParameters:i});return cs.c.values({name:"VastLoadSuccess",probability:us.a,data:{url:t,timeout:i.vastTimeout,vast:a},labels:{},values:{adsCount:a.ads.length,timeSpent:Date.now()-n}}),a},Ec={bids:[],creatives:{},creativeUrls:{}};var Sc=i(100);const wc=100,Ic=(e,t)=>{for(let i=0;i<e.length;i++)if(!t(e[i],i,e))return!1;return!0};var Pc=i(73);class Cc extends qo.a{constructor(e,t,i){super(),this.adFoxParameters=e,this.adBreak=t,this.win=i,de(this,"requestPromise",void 0),de(this,"onFetchBidsStart",new Ss.a),de(this,"postMessageRequestId",xd.a+"_"+Object(ys.a)(16)),this.addDestroyHandler(()=>{this.onFetchBidsStart.removeAll()}),this.requestPromise=new Promise(e=>{this.addDestroyHandler(e)}),this.requestBids()}requestBids(){cs.c.event({name:"HBRequestStart",data:this.getDataForLogs()}),this.subscribeHBMessages(),this.sendBidsRequest().then(async e=>{let{timeout:t}=e;cs.c.event({name:"HBFetchBidsStart",data:se({},this.getDataForLogs(),{timeout:t})});const{clear:i,promise:r}=Object(es.a)(t);throw this.addDestroyHandler(i),await r,new ls.a({code:"HB_FETCH_BIDS_TIMEOUT",details:se({},this.getDataForLogs(),{timeout:t})})}).catch(e=>{cs.c.errorToStats(e),this.destroy(Ec)})}subscribeHBMessages(){this.addDestroyHandler(Object(Is.a)({element:this.win,eventName:"message",listener:e=>{const{data:t,source:i}=e;if(!Object(is.a)(t)||!Object(is.a)(i))return;const{id:r,methodName:n}=t;if(r===this.postMessageRequestId)switch(n){case"FetchBidsStart":this.handleFetchBidsStartEventData(t.data);break;case"FetchBidsComplete":this.handleFetchBidsCompleteEventData(t.data);break;case"FetchBids":break;default:cs.c.error({error:new ls.a({code:"HB_MESSAGE_UNKNOWN_METHOD",details:se({},this.getDataForLogs(),{methodName:n})})})}}}))}handleFetchBidsStartEventData(e){if(!Object(is.a)(e))return void cs.c.error({error:new ls.a({code:"HB_MESSAGE_NON_OBJECT_DATA",details:this.getDataForLogs()})});const{timeout:t}=e;o(t)?this.onFetchBidsStart.dispatch({timeout:t}):cs.c.error({error:new ls.a({code:"HB_MESSAGE_INVALID_START_TIMEOUT",details:se({},this.getDataForLogs(),{timeout:t})})})}handleFetchBidsCompleteEventData(e){try{const{bids:t,creatives:i,creativeUrls:r,warnings:n}=function(e,t){const i=[];if(!Array.isArray(e))throw new ls.a({code:"HB_NON_ARRAY_BIDS_DATA",details:oe({},t,{fetchedBids:e})});e.length>1&&i.push(new ls.a({code:"HB_EXTRA_BIDS_DATA",details:oe({},t,{fetchedBids:e})}));const[r]=e;if(!Object(is.a)(r))throw new ls.a({code:"HB_NON_OBJECT_BIDS_DATA",details:oe({},t,{fetchedBids:e})});const{bids:n,creatives:a,creativeUrls:o}=r;if(!Array.isArray(n)||!Ic(n,is.a))throw new ls.a({code:"HB_INVALID_BIDS_OBJECTS",details:oe({},t,{fetchedBids:e})});if(!Object(is.a)(a)||!Ic(ae(a),Vs.a))throw new ls.a({code:"HB_BIDS_INVALID_CREATIVES",details:oe({},t,{fetchedBids:e})});if(!Object(is.a)(o)||!Ic(ae(o),Vs.a))throw new ls.a({code:"HB_BIDS_INVALID_CREATIVE_URLS",details:oe({},t,{fetchedBids:e})});return{bids:n,creatives:a,creativeUrls:o,warnings:i}}(e,this.getDataForLogs()),a={bids:t,creatives:i,creativeUrls:r};ie(n),cs.c.event({name:"HBFetchBidsComplete",data:se({},this.getDataForLogs(),{fetchedBidsObject:a})}),this.destroy(a)}catch(t){cs.c.errorToStats(t)}}sendBidsRequest(){const e=Object(Sc.a)(this.win),t={id:this.postMessageRequestId,methodName:"FetchBids",data:[{containerId:this.adFoxParameters.containerId,adBreakType:this.adBreak.adType}]};for(const n of e)ne(se({win:n},t));const{promise:i,clear:r}=Object(es.a)(wc);return this.addDestroyHandler(r),new Promise((e,t)=>{i.then(()=>{const{promise:e,teardown:t}=function(e){let t;const i=Math.random(),r=new Promise(r=>{t=Object(Is.a)({element:e,eventName:"message",listener:e=>{let{data:n}=e;n===i&&(t(),r())}}),e.postMessage(i,"*")});return{teardown:t,promise:r}}(this.win);return this.addDestroyHandler(t),e}).then(()=>{t(new ls.a({code:"HB_HANDSHAKE_TIMEOUT",details:this.getDataForLogs()}))}).catch(t);const n=re(t=>{r(),e(t)},e=>{cs.c.error({error:new ls.a({code:"HB_START_MULTIPLE_TIMES",details:se({},this.getDataForLogs(),{data:e})})})});this.addDestroyHandler(this.onFetchBidsStart.add(n))})}getDataForLogs(){return{adBreak:this.adBreak,adFoxParameters:this.adFoxParameters,postMessageRequestId:this.postMessageRequestId}}}const Dc={Unsafe:0,Safe:0,ForceSafe:0,OnlyYandexCreatives:0},Nc=Object(Hs.a)(Dc),Rc=Object(hs.b)(window,"adsdksecuremode"),kc=Rc&&Object(bs.a)(Nc,Rc)?Rc:void 0,Vc=e=>{let{secureMode:t,url:i}=e;const r=null!==kc&&void 0!==kc?kc:t;return"ForceSafe"===r||"Safe"===r&&(!i||!S(i))},Lc=["yandex.ru","yandex.com","yandex.net","yandex.com.tr","yandex.ua","yandex.by","yandex.kz","yandex.st","yandex-team.ru","yandex-team.com","yandex-team.com.ua","yandex-team.net.ua","yandex-team.com.tr","ya.ru","yandexsport.ru"],Bc=(Ae(),function(e){return void 0===e&&(e=window),e.devicePixelRatio||e.screen.deviceXDPI&&e.screen.deviceXDPI/e.screen.logicalXDPI||1});var Mc=i(71);const jc=function(e){return void 0===e&&(e=window),"BackCompat"===e.document.compatMode};var Uc,xc;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.ETHERNET=1]="ETHERNET",e[e.WIFI=2]="WIFI",e[e.CELL_2G=3]="CELL_2G",e[e.CELL_3G=4]="CELL_3G"}(Uc||(Uc={})),function(e){e.BLUETOOTH="bluetooth",e.CELLULAR="cellular",e.ETHERNET="ethernet",e.MIXED="mixed",e.NONE="none",e.OTHER="other",e.UNKNOWN="unknown",e.WIFI="wifi",e.WIMAX="wimax"}(xc||(xc={}));const Fc=e=>Math.max(0,Math.round(e));class Hc{constructor(){this.config=fe()}set(e,t){this.config[e]=t}get(e){return this.config[e]}toString(){return JSON.stringify(this.config)}}let zc=0;const Wc=()=>zc,Gc=(e,t)=>{const i=e.toString();return"0000".substr(0,t-i.length)+i},Yc=e=>{return e.getFullYear()+"-"+Gc(e.getMonth()+1,2)+"-"+Gc(e.getDate(),2)+"T"+Gc(e.getHours(),2)+":"+Gc(e.getMinutes(),2)+":"+Gc(e.getSeconds(),2)+"."+Gc(e.getMilliseconds(),3)+(e=>{const t=-e.getTimezoneOffset();return""+(t>=0?"+":"-")+Gc(Math.floor(Math.abs(t)/60),2)+":"+Gc(Math.abs(t)%60,2)})(e)},qc=()=>(function(e,t){let i=e+Object(El.a)()*(t+1-e);return i=Math.floor(i)})(1,4294967295),Xc=(e,t)=>{let i=[];try{i=e.cookie?e.cookie.split("; "):[]}catch(a){}const r=/(%[0-9A-Z]{2})+/g;let n;for(let o=0;o<i.length;o++){const e=i[o].split("="),s=e.slice(1).join("=");try{const i=e[0].replace(r,decodeURIComponent);if(s.replace(r,decodeURIComponent),t===i){n=decodeURIComponent(s);break}}catch(a){return}}return n};let Kc=0;const Qc=e=>{let{win:t,date:i=new Date,pr1:r,pr:n,testtag:a,isTurbo:o=pe(t),addsSsSkipToken:s=!1,layoutConfig:d=new Hc,cookies:l,loaderVer:c,bundleVer:u,adSessionId:h,location:p,extid_loader:A,extid_tag_loader:m}=e;d.set("req_no",(()=>Kc++)()),d.set("ad_no",_e());const v=ye({},(e=>{let{win:t,pr:i,date:r=new Date,pr1:n=qc(),location:a,extid_loader:o,extid_tag_loader:s}=e;const d=Ae(t)&&t.context&&t.context.sourceUrl||void 0,l=d||t.document.referrer;return{dl:d||a||be(t),date:Yc(r),pd:r.getDate(),pdh:t.screen.height,pdw:t.screen.width,pr1:n,pr:i,prr:l,pv:r.getHours(),pw:r.getDay(),extid_loader:void 0===o?ge(t):o,extid_tag_loader:void 0===s?Oe(t):s}})({win:t,date:i,pr1:r,pr:n,location:p,extid_loader:A,extid_tag_loader:m}),{ylv:"0."+(c||"1"),ybv:"0."+(u||"1"),ytt:a?a.toString():"","is-turbo":Number(o),"skip-token":me(),"ad-session-id":h||Il(),"layout-config":d.toString(),"enable-flat-highlight":1},l);return s&&(v["ss-skip-token-length"]=20,v["allow-repeat-ads"]=0),v},Jc=2048,Zc=[/avito/],$c=["slide","visibleAfterInit","insertAfter","insertPosition","stick","stickTo","stickyColorScheme","replayMode","preload"],eu=["an.ya","ndex.ru/adf","ox"].join(""),tu="TRUE"===$l("REQUEST_ADFOX_FROM_YANDEX_RU")&&!ws.a.LOADER_LOADED_FROM_AN_YANDEX_RU?Vl.b+"/an/adfox":Vl.a+"/adfox";class iu extends qo.a{constructor(e){super(),this.params=e,Ne(this,"loadVastPromise",void 0),Ne(this,"loadingTimeoutPromise",void 0);const{promise:t,clear:i}=Object(es.a)(this.params.adBreak.vastTimeout);this.loadingTimeoutPromise=t,this.addDestroyHandler(i),this.loadVastPromise=this.processAdFoxVastLoading().catch(e=>{throw cs.c.errorToStats(e),this.destroy(),e})}async processAdFoxVastLoading(){var e;const{adConfig:t,adBreak:i,adPlacementOptions:r}=this.params;let{adFoxParameters:n}=t;const{bids:a,containerId:o}=n;if(!a&&o){const e=new Cc(De({},n,{containerId:o}),i,window);this.addDestroyHandler(()=>{e.destroy(Ec)});const r=await Promise.race([e.requestPromise,this.loadingTimeoutPromise.then(()=>{throw new ls.a({code:"HB_VAST_LOAD_TIMEOUT",details:{adConfig:t,adBreak:i,timeout:i.vastTimeout}})})]);n=De({},n,r)}const s=await Promise.race([Ce({adFoxParameters:n,adPlacementOptions:r,secureMode:t.secureMode}),this.loadingTimeoutPromise.then(()=>{throw new ls.a({code:"ADFOX_AD_DATA_LOADING_TIMEOUT",details:{adConfig:t,adBreak:i,adFoxParameters:n}})})]),{vastBase64:d}=s;if(d){const e=await this.processBase64Vast(d).catch(e=>{throw new ls.a({code:"ADFOX_VAST_BASE64_LOAD_ERROR",details:{adConfig:t,adBreak:i,vastBase64:d,error:e}})});return cs.c.event({name:"AdFoxVastLoadedUsingHB",data:{adConfig:t,adBreak:i,vast:e}}),this.destroy(),e}const l=await this.processLoadingHBCreativeUsingCampaignId(n,s),c=Object(Xo.a)(null!==(e=n.bids)&&void 0!==e?e:[],e=>""+(e.campaign_id||"")===s.campaignId);return Object($o.a)(c,e=>{let{win_notice:t}=e;t&&Object($o.a)(l.ads,e=>{e.trackingEvents.creativeView||(e.trackingEvents.creativeView=[]),e.trackingEvents.creativeView.push(t)})}),cs.c.event({name:"AdFoxVastLoaded",data:{adConfig:t,adBreak:i,vast:l}}),this.destroy(),l}processLoadingHBCreativeUsingCampaignId(e,t){let{campaignId:i}=t;const{adConfig:r,adBreak:n}=this.params,{creatives:a={},creativeUrls:o={}}=e,s=a[i],d=o[i];if(!s&&!d)throw new ls.a({code:"HB_CREATIVE_IS_NOT_FOUND",details:{adConfig:r,adBreak:n,adFoxParameters:e,campaignId:i}});return s?this.processBase64Vast(s).catch(e=>{throw new ls.a({code:"HB_VAST_BASE64_LOAD_ERROR",details:{adConfig:r,adBreak:n,vastBase64:s,error:e}})}):Tc({url:d,loadParameters:Ti({adConfig:r,adBreak:n,isAdFox:!0,adPlacementOptions:ds})}).catch(e=>{throw new ls.a({code:"HB_VAST_URL_LOAD_ERROR",details:{adConfig:r,adBreak:n,vastUrl:d,error:e}})})}processBase64Vast(e){let t;try{t=n(e)}catch(i){throw new ls.a({code:"ADFOX_VAST_BASE64_PARSING_ERROR",details:{error:i}})}return fc({xmlString:t,loadParameters:Ti({adConfig:this.params.adConfig,adBreak:this.params.adBreak,isAdFox:!0,adPlacementOptions:ds}),vastUrl:void 0})}}var ru=i(77);const nu=ru.a+"/1_0",au="https://"+Vl.c+"/"+nu+"/",ou="https://"+Vl.b+"/ads/system/",su={AdSDKLoader:"adsdk",VpaidPlayerLoader:"interactive_viewer"},du=""+au+(su.VpaidPlayerLoader+".js"),lu=Object(hs.b)(window,"adsdknovastconvertation"),cu="https://"+Vl.c+"/"+nu+"/ad_creative.js",uu={MotionTGO:cu,InteractiveElementsAdCreative:cu,ThemeEmpty:cu,Survey:cu},hu={Overlay:"overlay-creative/javascript",Motion:"motion-creative/javascript",VpaidCreative:"vpaid-creative/javascript",Survey:"survey-creative/javascript"},pu=ke({},ss,{bitrate:0});const Au=U(i(143).a,e=>"https://"+Vl.c+"/"+nu+"/"+e+".js"),mu=function(e){const t={};return Object(Nd.a)(e,(e,i)=>{t[e]=i}),t}(Au),vu=Ve({},pu,{url:Au.InteractiveElementsAdCreative,type:hu.Motion}),fu={MotionTGO:"motion",InteractiveElementsAdCreative:"interactiveViewer",ThemeEmpty:"themeEmpty",Survey:"survey"};var _u=i(108);const bu="https://"+Vl.c+"/"+ru.a+"/1_0/vpaid-motion.js",gu="https://"+Vl.c+"/pcode/media/vpaid-motion.js",Ou="https://"+Vl.a+"/system/video-ads-sdk/vpaid-motion.js",yu=Object(Rs.a)(_u.a)+"vpaid-motion.js",Tu=[bu,gu,Ou,yu],Eu="https://"+Vl.c+"/pcode/media/vpaid-creative.js",Su="https://"+Vl.c+"/"+ru.a+"/1_0/vpaid-creative.js",wu=[Eu,Su];var Iu=i(111);const Pu=["application/javascript","application/x-javascript"],Cu=Me({},pu,{type:"application/x-javascript"}),Du=je({url:cu},Cu),Nu=Ue({},pu,{url:Au.MotionTGO,type:hu.Motion}),Ru=xe({},pu,{url:Au.Survey,type:hu.Survey}),ku=Fe({},pu,{url:Au.ThemeEmpty,type:hu.VpaidCreative});const Vu=["https://"+Vl.c+"/pcode/media/vpaid-pythia-survey-embed.js"],Lu="video-banner_survey",Bu=e=>{const{mediaFiles:t}=e;return Array.isArray(t)&&kl(t,e=>Object(bs.a)(wu,e.url))},Mu="video-banner_theme_empty";var ju=i(72);var Uu=i(122),xu=i(74),Fu=(i(173),i(36)),Hu=i(109),zu=i(141);const Wu=Object(Hs.a)({AdSDKLoader:0,VpaidPlayerLoader:0}),Gu=Object(bs.a)(Wu,ll.c),Yu="VpaidPlayerLoader"===ll.c,qu=ou+"adsdk.js";var Xu=i(142),Ku=i(48),Qu=i(43),Ju=i(68);const Zu=Object(hs.b)(window,"adsdkabflags"),$u=Object(hs.b)(window,Ju.a);var eh=i(132),th=i(120);const ih=Object(hs.b)(window,"adsdkmotionoldanimation"),rh=Object(hs.b)(window,"adsdkthemeemptyactionbutton");var nh=i(157),ah=i(114);const oh=Object(hs.b)(window,"adsdkver"),sh=parseInt(null!==oh&&void 0!==oh?oh:"",10),dh=et(sh)&&o(sh)?sh:void 0,lh={adsdkdebug:eh.a,adsdkecmaver:th.a,adsdkmotionoldanimation:ih,adsdknovastconvertation:lu,adsdksecuremode:kc,adsdkthemeemptyactionbutton:rh,adsdktracelogs:nh.a,adsdkwithcredentials:ms,adsdkver:dh,adsdkabflags:Zu,adsdkuaas:ah.a,[Ju.a]:$u},ch={adsdkdebug:"UsingAdsdkDebugHardcodedParam",adsdkecmaver:"UsingAdsdkEcmaVerHardcodedParam",adsdkmotionoldanimation:"UsingAdsdkMotionOldAnimationHardcodedParam",adsdknovastconvertation:"UsingAdsdkNoVASTConvertationHardcodedParam",adsdksecuremode:"UsingAdsdkSecureModeHardcodedParam",adsdkthemeemptyactionbutton:"UsingAdsdkThemeEmptyActionButtonHardcodedParam",adsdktracelogs:"UsingAdsdkTraceLogsHardcodedParam",adsdkwithcredentials:"UsingAdsdkWithCredentialsHardcodedParam",adsdkver:"UsingAdsdkVerHardcodedParam",adsdkabflags:"UsingAdsdkabflagsParam",adsdkuaas:"UsingAdsdkuaasParam",[Ju.a]:"UsingAimBannerId"};var uh=i(61);const hh="TRUE"===$l("ENABLE_UNSUPPORTED_LOADER_SCRIPT_SRC_WARNING")||void 0;var ph=i(145),Ah=i(60);const mh=()=>{if(!Gu)return;const{currentScript:e}=document;if(!e)return;const{src:t,crossOrigin:i}=e;if(!Object(Vs.a)(t))return;const r=ll.c,n="AdSDKLoader"===r?qu:""+au+su[r]+".js",a=Object(jd.f)(tt({},Object(jd.e)(t),{search:"",hash:""}));(Object(rd.a)(i)?"anonymous"===i.toLowerCase():""===i)&&(cs.c.event({name:"CrossOriginAnonymousLoaderScript",probability:us.a,data:{src:t,crossOrigin:String(i)}}),Object(Ah.a)('VAS script "crossorigin" attribute set to the value "anonymous". This value is NOT supported. Remove this attribute.')),a!==n&&(Object(Cs.a)(Object(Ps.a)(window))?cs.c.event({name:"AbdLoaderScripsSrc",probability:us.a,data:{src:t}}):0===a.indexOf(ph.a)?cs.c.event({name:"HardcodedLoaderScriptSrc",probability:us.a,data:{src:t}}):"AdSDKLoader"===r?(hh&&Object(Ah.a)("You are using unsupported Video Ads SDK script src ["+a+"] please, use new link ["+qu+"]"),cs.c.event({name:"UnsupportedAdsdkLoaderScriptSrc",probability:us.a,data:{src:t,crossOrigin:String(i)}})):cs.c.event({name:"UnexpectedLoaderScripsSrc",probability:us.a,data:{src:t,expectedSrc:n,crossOrigin:String(i)}}))};var vh=i(133);const fh=1e3,_h=60,bh=60*_h,gh=30*(24*bh*fh),Oh=()=>{Date.now()-ll.a<gh||_c(2e3).then(()=>rt({url:au+"build_info.json",method:"GET"})).then(e=>{let{responseText:t}=e;const{version:i}=JSON.parse(t);i!==Ns.a&&cs.c.warning({name:"UsingDeprecatedLoaderVersion",message:"AdSDK version you are using ("+Ns.a+") is out of date. Actual version is "+i+"."})}).catch(e=>{cs.c.error({error:new ls.a(e,{code:"REQUEST_BUILD_INFO_ERROR"})})})};var yh=i(54);const Th=window;at({videoAd:{debugParameters:{},encodeUrl:Uu.a,loadedModules:{},loadModule:function(e){return new Promise((t,i)=>{Object(yh.b)({moduleName:e,version:void 0,onSuccess:t,onError:i,win:window,timeout:yh.a})})},skipTokens:[],modules:{},play:e=>(cs.c.event({name:"UsingQuickIntegrationApi",data:void 0,probability:us.c}),new Promise((t,i)=>{Object(yh.b)({moduleName:"AdLoader",version:void 0,onSuccess:r=>{let{play:n}=r;n(e).then(t).catch(i)},onError:i,win:window,timeout:yh.a})})),getBundleVersion:()=>String(Ns.a),getModuleVersion:()=>String(_u.a)},video:{addVideoPlayer:(e,t,i,r)=>{cs.c.warning({name:"UsingDeprecatedGlobalMethodAddVideoPlayer",message:"You are using deprecated HTML5VideoPlayer. Use Yandex StreamPlayer https://yandex.ru/support/video-hosting/index.html."}),Object(yh.b)({moduleName:"VideoPlayer",version:void 0,onSuccess:n=>{n.addVideoPlayer(e,t,i,r)},onError:nd.a,win:window,timeout:yh.a})}}},"ya");const Eh=ya;if(Object(is.a)(Ku.b)?cs.c.event({name:"UsingGlobalStatsRootField",probability:us.c,data:{statsRootParams:Ku.b}}):Object(xu.a)(Ku.a)&&cs.c.error({error:new ls.a({code:"GLOBAL_STATS_ROOT_FIELDS_EXTRACTION_ERROR",details:{error:Ku.a}})}),(zu.a||Yu)&&(Object($o.a)(Object(Qu.a)(lh),e=>{let[t,i]=e;void 0!==i&&cs.c.event({name:ch[t],data:{value:i}})}),Fu.b)){Fu.b instanceof ReferenceError?cs.c.event({name:"VasUAASConfigIsEmpty",data:{}}):cs.c.error({error:new ls.a(Fu.b,{code:"VAS_UAAS_CONFIG_EXTRACTION_ERROR",details:{error:Fu.b}})})}if(Gu){const e=Object(md.a)(Object(Zo.a)(Object(Hs.a)(Jl.a),e=>["flag_"+e,1])),t={crossorigin:void 0},{currentScript:i}=document;if(i){const{crossOrigin:e}=i;Object(rd.a)(e)&&(t.crossorigin=e.toLowerCase())}cs.c.values({name:"CreateLoader",data:nt({statsRootParams:Ku.b},t),labels:{bundleName:ll.c},values:nt({liveTime:Date.now()-ll.a},e)}),Xu.a&&Hu.a.logTimingAndLoadRum("adsdk.js",(null===uh.a||void 0===uh.a?void 0:uh.a.src)||qu)}Gu&&(mh(),Oh());const Sh=Object(ad.a)(e=>{cs.c.event({name:"UsingVpaidAdSkipTokens",data:{skipTokens:e},probability:us.a})});class wh{static toBase64(){const e=wh.getUnits();return e.length>0&&Sh(e),e.length?r(Object(Zo.a)(e,e=>"yabs."+e).join("\n")):void 0}static getUnits(){return Array.isArray(Eh.videoAd.skipTokens)?Eh.videoAd.skipTokens:[]}}var Ih=i(104),Ph=i(105);const Ch=e=>{let{additionalParams:t,videoContentId:i,videoContentName:r,videoPublisherId:n,videoPublisherName:a,videoGenreId:o,videoGenreName:s,musicArtistId:d,musicGenreId:l,musicGenreName:c,preferableAdSize:u}=e;return dt({},st(t),{"video-content-id":i,"video-content-name":r,"video-publisher-id":n,"video-publisher-name":a,"video-genre-id":ot(o),"video-genre-name":ot(s),"meta-request-index":void 0,"meta-impid-request-index":void 0,music_artist_id:d,"music-genre":l,"music-genre-name":c,"ad-session-id":Cl(),"pcode-icookie":Ih.a,"pcode-test-ids":Ph.a,"pcode-flags":JSON.stringify(Jl.a),"preferable-ad-size-width":u?String(u.width):void 0,"preferable-ad-size-height":u?String(u.height):void 0,"pcode-version":void 0,"widget-version":void 0,uniformat:void 0})},Dh=e=>{let{adConfig:t,adBreak:i,random:r,win:n}=e;const{targetRef:a,width:o,height:s,tagsList:d,extParam:l,charset:c,distrId:u,metaRequestIndex:h,metaImpIdRequestIndex:p}=t,A=n.document.referrer,m=Object(ju.a)(n);let v;return a?(v=a,cs.c.event({name:"UsingTargetRefApiParameter",data:{adConfig:t},probability:us.a})):"about:blank"===m?(v=A,cs.c.event({name:"UsingTargetRefAboutBlankFallback",data:{adConfig:t},probability:us.a})):v=m,ct({},Ch(t),{"meta-request-index":void 0===h?void 0:String(h),"meta-impid-request-index":void 0===p?void 0:String(p),"repeat-number":lt(i)?String(i.repeatNumber):void 0,"target-ref":v,"page-ref":A,"video-width":o,"video-height":s,"tags-list":ot(d),"ext-param":l,charset:c||"UTF-8","video-session-id":i.sessionId,"skip-token":wh.toBase64(),"distr-id":u,"enable-page-options":"65536",rnd:String(r),uniformat:"ENABLE"===Ud.a.getFlagValueAndActivateTestId("UNIFORMAT")?"true":void 0})},Nh="Yabs Ad Server",Rh=[Nh,"AWAPS","Yandex Ad Server","Yandex Advertising Partner"],kh=function(e){return void 0===e&&(e=window),/Mobi|Android/i.test(e.navigator.userAgent)}();var Vh=i(103);const Lh={PAGEURL:encodeURIComponent(Object(Vh.a)(document).location),Y_DEVICE_TYPE:kh?"mobile":"desktop",Y_AD_SESSION_ID:Il()},Bh=["clickThrough","close","impression","mute","skip","unmute"],Mh=e=>"VastTracking_"+e,jh={},Uh=100,xh={width:void 0,height:void 0},Fh=void 0,Hh={text:"",textColor:"#FFFFFF",isVisible:!1};var zh=i(149);const Wh=e=>{const{protocol:t}=Object(jd.e)(e);return"blob:"===t?e:S(e)?Object(Cs.a)(Object(Ps.a)())?e:Object(jd.b)(e,{[Zd]:xd.a,vsid:zh.a}):e},Gh=e=>Et({},e,{url:Wh(e.url)});var Yh=i(45);i(126);const qh=e=>{const t=Number($l(e));return a(t)?t:void 0},Xh=qh("MEDIA_FILE_BITRATE_PRIORITY_FACTOR"),Kh=J(Xh)?Dt(Xh,0,1):1e-6;var Qh=i(113);const Jh=e=>{let{src:t,win:i}=e;const r=Je(t),{promise:n,teardown:a}=Object(Qh.a)({src:r?yu:t,win:i});return{promise:n.then(()=>i.getVPAIDAd),teardown:a}},Zh="TRUE"===$l("ENABLE_MEDIA_FILES_WITH_MSE_FILTER_UNDER_ABD_ONLY")||void 0,$h=function(e,t){void 0===t&&(t=e=>Boolean(function(e){return e}(e)));for(let i=0;i<e.length;i++)if(t(e[i],i,e))return i;return-1},ep=["application/vnd.apple.mpegurl","application/x-mpegurl"],tp=["bitrate","minBitrate","maxBitrate","width","height"],ip=9007199254740991,rp={multiplier:1,isVertical:!1},np=1e3,ap=Object(ad.a)(()=>{cs.c.error({error:new ls.a({code:"MEDIA_FILE_STRING_SIZE",details:void 0}),probability:us.a})}),op=qh("MEDIA_FILE_TYPE_PRIORITY_FACTOR"),sp=J(op)?op:.001,dp=qt("DPR_STRATEGY",["SUBTRACTION","DIVISION"]),lp=qh("DPR_WEIGHT"),cp=qh("PERFECT_VDPR"),up=qh("PERFECT_VPR"),hp=qh("VPR_PRIORITY_MULTIPLIER"),pp="undefined"===typeof hp?1.2:hp,Ap="undefined"===typeof cp?1:cp,mp="undefined"===typeof up?1:up,vp="video/webm",fp='video/webm; codecs="vorbis,vp8"';const _p="video/mp4",bp=4;var gp=i(64);const Op=document.createElement("video"),yp="function"===typeof Op.load,Tp=yp?function(e,t){return void 0===t&&(t=Op),Boolean(t.canPlayType(e).replace(/no/,""))}:()=>!1,Ep="TRUE"===Iu.a.getFlagValueAndActivateTestId("DISABLE_144P_QUALITY"),Sp="TRUE"===$l("ENABLE_H265_CODECS")||void 0,wp="TRUE"===$l("ENABLE_VP9_CODECS")||void 0,Ip=e=>{let{type:t,codec:i}=e;return i?t+'; codecs="'+i+'"':t},Pp=["4D","64"],Cp=["0C","14","15","1E","1F","20","28","2A"],Dp=(e=>{const t=Jt(e);return!!t&&Boolean(p(()=>t.isTypeSupported('video/webm; codecs="vorbis,vp8"')))})(window),Np=Jt(),Rp=!gp.a&&Tp("video/webm"),kp=Dp&&Rp,Vp=Np&&Object($s.a)(Np),Lp=Object(Cs.a)(Ld.a),Bp=void 0!==window.AbortController&&void 0!==window.fetch&&Object($s.a)(AbortController)&&Object($s.a)(fetch),Mp=Vp&&Bp,jp=Object(ad.a)(e=>{cs.c.error({error:new ls.a({code:"INVALID_MEDIA_FILE_MIN_MAX_BITRATE",details:{mediaFile:e}})})}),Up=(e,t)=>e+"_"+t;class xp extends qo.a{constructor(e){let{win:t,onReport:i}=e;super();const r=t;if(void 0===r.ReportingObserver)return;const n=new r.ReportingObserver(e=>{i({reportSourceEvent:"callback",reports:e,records:n.takeRecords()})},{buffered:!0});n.observe();const a=n.takeRecords();a.length&&i({reportSourceEvent:"buffered",reports:[],records:a}),this.addDestroyHandler(Object(Is.a)({element:t,eventName:"beforeunload",listener:()=>{const e=n.takeRecords();e.length>0&&i({reportSourceEvent:"beforeunload",reports:[],records:e})}})),this.addDestroyHandler(()=>{const e=n.takeRecords();e.length>0&&i({reportSourceEvent:"destroy",reports:[],records:e}),n.disconnect()})}}const Fp=250;let Hp=0;const zp=[],Wp=(e,t)=>{const i=e.contentDocument.body;return li(()=>{var e;!Boolean(null===(e=i.ownerDocument)||void 0===e?void 0:e.defaultView)&&t()})};class Gp extends qo.a{static create(e){const{parentElement:t,attributes:i,scope:r}=e,n=ci(t,i);if(!n)throw ai({scope:r,errorType:"NOT_CREATED",error:new Error,details:void 0});return new Gp(ui({},e,{iframe:n}))}static createHidden(e){const{parentElement:t,attributes:i,scope:r}=e,n=function(){const e=ci(...arguments);if(e)return e.width="0",e.height="0",e.style.position="absolute",e}(t,i);if(!n)throw ai({scope:r,errorType:"NOT_CREATED",error:new Error,details:void 0});return new Gp(ui({},e,{iframe:n}))}constructor(e){super(),hi(this,"iframe",void 0),hi(this,"window",void 0);const{scope:t,iframe:i}=e;this.iframe=i,this.window=this.iframe.contentWindow,this.addDestroyHandler(()=>{Object(Es.a)(i)}),this.addDestroyHandler(Wp(this.iframe,()=>{this.destroy(ai({scope:t,errorType:"WAS_UNLOADED",error:new Error,details:void 0}))})),this.addDestroyHandler(di(this.window,(i,r,n)=>{const a="PRELOADING_IFRAME"===e.scope?{vastAd:e.getVastAd()}:e.provideLogDetails?e.provideLogDetails():void 0;cs.c.error({error:ai({scope:t,errorType:r,error:i,details:ui({},a,{error:i,data:n})})})}))}}var Yp,qp=i(75);!function(e){e.NORMAL="normal",e.THUMBNAIL="thumbnail",e.FULLSCREEN="fullscreen"}(Yp||(Yp={}));Object(Xs.a)({propertyName:"AD_CREATIVE_PRELOADER_GLOBAL_CALLBACK_NAME",win:window});var Xp,Kp;const Qp=null!==(Xp=null!==(Kp=window.URL)&&void 0!==Kp?Kp:window.webkitURL)&&void 0!==Xp?Xp:{},Jp=Object(Cs.a)(Qp.createObjectURL)&&Object(Cs.a)(Qp.revokeObjectURL)?Qp:void 0,Zp=e=>Tp(e)&&(e=>Boolean(Jp)&&!Ut(e))(e),$p=Object(Xs.a)({propertyName:"YANDEX_VIDEO_PRELOADER_GLOBAL_CALLBACK_PROPERTY_NAME",win:window});class eA{constructor(e){vi(this,"readyPromise",void 0),vi(this,"ready",!1),vi(this,"video",void 0),vi(this,"xhr",void 0),vi(this,"blobUrl",void 0);const{type:t}=e;if(!Zp(t))return void(this.readyPromise=Promise.reject(new Error(t+" cannot be preloaded")));const i=this.preloadToBlob(e);$p.call({callbackArguments:[{mediaFile:e,videoPreloader:this}]}),this.readyPromise=i.then(t=>(this.ready=!0,null!==t&&void 0!==t?t:e))}isReady(){return this.ready}destroy(){void 0!==this.video&&(this.video.src="",this.video=void 0),void 0!==this.xhr&&(this.xhr.abort(),this.xhr=void 0),Object(Vs.a)(this.blobUrl)&&(null===Jp||void 0===Jp||Jp.revokeObjectURL(this.blobUrl))}async preloadToBlob(e){const{response:t}=await rt({method:"GET",url:e.url,responseType:"blob",onBeforeSend:e=>this.xhr=e});return mi({},e,{url:null===Jp||void 0===Jp?void 0:Jp.createObjectURL(t)})}}class tA{constructor(e){_i(this,"parsedParams",void 0),_i(this,"contentType",void 0),_i(this,"_promise",void 0),_i(this,"_isPreloaded",!1),_i(this,"_vpaidWindow",void 0),_i(this,"preloaders",[]),_i(this,"_preloadedVpaidAdParameters",void 0),_i(this,"_preloadedVideoFile",void 0),_i(this,"_preloadedAdCreativeInitFunction",void 0),_i(this,"getMediaFiles",void 0),_i(this,"getJSMediaFile",void 0),_i(this,"getVastAd",void 0),_i(this,"mediaAd",void 0);const{params:t,contentType:i,options:r,mediaAd:n}=e;this.parsedParams=function(e){const{videoSlot:t,viewMode:i=Yp.NORMAL,preloadJS:r=!0,preloadVideo:n=!0}=e,{width:a=t.clientWidth,height:o=t.clientHeight}=e,s=j(e.desiredBitrate);let{preloadTimeout:d}=e;return("number"!==typeof d||d>Kl)&&(d=Kl),{preloadTimeout:d,width:a,height:o,desiredBitrate:s,viewMode:i,videoSlot:t,preloadJS:r,preloadVideo:n}}(t),this.contentType=i,this.getMediaFiles=r.getMediaFiles,this.getJSMediaFile=r.getJSMediaFile,this.getVastAd=r.getVastAd,this.mediaAd=n}get isPreloaded(){return this._isPreloaded}get promise(){return this._promise?this._promise:Promise.resolve()}get vpaidWindow(){return this._vpaidWindow}get preloadedVideoFile(){return this._preloadedVideoFile}get preloadedAdCreativeInitFunction(){return this._preloadedAdCreativeInitFunction}get preloadedVpaidAdParameters(){return this._preloadedVpaidAdParameters}destroy(e){this._promise&&cs.c.event({name:"PreloadCancelled",data:{reason:e},probability:us.a}),this._promise=void 0,this._vpaidWindow=void 0,Object($o.a)(this.preloaders,e=>e.destroy()),this.preloaders.length=0}async preload(){this._promise=this._preload(),await this._promise,this._isPreloaded=!0}async _preload(){try{const{preloadJS:e,preloadVideo:t}=this.parsedParams,i=this.getVastAd();if(e&&"js"===this.contentType){if(!Ai(i))return await this._preloadVpaidCreative(this.parsedParams);const{parsed:{videoMediaFiles:e,animationMediaFile:t}}=Ot(i.adParameters),r=e.length>0?this._preloadVideoFile(e,this.parsedParams):void 0,n=t?this._preloadAdCreative(t,this.parsedParams):void 0;return void(await Promise.all([r,n]))}t&&"video"===this.contentType&&await this._preloadVideoFile(this.getMediaFiles(),this.parsedParams)}catch(e){Object($o.a)(this.preloaders,e=>e.destroy()),this.preloaders.length=0,this._logError(e,"CANNOT_PRELOAD")}}createHiddenIframeForPreloading(){const e=Gp.createHidden({parentElement:document.body,scope:"PRELOADING_IFRAME",getVastAd:this.getVastAd}),t=e.iframe;return this.preloaders.push({readyPromise:Promise.resolve(),isReady:()=>!0,destroy:()=>{e.destroy(void 0)}}),t}async _preloadAdCreative(e,t){const i=this.createHiddenIframeForPreloading().contentWindow;try{const{promise:t,teardown:r}=Nt({animationMediaFile:e,win:i});this.preloaders.push({readyPromise:Promise.resolve(),isReady:()=>!0,destroy:r}),this._preloadedAdCreativeInitFunction=await t}catch(r){return void this._logError(r,"CANNOT_PRELOAD_AD_CREATIVE")}}async _preloadVpaidCreative(e){var t;const i=function(e,t){if(null==e)return{};var i,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)i=a[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}(e,["preloadTimeout"]),r=this.getJSMediaFile();if(!r)return;const n=this.createHiddenIframeForPreloading().contentWindow;this._vpaidWindow=n;try{const{promise:e,teardown:t}=Jh({src:r.url,win:n});this.preloaders.push({readyPromise:Promise.resolve(),isReady:()=>!0,destroy:t}),await e}catch(s){return this._logError(s,"CANNOT_PRELOAD_VPAID_CREATIVE_MODULE"),void this.destroy("VpaidModuleLoadingError")}if("function"!==typeof(null===(t=n.Ya)||void 0===t?void 0:t.preloadVPAIDAd))return;const a=n.Ya.preloadVPAIDAd(fi({},i,{creativeData:{AdParameters:this.getVastAd().adParameters}}));let o;this.preloaders.push(a);try{o=await a.readyPromise}catch(s){return void this._logError(s,"CANNOT_PRELOAD_VPAID_CREATIVE")}this._preloadedVpaidAdParameters=o.AdParameters}async _preloadVideoFile(e,t){let{width:i,height:r,desiredBitrate:n}=t;const{adConfig:a,adBreak:o,vastAd:s}=this.mediaAd,d=this.mediaAd.getAdPodId(),l=s.vast,{prioritisedMediaFile:c}=ni(e,{container:{width:i,height:r},desiredBitrate:n,isVideoADB:Object(Cs.a)(Object(Ps.a)()),bitratePriorityFactor:Kh},{vast:l,adConfig:a,adBreak:o,adPodId:d,initiator:"PreloadingController"});if(!c)return;const u=Gh(c),h=new eA(u);let p;this.preloaders.push(h);try{p=await h.readyPromise}catch(A){return void this._logError(A,"CANNOT_PRELOAD_VIDEO_FILE")}this._preloadedVideoFile=p}_logError(e,t){pi(e),cs.c.error({error:new ls.a(e,{code:t})})}}class iA{constructor(){bi(this,"src",void 0),bi(this,"type",void 0),bi(this,"x",NaN),bi(this,"y",NaN),bi(this,"width",NaN),bi(this,"height",NaN)}static fromVastIcon(e){const t=new iA;return t.src=e.src,t.type=e.program,t.x=e.xPosition,t.y=e.yPosition,t.width=e.width,t.height=e.height,t}}class rA{get contentType(){return this.getJSMediaFile()?"js":"video"}constructor(e,t,i){this.adBreak=e,this.vastAd=t,this.adConfig=i,gi(this,"icons",void 0),gi(this,"preloadingController",void 0),gi(this,"isTrackingEventsEnabled",!0),gi(this,"duration",0),gi(this,"getMediaFiles",()=>St(this.vastAd.mediaFiles,this.adConfig.secureMode)),gi(this,"getAdContentDimensions",()=>(function(e){let{vastAd:t,secureMode:i}=e;const{mediaFiles:r,adParameters:n,isNonLinear:a}=t;if(a)return Fh;if(Pt(t)){const{parsed:{videoMediaFiles:e}}=Ot(n);return 0===e.length?xh:yt(e)}const o=wt(r,i);return yt(o?[o]:St(r,i))})({vastAd:this.vastAd,secureMode:this.adConfig.secureMode})),gi(this,"getJSMediaFile",()=>wt(this.vastAd.mediaFiles,this.adConfig.secureMode)),gi(this,"getPreloadedAdCreativeInitFunction",()=>{var e;return null===(e=this.preloadingController)||void 0===e?void 0:e.preloadedAdCreativeInitFunction}),this.icons=Object(Zo.a)(this.vastAd.icons,e=>iA.fromVastIcon(e)),isNaN(this.vastAd.duration)||(this.duration=this.vastAd.duration)}getAdPodId(){return(this.vastAd.adId||"")+";"+(this.vastAd.creativeId||"")+";"+this.vastAd.parseIndex+";"+this.vastAd.randomHexString}trackError(e){X(e,this.vastAd.trackingEvents.error)}removeTrackingEvents(){this.isTrackingEventsEnabled=!1}trackEvent(e,t,i){if(!this.isTrackingEventsEnabled)return void Object(Os.a)("eventName ("+e+") was NOT tracked in MediaAd (disabled with method removeTrackingEvents)");Object(Os.a)("Track event=["+e+"]");const r=this.vastAd.trackingEvents[e];ft({eventName:e,trackingEventDetails:i,trackingUrls:Array.isArray(r)?r:[],options:t})}hasMediaFiles(){const e=this.getMediaFiles();return Boolean((null===e||void 0===e?void 0:e.length)>0)}isNotReplacedBroadcastAd(){return this.vastAd.isNotReplacedBroadcastAd}cancelPreloading(e){this.preloadingController&&(this.preloadingController.destroy(e),this.preloadingController=void 0)}isPreloaded(){return!!this.preloadingController&&this.preloadingController.isPreloaded}async preload(e){this.preloadingController||(this.preloadingController=new tA({params:e,contentType:this.contentType,options:{getMediaFiles:this.getMediaFiles,getJSMediaFile:this.getJSMediaFile,getVastAd:()=>this.vastAd},mediaAd:this}),await this.preloadingController.preload()),void 0!==this.preloadingController&&null!==this.preloadingController&&await this.preloadingController.promise}getIfIsRequiredHtmlControls(){const{isNonLinear:e,adSystem:t}=this.vastAd;return t===Nh||e}getIsIndependentOnVideoElement(){if(this.vastAd.isNonLinear)return!0;if(Ct(this.vastAd))return!0;const e=this.getJSMediaFile();if(!e)return!1;if(Je(e.url)&&S(e.url)){if(void 0===this.vastAd.isIndependentOnVideoElement)return cs.c.event({name:"MotionWithoutExtensionIsIndependentOnVideoElement",probability:us.a,data:void 0}),!0;if(!this.vastAd.isIndependentOnVideoElement)return cs.c.event({name:"MotionWithExtensionIsIndependentOnVideoElementFalseValue",probability:us.a,data:void 0}),!0}return void 0!==this.vastAd.isIndependentOnVideoElement&&this.vastAd.isIndependentOnVideoElement}getIsYandexCreative(){return e=this.vastAd,Object(bs.a)(Rh,e.adSystem);var e}getPreloadVpaidWindow(){var e;return null===(e=this.preloadingController)||void 0===e?void 0:e.vpaidWindow}getPreloadedVideoFile(){var e;return null===(e=this.preloadingController)||void 0===e?void 0:e.preloadedVideoFile}getPreloadedVpaidAdParameters(){var e;return null===(e=this.preloadingController)||void 0===e?void 0:e.preloadedVpaidAdParameters}getDuration(){return this.duration}actualizeDuration(e){this.duration!==e&&(Object(Os.a)("MediaAd: actualize duration previous=["+this.duration+"] next=["+e+"]"),this.duration=e)}shouldShowGuiForVpaid(){return Boolean(this.vastAd.imhoParams)||Pt(this.vastAd)}isCreativeWithOwnControls(){const e=this.getJSMediaFile();return!!e&&(!this.shouldShowGuiForVpaid()&&!S(e.url))}}class nA{constructor(e){var t,i,r;r=void 0,(i="mediaAds")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r,this.mediaAds=e.sort((e,t)=>{const i=e.vastAd.sequence,r=t.vastAd.sequence;return i===r?0:i===Hl?1:r===Hl?-1:i-r})}getDuration(){return Object(Qo.a)(this.mediaAds,(e,t)=>e+t.getDuration(),0)}getFirstMediaAd(){return this.mediaAds[0]}hasFilteredOutMediaFiles(){return kl(this.mediaAds,e=>e.vastAd.mediaFiles.length!==e.getMediaFiles().length)}preload(e){return Object($o.a)(this.mediaAds,t=>{t.preload(e)}),e=>{Object($o.a)(this.mediaAds,t=>{t.cancelPreloading(e)})}}}const aA=e=>{try{return"display"in Ci(e)}catch(t){return!1}},oA=Object(Mc.a)();var sA=i(98);const dA=function(e){if(void 0===e&&(e=window),Object(sA.a)(e)&&e.navigator){const{platform:t}=e.navigator;if(t&&/iP(hone|od|ad)/.test(t)){const t=e.navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);if(t)return parseInt(t[1],10)}}return-1}(),lA=Object(sA.a)();var cA=i(33);const uA=Rp?"data:video/webm;base64,GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4EEQoWBAhhTgGcBAAAAAAAByhFNm3RAHU27i1OrhBVJqWZTrIHlTbuMU6uEFlSua1OsggEj7AEAAAAAAAC5AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAADIq17GDD0JATYCNTGF2ZjU3Ljc2LjEwMFdBjUxhdmY1Ny43Ni4xMDBEiYhASwAAAAAAABZUrmsBAAAAAAAAYq4BAAAAAAAAWdeBAXPFgQGcgQAitZyDdW5khoZBX09QVVNWqoNjLqBWu4QExLQAg4EC4QEAAAAAAAARn4ECtYhA53AAAAAAAGJkgSBjopNPcHVzSGVhZAECOAGAuwAAAAAAH0O2dQEAAAAAAAAt54EAo4eBAACA/P/+o4eBABWA/P/+oAEAAAAAAAAPoYeBACkA/P/+daKDa3KD":"data:video/mp4;base64,AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAAMm1kYXTeBABMYXZjNTcuMTA3LjEwMABCIAjBGDghEARgjBwhEARgjBwhEARgjBwAAAMbbW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAAAEsAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAkV0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAAEsAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAA1AAAEAAABAAAAAAG9bWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAADgZVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAABaG1pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAABLHN0YmwAAABqc3RzZAAAAAAAAAABAAAAWm1wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAANmVzZHMAAAAAA4CAgCUAAQAEgICAF0AVAAAAAAH0AAAAEYwFgICABRGQVuUABoCAgAECAAAAMHN0dHMAAAAAAAAABAAAAAEAAAQAAAAAAQAABBgAAAABAAAEAAAAAAEAAAHuAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAAEAAAAAQAAACRzdHN6AAAAAAAAAAAAAAAEAAAAGAAAAAYAAAAGAAAABgAAABRzdGNvAAAAAAAAAAEAAAAsAAAAGnNncGQBAAAAcm9sbAAAAAIAAAAB//8AAAAcc2JncAAAAAByb2xsAAAAAQAAAAQAAAABAAAAYnVkdGEAAABabWV0YQAAAAAAAAAhaGRscgAAAAAAAAAAbWRpcmFwcGwAAAAAAAAAAAAAAAAtaWxzdAAAACWpdG9vAAAAHWRhdGEAAAABAAAAAExhdmY1Ny44My4xMDA=";var hA=i(129);const pA="__yaMuffleVideoPlayPromiseOriginalPlay",AA=e=>{const t=(e=>{const{muted:t}=e;return()=>{e.muted=t}})(e),i=(e=>{const{volume:t}=e;return()=>{e.volume=t}})(e),r=(e=>{const{paused:t}=e;return()=>{t&&e.pause(),!t&&e.paused&&Vi(Bi(e))}})(e);return()=>{t(),i(),r()}};var mA;!function(e){e[e.MEDIA_ERR_CUSTOM=0]="MEDIA_ERR_CUSTOM",e[e.MEDIA_ERR_ABORTED=1]="MEDIA_ERR_ABORTED",e[e.MEDIA_ERR_NETWORK=2]="MEDIA_ERR_NETWORK",e[e.MEDIA_ERR_DECODE=3]="MEDIA_ERR_DECODE",e[e.MEDIA_ERR_SRC_NOT_SUPPORTED=4]="MEDIA_ERR_SRC_NOT_SUPPORTED",e[e.MEDIA_ERR_ENCRYPTED=5]="MEDIA_ERR_ENCRYPTED"}(mA||(mA={}));class vA{constructor(e){this.code=0,this.message="",this.details=void 0,"number"===typeof e?this.code=e:"string"===typeof e?this.message=e:Object(is.a)(e)&&("number"===typeof e.code&&(this.code=e.code),"string"===typeof e.message&&(this.message=e.message),this.details=e.details),this.message||(this.message=mA[this.code]||"")}}var fA=i(56);const _A=function(e){void 0===e&&(e=window);const t=Object(fA.a)(e).toLowerCase();return t.indexOf("maple2012")>-1&&t.indexOf("smarttv")>-1};var bA;!function(e){e.AutomaticallyGenerated="AutomaticallyGenerated",e.HardcodedParams="HardcodedParams",e.IOS9OrLess="IOS9OrLess",e.HTML5VideoIsNotSupported="HTML5VideoIsNotSupported",e.WindowHasBeenActive="WindowHasBeenActive",e.RAAStopped="RAAStopped",e.OldIE="OldIE",e.MediaError="MediaError",e.NotRecognized="NotRecognized",e.YaBroAllowedToPlay="YaBroAllowedToPlay",e.TizenSmartTVModern="TizenSmartTVModern",e.Tizen23SmartTV="Tizen23SmartTV",e.WebOSSmartTV="WebOSSmartTV",e.TizenAVPlay="TizenAVPlay",e.OrsaySmartTV="OrsaySmartTV",e.PlayStationSmartTV="PlayStationSmartTV"}(bA||(bA={}));const gA=function(e){void 0===e&&(e=window);const t=Object(fA.a)(e).toLowerCase();return t.indexOf("playstation")>-1&&t.indexOf("webmaf")>-1},OA=function(e){return void 0===e&&(e=window),Object(fA.a)(e).toLowerCase().indexOf("tizen")>-1},yA=function(e){void 0===e&&(e=window);const t=function(e){void 0===e&&(e=window);const t=Object(fA.a)(e).match(/Tizen ([\d]+)\.([\d]+)/);if(!t)return{major:-1,minor:-1};const[,i,r]=t;return{major:parseInt(i,10),minor:parseInt(r,10)}}(e);return 2===t.major&&3===t.minor},TA=function(e){return void 0===e&&(e=window),Object(fA.a)(e).toLowerCase().indexOf("web0s")>-1};var EA,SA=i(80),wA=i(115),IA=i(99);!function(e){e.VideoTagPaused="VideoTagPaused",e.VideoTagPausedAfterDurationChange="VideoTagPausedAfterDurationChange",e.VideoTagPausedAfterError="VideoTagPausedAfterError",e.PauseEvent="PauseEvent",e.ProgressEvent="ProgressEvent",e.PromiseResolve="PromiseResolve",e.PromiseReject="PromiseReject",e.PlayingEvent="PlayingEvent",e.Timeout="Timeout"}(EA||(EA={}));const PA={once:!0,passive:!0};let CA=!1;const DA=-1<oA&&oA<=16,NA=Fi({canPlayUnMuted:!1,canPlayMuted:!1,detectionMethod:bA.AutomaticallyGenerated}),RA=Fi({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:bA.AutomaticallyGenerated}),kA=500;class VA{constructor(e,t){let{checkSoundEnabled:i,promise:r}=t;if(this.video=e,this.stop=cA.a,this.isStopped=!1,this.revertVideoState=cA.a,this.getIsActiveWindow())return this.promise=Promise.resolve(xi({},RA,{detectionMethod:bA.WindowHasBeenActive})),this;if(r)return this.promise=r,this;const n=document.createElement("div");n.style.display="none";const a=AA(e),o=Ui(e,()=>ki(e,{src:uA}));let s;this.revertVideoState=Object(ul.a)(()=>{o(),e.load(),a(),Object(Es.a)(n)}),this.promise=new Promise(async(e,t)=>{let r,n,a;if(s=t,i){const e=await this.requestAutoplayAbilityByMuted(!1);n=e.autoplayAbility,r=e.detectionMethod}else n=!1;if(!this.isStopped){if(n)a=!0;else{const e=await this.requestAutoplayAbilityByMuted(!0);a=e.autoplayAbility,r=r&&r!==e.detectionMethod?"DifferentDetectionMethods unmuted=["+r+"] muted=["+e.detectionMethod+"]":e.detectionMethod}this.isStopped||(this.revertVideoState(),this.isStopped=!0,e(Fi({canPlayUnMuted:n,canPlayMuted:a,detectionMethod:r||bA.NotRecognized})))}}),this.stop=()=>{this.isStopped||(this.isStopped=!0,s(new Error("requestAutoplayAbility has been stopped")),this.revertVideoState())}}async requestAutoplayAbilityByMuted(e){const{video:t}=this;if(Ui(t,()=>{t.load()}),await _c(0),this.isStopped)return{autoplayAbility:!1,detectionMethod:bA.RAAStopped};t.muted=e,t.volume=e?0:1;const i=await new Promise(e=>{ji(t,{useProgressEvent:!0,timeoutForNonPromisePlay:kA}).then(t=>{e({autoplayAbility:!0,detectionMethod:t})}).catch(i=>{const r=function(e){const{error:t}=e;return new vA(t)}(t);r&&r.code===mA.MEDIA_ERR_DECODE?setTimeout(()=>{e({autoplayAbility:!0,detectionMethod:bA.MediaError})},0):e({autoplayAbility:!1,detectionMethod:i})})});return this.isStopped?{autoplayAbility:!1,detectionMethod:bA.RAAStopped}:i}getIsActiveWindow(){const e=function(e){const{ownerDocument:t}=e;if(!t)return;const{defaultView:i}=t;return i||void 0}(this.video);if(!e)return!1;const t=function(e){const t=e.navigator;if(!t)return;const{userActivation:i}=t;if(!Object(is.a)(i))return;const{isActive:r,hasBeenActive:n}=i;return{isActive:r,hasBeenActive:n}}(e);return Boolean(t&&t.hasBeenActive)}}var LA;!function(e){e.PLAY="play",e.PAUSE="pause",e.BUFFERING="buffering",e.END="end"}(LA||(LA={}));const BA=function(e,t){void 0===t&&(t=!1);const i=(t,i,r)=>e[t][i][r],r=(t,i,r)=>e[t]&&e[t][i]&&e[t][i][r],n=e=>{let{keyset:t,key:n,lang:a=Yl,onError:o,throwErr:s=!0}=e;if(r(a,t,n))return i(a,t,n);if(r(Yl,t,n))return i(Yl,t,n);{const e=new Xl("Tanker locale for lang="+a+", keyset="+t+", key="+n+" not found");return s&&Object(id.a)(e),"function"===typeof o&&o(e),""}};if(t){const e=e=>{let{keyset:t,key:i,lang:r}=e;return t+"_"+i+"_"+r};return Object(Gl.a)(n,e)}return n}(i(174)),MA=function(e,t){return void 0===t&&(t=Yl),BA({keyset:"adsdk",key:e,lang:t})},jA="TRUE"===$l("DISABLE_SUBTITLES")||void 0,UA="DISABLE"===$l("UNMUTE_TEXT_VARIANT")?"DISABLE":void 0,xA={open:{reason:1,action:0},close:{reason:2,action:0}},FA={notInterestedAd:{reason:3,action:2},alreadyPurchasedAd:{reason:14,action:2},seenTooOftenAd:{reason:22,action:2},overlapContentAd:{reason:9,action:1},anotherReasonAd:{reason:23,action:0}},HA={unpleasantContentAd:{reason:24,action:2},politicalAd:{reason:31,action:4},scammersAd:{reason:26,action:2},illegalGoodsOrServiceAd:{reason:27,action:2},anotherReasonAd:{reason:23,action:0}},zA={politicalSocialAd:{reason:16,action:4},shockingContentSocialAd:{reason:17,action:4},falseInfoSocialAd:{reason:18,action:4}},WA=zi({},{hide:{reason:21,action:4},complaint:{reason:5,action:4},about:{reason:19,action:0}},FA,HA,zA),GA={abuseUrl:"",legalInfoText:""},YA={isAvailable:!1},qA=/&\w+;/g,XA={"&quot;":'"',"&laquo;":"\xab","&raquo;":"\xbb","&bdquo;":"\u201e","&ndash;":"\u2013","&mdash;":"\u2014"},KA=["spec","logo","misc"],QA=e=>{if(Object(is.a)(e))for(const t in e)if(e.hasOwnProperty(t)&&!Object(bs.a)(KA,t)){const i=e[t];return i.text&&Object(Vs.a)(i.text.banner_flags)&&(i.text.banner_flags=i.text.banner_flags.split(",")),i}},JA=e=>{const{AUCTION_DC_PARAMS:t}=e;if(!Object(is.a)(t)||!Object(is.a)(t.data_params))return;const i=QA(t.data_params);if(!Object(is.a)(i))return;const r=i.assets;if(!Object(is.a)(r))return;const n={},{logo:a,button:s,icon:d,app:l}=r;if(Object(is.a)(a)){const e=Object(Qu.a)(a);if(e.length){const t={};for(const[i,r]of e){const{url:e,width:n,height:a}=r;Object(rd.a)(e)&&et(n)&&et(a)&&(t[i]={url:e,width:n,height:a})}Yi(t)||(n.logo=t)}}if(Object(is.a)(s)){const{caption:e,href:t,key:i}=s;Object(rd.a)(e)&&Object(rd.a)(t)&&Object(rd.a)(i)&&(n.button={caption:e,href:t,key:i})}if(Object(is.a)(l)){const{review_count:e,store_name:t,name:i,download_count:r,rating:a,store_app_id:s,store_content_id:d,price_currency_symbol:c,price_currency_code:u,price:h,age:p,free:A}=l;et(e)&&Object(rd.a)(t)&&Object(rd.a)(i)&&Object(rd.a)(r)&&o(a)&&Object(rd.a)(s)&&Object(rd.a)(d)&&Object(rd.a)(c)&&Object(rd.a)(u)&&o(h)&&et(p)&&"boolean"===typeof A&&(n.app={review_count:e,store_name:t,name:i,download_count:r,rating:a,store_app_id:s,store_content_id:d,price_currency_symbol:c,price_currency_code:u,price:h,age:p,free:A})}if(Object(is.a)(d)){const e=Object(Qu.a)(d);if(e.length){const t={};for(const[i,r]of e){const{url:e,width:n,height:a}=r;Object(rd.a)(e)&&et(n)&&et(a)&&(t[i]={url:e,width:n,height:a})}Yi(t)||(n.icon=t)}}return n},ZA=e=>{if(!Array.isArray(e))return[];const t=Object(Zo.a)(e,e=>{const t=e[0],i=Number(e[1]),r=Number(e[2]),n=e[3];if(Object(rd.a)(t)&&!isNaN(i)&&!isNaN(r)){const e=[t,String(i),String(r)];return Object(is.a)(n)&&e.push(n),e}});return Object(Xo.a)(t,e=>void 0!==e)},$A=Object(ad.a)(e=>{cs.c.event({name:"AdCreativeVideoBannerVastHasDisclaimers",data:e,probability:us.a})}),em=Object(ad.a)(()=>{cs.c.event({name:"AdCreativeVideoBannerVastUnmoderatedInsideText",data:void 0,probability:us.a})}),tm=Object(ad.a)(()=>{cs.c.event({name:"AdCreativeVideoBannerVastHasBooleanFields",data:void 0,probability:us.a})}),im=Object(ad.a)(e=>{cs.c.event({name:"AdCreativeVideoBannerVastHasBannerFlags",data:e,probability:us.a})}),rm=e=>{if(!Object(is.a)(e))return;const{AUCTION_DC_PARAMS:t,HAS_DOMAIN:i,AGE_BACKGROUND_COLOR:r,AGE_TEXT_COLOR:n,BODY_BACKGROUND_COLOR:a,BODY_TEXT_COLOR:o,BUTTON_BORDER_COLOR:s,BUTTON_COLOR:d,BUTTON_TEXT_COLOR:l,DISCLAIMER_BACKGROUND_COLOR:c,DISCLAIMER_TEXT_COLOR:u,DOMAIN_BACKGROUND_COLOR:h,DOMAIN_TEXT_COLOR:p,HAS_AGE:A,HAS_BODY:m,HAS_BUTTON:v,HAS_DISCLAIMER:f,HAS_LEGAL:_,HAS_TITLE:b,LEGAL_BACKGROUND_COLOR:g,LEGAL_TEXT:O,LEGAL_TEXT_COLOR:y,TITLE_BACKGROUND_COLOR:T,TITLE_TEXT_COLOR:E,BUTTON_POSITION:S,BUTTON_LABELS:w}=e;if(!Object(is.a)(t)||!Object(is.a)(t.data_params))return;("HAS_TITLE"in e||"HAS_LEGAL"in e||"HAS_DISCLAIMER"in e||"HAS_BODY"in e||"HAS_BUTTON"in e||"HAS_DOMAIN"in e||"HAS_AGE"in e)&&tm();const I=QA(t.data_params);if(!Object(is.a)(I)||!Object(is.a)(I.text))return;const P=I.text,{title:C,domain:D,green_url_text_prefix:N,green_url_text_suffix:R,body:k,age:V,banner_flags:L}=P,B=function(e){let{domain:t,greenUrlTextPrefix:i,greenUrlTextSuffix:r}=e;return Object(rd.a)(i)?i:Object(rd.a)(r)?r:Object(rd.a)(t)?t:void 0}({domain:D,greenUrlTextPrefix:N,greenUrlTextSuffix:R}),M=I.unmoderated||P.unmoderated||{},{punyDomain:j}=M,U=Array.isArray(L)?L:[],{hasDrugDisclaimer:x,hasDietarysupplDisclaimer:F,hasDistanceSales:H,legalInfoText:z}=Ki(e);U.length>0&&im({bannerFlags:U}),M===P.unmoderated&&em();const W={title:sm(C),domain:sm(D),greenUrl:sm(B),punyDomain:sm(j),domainBackgroundColor:sm(h),domainTextColor:sm(p),hasGreenUrl:dm(i),body:sm(k),ageRestriction:sm(V),hasAgeRestriction:dm(A),extraLinks:nm(M),legalInfoText:z,hasDrugDisclaimer:x,hasDietarysupplDisclaimer:F,hasDistanceSales:H,hasButton:dm(v),images:qi(e),clickThruUrl:Gi(e),ageBackgroundColor:sm(r),ageTextColor:sm(n),bodyBackgroundColor:sm(a),bodyTextColor:sm(o),buttonBorderColor:sm(s),buttonColor:sm(d),buttonTextColor:sm(l),hasDisclaimer:dm(f),disclaimerBackgroundColor:sm(c),disclaimerTextColor:sm(u),hasBody:dm(m),hasLegal:dm(_),hasTitle:dm(b),legalBackgroundColor:sm(g),legalText:sm(O),legalTextColor:sm(y),titleBackgroundColor:sm(T),titleTextColor:sm(E),buttonPosition:sm(S),buttonLabels:lm(w),offer:I,assets:JA(e),targetUrl:Xi(e)};return W.title&&(W.title=Wi(W.title)),W.body&&(W.body=Wi(W.body)),W},nm=e=>{if(!Object(is.a)(e))return[];const{sitelinks:t,addInfo:i,telNum:r,workingTime:n,metro:a,region:o}=e;if(om(t)){const e=Object(Xo.a)(t,e=>Object(rd.a)(e.title)&&Object(rd.a)(e.url));if(e.length)return Object(Zo.a)(e,e=>({type:"sitelink",text:e.title,url:e.url}))}const s=null===i||void 0===i?void 0:i.callouts_list;if(am(s)){const e=Object(Xo.a)(s,rd.a);if(e.length)return Object(Zo.a)(e,e=>({type:"callout",text:e}))}const d=Object(Xo.a)([r,n,a,o],rd.a);return Object(Zo.a)(d,e=>({type:"contact",text:e}))},am=e=>Array.isArray(e)&&Ic(e,Vs.a),om=e=>Array.isArray(e)&&Ic(e,is.a),sm=e=>Object(rd.a)(e)?e:void 0,dm=e=>"boolean"===typeof e?e:void 0,lm=e=>Object(is.a)(e)&&Ic(ae(e),e=>"string"===typeof e)?e:void 0,cm=ac,um=0,hm=!0,pm=!0,Am=1e3/60;class mm{constructor(e,t){this.callback=t,nr(this,"animationFrameFunctions",void 0),nr(this,"time",0),nr(this,"startTime",0),nr(this,"id",0),nr(this,"started",!1),nr(this,"loop",()=>{this.clearTimeouts();const e=Date.now(),t=e-this.startTime;this.startTime=e,this.time+=t,this.callback({time:this.time,diff:t}),this.started&&this.startDelay()}),this.animationFrameFunctions=rr(e)}start(){this.started||(this.started=!0,this.startTime=Date.now(),this.startDelay())}stop(){this.started&&(this.started=!1,this.clearTimeouts(),this.time+=Date.now()-this.startTime)}startDelay(){this.id=this.animationFrameFunctions.requestAnimationFrame(this.loop)}clearTimeouts(){this.animationFrameFunctions.cancelAnimationFrame(this.id)}}const vm=1500;class fm{constructor(e){this.params=e,ar(this,"animationFramesController",void 0),ar(this,"position",0),ar(this,"offset",0),ar(this,"duration",void 0),ar(this,"onFinishOnce",void 0),ar(this,"onAnimationFrame",e=>{let{diff:t}=e;const i=t/this.duration,r=vm/this.duration;if(Math.abs(this.offset)>=r){const e=this.position+i+this.offset;return void this.setPosition(e)}const n=i*(1+this.offset/r);this.position=Dt(this.position+n,0,1),this.position>=1&&this.onFinishOnce(),this.offset+=i-n,this.params.callback(this.position)}),this.duration=e.duration,this.onFinishOnce=Object(ad.a)(e.onFinish),this.animationFramesController=new mm(e.win,this.onAnimationFrame)}start(){this.animationFramesController.start()}stop(){this.animationFramesController.stop()}adjustPosition(e){this.offset=e-this.position}setDuration(e){this.duration=e}setPosition(e){e>=1&&this.onFinishOnce(),this.position!==e&&(this.position=Dt(e,0,1),this.offset=0,this.params.callback(e))}}class _m{constructor(e){or(this,"dispatch",Object(ad.a)(e=>{this.value=e,this._isDispatched=!0,oi(this.callbacks,e),this.callbacks.length=0})),or(this,"callbacks",[]),or(this,"_isDispatched",!1),or(this,"value",void 0),Object(Cs.a)(e)&&this.callbacks.push(e)}subscribe(e){return this._isDispatched?(e(this.value),nd.a):(this.callbacks.push(e),()=>{this.callbacks=Object(Xo.a)(this.callbacks,t=>t!==e)})}getDispatched(){return this._isDispatched}getValue(){return this.value}wait(){return new Promise(e=>{this.subscribe(e)})}}const bm=0,gm=0,Om=500/fh,ym=function(e){return void 0===e&&(e=window),-1!==Object(Mc.a)(e)}(),Tm=null===Op.onwaiting,Em=!Tm||ym||gp.a?(e,t)=>{let i=0,r=!1;return li(()=>{const n=e.currentTime,a=e.duration,o=1/Fp;if(!e.paused){const e=i+o;r?n>e&&(t(!1),r=!1):n<e&&n!==a&&(t(!0),r=!0)}i=n})}:(e,t)=>{let i=!1;const r=Mi(e,"pause",()=>{i&&(i=!1,t(!1))},{passive:!0}),n=Mi(e,"waiting",()=>{i||(i=!0,t(!0))},{passive:!0}),a=Mi(e,"playing",()=>{i&&(i=!1,t(!1))},{passive:!0}),o=Mi(e,"canplay",()=>{i&&(i=!1,t(!1))},{passive:!0});return()=>{r(),n(),a(),o()}};class Sm extends qo.a{constructor(){super(),pr(this,"isStarted",!1),pr(this,"lastStartTime",void 0),pr(this,"spent",0),pr(this,"callbacks",[]),pr(this,"timeoutId",0),pr(this,"recalculateTimeAndDispatchCallbacks",()=>{if(!this.isStarted)return;const e=Date.now();if(this.spent+=e-this.lastStartTime,this.lastStartTime=e,this.dispatchCallbacksByTime(),this.callbacks.length<=0)return;const{time:t}=this.callbacks[0];window.clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout(this.recalculateTimeAndDispatchCallbacks,t-this.spent)}),this.addDestroyHandler(()=>{this.stop()})}start(){this.isStarted||this.isDestroyed||(this.isStarted=!0,this.lastStartTime=Date.now(),this.recalculateTimeAndDispatchCallbacks())}stop(){this.isStarted&&(window.clearTimeout(this.timeoutId),this.isStarted=!1,this.spent+=Date.now()-this.lastStartTime)}getTime(){return this.isStarted?Date.now()-this.lastStartTime+this.spent:this.spent}addCallback(e,t){e<=this.getTime()&&this.isStarted?t():(this.addCallbackToArray(e,t),this.recalculateTimeAndDispatchCallbacks())}waitForTime(e){return new Promise(t=>{this.addCallback(e,t)})}addCallbackToArray(e,t){const i={time:e,callback:t};for(let r=0;r<this.callbacks.length;r++){const{time:t}=this.callbacks[r];if(t>=e)return void this.callbacks.splice(r,0,i)}this.callbacks.push(i)}dispatchCallbacksByTime(){const[e,t]=g(this.callbacks,e=>{let{time:t}=e;return t<=this.spent});this.callbacks=t,Object($o.a)(e,e=>{let{callback:t}=e;t()})}}class wm extends qo.a{constructor(){super(),Ar(this,"bufferingTimeCount",void 0),Ar(this,"isPlaying",new gs.a(!1)),Ar(this,"isBuffering",new gs.a(!1)),this.bufferingTimeCount=new Sm,this.addDestroyHandler(()=>{this.bufferingTimeCount.destroy()})}start(e){this.isPlaying.dispatch(!0),this.addDestroyHandler(Em(e,e=>{this.isBuffering.dispatch(e)})),this.addDestroyHandler(sr([this.isPlaying,this.isBuffering],(e,t)=>e&&t,e=>{e?this.bufferingTimeCount.start():this.bufferingTimeCount.stop()}))}pause(){this.isPlaying.dispatch(!1)}resume(){this.isPlaying.dispatch(!0)}getBufferingTime(){return this.bufferingTimeCount.getTime()/fh}}const Im=20,Pm=e=>{switch(!0){case e<=1*fh:return"ReturnBackAfterClickThroughIn1Sec";case e<=2*fh:return"ReturnBackAfterClickThroughIn2Sec";case e<=10*fh:return"ReturnBackAfterClickThroughIn10Sec";case e<=60*fh:return"ReturnBackAfterClickThroughIn1Min";default:return"ReturnBackAfterClickThroughAfter1Min"}},Cm=NaN,Dm=0,Nm={duration:Cm,remainingTime:Dm};var Rm=i(79);const km=Object(Hs.a)({portion:"portion",seconds:"seconds"});class Vm{constructor(e){var t,i,r;r={portion:[],seconds:[]},(i="trackingUrls")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r,Object($o.a)(e,e=>{let{urls:t,offset:{unit:i,value:r}}=e;this.trackingUrls[i].push({urls:[...t],offset:r})})}getTrackingUrlsByPosition(e){let{duration:t,remainingTime:i}=e;if(!t||!J(i))return[];const r=t-i,n={portion:r/t,seconds:r},a=[];return Object($o.a)(km,e=>{const t=this.getTrackingUrlsByUnitAndOffset(e,n[e]);a.push(...t)}),a}getTrackingUrlsByUnitAndOffset(e,t){const[i,r]=g(this.trackingUrls[e],e=>{let{urls:i,offset:r}=e;return t>=r});return this.trackingUrls[e]=r,b(Object(Zo.a)(i,e=>{let{urls:t}=e;return t}))}}var Lm=i(106),Bm=i(139);const Mm={AdClickThru:e=>{cs.c.error({error:new ls.a({code:"CALL_USER_INTERACTION_DISPATCHER_AD_CLICK_THRU_WITHOUT_AD_CREATIVE",details:e})})}};class jm extends qo.a{get contentType(){return this.mediaAd.contentType}constructor(e){let{adDisplayController:t,mediaAd:i,adPodViewerPlaybackParams:r}=e;super(),_r(this,"adDisplayController",void 0),_r(this,"mediaAd",void 0),_r(this,"adPodViewerPlaybackParams",void 0),_r(this,"playbackPosition",new gs.a(Nm,vr)),_r(this,"userInteractionDispatchers",Mm),_r(this,"packshotStartLatch",new _m),_r(this,"adVideoIsBuffering",new gs.a(!1)),_r(this,"playingState",new gs.a("idle",(e,t)=>"idle"===t?(cs.c.error({error:new ls.a({code:"ATTEMPT_TO_CHANGE_PLAYING_STATE_TO_IDLE",details:void 0})}),!0):"end"===e?("end"!==t&&cs.c.error({error:new ls.a({code:"ATTEMPT_TO_CHANGE_PLAYING_STATE_AFTER_END",details:void 0})}),!0):e===t)),_r(this,"isCreativeStartRequested",new gs.a(!1)),_r(this,"onReady",new Ss.a),_r(this,"onBeforeDestroy",new Ss.a),_r(this,"isStarted",new gs.a(!1)),_r(this,"onResume",new Ss.a),_r(this,"onPause",new Ss.a),_r(this,"onVolumeChange",new Ss.a),_r(this,"onImpression",new Ss.a),_r(this,"onImpressionDetermined",new Ss.a),_r(this,"onImpressionUndetermined",new Ss.a),_r(this,"onFirstQuartile",new Ss.a),_r(this,"onMidpoint",new Ss.a),_r(this,"onThirdQuartile",new Ss.a),_r(this,"onBeforeComplete",new Ss.a),_r(this,"completeLatch",new _m(()=>{this.trackEvent("complete",void 0)})),_r(this,"onClickThrough",new Ss.a),_r(this,"onAdInteraction",new Ss.a),_r(this,"playingTimeCounter",new Sm),_r(this,"shouldPlayTimeCounter",new Sm),_r(this,"bufferingTimeManager",void 0),_r(this,"getAdParametersTrackingUrls",e=>{var t,i;return null===(t=this.getAdParametersObject())||void 0===t?void 0:null===(i=t.trackingEvents)||void 0===i?void 0:i[e]}),_r(this,"subscribeFullscreenForLogs",()=>{const{videoNodeController:e}=this.adDisplayController,t=Object(ad.a)(()=>{cs.c.error({error:new ls.a({code:"VIDEOTAG_FULLSCREEN",details:void 0})})});e.isFullscreen()?t():this.onBeforeComplete.addOne(()=>{e.isFullscreen()&&t()})}),this.addDestroyHandler(e=>{const i=Math.round(this.shouldPlayTimeCounter.getTime()),r=Math.round(this.playingTimeCounter.getTime()),n=Math.round(i-r),a=Math.round(this.bufferingTimeManager.getBufferingTime()*fh),o=Math.round(this.getDuration()*fh),s=Math.round(this.getAdRemainingTime()*fh),l=Math.round(o-s),c=Math.round(a/l*1e6),{droppedVideoFrames:u,corruptedVideoFrames:h,totalVideoFrames:p,droppedVideoFramesRatio:A}=d(this.adDisplayController.videoNode),{videoToDevicePixelRatio:m,videoPixelRatio:v}=t.getAdPlacementOptions(),f=t.disclaimerParameters.getValue().length>0;cs.c.values({name:"ViewerDestroy",probability:us.a,data:{destroyReason:e},labels:{},values:{shouldPlayTime:i,playingTime:r,notPlayingTime:n,bufferingTime:a,duration:o,remainingTime:s,currentTime:l,bufferingTimeRatio:c,videoToDevicePixelRatio:m,videoPixelRatio:v,droppedVideoFrames:Math.round(u),corruptedVideoFrames:Math.round(h),totalVideoFrames:Math.round(p),droppedVideoFramesRatio:Math.round(1e6*A),vastHasDisclaimers:f?1:0,vastHasNoDisclaimers:f?0:1}}),this.playingTimeCounter.destroy(),this.shouldPlayTimeCounter.destroy(),this.onBeforeDestroy.dispatch(e)}),this.adDisplayController=t,this.mediaAd=i,this.adPodViewerPlaybackParams=r,this.isStarted.add(()=>{this.trackEvent("creativeView",void 0)}),this.onResume.add(()=>{this.trackEvent("resume",void 0)}),this.onPause.add(()=>{this.trackEvent("pause",void 0)}),this.packshotStartLatch.subscribe(()=>{this.trackEvent("packshotStart",void 0)});let n=0===this.getVolume();this.onVolumeChange.add(()=>{const e=0===this.getVolume();n!==e&&(this.trackEvent(e?"mute":"unmute",void 0),n=e)}),this.onImpression.addOne(()=>{this.trackEvent("impression",void 0)}),this.onImpressionDetermined.addOne(()=>{this.trackEvent("impressionDetermined",void 0)}),this.onImpressionUndetermined.addOne(()=>{this.trackEvent("impressionUndetermined",void 0)});const a=new Vm(i.vastAd.progressTrackings);this.playbackPosition.add(e=>{let{remainingTime:t,duration:i}=e;const r=a.getTrackingUrlsByPosition({duration:i,remainingTime:t});r.length&&ft({eventName:"progress",trackingEventDetails:void 0,trackingUrls:r,options:this.adDisplayController.getAdPlacementOptions()})}),this.onFirstQuartile.add(()=>{this.trackEvent("firstQuartile",void 0)}),this.onMidpoint.add(()=>{this.trackEvent("midpoint",void 0)}),this.onThirdQuartile.add(()=>{this.trackEvent("thirdQuartile",void 0)}),this.bufferingTimeManager=new wm,this.addDestroyHandler(()=>this.bufferingTimeManager.destroy()),this.playingState.subscribeValueConditionOnce(e=>"play"===e,()=>{this.shouldPlayTimeCounter.start(),this.bufferingTimeManager.start(t.videoNode),this.playingState.add(e=>{"play"!==e?(this.shouldPlayTimeCounter.stop(),this.bufferingTimeManager.pause()):(this.shouldPlayTimeCounter.start(),this.bufferingTimeManager.resume())})}),this.isStarted.addOne(()=>{const e=(this.getDuration()+Im)*fh;this.playingTimeCounter.addCallback(e,()=>{this.trackError(new ls.a({code:"TOO_LONG_PLAYING",details:{src:this.getSrc()}}))}),this.playingTimeCounter.start(),this.onPause.add(()=>{this.playingTimeCounter.stop()}),this.onResume.add(()=>{this.playingTimeCounter.start()}),this.addDestroyHandler(()=>{this.playingTimeCounter.stop()})}),this.isStarted.add(()=>{this.playingState.dispatch("play")}),this.onPause.add(()=>{this.playingState.dispatch("pause")}),this.onResume.add(()=>{this.playingState.dispatch("play")}),this.addDestroyHandler(()=>{this.playingState.dispatch("end")}),this.onBeforeComplete.add(()=>{this.trackEvent("beforeComplete",void 0)}),this.addDestroyHandler(e=>{let{reason:t}=e;"skip"!==t&&"close"!==t||this.trackEvent(t,void 0)}),this.addDestroyHandler(()=>{this.isStarted.removeAll(),this.onResume.removeAll(),this.onPause.removeAll(),this.playingState.removeAll(),this.playbackPosition.removeAll(),this.onFirstQuartile.removeAll(),this.onMidpoint.removeAll(),this.onThirdQuartile.removeAll(),this.onBeforeComplete.removeAll(),this.onVolumeChange.removeAll(),this.adVideoIsBuffering.removeAll()}),this.addDestroyHandler(Object(Is.a)({element:window,eventName:"unload",listener:()=>{this.destroy({reason:"unload",details:void 0})}})),this.isStarted.addOne(()=>{this.subscribeFullscreenForLogs()})}trackEvent(e,t){this.mediaAd.trackEvent(e,this.adDisplayController.getAdPlacementOptions(),t)}trackAdParametersEvent(e,t){const i=this.getAdParametersTrackingUrls(e);Array.isArray(i)&&(Object(Os.a)("Track event=["+e+"]"),ft({eventName:e,trackingEventDetails:t,trackingUrls:i,options:this.adDisplayController.getAdPlacementOptions()}))}trackStartEvent(){this.isCreativeStartRequested.getValue()||cs.c.error({error:new ls.a({code:"TRACK_START_BEFORE_PLAY",details:{isVPAID:"js"===this.mediaAd.contentType}})});let e=this.shouldPlayTimeCounter.getTime();e<0&&(e=rs),this.trackEvent("start",{timeToStart:e})}trackError(e){this.mediaAd.trackError(e)}clickThrough(e){var t=this;void 0===e&&(e={});const{playerHandles:i=!0}=e,{clickThroughUrl:r}=this.adPodViewerPlaybackParams;let n;this.isDestroyed&&cs.c.error({error:new ls.a({code:"CALL_AD_POD_VIEWER_CLICK_THROUGH_AFTER_DESTROY",details:{clickThroughParams:e}})}),e.url?n=e.url:r&&(cs.c.event({name:"UsingPresetClickThroughUrl",data:{clickThroughUrl:r}}),n=r);const{pauseOnClickThrough:a,clickThroughConfirmation:o}=this.adDisplayController.config,{clickThroughCallback:s}=this.adDisplayController.config;if(!Boolean(s||n)||!i)return void this.trackEvent("clickThrough",void 0);n&&(n=w({url:mr(n),options:this.adDisplayController.getAdPlacementOptions(),win:window}));const d=Object(ad.a)((function(i){void 0===i&&(i=!1);const r=Date.now(),o=t.adDisplayController.getPaused(),d=a&&!o;if(d&&t.pause(),i){const e=fr(window.document,i=>{if(!i)return;d&&t.resume();const n=Date.now()-r;t.trackAdParametersEvent("returnAfterClickThrough",{timeSpentBeforeReturn:n});const a=Pm(n);cs.c.event({name:a,data:{timeSpentBeforeReturn:n}}),e()});t.addDestroyHandler(e)}t.trackEvent("clickThrough",void 0),t.onClickThrough.dispatch({adWasPaused:Boolean(a)}),s&&us.d&&cs.c.event({name:"ClickThroughCallbackHandle",probability:us.a,data:{clickThroughParams:e,url:n,pauseOnClickThrough:a}})}));if(s){o||d();const t=this.isDestroyed;s({url:n,onHandle:d}),!t&&this.isDestroyed&&cs.c.error({error:new ls.a({code:"DESTROY_DURING_CLICK_THROUGH_CALLBACK_CALL",details:{clickThroughParams:e}})}),cs.c.event({name:"ClickThroughCallbackCall",probability:us.a,data:{clickThroughParams:e,url:n,pauseOnClickThrough:a}})}else{null!==window.open(n,"_blank")&&d(!0)}}isClickable(){return Boolean(this.adPodViewerPlaybackParams.isClickable)}getBufferingTime(){return this.bufferingTimeManager.getBufferingTime()}isVpaidAdPodViewer(){return void 0!==this.mediaAd.getJSMediaFile()}isNonLinear(){return this.mediaAd.vastAd.isNonLinear}isAdaptive(){if(!this.isVpaidAdPodViewer())return!1;if(this.isNonLinear())return!1;return this.mediaAd.getIsIndependentOnVideoElement()}getAdContentSize(){if(this.isNonLinear())return Fh;if(this.isAdaptive())return xh;const e={width:this.getAdWidth(),height:this.getAdHeight()};return e.height!==bm&&e.width!==gm?e:void 0}getDesiredBitrate(){const{desiredBitrate:e=rc}=this.adDisplayController;return e}getAdParameters(){const e=this.mediaAd.getPreloadedVpaidAdParameters();return e||this.mediaAd.vastAd.adParameters}getAdParametersObject(){return this.mediaAd.vastAd.adParametersObject}}const Um=640,xm=480;class Fm extends jm{constructor(e){super(e),gr(this,"preferredSource",void 0),gr(this,"videoNodeController",void 0),gr(this,"curtain",void 0),gr(this,"startTracked",!1),gr(this,"makeVideoClickable",this.ignoreAfterDestroy(()=>{const{videoNode:e,slotParameters:t}=this.adDisplayController,i=()=>{const{clickThroughUrl:e}=this.adPodViewerPlaybackParams;cs.c.event({name:"VideoElementClick",data:{clickThroughUrl:e}}),e&&this.clickThrough({url:e})};this.addDestroyHandler(this.videoNodeController.onClick.add(i)),this.addDestroyHandler(Object(Is.a)({element:t.element,eventName:"click",listener:i,ignoreBubbling:!0})),dr(e)&&this.isClickable()&&(ic||(this.addDestroyHandler(Pi(e,{cursor:"pointer"})),this.addDestroyHandler(Pi(t.element,{cursor:"pointer"}))))})),gr(this,"setAdMediaFile",Object(ad.a)(e=>{this.preferredSource=e,this.videoNodeController.setSrc(e),this.onReady.dispatch(void 0)})),gr(this,"getVideoMediaFileToPlay",Object(ad.a)(()=>{const{width:e,height:t}=this.getVideoSize();let i=this.mediaAd.getPreloadedVideoFile();const r=this.mediaAd.getMediaFiles(),{adConfig:n,adBreak:a,vastAd:o}=this.mediaAd,s=this.mediaAd.getAdPodId(),d=o.vast;if(i||(i=ni(r,{container:{width:e,height:t},desiredBitrate:this.getDesiredBitrate(),isVideoADB:Object(Cs.a)(Object(Ps.a)(this.adDisplayController.slotWindow)),bitratePriorityFactor:Kh,allowedToHideVideoSlotAreaPortion:this.adDisplayController.config.allowedToHideVideoSlotAreaPortion},{vast:d,adConfig:n,adBreak:a,adPodId:s,initiator:"VideoAdPodViewer"}).prioritisedMediaFile),i)return i}));const{adDisplayController:t}=e;this.videoNodeController=t.videoNodeController,this.videoNodeController.isFullscreen()&&this.trackEvent("fullscreen",void 0);const i=()=>{this.videoNodeController.isFullscreen()?this.trackEvent("fullscreen",void 0):this.trackEvent("exitFullscreen",void 0)};this.videoNodeController.fullscreenApi.addHandler(i),this.addDestroyHandler(()=>{this.videoNodeController.fullscreenApi.removeHandler(i),this.curtain&&Object(Es.a)(this.curtain)}),this.isStarted.addOne(this.makeVideoClickable);const{adPodViewerPlaybackParams:r}=this,n=new Error,{videoTimeout:a}=r;this.shouldPlayTimeCounter.addCallback(a,()=>{if(this.isStarted.getValue())return;const{videoNode:e}=this.videoNodeController;this.destroy({reason:"error",details:new ls.a(n,{code:"VIDEO_TIMEOUT",details:{adPodId:this.mediaAd.getAdPodId(),timeout:a,src:this.getSrc(),config:t.config,viewerPlaybackParams:r,networkState:e.networkState,readyState:e.readyState}})})})}resume(){this.playingState.dispatch("play"),this.videoNodeController.play()}play(e){void 0===e&&(e=!0),this.isDestroyed&&cs.c.error({error:new ls.a({code:"PLAY_VIDEO_VIEWER_AFTER_DESTROY",details:{adPodId:this.mediaAd.getAdPodId()}})}),this.playingState.dispatch(e?"play":"pause");const t=this.getVideoMediaFileToPlay();if(t)this.setAdMediaFile(t),e?this.isCreativeStartRequested.getValue()?this.resume():this.start():this.addDestroyHandler(this.videoNodeController.onPlay.addOne(()=>{if(this.isCreativeStartRequested.getValue())return;this.videoNodeController.videoNode.currentSrc===this.preferredSource.url&&(cs.c.event({name:"StartVideoAdByVideoPlay",data:void 0}),this.start())}));else{const e=this.mediaAd.getMediaFiles();this.destroy({reason:"error",details:new ls.a({code:1===e.length?"CANNOT_PLAY_SINGLE_VIDEO_MEDIA_FILE":"NO_APPROPRIATE_VIDEO_SOURCE",details:{mediaFiles:e,adPodId:this.mediaAd.getAdPodId()}})})}}pause(){this.playingState.dispatch("pause"),this.videoNodeController.pause()}skipAd(){this.destroy({reason:"skip",details:void 0})}getAdSkippableState(){const{skipDelay:e}=this.adPodViewerPlaybackParams;return e>0&&this.getCurrentTime()>e}getAdWidth(){var e,t;const i=this.videoNodeController.videoNode;return i.videoWidth>0?i.videoWidth:null!==(e=null===(t=this.preferredSource)||void 0===t?void 0:t.width)&&void 0!==e?e:gm}getAdHeight(){var e,t;const i=this.videoNodeController.videoNode;return i.videoHeight>0?i.videoHeight:null!==(e=null===(t=this.preferredSource)||void 0===t?void 0:t.height)&&void 0!==e?e:bm}getCurrentTime(){const{currentTime:e}=this.videoNodeController.getCurrentPosition();return e}getAdRemainingTime(){if(this.isDestroyed)return 0;const e=this.getDuration();if(!this.isCreativeStartRequested.getValue())return e;const{currentTime:t}=this.videoNodeController.getCurrentPosition();return e-t}getDuration(){const e=this.mediaAd.getDuration();if(!this.isStarted.getValue()||this.isDestroyed)return e;const{duration:t}=this.videoNodeController.getCurrentPosition();return t||e}getSrc(){var e,t;return null!==(e=null===(t=this.preferredSource)||void 0===t?void 0:t.url)&&void 0!==e?e:""}setMuted(e){this.videoNodeController.setMuted(e)}getVolume(){return this.adDisplayController.videoNodeController.getVolume()}setVolume(e){this.videoNodeController.setVolume(e)}resizeAd(e,t,i){void 0===i&&(i=Yp.NORMAL)}subscribeEvents(){this.addDestroyHandler(this.videoNodeController.onVolumeChange.add(()=>{this.onVolumeChange.dispatch(void 0)})),this.addDestroyHandler(this.videoNodeController.onPlayAfterPause.add(()=>{this.startTracked&&this.onResume.dispatch(void 0)})),this.addDestroyHandler(this.videoNodeController.playingState.add(e=>{"pause"===e&&this.onPause.dispatch(void 0)}));const{bufferEmptyLimit:e}=this.adPodViewerPlaybackParams;this.addDestroyHandler(lr({videoNodeController:this.videoNodeController,bufferEmptyLimit:e,callback:()=>{const{videoNode:t}=this.videoNodeController,i=new ls.a({code:"BUFFER_EMPTY_LIMIT",details:{bufferEmptyLimit:e,adPodId:this.mediaAd.getAdPodId(),networkState:t.networkState,readyState:t.readyState}});this.destroy({reason:"error",details:i})}}));const{bufferFullTimeout:t}=this.adPodViewerPlaybackParams;this.addDestroyHandler(cr({videoNodeController:this.videoNodeController,bufferFullTimeout:t,callback:()=>{const{videoNode:e}=this.videoNodeController;this.destroy({reason:"error",details:new ls.a({code:"BUFFER_FULL_TIMEOUT",details:{bufferFullTimeout:t,adPodId:this.mediaAd.getAdPodId(),networkState:e.networkState,readyState:e.readyState}})})}})),this.addDestroyHandler(this.videoNodeController.onError.add(e=>{e=new ls.a(e,{details:br({},e.details,{selectedMediaFile:this.getVideoMediaFileToPlay(),mediaFiles:this.mediaAd.getMediaFiles()})}),this.destroy({reason:"error",details:e})})),this.addDestroyHandler(hr({videoNodeController:this.videoNodeController,durationFallback:()=>this.mediaAd.getDuration(),durationLimit:void 0,callbacks:{AdStarted:()=>{this.startTracked=!0,this.isStarted.dispatch(!0),this.trackStartEvent(),this.onImpression.dispatch(void 0)},AdVideoFirstQuartile:()=>this.onFirstQuartile.dispatch(void 0),AdVideoMidpoint:()=>this.onMidpoint.dispatch(void 0),AdVideoThirdQuartile:()=>this.onThirdQuartile.dispatch(void 0),AdVideoBeforeComplete:()=>this.onBeforeComplete.dispatch(void 0),AdVideoComplete:()=>{this.completeLatch.dispatch({canUseMediaAfterPlayback:!0}),this.destroy({reason:"complete",details:{canUseMediaAfterPlayback:!0}})}}}));const i=this.videoNodeController.currentPosition.add(e=>{let{currentTime:t,duration:i}=e;if(i>0)this.mediaAd.actualizeDuration(i);else{const e=this.mediaAd.getDuration();if(!e)return;i=e}this.playbackPosition.dispatch({duration:i,remainingTime:i-t})});this.addDestroyHandler(()=>{i()})}start(){this.isCreativeStartRequested.dispatch(!0),this.subscribeEvents(),this.videoNodeController.setSeekAllowed(!1),this.addDestroyHandler(this.videoNodeController.onSeekRestore.add(()=>{cs.c.event({name:"RestoreSeek",data:{},probability:us.a})})),this.addDestroyHandler(()=>{this.videoNodeController.setSeekAllowed(!0)}),this.videoNodeController.play(),this.videoNodeController.setVisibleControls(!1)}getVideoSize(){const e=this.videoNodeController.getWidth(),t=this.videoNodeController.getHeight();if(e&&t)return{width:e,height:t};const{width:i,height:r}=this.adDisplayController.slotParameters.size.getValue();return i&&r?{width:i,height:r}:{width:Um,height:xm}}}const Hm=-1,zm=-1,Wm=-2,Gm=!1,Ym={handshakeVersion:"2.0",getAdDuration:-2,getAdRemainingTime:Wm,getAdVolume:os,getAdIcons:!1,getAdExpanded:!1,getAdHeight:bm,getAdWidth:gm,getAdLinear:!0,getAdSkippableState:Gm},qm=Or({},{startAd:void 0,stopAd:void 0,skipAd:void 0,resizeAd:void 0,pauseAd:void 0,resumeAd:void 0,expandAd:void 0,collapseAd:void 0,subscribe:void 0,unsubscribe:void 0,setAdVolume:void 0},{initAd:void 0}),Xm=Or({},Ym,qm),Km={adLinear:0,adWidth:0,adHeight:0,adExpanded:0,adSkippableState:0,adRemainingTime:0,adDuration:0,adVolume:0,adIcons:0},Qm={adLinear:"getAdLinear",adWidth:"getAdWidth",adHeight:"getAdHeight",adExpanded:"getAdExpanded",adSkippableState:"getAdSkippableState",adRemainingTime:"getAdRemainingTime",adDuration:"getAdDuration",adVolume:"getAdVolume",adIcons:"getAdIcons"},Jm={adVolume:"setAdVolume"},Zm=10,$m="Yandex creative cannot be played in a third-party environment, use Video Ads SDK https://yandex.ru/dev/video-sdk/",ev={AdSkipped:"skip",AdStarted:"creativeView",AdImpression:"impression",AdVideoFirstQuartile:"firstQuartile",AdVideoMidpoint:"midpoint",AdVideoThirdQuartile:"thirdQuartile",AdVideoComplete:"complete",AdUserAcceptInvitation:"acceptInvitation",AdUserMinimize:"collapse",AdUserClose:"close",AdPaused:"pause",AdPlaying:"resume"},{initMoatTracking:tv}=i(175),iv={adloox:"AdCreativeInitMeasurer_adloox",admetrica:"AdCreativeInitMeasurer_admetrica",adriver:"AdCreativeInitMeasurer_adriver",moat:"AdCreativeInitMeasurer_moat",sizmek:"AdCreativeInitMeasurer_sizmek",weborama:"AdCreativeInitMeasurer_weborama"},rv=["impression"],nv={adloox:{impression:"TrackingEventWithMeasurer_impression_adloox"},yandexTestMeasurer:{impression:"TrackingEventWithMeasurer_impression_yandexTestMeasurer"},weborama:{impression:"TrackingEventWithMeasurer_impression_weborama"},sizmek:{impression:"TrackingEventWithMeasurer_impression_sizmek"},moat:{impression:"TrackingEventWithMeasurer_impression_moat"},adriver:{impression:"TrackingEventWithMeasurer_impression_adriver"},admetrica:{impression:"TrackingEventWithMeasurer_impression_admetrica"}},av=Object(Hs.a)({AdLoaded:0,AdStarted:0,AdStopped:0,AdSkipped:0,AdSkippableStateChange:0,AdSizeChange:0,AdLinearChange:0,AdDurationChange:0,AdExpandedChange:0,AdRemainingTimeChange:0,AdPodDurationChange:0,AdVolumeChange:0,AdImpression:0,AdVideoStart:0,AdVideoFirstQuartile:0,AdVideoMidpoint:0,AdVideoThirdQuartile:0,AdVideoBeforeComplete:0,AdVideoComplete:0,AdClickThru:0,AdInteraction:0,AdUserAcceptInvitation:0,AdUserMinimize:0,AdUserClose:0,AdPaused:0,AdPlaying:0,AdLog:0,AdError:0}),ov=180,sv=320*ov,dv=160,lv=300*dv;class cv extends qo.a{constructor(e){var t;super(),Sr(this,"onResize",void 0),Sr(this,"resizeObserverCallback",e=>{let[{contentRect:{width:t,height:i}}]=e;this.onResize.dispatch({width:t,height:i})}),Sr(this,"getElementWindow",e=>{var t;return(null===(t=e.ownerDocument)||void 0===t?void 0:t.defaultView)||null});const i=Ts(e);this.onResize=new gs.a({width:i.width,height:i.height},(e,t)=>{let{width:i,height:r}=t;return e.width===i&&e.height===r}),this.addDestroyHandler(()=>{this.onResize.removeAll()});const r=this.getElementWindow(e),n=null!==(t=null===r||void 0===r?void 0:r.ResizeObserver)&&void 0!==t?t:window.ResizeObserver;if("undefined"!==typeof n&&Object($s.a)(ResizeObserver))try{const t=new n(this.resizeObserverCallback);t.observe(e),this.addDestroyHandler(()=>{t.disconnect()})}catch(a){this.fallbackToCustomDetectionMethods(e)}else this.fallbackToCustomDetectionMethods(e)}getSize(){return Er({},this.onResize.getValue())}fallbackToCustomDetectionMethods(e){const t=this.getElementWindow(e);if(!t)return;const i=()=>{const t=Ts(e);this.onResize.dispatch({width:t.width,height:t.height})};this.addDestroyHandler(Object(Is.a)({element:t,eventName:"resize",listener:i,options:{passive:!0}})),this.addDestroyHandler(li(i))}}class uv{setTimeout(e,t){const i=window.setTimeout(e,t);return()=>window.clearTimeout(i)}now(){return Date.now()}}class hv{constructor(e){this.distributionFunction=e,wr(this,"stopped",!0),wr(this,"cancel",void 0),wr(this,"clock",void 0),wr(this,"lastNow",0),wr(this,"lastKnockTime",0),wr(this,"lastTimeout",0),wr(this,"restTime",0),wr(this,"destroyed",!1),wr(this,"isFirstKnock",!0),wr(this,"count",0),this.clock=new uv}setEnabled(e){return e?this.start():this.stop(),this}stop(){return this.stopped||(this.stopped=!0,this.cancelTimeout(),this.restTime=Math.max(this.restTime-(this.clock.now()-this.lastKnockTime),0)),this}start(){return this.stopped&&!this.destroyed&&(this.stopped=!1,this.lastKnockTime=this.clock.now(),this.cancel=this.clock.setTimeout(()=>{this.knock(this.lastNow+this.lastTimeout)},this.restTime)),this}destroy(){this.cancelTimeout(),this.stopped=!0,this.destroyed=!0}reset(){this.setDefaultParams()}setDefaultParams(){this.stopped=!0,this.lastNow=0,this.lastTimeout=0,this.restTime=0,this.destroyed=!1,this.isFirstKnock=!0,this.lastKnockTime=0,this.count=0}knock(e){this.lastNow=e,this.lastKnockTime=this.clock.now(),this.isFirstKnock?this.isFirstKnock=!1:this.count++;const t=this.restTime=this.lastTimeout=this.distributionFunction({time:e,count:this.count});this.stopped||this.destroyed||(this.cancel=this.clock.setTimeout(()=>{this.knock(e+t)},t))}cancelTimeout(){this.cancel&&this.cancel(),this.cancel=void 0}}const pv={height:0,width:0},Av=function(e){if(void 0===e&&(e=window),void 0===e.screen)return pv;const{width:t=pv.width,height:i=pv.height}=e.screen;return{width:t,height:i}},mv=[{enabled:"fullscreenEnabled",element:"fullscreenElement",request:"requestFullscreen",exit:"exitFullscreen",events:{change:"fullscreenchange",error:"fullscreenerror"}},{enabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",request:"webkitRequestFullscreen",exit:"webkitExitFullscreen",events:{change:"webkitfullscreenchange",error:"webkitfullscreenerror"}},{enabled:"mozFullScreenEnabled",element:"mozFullScreenElement",request:"mozRequestFullScreen",exit:"mozCancelFullScreen",events:{change:"mozfullscreenchange",error:"mozfullscreenerror"}},{enabled:"msFullscreenEnabled",element:"msFullscreenElement",request:"msRequestFullscreen",exit:"msExitFullscreen",events:{change:"MSFullscreenChange",error:"MSFullscreenError"}},{enabled:"webkitSupportsFullscreen",element:"webkitDisplayingFullscreen",request:"webkitEnterFullscreen",exit:"webkitExitFullscreen",events:{change:"webkitfullscreenchange",error:"webkitfullscreenerror"}}],vv={UNKNOWN:0,ETHERNET:1,WIFI:2,CELL_2G:3,CELL_3G:4};var fv=i(97);const _v=kl([/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i],e=>null!==navigator.userAgent.match(e)),bv=!0,gv=!0,Ov=.5,yv=2;class Tv extends qo.a{constructor(e,t){let{considerDocumentVisibility:i=bv,numberOfMeasurementSteps:r=yv}=void 0===t?{}:t;super(),this.element=e,Lr(this,"totalVisibilityValueSignal",new gs.a(!1)),Lr(this,"totalVisibilityRatioValueSignal",void 0),Lr(this,"elementVisibilityRatioValueSignal",void 0),Lr(this,"documentVisibilityValueSignal",new gs.a(gv)),Lr(this,"recalculateVisibility",()=>{if(this.isDestroyed||!Ri(this.element))return;const e=Vr(this.element);this.elementVisibilityRatioValueSignal.dispatch(e)}),Lr(this,"refreshTotalVisibility",()=>{const e=this.elementVisibilityRatioValueSignal.getValue(),t=this.documentVisibilityValueSignal.getValue()?e:0;this.totalVisibilityValueSignal.dispatch(t>=Ov),this.totalVisibilityRatioValueSignal.dispatch(t)});const n=Math.max(r,yv);this.totalVisibilityRatioValueSignal=new gs.a(0),this.elementVisibilityRatioValueSignal=new gs.a(0);const a=e.ownerDocument.defaultView.IntersectionObserver;Boolean(a)?this.startIntersectionObserver(a,n):this.startVisibilityCheckInterval(),i&&this.startObservingDocumentVisibility(e.ownerDocument),this.elementVisibilityRatioValueSignal.add(this.refreshTotalVisibility),this.documentVisibilityValueSignal.add(this.refreshTotalVisibility),this.addDestroyHandler(()=>{this.totalVisibilityValueSignal.removeAll(),this.totalVisibilityRatioValueSignal.removeAll(),this.elementVisibilityRatioValueSignal.removeAll(),this.documentVisibilityValueSignal.removeAll()})}startIntersectionObserver(e,t){const i=[Ov],r=1/t;for(let a=1;a<t;a++)i.push(a*r);const n=new e(e=>{let[{intersectionRatio:t}]=e;this.elementVisibilityRatioValueSignal.dispatch(t)},{threshold:i});n.observe(this.element),this.addDestroyHandler(()=>{n.disconnect()})}startVisibilityCheckInterval(){const e=li(this.recalculateVisibility);this.addDestroyHandler(e);const{promise:t,clear:i}=Object(es.a)(0);t.then(this.recalculateVisibility).catch(nd.a),this.addDestroyHandler(i)}async startObservingDocumentVisibility(e){await _c(0);const t=Object(Lm.a)(e);this.documentVisibilityValueSignal.dispatch(t);const i=fr(e,e=>{this.documentVisibilityValueSignal.dispatch(e)});this.addDestroyHandler(i)}}class Ev{constructor(){var e=this;Mr(this,"events",{}),Mr(this,"subscribe",(e,t,i)=>{if("string"!==typeof t)throw new Error("Event name MUST be a string");if("function"!==typeof e)throw new Error("Event listener MUST be a function");let r=this.events[t];void 0===r&&(r=this.events[t]=[]),r.push({callback:e,context:i})}),Mr(this,"unsubscribe",(e,t)=>{if("string"!==typeof t)throw new Error("Event name MUST be a string");if("function"!==typeof e)throw new Error("Event listener MUST be a function");const i=this.events[t];i&&(this.events[t]=Object(Xo.a)(i,t=>{let{callback:i}=t;return e!==i}))}),Mr(this,"dispatch",(function(t){for(var i=arguments.length,r=new Array(i>1?i-1:0),n=1;n<i;n++)r[n-1]=arguments[n];if("string"!==typeof t)throw new Error("Event name MUST be a string");const a=e.events[t];a&&Object($o.a)(a,e=>{let{callback:i,context:n}=e;try{i.apply(n,r)}catch(a){cs.c.error({error:new ls.a(a,{code:"VpaidEventBusCallbackError",details:{vpaidEventName:t,params:r}})})}})}))}}i(176);const Sv=WBViewAbility;var wv=i(65);const Iv=8,Pv={id1:"",id2:"",id5:"",id7:"",id9:""},Cv=e=>Object(jd.b)("https://pixel.adlooxtracking.com/ads/ic.php",(e=>{let{id1:t,id2:i,id5:r,id7:n,id9:a}=e;return{_:String(Math.random()),type:"pixel",plat:"206",tag_id:"1251",client:"yandex",id1:t,id2:i,id3:"",id4:"",id5:r,id7:n,id9:a,id11:"$ADLOOX_WEBSITE",id12:"video-pixel"}})(e)),Dv="https://verify.yandex.ru/verify_adloox?platformid=3&platform=206&plat=206",Nv=e=>"https://"+Vl.c+"/pcode-static/measurers/"+e+"/video/adloox.js",Rv=Md.b.split("/"),kv=Rv[Rv.length-1],{initMoatTracking:Vv}=i(177),Lv={AdStopped:0,AdVideoStart:0,AdVideoFirstQuartile:0,AdVideoMidpoint:0,AdVideoThirdQuartile:0,AdVideoComplete:0,AdPaused:0,AdPlaying:0,AdVolumeChange:0},Bv="yandexhostedvideo786420153684",Mv=async e=>{let{vpaidCreative:t,slot:i,measurerParameters:r}=e;await Object(wv.a)({src:"https://"+Vl.c+"/pcode-static/measurers/1/main.js",win:window}).promise,verify(i,{vpaidCreative:t,measurerParameters:r})},jv={adriver:async e=>{let{vpaidCreative:t,slot:i,measurerParameters:r,yastaticVersion:n}=e;const a=i.ownerDocument.defaultView,o=(e=>"https://"+Vl.c+"/pcode-static/measurers/"+e+"/video/adriver.js")(n);await Object(wv.a)({win:a,src:o}).promise,new a.AdriverViewabilityYandexVPAID(Ur({},r,{ya_custom:"ADSID="+xd.a}),i,t),Object(Os.a)("adriver measurer loaded")},moat:async function(e){let{vpaidCreative:t,slot:i,measurerParameters:r,onMeasurerError:n,yastaticVersion:a}=e;const o=Vv(i,xr({},r,{zMoatADID:xd.a,slicer1:kv,partnerCode:Bv}),t.getAdDuration(),Bv,a);Object($o.a)(Object(Hs.a)(Lv),e=>{t.subscribe(()=>{try{o.dispatchEvent({type:e,adVolume:t.getAdVolume()})}catch(i){n(new ls.a({code:"MOAT_DISPATCH_EVENT_ERROR",details:{error:i,eventName:e}}))}},e)})},adloox:async function(e){let{vpaidCreative:t,slot:i,measurerParameters:r,onMeasurerError:n,yastaticVersion:a}=e;var o;const s=jr({},r,{targetelt:((o=i).id||(o.id=Object(ys.a)(Iv)),o.id),urli:Dv,urlv:Dv,urle:Dv},{id8:xd.a}),d=Object(Qo.a)(Object(Qu.a)(s),(e,t,i)=>{let[r,n]=t;return"string"!==typeof n?e:e+(0===i?"#":"&")+r+"="+encodeURIComponent(n)},"");t.subscribe(()=>{const e=""+Nv(a)+d;Y(Cv(jr({},Pv,s))),Object(wv.a)({win:i.ownerDocument.defaultView,src:e}).promise.catch(e=>{n(new ls.a({code:"ADLOOX_SCRIPT_LOADING_ERROR",details:{error:e}}))})},"AdStarted")},weborama:async e=>{let{vpaidCreative:t,slot:i,measurerParameters:r,yastaticVersion:n}=e;const a=i.ownerDocument.defaultView,o=(e=>"https://"+Vl.c+"/pcode-static/measurers/"+e+"/video/weborama.js")(n);await Object(wv.a)({win:a,src:o}).promise,new a.WBMeasurerV(i,t,JSON.stringify(Fr({},r,{siteid:xd.a}))),Object(Os.a)("weborama measurer loaded")},admetrica:Mv,sizmek:Mv,yandexTestMeasurer:async e=>{let{vpaidCreative:t,slot:i,measurerParameters:r,yastaticVersion:n}=e;Object(Os.a)("start YandexTestMeasurer initialization"),Object($o.a)(av,e=>{const i=Object(ad.a)(()=>{cs.c.event({name:Hr(e),data:void 0,probability:us.a})});t.subscribe((function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];Object(Os.a)("YandexTestMeasurer received VPAID event=["+e+"], args=["+he(r)+"]"),i()}),e)}),Object(Os.a)("complete YandexTestMeasurer initialization")}},Uv={moat:{actual:"71",unstable:"71"},adloox:{actual:"35",unstable:"35"},weborama:{actual:"42",unstable:"42"},adriver:{actual:"28",unstable:"28"},sizmek:{actual:"1",unstable:"1"},admetrica:{actual:"1",unstable:"1"},yandexTestMeasurer:{actual:"1",unstable:"2"}},xv=(e,t)=>{const i=Uv[e],r=t;return Object(is.a)(r)&&"use_unstable_script"in r&&Boolean(r.use_unstable_script)?i.unstable:i.actual},Fv=3e4,Hv=Object(Hs.a)(jv),zv={1:[],2:[],3:[],5:[]};class Wv extends qo.a{constructor(e,t,i){var r,n;super(),r=this,this.vpaidCreative=e,this.parameters=t,this.callbacks=i,$r(this,"userInteractionDispatchers",{AdClickThru:e=>{this.onClickThru.dispatch(e)}}),$r(this,"vpaidCreativeProxyForMeasurers",void 0),$r(this,"playingStateValueSignal",new gs.a(!1)),$r(this,"bufferingTimeManager",void 0),$r(this,"slotVisibilityStateValueSignal",void 0),$r(this,"slotHoverStateValueSignal",new gs.a(!1)),$r(this,"vpaidInitParameters",void 0),$r(this,"measurerStartParameters",void 0),$r(this,"shouldPlayTimeCounter",new Sm),$r(this,"lastVolume",void 0),$r(this,"vpaidEventBus",new Ev),$r(this,"vpaidCreativeProxyForMeasurersEventBus",new Ev),$r(this,"isVisibilityConfirmed",!1),$r(this,"initializedMeasurers",void 0),$r(this,"initMeasurableParameters",Object(ad.a)(e=>{var t;const i=e[4];if(!Object(is.a)(i))throw new ls.a({code:"VPAID_MEASURER_INVALID_CREATIVE_DATA",details:void 0});const{AdParameters:r}=i,n=e[5];if(!Object(is.a)(n)||!Object(is.a)(n.slot))throw new ls.a({code:"VPAID_MEASURER_INVALID_ENVIRONMENT_VARS",details:void 0});const{slot:a,videoSlot:o,yandexAdPlaybackParams:s}=n,d=null!==(t=this.parameters.measurersSlot)&&void 0!==t?t:a;this.bufferingTimeManager.start(o);const{parameters:l,errors:c}=function(e){if(!e)return{parameters:void 0,errors:[new ls.a({code:"AD_PARAMETERS_ABSENT_IN_MEASURER",details:{adParametersString:e}})]};let t={};try{t=JSON.parse(e)}catch(h){return{parameters:void 0,errors:[new ls.a({code:"INVALID_AD_PARAMETERS_JSON_IN_MEASURER",details:{adParametersString:e}})]}}const{viewability:i,encounters:r,dwell:n,start:a,trackingEvents:o,viewedComplete:s,weborama:d,moat:l}=t,{measurers:c,errors:u}=qr(t);return{parameters:{measurers:c,viewability:Xr(i),dwell:Xr(n),trackingEvents:B(L(o),{encounters:Wr(r),viewedComplete:Wr(s),start:Wr(a)}),weborama:d,moat:Qr(l),skipAdSdkDetect:Kr(t)},errors:u}}(r);if(Object($o.a)(c,this.callbacks.onExecutionError),!l)throw new ls.a({code:"VPAID_MEASURER_AD_PARAMETERS_ERROR",details:{adParameters:r}});const{skipAdSdkDetect:u}=l;if(!Object(is.a)(s)){const e=new ls.a({code:u?"LEGAL_DIRECT_AD_PLAYING":"ILLEGAL_DIRECT_AD_PLAYING",message:$m,details:{adParameters:r}});if(this.callbacks.onExecutionError(e),!u)throw e}this.vpaidInitParameters={slot:d,videoSlot:o,adParameters:l},this.initMeasurers()})),$r(this,"initMeasurers",Object(ad.a)(()=>{const{vpaidInitParameters:e,vpaidCreativeProxyForMeasurers:t}=this;if(!e)return this.callbacks.onExecutionError(new ls.a({code:"ATTEMPT_TO_INIT_MEASURERS_WITHOUT_PARAMETERS",details:{measurableVpaidExists:Boolean(t),vpaidInitParametersExist:Boolean(e)}})),Promise.resolve();const{adParameters:{measurers:i,weborama:r,moat:n},slot:a}=e;if(r&&"string"===typeof r.wbStatData)try{(new Sv).init(a,r.wbStatData,t)}catch(s){this.callbacks.onExecutionError(new ls.a(s,{code:"WEBORAMA_INIT_ERROR",details:void 0}))}if(n){const{partnerCode:e,ids:i}=n;try{!function(e){let{vpaid:t,container:i,ids:r,partnerCode:n}=e;tv(t,i,r,n)}({ids:i,vpaid:t,container:a,partnerCode:e})}catch(s){this.callbacks.onExecutionError(new ls.a(s,{code:"INIT_MOAT_TRACKING_ERROR",details:{ids:i,partnerCode:e}}))}}const o=Zr({},i,{yandexTestMeasurer:{}});return this.initializedMeasurers=o,Promise.all(Object(Zo.a)(Object(Hs.a)(o),async e=>{const i=o[e],r=function(e,t){if(null==e)return{};var i,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)i=a[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}(i,["use_unstable_script"]),n=jv[e],d=xv(e,i);try{await n({vpaidCreative:t,slot:a,measurerParameters:r,onMeasurerError:e=>{this.callbacks.onExecutionError(e)},yastaticVersion:d}),"yandexTestMeasurer"!==e&&this.callbacks.onInitMeasurer({measurerName:e,measurableVpaidCreative:t,slot:a,measurerParameters:r})}catch(s){this.callbacks.onExecutionError(new ls.a({code:"MEASURER_INIT_ERROR",details:{measurerName:e,measurerParameters:r,error:new Wl.a(s)}}))}}))})),$r(this,"trackEncounters",Object(ad.a)(e=>{this.vpaidInitParameters?(this.isVisibilityConfirmed=!0,this.trackEvent("encounters",this.getTrackingUrlsByTrackingEventName("encounters"),{reason:e}),this.vpaidEventBus.dispatch("AdImpression"),this.trackEvent("impression",this.getTrackingUrlsByTrackingEventName("impression"),void 0),this.trackImpressionWithVisibility()):this.callbacks.onExecutionError(new ls.a({code:"VPAID_MEASURER_CANNOT_TRACK_ENCOUNTERS_BEFORE_START",details:{eventName:"encounters"}}))})),$r(this,"trackTrueView",Object(ad.a)(e=>{this.trackEvent("trueView",this.getTrackingUrlsByTrackingEventName("trueView"),{reason:e})})),$r(this,"startMeasurement",Object(ad.a)(()=>{const{vpaidInitParameters:e}=this;if(!e)return void this.destroy({error:new ls.a({code:"VPAID_MEASURER_NO_PARAMS_ON_START",details:void 0})});const{slot:t,adParameters:i,videoSlot:r}=e,{viewability:n,dwell:a}=i;this.addDestroyHandler(function(e,t){let i=function(e){if(!e)return!1;const{parentElement:t}=e;return!(!t||"function"!==typeof t.querySelector)&&t.querySelector(":hover")===e}(e);i&&t(!0);const r=Mi(e,"mouseenter",()=>{i||(i=!0,t(!0))}),n=Mi(e,"mouseleave",()=>{i&&(i=!1,t(!1))});return()=>{r(),n()}}(t,e=>{this.slotHoverStateValueSignal.dispatch(e)}));const o=new cv(t),s=o.getSize();this.callbacks.onSlotSizeChange(s);const d=dr(r)?new cv(r):o,l=new gs.a(Tr(s,ic));let c;if(o.onResize.add(e=>{this.callbacks.onSlotSizeChange(e),l.dispatch(Tr(e,ic))}),this.parameters.visibilityRatio)c=this.parameters.visibilityRatio;else{const e=new Tv(t,{numberOfMeasurementSteps:Zm});c=e.totalVisibilityRatioValueSignal,this.addDestroyHandler(()=>e.destroy())}this.measurerStartParameters={videoSlotSize:d.onResize,slotSize:o.onResize,visibilityRatio:c},this.addDestroyHandler(c.add(e=>{this.slotVisibilityStateValueSignal.dispatch(e>=Ov)})),this.addDestroyHandler(()=>{d.destroy(),o.destroy()});const u=new hv(e=>{let{count:t}=e;return 1===t&&(u.destroy(),this.trackTrueView("progress")),Fv}),h=new hv(e=>{let{count:t}=e;const i=function(e){return e>3?{eventName:"viewability5",intervalId:5}:1===e?{eventName:"viewability1",intervalId:1}:2===e?{eventName:"viewability2",intervalId:2}:3===e?{eventName:"viewability3",intervalId:3}:void 0}(t);return void 0!==i&&this.trackEvent(i.eventName,n[i.intervalId],void 0),Jr(t)}),p=new hv(e=>{let{count:t}=e;const i=function(e){return e>3?{eventName:"dwell5",intervalId:5}:1===e?{eventName:"dwell1",intervalId:1}:2===e?{eventName:"dwell2",intervalId:2}:3===e?{eventName:"dwell3",intervalId:3}:void 0}(t);return void 0!==i&&this.trackEvent(i.eventName,a[i.intervalId],void 0),Jr(t)}),A=new hv(e=>{let{count:t}=e;return 2===t&&(this.trackEncounters("viewability"),A.destroy()),Jr(t)});this.addDestroyHandler(()=>{u.destroy(),h.destroy(),p.destroy(),A.destroy()}),this.addDestroyHandler(this.playingStateValueSignal.add(e=>{u.setEnabled(e)})),this.addDestroyHandler(sr([this.playingStateValueSignal,this.slotVisibilityStateValueSignal,l],(e,t,i)=>e&&t&&i,e=>{e&&A.reset(),h.setEnabled(e),A.setEnabled(e)})),this.addDestroyHandler(sr([this.playingStateValueSignal,this.slotVisibilityStateValueSignal,this.slotHoverStateValueSignal,l],(e,t,i,r)=>e&&t&&i&&r,e=>{p.setEnabled(e)}))})),$r(this,"methodSniffers",{subscribe:this.vpaidEventBus.subscribe,unsubscribe:this.vpaidEventBus.unsubscribe}),$r(this,"onClickThru",new Ss.a),$r(this,"eventSniffers",{AdLoaded:()=>{this.initMeasurers().then(()=>{this.vpaidEventBus.dispatch("AdLoaded")}).catch(id.a)},AdClickThru:(e,t,i)=>{var r;this.callbacks.onExecutionError(new ls.a({code:"VPAID_MEASURER_RECEIVED_AD_CLICK_THRU_EVENT",details:{adParameters:null===(r=this.vpaidInitParameters)||void 0===r?void 0:r.adParameters}})),this.onClickThru.dispatch({url:e,id:t,playerHandles:i}),this.vpaidEventBus.dispatch("AdClickThru",e,t,i)}}),$r(this,"vpaidWillSetProperty",(e,t)=>{this.vpaidCreative[e]=t}),$r(this,"vpaidWillCallMethod",(e,t)=>{if(this.updatePlayTimeCounter(e),"initAd"===e)try{this.initMeasurableParameters(t)}catch(r){return this.vpaidEventBus.dispatch("AdError",r),void this.destroy({error:r})}switch(e){case"startAd":this.startMeasurement();break;case"stopAd":this.destroy({reason:e})}const i=this.methodSniffers[e];return i?i(...t):this.vpaidCreative[e].apply(this.vpaidCreative,t)}),$r(this,"trackImpressionWithVisibility",()=>{Ul?this.trackEvent("impressionDetermined",this.getTrackingUrlsByTrackingEventName("impressionDetermined"),void 0):this.trackEvent("impressionUndetermined",this.getTrackingUrlsByTrackingEventName("impressionUndetermined"),void 0)}),$r(this,"updatePlayTimeCounter",e=>{switch(e){case"startAd":case"resumeAd":return this.shouldPlayTimeCounter.start();case"pauseAd":return this.shouldPlayTimeCounter.stop();default:return}}),$r(this,"trackEvent",(function(e,t,i){if(void 0===t&&(t=[]),Object(Os.a)("Track VPAIDMeasurer event=["+e+"]"),!r.vpaidInitParameters||!r.measurerStartParameters)return void r.callbacks.onExecutionError(new ls.a({code:"VPAID_MEASURER_CANNOT_TRACK_EVENT_BEFORE_START",details:{eventName:e}}));const{slotSize:n,videoSlotSize:a,visibilityRatio:o}=r.measurerStartParameters,s={eventName:e,trackingEventDetails:i,trackingUrls:t,options:Dr({win:window,slotSize:n.getValue(),videoSlotSize:a.getValue(),slotVisibilityRatio:o.getValue(),videoNode:r.vpaidInitParameters.videoSlot,bufferingTime:r.bufferingTimeManager.getBufferingTime()})};pt(s),r.callbacks.onTrackEvent(s),yr(e,r.initializedMeasurers)})),this.vpaidCreativeProxyForMeasurers=this.createVpaidCreativeProxyForMeasurers(e),this.onClickThru.add(e=>{let{url:t,id:i,playerHandles:r}=e;this.trackEvent("clickThrough",this.getTrackingUrlsByTrackingEventName("clickThrough"),void 0),this.trackEncounters("click"),this.trackTrueView("click"),this.vpaidCreativeProxyForMeasurersEventBus.dispatch("AdClickThru",t,i,r)}),this.playingStateValueSignal.add(i.onPlayingStateChange);let a=!1;t.visibilityRatio&&(a=t.visibilityRatio.getValue()>=Ov),this.slotVisibilityStateValueSignal=new gs.a(a),null===(n=t.visibilityRatio)||void 0===n||n.add(e=>this.slotVisibilityStateValueSignal.dispatch(e>=Ov)),this.slotVisibilityStateValueSignal.add(i.onSlotVisibilityStateChange),this.slotHoverStateValueSignal.add(i.onSlotHoverStateChange),this.bufferingTimeManager=new wm,this.addDestroyHandler(()=>this.bufferingTimeManager.destroy()),this.addDestroyHandler(e=>{i.onStop(e),Object($o.a)([this.playingStateValueSignal,this.slotVisibilityStateValueSignal,this.slotHoverStateValueSignal],e=>{e.dispatch(!1),e.removeAll()})}),this.addDestroyHandler(()=>{this.shouldPlayTimeCounter.destroy()}),this.subscribeVPAIDEvents()}createVpaidCreativeProxyForMeasurers(e){var t=this;const i=U(qm,(e,t)=>()=>{Object(Os.a)("Measurer called VPAID action method=["+t+"]"),cs.c.event({name:"Measurer_VPAIDActionMethodCalled",data:{methodName:t}})}),r=U(Ym,(t,i)=>{return function(){const t=e[i];for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return t.apply(e,n)}});return Object($o.a)(av,e=>{this.vpaidEventBus.subscribe((function(){for(var i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];return t.vpaidCreativeProxyForMeasurersEventBus.dispatch(e,...r)}),e)}),Br(Zr({},i,r,{subscribe:(e,t,i)=>this.vpaidCreativeProxyForMeasurersEventBus.subscribe(e,t,i),unsubscribe:(e,t)=>this.vpaidCreativeProxyForMeasurersEventBus.unsubscribe(e,t)}))}subscribeVPAIDEvents(){var e=this;Object($o.a)(av,t=>{this.vpaidCreative.subscribe((function(){for(var i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];e.vpaidDidDispatchEvent(t,r)}),t)})}vpaidDidDispatchEvent(e,t){const i=ev[e];if(i&&this.trackEvent(i,this.getTrackingUrlsByTrackingEventName(i),void 0),"AdVideoStart"===e&&this.onAdVideoStart(),"AdVideoComplete"===e&&(this.isVisibilityConfirmed&&this.trackEvent("viewedComplete",this.getTrackingUrlsByTrackingEventName("viewedComplete"),void 0),this.trackTrueView("complete")),"AdError"===e){const e=this.getTrackingUrlsByTrackingEventName("error"),i={error:new ls.a({code:"VPAID_MEASURER_AD_ERROR",details:{args:t}}),trackingUrls:e};Object(Os.a)("Track VPAIDMeasurer event=[error]"),q(i),this.callbacks.onAdError(i)}var r,n,a,o,s;("AdStarted"===e&&(this.lastVolume=this.vpaidCreative.getAdVolume()),"AdUserClose"===e)&&this.callbacks.onExecutionError(new ls.a({code:"VPAID_MEASURER_RECEIVED_AD_USER_CLOSE_EVENT",details:{adParameters:null===(r=this.vpaidInitParameters)||void 0===r?void 0:r.adParameters}}));"AdSkipped"===e&&this.callbacks.onExecutionError(new ls.a({code:"VPAID_MEASURER_RECEIVED_AD_SKIPPED_EVENT",details:{adParameters:null===(n=this.vpaidInitParameters)||void 0===n?void 0:n.adParameters}}));"AdImpression"===e&&this.callbacks.onExecutionError(new ls.a({code:"VPAID_MEASURER_RECEIVED_AD_IMPRESSION_EVENT",details:{adParameters:null===(a=this.vpaidInitParameters)||void 0===a?void 0:a.adParameters}}));"AdUserAcceptInvitation"===e&&this.callbacks.onExecutionError(new ls.a({code:"VPAID_MEASURER_RECEIVED_AD_USER_ACCEPT_INVITATION_EVENT",details:{adParameters:null===(o=this.vpaidInitParameters)||void 0===o?void 0:o.adParameters}}));"AdUserMinimize"===e&&this.callbacks.onExecutionError(new ls.a({code:"VPAID_MEASURER_RECEIVED_AD_USER_MINIMIZE_EVENT",details:{adParameters:null===(s=this.vpaidInitParameters)||void 0===s?void 0:s.adParameters}}));if("AdVolumeChange"===e&&"number"===typeof this.lastVolume){const e=this.vpaidCreative.getAdVolume();0===e&&this.lastVolume>0&&this.trackEvent("mute",this.getTrackingUrlsByTrackingEventName("mute"),void 0),e>0&&0===this.lastVolume&&this.trackEvent("unmute",this.getTrackingUrlsByTrackingEventName("unmute"),void 0),this.lastVolume=e}switch(e){case"AdStarted":case"AdPlaying":this.playingStateValueSignal.dispatch(!0),this.bufferingTimeManager.resume();break;case"AdPaused":this.playingStateValueSignal.dispatch(!1),this.bufferingTimeManager.pause();break;case"AdStopped":case"AdError":case"AdSkipped":this.destroy({reason:e})}const d=this.eventSniffers[e];void 0===d?this.vpaidEventBus.dispatch(e,...t):d(...t)}getTrackingUrlsByTrackingEventName(e){if(!this.vpaidInitParameters)return[];const{adParameters:{trackingEvents:t}}=this.vpaidInitParameters,i=t[e];return Array.isArray(i)?Object(Zo.a)(i,t=>{const i=this.getConsumerAdditionalTrackingParams(e,t);return Object(is.a)(i)?Object(jd.b)(t,i,{override:!1}):t}):[]}getConsumerAdditionalTrackingParams(e,t){const i=Object(Pl.a)(()=>{var i,r;return null===(i=(r=this.parameters).getAdditionalTrackingParameters)||void 0===i?void 0:i.call(r,{eventName:e,url:t})});return!Object(is.a)(i)||Yi(i)?null:i}onAdVideoStart(){this.measurerStartParameters?this.trackEvent("start",this.getTrackingUrlsByTrackingEventName("start"),{timeToStart:this.shouldPlayTimeCounter.getTime()}):this.callbacks.onExecutionError(new ls.a({code:"VPAID_AD_VIDEO_START_BEFORE_START_AD_CALL",details:void 0}))}}const Gv="ENABLE"===$l("TRACK_COMPLETE_BEFORE_PACKSHOT")?"ENABLE":void 0,Yv=()=>os,qv=()=>!1,Xv=()=>!1,Kv=e=>"2.0";var Qv,Jv,Zv,$v,ef,tf,rf={},nf=[],af=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;Qv={__e:function(e,t){for(var i,r;t=t.__;)if((i=t.__c)&&!i.__)try{if(i.constructor&&null!=i.constructor.getDerivedStateFromError&&(r=!0,i.setState(i.constructor.getDerivedStateFromError(e))),null!=i.componentDidCatch&&(r=!0,i.componentDidCatch(e)),r)return cn(i.__E=i)}catch(t){e=t}throw e}},sn.prototype.setState=function(e,t){var i;i=this.__s!==this.state?this.__s:this.__s=tn({},this.state),"function"==typeof e&&(e=e(i,this.props)),e&&tn(i,e),null!=e&&this.__v&&(t&&this.__h.push(t),cn(this))},sn.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),cn(this))},sn.prototype.render=on,Jv=[],Zv="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ef=rf,tf=0;var of,sf,df,lf=[],cf=Qv.__r,uf=Qv.diffed,hf=Qv.__c,pf=Qv.unmount;Qv.__r=function(e){cf&&cf(e),of=0,(sf=e.__c).__H&&(sf.__H.__h.forEach(kn),sf.__H.__h.forEach(Vn),sf.__H.__h=[])},Qv.diffed=function(e){uf&&uf(e);var t=e.__c;if(t){var i=t.__H;i&&i.__h.length&&(1!==lf.push(t)&&df===Qv.requestAnimationFrame||((df=Qv.requestAnimationFrame)||function(e){var t,i=function(){clearTimeout(r),cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(i,100);"undefined"!=typeof window&&(t=requestAnimationFrame(i))})(Rn))}},Qv.__c=function(e,t){t.some((function(e){try{e.__h.forEach(kn),e.__h=e.__h.filter((function(e){return!e.__||Vn(e)}))}catch(i){t.some((function(e){e.__h&&(e.__h=[])})),t=[],Qv.__e(i,e.__v)}})),hf&&hf(e,t)},Qv.unmount=function(e){pf&&pf(e);var t=e.__c;if(t){var i=t.__H;if(i)try{i.__.forEach((function(e){return e.t&&e.t()}))}catch(e){Qv.__e(e,t.__v)}}};const Af=e=>Object(_s.a)(e)?e:new ls.a(e,{code:"PREACT_ERROR",details:{error:e}}),mf=e=>{const[t]=Sn(new gs.a({status:"initial"}));In(()=>{const i=t.getValue();return"initial"!==i.status?(e.onFirstRender(i),nd.a):t.addOne(t=>{"initial"!==t.status&&e.onFirstRender(t)})},[t]),wn(()=>{"initial"===t.getValue().status&&t.dispatch({status:"success"})},[t]);const[i]=function(e){var t=En(of++),i=Sn();return t.__=e,sf.componentDidCatch||(sf.componentDidCatch=function(e){t.__&&t.__(e),i[1](e)}),[i[0],function(){i[1](void 0)}]}((function(){for(var i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];const a=Object(Ko.a)(r)&&1===r.length&&Object(xu.a)(r[0])?r[0]:void 0,o=null!==a&&void 0!==a?a:new Error("Preact error boundary error"),s=Af(o);cs.c.error({error:s});const{status:d}=t.getValue();"initial"===d?t.dispatch({status:"error",error:s}):e.onRuntimeError(s)}));return i||"error"===t.getValue().status?null:nn(on,null,e.children)},vf=(Object(Xs.a)({propertyName:"ERROR_BOUNDARY_GLOBAL_CALLBACK",win:window}),Tn({}));vf.Provider.displayName="ErrorBoundaryTestContext";const ff=e=>{const t=e.components;return nn(on,null,Object(Qo.a)(t,(t,i)=>i(Mn({},e.componentsProps,{children:t})),e.children))};var _f=function(){for(var e,t,i=0,r="";i<arguments.length;)(e=arguments[i++])&&(t=jn(e))&&(r&&(r+=" "),r+=t);return r};const bf=Tn(ss);bf.Provider.displayName="SlotSizeContext";const gf=e=>Un(e),Of=()=>Nn(bf),yf=Tn({element:document.body});yf.Provider.displayName="SlotContext";const Tf=e=>{return{element:e}},Ef=()=>Nn(yf);Number(new Date);class Sf{constructor(){var e,t,i;e=this,t="usingStylesByContainersMap",i=new WeakMap,t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}addStyleUsing(e,t){const i=this.usingStylesByContainersMap.get(e);if(!i)return this.usingStylesByContainersMap.set(e,new Map([[t,1]])),!0;const r=i.get(t);return r?(i.set(t,r+1),!1):(i.set(t,1),!0)}removeStyleUsing(e,t){const i=this.usingStylesByContainersMap.get(e);if(!i)return!0;const r=i.get(t);return!r||(i.set(t,r-1),!(r>1)&&(i.delete(t),0===i.size&&this.usingStylesByContainersMap.delete(e),!0))}}const wf=new class{constructor(){Fn(this,"stylesUsingCounter",new Sf),Fn(this,"styleElementsMap",new WeakMap)}useStyleModule(e,t){const i=t,r=[];for(let n=0;n<i.length;n++){const[t,a]=i[n];if(a){if(this.stylesUsingCounter.addStyleUsing(e,t)){const i=xn(e,a),r=this.styleElementsMap.get(e);r?r.set(t,i):this.styleElementsMap.set(e,new Map([[t,i]]))}r.push(t)}}return r.length?Object(ad.a)(()=>{Object($o.a)(r,t=>{const i=this.stylesUsingCounter.removeStyleUsing(e,t),r=this.styleElementsMap.get(e);if(!i||!r)return;const n=r.get(t);Object(Es.a)(n),r.delete(t),0===r.size&&this.styleElementsMap.delete(e)})}):nd.a}},If=Tn({descriptionText:void 0,buttonText:"",openClickThroughUrl:nd.a,progress:0,hasTimeline:!1,disableOverlay:!1});If.Provider.displayName="PackshotContext";var Pf=i(150),Cf=i.n(Pf);const Df=e=>{let{children:t,onClick:i}=e;return Hn(Cf.a),nn("div",{className:Pf.locals.PackshotButton,onClick:i},nn("div",{className:Pf.locals.PackshotButton__content},t))};var Nf=i(158),Rf=i.n(Nf);const kf=e=>{let{width:t,height:i}=e;return Hn(Rf.a),nn("div",{className:Nf.locals.PackshotOverlay,style:{width:t+"px",height:i+"px"}})},Vf=4,Lf=e=>Math.floor(1e4*e)/1e4;var Bf=i(91),Mf=i.n(Bf);const jf="#ff1a2d",Uf=1,xf=e=>{let{currentNumber:t,count:i,color:r=""+jf,adAnimationProgress:n,backgroundOpacity:a=Uf}=e;Hn(Mf.a);const{width:o,transform:s}=function(e){let{currentNumber:t,count:i}=e;const r=Vf*(i-1)/i,n="calc("+Lf(100/i)+"% - "+Lf(r)+"px)",a=t*Vf;return{width:n,transform:"translateX("+("calc("+Lf(100*t)+"% + "+Lf(a)+"px)")+")"}}({currentNumber:t,count:i});return nn("div",{className:Bf.locals.TimelineBar__container,style:{width:o,transform:s}},nn("div",{className:_f(Bf.locals.TimelineBar,Bf.locals.TimelineBar__background),style:{opacity:""+a}}),nn("div",{className:_f(Bf.locals.TimelineBar,Bf.locals.TimelineBar__progress),style:{transform:"scaleX("+n+")",backgroundColor:r}}))};var Ff=i(82),Hf=i.n(Ff);const zf=()=>{Hn(Hf.a);const{width:e,height:t}=Of(),i=function(e){let{width:t}=e;return t<560?13:t<720?14:16}({width:e}),{descriptionText:r,buttonText:n,openClickThroughUrl:a,progress:o,hasTimeline:s,disableOverlay:d=!1}=(()=>Nn(If))();return nn("div",{onClick:n?void 0:a,className:_f(Ff.locals.PackshotScreen,{[Ff.locals.PackshotScreen_clickable]:!n}),style:{width:e+"px",height:t+"px"}},!d&&nn("div",{className:Ff.locals.PackshotScreen__packshotOverlayWrapper},nn(kf,{width:e,height:t})),n&&nn("div",{className:Ff.locals.PackshotScreen__buttonWrapper},nn(Df,{onClick:a},n)),Object(rd.a)(r)&&nn("div",{className:Ff.locals.PackshotScreen__textBlock,style:{fontSize:i+"px"}},r),s&&nn("div",{className:Ff.locals.PackshotScreen__timelineBarWrapper},nn(xf,{adAnimationProgress:o,currentNumber:0,count:1,color:"white"})))},Wf=[e=>nn(yf.Provider,{value:Tf(e.container),children:e.children}),e=>nn(bf.Provider,{value:gf(e.containerSize),children:e.children}),e=>nn(If.Provider,{value:zn(e),children:e.children})],Gf=1e4;class Yf extends qo.a{constructor(e){var t,i,r;super(),this.props=e,t=this,i="shouldPlay",r=new gs.a(!0),i in t?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r;const{duration:n,win:a,openClickThroughUrl:s,hasTimeline:d}=this.props,l=!o(n);this.addDestroyHandler(e=>{Object(Os.a)("Packshot: destroy packshot reason=["+e.reason+"]"),cs.c.event({name:"PackshotDestroyed",data:{isInfiniteDuration:l,reason:e}})});const c=new gs.a(0);let u;this.addDestroyHandler(function(e){const{container:t,onRuntimeError:i,onFirstRenderError:r}=e;return yn(nn(mf,{onRuntimeError:i,onFirstRender:e=>{"error"===e.status&&r(e.error)}},nn(ff,{components:Wf,componentsProps:e},nn(zf,null))),t),()=>{yn(null,t)}}(Wn({},this.props,{openClickThroughUrl:()=>{cs.c.event({name:"PackshotButtonClicked",data:void 0}),s()},animationProgress:c,onFirstRenderError:e=>{this.destroy({reason:"firstRenderError",details:e})},onRuntimeError:e=>{this.destroy({reason:"runtimeError",details:e})},hasTimeline:d}))),cs.c.event({name:"PackshotRendered",data:{isInfiniteDuration:l}}),l?(u=new mm(a,e=>{let{time:t}=e;const i=Math.atan(t/Gf)/(.5*Math.PI);c.dispatch(i)}),this.addDestroyHandler(()=>{u.stop()}),u.start()):(u=new fm({win:a,duration:n*fh,callback:e=>{c.dispatch(e)},onFinish:()=>{cs.c.event({name:"PackshotTimelineFinished",data:void 0}),this.destroy({reason:"complete",details:void 0})}}),c.add(e=>{e>=1&&u.stop()}),this.addDestroyHandler(()=>{u.stop(),c.removeAll(),this.shouldPlay.removeAll()}),u.start()),this.shouldPlay.add(e=>{e?u.start():u.stop()})}setPlaying(e){this.shouldPlay.dispatch(e)}}const qf={complete:"AdVideoComplete",skip:"AdSkipped",close:"AdUserClose",stopAd:"AdStopped"};class Xf extends qo.a{constructor(e){var t,i,r;super(),this.params=e,r=void 0,(i="promise")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r,this.promise=this.loadAdCreative().catch(e=>{throw this.destroy(),e})}async loadAdCreative(){const{adParametersString:e,slot:t,externalLiveCycle:i,initAdCreative:r}=this.params;if(!Object(Cs.a)(r))throw new ls.a({code:"AD_CREATIVE_ANIMATION_INIT_IS_NOT_A_FUNCTION",details:this.getAdCreativeErrorDetails()});let n,a;try{n=r({adParametersString:e,slot:t,externalLiveCycle:i})}catch(o){throw new ls.a(o,{code:"AD_CREATIVE_ANIMATION_INIT_CALL_ERROR",details:this.getAdCreativeErrorDetails()})}if(!ed(n))throw new ls.a({code:"AD_CREATIVE_ANIMATION_INIT_RETURNS_NON_PROMISE_RESULT",details:this.getAdCreativeErrorDetails()});try{a=await n}catch(o){if(Object(_s.a)(o))throw o;throw new ls.a(o,{code:"AD_CREATIVE_ANIMATION_INIT_ERROR",details:this.getAdCreativeErrorDetails()})}return this.destroy(),a}getAdCreativeErrorDetails(){const{adParametersString:e}=this.params;return{adParametersString:e}}}const Kf={startAd:()=>new Promise(nd.a),stopAd:nd.a};class Qf extends qo.a{constructor(e){super(),this.params=e,Yn(this,"vpaidEventBus",new Ev),Yn(this,"handshakeVersion",Kv),Yn(this,"subscribe",this.vpaidEventBus.subscribe),Yn(this,"unsubscribe",this.vpaidEventBus.unsubscribe),Yn(this,"resizeAd",nd.a),Yn(this,"expandAd",nd.a),Yn(this,"collapseAd",nd.a),Yn(this,"getAdIcons",Xv),Yn(this,"getAdExpanded",qv),Yn(this,"setAdVolume",nd.a),Yn(this,"getAdVolume",Yv),Yn(this,"initAd",Object(ad.a)(()=>{this.vpaidEventBus.dispatch("AdLoaded")})),Yn(this,"videoStartedLatch",new _m),Yn(this,"adCreativeLatch",new _m),Yn(this,"completeLatch",new _m),Yn(this,"isPackshotStarted",new _m),Yn(this,"remainingTime",new gs.a(Wm)),Yn(this,"shouldPlay",new gs.a(!1)),Yn(this,"isPlaying",new gs.a(!1)),Yn(this,"shouldPlayTimeCounter",new Sm),Yn(this,"lifeCycleLatches",U({AdVideoFirstQuartile:0,AdVideoMidpoint:0,AdVideoThirdQuartile:0,AdVideoBeforeComplete:0},(e,t)=>new _m(this.ignoreAfterDestroy(()=>{this.vpaidEventBus.dispatch(t)})))),Yn(this,"stopAdAndDestroyWrapper",nd.a),Yn(this,"stopAnimation",nd.a),Yn(this,"beforeDestroyLatch",new _m),Yn(this,"pauseAd",()=>{this.shouldPlay.dispatch(!1)}),Yn(this,"resumeAd",()=>{this.shouldPlay.dispatch(!0)}),Yn(this,"getAdHeight",()=>{var e;return null!==(e=this.params.videoNodeController.videoNode.videoHeight)&&void 0!==e?e:bm}),Yn(this,"getAdWidth",()=>{var e;return null!==(e=this.params.videoNodeController.videoNode.videoWidth)&&void 0!==e?e:gm}),Yn(this,"getAdLinear",()=>!1),Yn(this,"getAdDuration",()=>{const e=this.getVideoDurationConsideringDurationLimit();return e||Hm}),Yn(this,"getAdRemainingTime",()=>{const{videoParameters:e,videoNodeController:t}=this.params;if(e){const e=this.getVideoDurationConsideringDurationLimit(),{currentTime:i}=t.getCurrentPosition();if(o(e)&&J(i))return Math.max(e-i,0)}return zm}),Yn(this,"getAdSkippableState",()=>!0),Yn(this,"dispatchAdStarted",()=>{this.vpaidEventBus.dispatch("AdStarted"),this.vpaidEventBus.dispatch("AdVideoStart")}),this.addDestroyHandler(()=>{this.beforeDestroyLatch.dispatch(void 0)});const{videoParameters:t,videoNodeController:i,isNonLinear:r,slot:n,slotSize:a,packshotParameters:s,lang:d,getVPAIDLogDetails:c}=e;if(this.vpaidEventBus.subscribe(e=>{cs.c.errorToStats(e)},"AdError"),this.addDestroyHandler(Object(ad.a)(()=>{this.vpaidEventBus.dispatch("AdStopped")})),this.addDestroyHandler(()=>{this.shouldPlayTimeCounter.destroy()}),this.shouldPlay.add(e=>{e?this.shouldPlayTimeCounter.start():this.shouldPlayTimeCounter.stop()}),this.remainingTime.add(()=>{this.vpaidEventBus.dispatch("AdRemainingTimeChange")}),this.beforeDestroyLatch.subscribe(()=>{this.remainingTime.removeAll()}),t){this.getAdVolume=()=>i.getVolume(),this.setAdVolume=e=>{0===e?i.setMuted(!0):i.setVolume(e)};const e=()=>{const e=i.playingState.getValue()===LA.PLAY;this.isPlaying.dispatch(e)};this.beforeDestroyLatch.subscribe(i.playingState.add(e)),e()}else this.shouldPlay.add(this.isPlaying),this.isPlaying.dispatch(this.shouldPlay.getValue());if(r||i.pause(),t&&(this.attachToVideoNode(t,i),this.addDestroyHandler(this.adCreativeLatch.subscribe(()=>{this.shouldPlay.getValue()&&i.play();const e=this.shouldPlay.add(e=>{e?i.play():i.pause()});this.isPackshotStarted.subscribe(e),this.addDestroyHandler(e)}))),this.params.videoParameters?this.videoStartedLatch.subscribe(this.dispatchAdStarted):this.adCreativeLatch.subscribe(e=>{const{getAdDuration:t,getAdRemainingTime:i}=e;if(!t||!i)return void this.dispatchAdStarted();const r=this.remainingTime.add(()=>{0!==t()-i()&&(this.dispatchAdStarted(),r())});this.addDestroyHandler(r)}),this.adCreativeLatch.subscribe(e=>{const{getAdDuration:i,getAdRemainingTime:r,resizeAd:n}=e;this.startAdCreative(e),this.isPlaying.getValue()||this.pauseAdCreative(e),this.isPlaying.add(t=>{t?this.resumeAdCreative(e):this.pauseAdCreative(e)}),t||(Object(Cs.a)(i)&&(this.getAdDuration=()=>i.call(e)),Object(Cs.a)(r)&&(this.getAdRemainingTime=()=>r.call(e),this.beforeDestroyLatch.subscribe(li(()=>{this.remainingTime.dispatch(this.getAdRemainingTime())})))),this.stopAnimation=Object(ad.a)(()=>{e.stopAd()}),this.beforeDestroyLatch.subscribe(this.stopAnimation),this.beforeDestroyLatch.subscribe(a.add(t=>{Object(Cs.a)(n)&&n.call(e,t)}))}),s){const e=n.ownerDocument,t=e.createElement("div"),i=e.defaultView;if(i){const{packshotImageUrl:e}=s;this.lifeCycleLatches.AdVideoThirdQuartile.subscribe(()=>{G(e)}),this.completeLatch.subscribe(this.ignoreAfterDestroy(()=>{"ENABLE"===Gv&&this.vpaidEventBus.dispatch("AdVideoComplete"),this.isPackshotStarted.dispatch(Gn({},s,{packshotContainer:t,win:i}))}))}else cs.c.error({error:new ls.a({code:"AD_CREATIVE_PACKSHOT_WINDOW_NULL",details:{win:String(i)}}),probability:us.a})}else this.completeLatch.subscribe(this.ignoreAfterDestroy(()=>{this.stopAdAndDestroyWrapper("complete")}));this.isPackshotStarted.subscribe(e=>{let{packshotDuration:t,packshotImageUrl:r,packshotActionButtonClickUrl:o,onPackshotStart:s,packshotButtonText:u,packshotContainer:h,win:p}=e;this.stopAnimation(),i.pause(),s(),l(h,Gn({},zs,{backgroundImage:"url("+r+")",backgroundPosition:"center",backgroundSize:"cover"})),n.appendChild(h);const A=new Yf({duration:t,container:h,win:p,containerSize:a,openClickThroughUrl:()=>{this.params.adCreativeUserInteractionCallbacks.AdClickThru({url:o,id:void 0,playerHandles:!0})},buttonText:u||MA("LEARN_MORE",d),descriptionText:void 0,disableOverlay:void 0,hasTimeline:!0});this.shouldPlay.add(e=>{A.setPlaying(e)}),A.addDestroyHandler(e=>{let{reason:t,details:i}=e;"complete"!==t?("firstRenderError"!==t&&"runtimeError"!==t||(cs.c.error({error:new ls.a({code:"firstRenderError"===t?"AD_CREATIVE_PACKSHOT_FIRST_RENDER_ERROR":"AD_CREATIVE_PACKSHOT_RUNTIME_ERROR",details:c()})}),this.vpaidEventBus.dispatch("AdError",i)),this.destroy()):"ENABLE"===Gv?this.destroy():this.stopAdAndDestroyWrapper("complete")}),this.addDestroyHandler(()=>{A.destroy({reason:"stopAd",details:void 0}),Object(Es.a)(h)})}),this.loadAndRenderAnimation().catch(this.ignoreAfterDestroy(e=>{this.vpaidEventBus.dispatch("AdError",e),this.destroy()}))}startAd(){var e;const t=Boolean(this.params.videoParameters),i=null===(e=this.params.videoParameters)||void 0===e?void 0:e.getAutoplay();!t||i?(Object(Os.a)("AdCreativeWrapper: start playing"),this.shouldPlay.dispatch(!0)):(Object(Os.a)("AdCreativeWrapper: CANNOT start playing"),this.shouldPlay.dispatch(!1),cs.c.event({name:"AdCreativeWrapperCannotAutoplayOnStart",data:{hasVideoParameters:t,canAutoplay:i},probability:us.a})),this.beforeDestroyLatch.subscribe(this.shouldPlay.add(e=>{t&&!this.isPackshotStarted.getDispatched()||this.vpaidEventBus.dispatch(e?"AdPlaying":"AdPaused")})),this.stopAdAndDestroyWrapper=e=>{const t=qf[e];this.vpaidEventBus.dispatch(t),this.destroy()},this.beforeDestroyLatch.subscribe(()=>{this.shouldPlay.dispatch(!1),this.shouldPlay.removeAll()})}stopAd(){this.destroy()}skipAd(){this.vpaidEventBus.dispatch("AdSkipped"),this.stopAd()}getVideoDurationConsideringDurationLimit(){const{videoParameters:e,videoNodeController:t}=this.params;if(e){const{durationLimit:i}=e,{duration:r}=t.getCurrentPosition(),n=o(r)?r:void 0;if(n&&o(i))return Math.min(n,i);if(n)return n}}async loadAndRenderAnimation(){const{animationParameters:e,adCreativeWindow:t,getVPAIDLogDetails:i,slot:r,videoParameters:n}=this.params;if(!e)return void this.adCreativeLatch.dispatch(Kf);const{animationMediaFile:a,getPreloadedAdCreativeInitFunction:o,adCreativeParameters:s}=e;let d=o();try{if(Object(Cs.a)(d))0;else{0;const{promise:e,teardown:i}=Nt({animationMediaFile:a,win:t});this.beforeDestroyLatch.subscribe(i),d=await e}}catch(u){if(Object(_s.a)(u))throw u;throw new ls.a(u,{code:"CANNOT_LOAD_AD_CREATIVE_ANIMATION_MEDIA_FILE",details:i()})}if(this.isDestroyed)return;const l=new Xf({slot:r,adParametersString:s,externalLiveCycle:Boolean(n),initAdCreative:d});this.beforeDestroyLatch.subscribe(()=>{l.destroy()});const c=await l.promise;this.isDestroyed||this.adCreativeLatch.dispatch(c)}attachToVideoNode(e,t){const{videoSlotSize:i,videoContentSize:r,videoMediaFile:n,videoMediaFiles:a,videoTimeout:s,bufferEmptyLimit:d,bufferFullTimeout:l,durationLimit:c,durationFallback:u,onVideoBufferingStateChange:h}=e,{videoNode:p}=t,{clickThroughUrl:A,animationParameters:m,slot:v}=this.params;t.onVolumeChange.add(()=>this.vpaidEventBus.dispatch("AdVolumeChange"));const f=Date.now();this.addDestroyHandler(t.onCanPlay.addOne(()=>{cs.c.values({name:"MediaFileLoadingTime",values:{loadingTime:Date.now()-f},data:void 0,labels:{},probability:us.a})})),t.setSrc(n),void 0!==A&&this.beforeDestroyLatch.subscribe(this.videoStartedLatch.subscribe(()=>{const e=()=>{this.params.adCreativeUserInteractionCallbacks.AdClickThru({url:A,id:void 0,playerHandles:!0})};this.beforeDestroyLatch.subscribe(t.onClick.add(()=>{cs.c.event({name:"AdCreativeWrapperVideoElementClick",data:{clickThroughUrl:A}}),e()})),dr(p)&&!ic&&this.beforeDestroyLatch.subscribe(Pi(p,{cursor:"pointer"})),void 0===m&&(this.beforeDestroyLatch.subscribe(Object(Is.a)({element:v,eventName:"click",listener:t=>{cs.c.event({name:"AdCreativeWrapperSlotElementClick",data:{clickThroughUrl:A}}),e()},ignoreBubbling:!0})),ic||this.beforeDestroyLatch.subscribe(Pi(v,{cursor:"pointer"})))})),this.beforeDestroyLatch.subscribe(t.onVolumeChange.add(()=>{this.vpaidEventBus.dispatch("AdVolumeChange")})),this.beforeDestroyLatch.subscribe(this.videoStartedLatch.subscribe(()=>{const e=t.onPlayAfterPause.add(()=>{this.videoStartedLatch.getDispatched()&&this.vpaidEventBus.dispatch("AdPlaying")}),i=t.playingState.add(e=>{"pause"===e&&this.vpaidEventBus.dispatch("AdPaused")});this.beforeDestroyLatch.subscribe(e),this.beforeDestroyLatch.subscribe(i),this.isPackshotStarted.subscribe(e),this.isPackshotStarted.subscribe(i)}));const _=()=>{const e=this.adCreativeLatch.getValue();if(!e||!Object(Cs.a)(e.adjustAdPosition))return;const t=this.getAdDuration(),i=this.getAdRemainingTime();o(t)&&J(i)&&e.adjustAdPosition({adDuration:t,adRemainingTime:i})};this.beforeDestroyLatch.subscribe(hr({durationFallback:u,durationLimit:c,videoNodeController:t,callbacks:Gn({},U(this.lifeCycleLatches,e=>()=>{e.dispatch(void 0)}),{AdStarted:()=>{this.videoStartedLatch.dispatch(void 0),_()},AdVideoComplete:e=>{if(e.completeOnDurationLimit){const{getVPAIDLogDetails:e}=this.params;cs.c.event({name:"CreativeCompleteOnDurationLimit",data:{durationLimit:c,vpaidLogDetails:e()}})}this.completeLatch.dispatch(void 0)}})}));const b=new Error;this.shouldPlayTimeCounter.addCallback(s,()=>{if(this.videoStartedLatch.getDispatched())return;const e=new ls.a(b,{code:"AD_CREATIVE_VIDEO_TIMEOUT",details:{timeout:s,mediaFile:n,networkState:p.networkState,readyState:p.readyState}});this.vpaidEventBus.dispatch("AdError",e),this.stopAdAndDestroyWrapper("stopAd")}),this.beforeDestroyLatch.subscribe(this.videoStartedLatch.subscribe(()=>{t.isBuffering.getValue()&&h(!0),this.addDestroyHandler(t.isBuffering.add(e=>{h(e)}))})),this.beforeDestroyLatch.subscribe(this.videoStartedLatch.subscribe(()=>{this.beforeDestroyLatch.subscribe(lr({videoNodeController:t,bufferEmptyLimit:d,callback:()=>{const e=new ls.a({code:"AD_CREATIVE_BUFFER_EMPTY_LIMIT",details:{bufferEmptyLimit:d,mediaFile:n,networkState:p.networkState,readyState:p.readyState}});this.vpaidEventBus.dispatch("AdError",e),this.stopAdAndDestroyWrapper("stopAd")}})),this.beforeDestroyLatch.subscribe(cr({videoNodeController:t,bufferFullTimeout:l,callback:()=>{const e=new ls.a({code:"AD_CREATIVE_BUFFER_FULL_TIMEOUT",details:{bufferFullTimeout:l,mediaFile:n,networkState:p.networkState,readyState:p.readyState}});this.vpaidEventBus.dispatch("AdError",e),this.stopAdAndDestroyWrapper("stopAd")}}))})),t.setSeekAllowed(!1),this.beforeDestroyLatch.subscribe(t.onSeekRestore.add(()=>{cs.c.event({name:"AdCreativeRestoreSeek",data:{},probability:us.a})})),this.beforeDestroyLatch.subscribe(()=>{t.setSeekAllowed(!0)}),this.beforeDestroyLatch.subscribe(t.onError.add(e=>{e=new ls.a(e,{details:Gn({},e.details,{selectedMediaFile:n,mediaFiles:a})}),this.vpaidEventBus.dispatch("AdError",e),this.stopAdAndDestroyWrapper("stopAd")})),this.beforeDestroyLatch.subscribe(t.currentPosition.add(()=>{_(),this.remainingTime.dispatch(this.getAdRemainingTime())})),this.beforeDestroyLatch.subscribe(i.add(e=>{const t=this.adCreativeLatch.getValue();t&&Object(Cs.a)(t.resizeVideoSlot)&&t.resizeVideoSlot(e)})),this.beforeDestroyLatch.subscribe(r.add(e=>{const t=this.adCreativeLatch.getValue();t&&Object(Cs.a)(t.resizeVideoContent)&&t.resizeVideoContent(e)}))}startAdCreative(e){const{slot:t,videoParameters:i,slotSize:r,getVPAIDLogDetails:n}=this.params,a=r.getValue(),o=U(this.lifeCycleLatches,e=>i?nd.a:()=>e.dispatch(void 0)),s=e.startAd({get slot(){return Object(Ah.a)('You are using "slot" parameter from adCreative.startAd(...) method. This property is deprecated. Use "slot" parameter from initAdCreative method argument.'),cs.c.error({error:new ls.a({code:"USING_SLOT_GETTER_FROM_START_AD_PARAMETERS",details:n()})}),t},callbacks:Gn({AdClickThru:this.ignoreAfterDestroy((e,t,i)=>{const r=Object(rd.a)(e)?e:this.params.clickThroughUrl;this.params.adCreativeUserInteractionCallbacks.AdClickThru({url:r,id:t,playerHandles:i})})},o),requestPause:()=>{this.pauseAd()},requestPlay:()=>{this.resumeAd()},videoSlotSize:i?i.videoSlotSize.getValue():a,size:a,videoContentSize:null===i||void 0===i?void 0:i.videoContentSize.getValue()});if(!ed(s))throw new ls.a({code:"AD_CREATIVE_START_AD_RETURNS_NON_PROMISE_RESULT",details:void 0});s.then(this.ignoreAfterDestroy(e=>{if(i)return;let t="complete";if(Object(is.a)(e)){const i=e.reason;Object(rd.a)(i)&&Boolean(qf[i])&&(t=i)}"complete"===t?this.completeLatch.dispatch(void 0):this.stopAdAndDestroyWrapper(t)})).catch(this.ignoreAfterDestroy(e=>{this.vpaidEventBus.dispatch("AdError",e),this.destroy()}))}pauseAdCreative(e){var t;null===(t=e.pauseAd)||void 0===t||t.call(e)}resumeAdCreative(e){var t;null===(t=e.resumeAd)||void 0===t||t.call(e)}}const Jf=Object(ad.a)(e=>{cs.c.event({name:"IntersectionObserverMocked",data:{functionCode:Object(Pl.a)(()=>e.IntersectionObserver.toString())}})}),Zf=Object(ad.a)(()=>{cs.c.event({name:"DocumentHiddenMocked",data:void 0})}),$f=Object(ad.a)(e=>{cs.c.event({name:"IframeIntersectionObserverMocked",data:{functionCode:Object(Pl.a)(()=>e.IntersectionObserver.toString())}})}),e_=Object(ad.a)(()=>{cs.c.event({name:"IframeDocumentHiddenMocked",data:void 0})}),t_=["mousemove","mousedown","mouseup","contextmenu","touchstart","touchmove","touchend"],i_=250,r_=0,n_=.5,a_="open",o_=5e3,s_="2.0",d_=Object(Hs.a)({getAdLinear:0,getAdHeight:0,getAdWidth:0,getAdExpanded:0,getAdRemainingTime:0,getAdDuration:0,getAdVolume:0,getAdSkippableState:0});class l_ extends qo.a{static getVpaidAd(e){return Br(new l_({outsideApi:e}))}handshakeVersion(){return s_}stopAd(){Object(Os.a)("[RemoteVPAID]: call remote stopAd()"),this.destroy({reason:"manual",details:"stopAd"}),$n(this.params.outsideApi.callVpaidMethod("stopAd",[]))}initAd(e,t,i,r,n,a){if(this.isDestroyed)return void cs.c.error({error:new ls.a({code:"VF_VPAID_INIT_CALLED_AFTER_DESTROY",details:{width:e,height:t,viewMode:i,desiredBitrate:r,creativeData:n,environmentVars:a}})});const o=function(e,t){if(null==e)return{};var i,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)i=a[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}(a,["slot","videoSlot"]);this.params.outsideApi.initCreative([{width:e,height:t,viewMode:i,desiredBitrate:r,creativeData:n,environmentVars:ea({},o,{videoSlot:void 0,slot:void 0})}]).then(nd.a).catch(e=>{this.destroy({reason:"fatal",details:e})})}startAd(){this.callRemoteMethod("startAd",[])}skipAd(){this.callRemoteMethod("skipAd",[])}resizeAd(e,t,i){this.callRemoteMethod("resizeAd",[e,t,i])}pauseAd(){this.callRemoteMethod("pauseAd",[])}resumeAd(){this.callRemoteMethod("resumeAd",[])}expandAd(){this.callRemoteMethod("expandAd",[])}collapseAd(){this.callRemoteMethod("collapseAd",[])}setAdVolume(e){this.callRemoteMethod("setAdVolume",[e])}getAdDuration(){return this.getterValues.getAdDuration}getAdRemainingTime(){return this.getterValues.getAdRemainingTime}getAdVolume(){return this.getterValues.getAdVolume}getAdExpanded(){return this.getterValues.getAdExpanded}getAdHeight(){return this.getterValues.getAdHeight}getAdWidth(){return this.getterValues.getAdWidth}getAdLinear(){return this.getterValues.getAdLinear}getAdSkippableState(){return this.getterValues.getAdSkippableState}constructor(e){super(),this.params=e,ta(this,"unsubscribe",nd.a),ta(this,"getAdIcons",Xv),ta(this,"getterValues",Object(md.a)(Object(Zo.a)(d_,e=>[e,Ym[e]]))),ta(this,"subscribe",(e,t,i)=>{this.params.outsideApi.listenRemoteVpaidEvents(t,(t,r)=>{e.apply(i,r)})});const{outsideApi:t}=e;this.addDestroyHandler(t.listenRemoteVpaidGetterValueChange(this.ignoreAfterDestroy((e,t)=>{this.getterValues[e]=t}))),this.addDestroyHandler(e=>{"fatal"===e.reason&&cs.c.error({error:new ls.a({code:"VF_REMOTE_VPAID_FATAL_DESTROY",details:{error:e.details}})})})}callRemoteMethod(e,t){this.isDestroyed?cs.c.error({error:new ls.a({code:"VF_VPAID_METHOD_CALLED_AFTER_DESTROY",details:{methodName:e,args:t}})}):this.params.outsideApi.callVpaidMethod(e,t).then(nd.a).catch(e=>{this.destroy({reason:"fatal",details:e})})}}const c_="https://"+Vl.c+"/"+nu+"/overlay_creative.js",u_=e=>{let{versionSupported:t,versionToCheck:i}=e;const r=Object(Zo.a)(t.split("."),e=>parseInt(e,10)),n=Object(Zo.a)(i.split("."),e=>parseInt(e,10));for(let a=0;a<n.length;a++){const e=n[a],t=r[a],i="undefined"===typeof t?0:t;if(e>i)return!1;if(e<i)return!0}return!0},h_=e=>Object(is.a)(e)&&"function"===typeof e.handshakeVersion&&"function"===typeof e.initAd&&"function"===typeof e.startAd&&"function"===typeof e.stopAd&&"function"===typeof e.skipAd&&"function"===typeof e.resizeAd&&"function"===typeof e.pauseAd&&"function"===typeof e.resumeAd&&"function"===typeof e.expandAd&&"function"===typeof e.collapseAd&&"function"===typeof e.subscribe&&"function"===typeof e.unsubscribe,p_=["idle","load","init","start","play"];const A_=e=>S(e)||!we(e),m_=e=>{const{adConfig:{secureMode:t}}=e,i=null!==kc&&void 0!==kc?kc:t;if(!i)return!1;const r=e.getJSMediaFile();if(!r)return!1;switch(i){case"ForceSafe":return!0;case"Safe":return!A_(r.url);case"OnlyYandexCreatives":case"Unsafe":default:return!1}};class v_ extends jm{constructor(e){super(e),aa(this,"onAdSkippableStateChange",new Ss.a),aa(this,"creative",void 0),aa(this,"adCreativeWrapper",void 0),aa(this,"adSkippableState",!1),aa(this,"canUseMediaAfterPlayback",!1),aa(this,"lifeCycleStage",new gs.a("idle",(e,t)=>{const i=p_.indexOf(e);return p_.indexOf(t)-i!==1&&cs.c.error({error:new ls.a({code:"CREATIVE_STAGES_SEQUENCE_VIOLATED",details:na({},this.getVPAIDLogDetails(),{currentStage:e,nextStage:t})})}),!1})),aa(this,"startVpaidCreative",Object(ad.a)(e=>{this.isCreativeStartRequested.dispatch(!0),this.lifeCycleStage.dispatch("start"),Object(Os.a)("VPAID.startAd() called in startVpaidCreative method"),e.startAd();const t=this.shouldPlayTimeCounter.getTime();e.subscribe(Object(ad.a)(()=>{Object(Os.a)("VPAID dispatched AdStarted");const e=this.shouldPlayTimeCounter.getTime();this.lifeCycleStage.dispatch("play"),cs.c.values({name:"VpaidCreativeStarted",probability:us.a,data:this.getVPAIDLogDetails(),values:{timeBeforeStart:t,timeToStart:e-t,fullTime:e},labels:{}})}),"AdStarted")})),aa(this,"creativeAdStartedCallback",re(()=>{if(this.isDestroyed)return void cs.c.error({error:new ls.a({code:"VPAID_STARTED_AFTER_AD_DESTROY",details:this.getVPAIDLogDetails()})});this.isCreativeStartRequested.getValue()||cs.c.error({error:new ls.a({code:"VPAID_STARTED_BEFORE_START_AD_CALL",details:this.getVPAIDLogDetails()})});const e=Object(ad.a)(()=>{this.isStarted.dispatch(!0)}),t=this.playingState.getValue();Object(Os.a)("VPAID dispatched AdStarted event with playingState=["+t+"]"),"play"!==t?this.playingState.subscribeValueConditionOnce(e=>"play"===e,e):e()},()=>{cs.c.error({error:new ls.a({code:"VPAID_STARTED_MORE_THAN_ONCE",details:this.getVPAIDLogDetails()})})})),aa(this,"createContainerNode",Object(ad.a)(e=>{let{isAdCreative:t,isNonLinear:i}=e;const{slotDocument:r,slotParameters:n}=this.adDisplayController,a=r.createElement("div");l(a,na({},zs,{pointerEvents:i?"none":"auto",visibility:"hidden",overflow:"hidden"})),this.isCreativeStartRequested.addOne(()=>{l(a,{visibility:"visible"})}),this.addDestroyHandler(()=>{Object(Es.a)(a)}),n.element.appendChild(a);let o=null;return(t||i)&&(o=Qn(a))&&l(o,zs),o||a})),aa(this,"prepareVpaidCreative",Object(ad.a)(async()=>{this.addDestroyHandler(this.adDisplayController.videoNodeController.onVolumeChange.add(()=>{this.onVolumeChange.dispatch(void 0)}));const e=await this.initCreative();if(!e||this.isDestroyed)throw new ls.a({code:"VPAID_WAS_DESTROYED_DURING_INIT",details:this.getVPAIDLogDetails()});e.subscribe(e=>{this.destroy({reason:"error",details:this.parseVpaidError(e,"VPAIDPlayingError")})},"AdError"),this.creative=e,this.addDestroyHandler(()=>{this.creative=void 0}),this.onReady.dispatch(void 0),"play"!==this.playingState.getValue()?this.startAndPauseVpaidCreative(e):this.startVpaidCreative(e),this.updateAdSkippableState()})),aa(this,"updatePosition",this.ignoreAfterDestroy(()=>{var e,t,i,r;this.playbackPosition.dispatch({duration:this.getDuration(),remainingTime:null!==(e=null===(t=this.creative)||void 0===t?void 0:t.getAdRemainingTime())&&void 0!==e?e:zm}),Object(Os.a)("[VpaidAdPodViewer]: updated position [duration = ["+this.getDuration()+"], adRemainingTime = ["+(null!==(i=null===(r=this.creative)||void 0===r?void 0:r.getAdRemainingTime())&&void 0!==i?i:zm)+"]]")})),aa(this,"isAdPlayingCalled",!1),aa(this,"getVPAIDLogDetails",()=>({adPodId:this.mediaAd.getAdPodId(),adParametersString:this.getAdParameters(),mediaFile:this.getCurrentSource(),viewerPlaybackParams:this.adPodViewerPlaybackParams,isViewerDestroyed:this.isDestroyed,hasCreativeInstance:Boolean(this.creative),isSlotInDom:Ri(this.adDisplayController.slotParameters.element),lifeCycleStage:this.lifeCycleStage.getValue()}));const{adPodViewerPlaybackParams:t}=e,i=new Error,{vpaidTimeout:r}=t;this.shouldPlayTimeCounter.addCallback(r,()=>{const e=this.getSrc(),n=this.lifeCycleStage.getValue(),{videoNodeController:a}=this.adDisplayController,{videoNode:o}=a,s={adPodId:this.mediaAd.getAdPodId(),timeout:r,src:e,config:this.adDisplayController.config,viewerPlaybackParams:t,liveCycleStage:n,videoNodeSrc:o.src,adMediaState:this.adDisplayController.adMediaState.getValue(),networkState:o.networkState,readyState:o.readyState};this.isDestroyed?cs.c.error({error:new ls.a({code:"SHOULD_PLAY_TIMER_IS_STARTED_AFTER_VIEWER_DESTROY",details:s})}):(this.isAdPlayingCalled&&!this.isStarted.getValue()&&cs.c.error({error:new ls.a({code:"VPAID_TIMEOUT_PREVENTED_BY_AD_PLAYING_EVENT",details:s})}),this.isStarted.getValue()||this.isAdPlayingCalled||this.destroy({reason:"error",details:new ls.a(i,{code:ra({creativeLifeCycleStage:n,isYandexCreative:A_(this.getScriptSrc()),adCreativeWrapper:this.adCreativeWrapper}),details:s})}))}),this.completeLatch.subscribe(()=>{const{clear:e,promise:t}=Object(es.a)(1e4);this.addDestroyHandler(e),t.then(()=>{cs.c.error({error:new ls.a({code:"AD_STOPPED_IS_NOT_CALLED_AFTER_COMPLETE_IN_10_SEC",details:this.getVPAIDLogDetails()})})}).catch(id.a)}),this.completeLatch.subscribe(()=>{const{clear:e,promise:t}=Object(es.a)(25e3);this.addDestroyHandler(e),t.then(()=>{cs.c.error({error:new ls.a({code:"AD_STOPPED_IS_NOT_CALLED_AFTER_COMPLETE_IN_25_SEC",details:this.getVPAIDLogDetails()})})}).catch(id.a)}),this.addDestroyHandler(()=>{this.onAdSkippableStateChange.removeAll()})}play(e){void 0===e&&(e=!0),this.isDestroyed&&cs.c.error({error:new ls.a({code:"PLAY_VPAID_VIEWER_AFTER_DESTROY",details:void 0})});const t=e?"play":"pause";this.playingState.dispatch(t),this.creative?this.resume():this.prepareVpaidCreative().catch(e=>{this.destroy({reason:"error",details:e})})}getCurrentTime(){if(!this.creative)return r_;const e=this.creative.getAdRemainingTime()||Dm;return a(e)?this.getDuration()-e:r_}getAdRemainingTime(){if(this.isDestroyed)return 0;if(!this.creative)return this.mediaAd.getDuration();const e=this.creative.getAdRemainingTime();return!a(e)||e<0?this.isStarted.getValue()?Dm:this.getDuration():e}pause(){this.playingState.dispatch("pause"),this.creative&&(Object(Os.a)("VPAID.pauseAd() called in pause method"),this.creative.pauseAd())}resume(){const{creative:e}=this;return e?this.isCreativeStartRequested.getValue()?(this.playingState.dispatch("play"),Object(Os.a)("VPAID.resumeAd() called in resume method"),void e.resumeAd()):void this.startVpaidCreative(e):(Object(Os.a)("VpaidAdPodViewer dispatch playingState=play without creative"),void this.playingState.dispatch("play"))}skipAd(){this.creative&&this.creative.skipAd()}getAdSkippableState(){return this.creative&&"function"===typeof this.creative.getAdSkippableState?this.creative.getAdSkippableState():Gm}getDuration(){if(this.creative){const e=this.creative.getAdDuration();if(e>0)return e}const e=this.mediaAd.getDuration();return e||0}getAdWidth(){if(this.creative){const{adWidth:e}=this.creative;if("number"===typeof e)return e;if("function"===typeof this.creative.getAdWidth)return this.creative.getAdWidth()}return gm}getAdHeight(){if(this.creative){const{adHeight:e}=this.creative;if("number"===typeof e)return e;if("function"===typeof this.creative.getAdHeight)return this.creative.getAdHeight()}return bm}resizeAd(e,t,i){var r;void 0===i&&(i=Yp.NORMAL),null===(r=this.creative)||void 0===r||r.resizeAd(e,t,i)}getSrc(){return this.getScriptSrc()}setMuted(e){const t=this.adDisplayController.videoNodeController.videoNode.volume,i=t>0?t:n_;this.setVolume(e?0:i)}getVolume(){var e,t;return null!==(e=null===(t=this.creative)||void 0===t?void 0:t.getAdVolume())&&void 0!==e?e:this.adDisplayController.videoNodeController.getVolume()}setVolume(e){if(!this.isDestroyed)if(this.creative){const t=this.getVolume()!==e&&!this.mediaAd.vastAd.isNonLinear&&!m_(this.mediaAd),{videoNode:i}=this.adDisplayController.videoNodeController,r=i.volume,n=i.muted;this.creative.setAdVolume(e);const a=i.volume,o=i.muted;t&&!this.adCreativeWrapper&&r===a&&n===o&&cs.c.error({error:new ls.a({code:"VPAID_CREATIVE_DID_NOT_CHANGE_VIDEO_SLOT_VOLUME",details:this.getVPAIDLogDetails()})})}else this.adDisplayController.videoNodeController.setVolume(e)}startAndPauseVpaidCreative(e){A_(this.getScriptSrc())&&(Object(Os.a)("preload VPAID creative by start and pause"),this.startVpaidCreative(e),cs.c.event({name:"PreloadVPAIDCreativeByStartAndPause",probability:us.a,data:{vpaidSrc:this.getSrc()}}),Object(Os.a)("VPAID.pauseAd() called for start and pause"),e.pauseAd())}async initCreative(){let e,t;const i=Date.now();this.lifeCycleStage.dispatch("load");const{vastAd:r}=this.mediaAd,{isNonLinear:n}=r,a=Ai(r),o=this.createContainerNode({isAdCreative:a,isNonLinear:n});let s;if(a){Object(Os.a)("[VpaidAdPodViewer]: play creative as AdCreative"),s=o;const{creative:i,wrapper:r}=this.wrapAdCreative(s);e=i,this.adCreativeWrapper=r,t=Object(ad.a)(()=>{try{Object(Os.a)("[VpaidAdPodViewer]: call adCreative stopAd method"),e.stopAd()}catch(t){const e=n?"OVERLAY_STOP_AD_ERROR":"LINEAR_AD_CREATIVE_STOP_AD_ERROR";cs.c.error({error:new ls.a(t,{code:e,details:this.getVPAIDLogDetails()})})}})}else if(m_(this.mediaAd)){Object(Os.a)("[VpaidAdPodViewer]: play creative via VASFrame");const i=Td({container:s=o,initTimeout:o_});this.addDestroyHandler(i.abortInit);const r=await i.initPromise;if(this.isDestroyed)return void r.destroy(void 0);if(r.addDestroyHandler(()=>{this.destroy({reason:"error",details:new ls.a({code:"VPAID_AD_POD_VIEWER_FRAME_DESTROYED",details:{adPodId:this.mediaAd.getAdPodId()}})})}),this.addDestroyHandler(()=>{r.destroy(void 0)}),this.isDestroyed)return;if(r.assignVideoTag({videoElement:this.adDisplayController.videoNodeController.videoNode}),await r.loadCreative(this.getScriptSrc()),this.isDestroyed)return;const n=()=>l_.getVpaidAd(r),a=this.getStandardVpaidCreative(n);e=a.creative,t=Object(ad.a)(()=>{Object(Os.a)("[VpaidAdPodViewer]: call VPAID stopAd method"),a.stopAd()}),this.addDestroyHandler(t),r.changeFrameVisibility(!0)}else{Object(Os.a)("[VpaidAdPodViewer]: play creative with Friendly Iframe");const i=Gp.create({parentElement:o,scope:"VPAID_FRIENDLY_IFRAME",provideLogDetails:this.getVPAIDLogDetails}),r=i.iframe;l(r,zs),s=r.contentDocument.body;const n=r.contentWindow;Xn(n)&&e_(),Kn(n)&&$f(n),Object($o.a)(t_,e=>{this.addDestroyHandler(Object(Is.a)({element:s,eventName:e,listener:()=>{this.onAdInteraction.dispatch(void 0)},options:{passive:!0}}))}),this.addDestroyHandler(()=>{i.destroy(void 0)}),i.addDestroyHandler(e=>{e&&this.destroy({reason:"error",details:e})});const a=await this.loadVpaidMediaFile(n);if(this.isDestroyed)return;const d=this.getStandardVpaidCreative(a);e=d.creative,t=d.stopAd}if(this.setCanUseMediaAfterPlaybackForPcodeVpaidCreatives(),this.onBeforeDestroy.addOne(()=>{Object(Os.a)("[VpaidAdPodViewer]: call stopAd in onBeforeDestroy callback"),t()}),cs.c.values({name:"VpaidCreativeLoaded",probability:us.a,data:this.getVPAIDLogDetails(),values:{timeSpent:Date.now()-i},labels:{}}),this.isDestroyed)throw new ls.a({code:"VPAID_WAS_DESTROYED_DURING_LOAD",details:this.getVPAIDLogDetails()});const{adDisplayController:d}=this,{videoNodeController:c,config:u}=d,{clientWidth:h,clientHeight:p}=c.videoNode,A=this.getDesiredBitrate(),m={AdParameters:this.getAdParameters()},{canPlayMuted:v,canPlayUnMuted:f}=d.autoplayAbilitySignal.getValue(),_={slot:s,videoSlot:c.videoNode,videoSlotCanAutoPlay:c.videoNode.muted?v:f,isYandexAdPlayer:!0,yandexAdPlaybackParams:{lang:u.lang,skipDelay:u.skipDelay,controlsSettings:{controlsVisibility:oc},pauseOnClickThrough:!1,description:this.mediaAd.vastAd.description}},b=Zn({creative:e,isYandexCreative:A_(this.getScriptSrc()),getLogDetails:this.getVPAIDLogDetails});this.subscribeCreativeEvents(b,s.ownerDocument.defaultView);const g=Date.now();return await new Promise((i,r)=>{b.subscribe(()=>{Object(Os.a)("VPAID dispatched AdLoaded event"),i(b)},"AdLoaded"),b.subscribe(e=>{Object(Os.a)("VPAID dispatched AdError event"),r(this.parseVpaidError(e,"VPAIDLoadingError"))},"AdError"),this.lifeCycleStage.dispatch("init");try{e.initAd(h,p,Yp.NORMAL,A,m,_)}catch(n){throw Object(Os.a)("[VpaidAdPodViewer]: creative.initAd() error, call stopAd"),t(),new ls.a(n,{code:"INIT_AD_ERROR",details:this.getVPAIDLogDetails()})}}),cs.c.values({name:"VpaidCreativeInitialized",probability:us.a,data:this.getVPAIDLogDetails(),values:{timeSpent:Date.now()-g},labels:{}}),b}wrapAdCreative(e){var t;const{vastAd:i}=this.mediaAd,{isNonLinear:r,mediaFiles:n,durationLimit:a}=i,o=this.getAdParameters(),s=null===(t=i.playbackAdParameters)||void 0===t?void 0:t.clickThroughUrl,{parsed:{videoMediaFiles:d,animationMediaFile:l,adParameters:c},errors:u}=Ot(o);if(ie(u),(null===l||void 0===l?void 0:l.type)===hu.Overlay!==r)throw new ls.a({code:"AD_PARAMETERS_ARE_NOT_FIT_TO_VAST_BY_LINEAR_TYPE",details:this.getVPAIDLogDetails()});if(r&&!function(e){let{url:t}=e;return t===c_}(n[0]))throw new ls.a({code:"CANNOT_PLAY_NON_YANDEX_OVERLAY",details:this.getVPAIDLogDetails()});const{config:h,videoContentSize:p,videoSlotSize:A,slotParameters:m,videoNodeController:v,visibilitySlotParameters:f}=this.adDisplayController,{videoTimeout:_,bufferFullTimeout:b,bufferEmptyLimit:g,packshotParameters:O}=this.adPodViewerPlaybackParams,y=(null===l||void 0===l?void 0:l.type)===hu.Survey;let T,E;if(!r&&!y&&d.length>0){let e=this.mediaAd.getPreloadedVideoFile();const{adConfig:t,adBreak:r}=this.mediaAd,n=this.mediaAd.getAdPodId(),o=i.vast;if(e||(e=ni(d,{container:m.size.getValue(),desiredBitrate:this.getDesiredBitrate(),isVideoADB:Object(Cs.a)(Object(Ps.a)(this.adDisplayController.slotWindow)),bitratePriorityFactor:Kh,allowedToHideVideoSlotAreaPortion:this.adDisplayController.config.allowedToHideVideoSlotAreaPortion},{vast:o,adConfig:t,adBreak:r,adPodId:n,initiator:"VpaidAdPodViewer"}).prioritisedMediaFile),!e)throw new ls.a({code:"NO_APPROPRIATE_VIDEO_SOURCE_FOR_AD_CREATIVE",details:{mediaFiles:d,adPodId:this.mediaAd.getAdPodId()}});T={videoContentSize:p,videoSlotSize:A,videoMediaFile:na({},e,{url:Wh(e.url)}),videoMediaFiles:d,videoTimeout:_,bufferFullTimeout:b,bufferEmptyLimit:g,durationFallback:()=>this.mediaAd.getDuration(),durationLimit:a,getAutoplay:()=>this.adDisplayController.getAutoplay(),onVideoBufferingStateChange:e=>{this.adVideoIsBuffering.dispatch(e)}},this.canUseMediaAfterPlayback=!0}E=l&&"InteractiveElementsAdCreative"===mu[l.url]?"IV":r?"OVERLAY_FRIENDLY_IFRAME":"LINEAR_AD_CREATIVE_FRIENDLY_IFRAME";let S,w=e.ownerDocument.defaultView;if(l){S={animationMediaFile:l,getPreloadedAdCreativeInitFunction:this.mediaAd.getPreloadedAdCreativeInitFunction,adCreativeParameters:c};const t=Gp.createHidden({parentElement:e,scope:E,provideLogDetails:this.getVPAIDLogDetails});w=t.window,this.addDestroyHandler(()=>{t.destroy(void 0)}),t.addDestroyHandler(e=>{e&&this.destroy({reason:"error",details:e})})}const{creative:I,wrapper:P,userInteractionDispatchers:C}=qn({adCreativeWindow:w,slot:e,measurersSlot:this.adDisplayController.measurersSlot,visibilityRatio:f.visibilityRatio,animationParameters:S,videoParameters:T,videoNodeController:v,isNonLinear:r,slotSize:m.size,clickThroughUrl:s,getVPAIDLogDetails:this.getVPAIDLogDetails,packshotParameters:O?na({},O,{onPackshotStart:()=>{this.packshotStartLatch.dispatch(void 0)}}):void 0,lang:h.lang,adCreativeUserInteractionCallbacks:{AdClickThru:e=>{cs.c.event({name:"AdCreativeUserInteractionCallbackClickThruCall",data:{vpaidLogDetails:this.getVPAIDLogDetails(),clickThruParams:e},probability:us.a}),this.userInteractionDispatchers.AdClickThru(e),this.clickThrough(e)}}});return this.userInteractionDispatchers=C,{creative:I,wrapper:P}}setCanUseMediaAfterPlaybackForPcodeVpaidCreatives(){var e;const t=this.mediaAd.vastAd,i=null===(e=t.adParametersObject)||void 0===e?void 0:e.theme,r="video-banner_theme_caucasus"===i,n="video-banner_theme_moroz"===i,a="video-banner_theme_lake"===i;Bu(t)&&(r||n||a)&&(this.canUseMediaAfterPlayback=!0)}async loadVpaidMediaFile(e){const t=A_(this.getScriptSrc())?"YANDEX_VPAID_FRIENDLY_IFRAME":"VPAID_FRIENDLY_IFRAME";this.addDestroyHandler(di(e,(e,i,r)=>{cs.c.error({error:ai({scope:t,errorType:i,error:e,details:na({},this.getVPAIDLogDetails(),{error:e,data:r})})})}));const i=this.mediaAd.getPreloadVpaidWindow();if(i){const{frameElement:e,getVPAIDAd:t}=i;if(null!==e&&void 0!==e)return this.addDestroyHandler(Wp(e,()=>{this.destroy({reason:"error",details:new ls.a({code:"PRELOAD_IFRAME_WAS_UNLOADED",details:{adPodId:this.mediaAd.getAdPodId()}})})})),t;cs.c.event({name:"VpaidAdPodViewer_PreloadFriendlyIframeDestroyed",data:{getVPAIDAdIsAcquired:"function"===typeof t}})}try{const{promise:t,teardown:i}=Jh({src:this.getScriptSrc(),win:e});return this.addDestroyHandler(i),t}catch(r){throw new ls.a(r,{code:"CANNOT_LOAD_VPAID_MEDIA_FILE",details:{adPodId:this.mediaAd.getAdPodId()}})}}getStandardVpaidCreative(e){const t=A_(this.getScriptSrc());if("function"!==typeof e)throw new ls.a({code:t?"YANDEX_NO_GET_VPAID_AD_FUNC":"NO_GET_VPAID_AD_FUNC",details:na({},this.getVPAIDLogDetails(),{typeOfGetVPAIDAd:typeof e})});let i;try{i=e()}catch(a){throw new ls.a(a,{code:"GET_VPAID_AD_ERROR",details:this.getVPAIDLogDetails()})}const r=Object(ad.a)(()=>{Object(Os.a)("[VpaidAdPodViewer]: call stopAd wrap method");try{i.stopAd()}catch(a){cs.c.error({error:new ls.a(a,{code:"STOP_AD_ERROR",details:this.getVPAIDLogDetails()})})}});if(!h_(i))throw new ls.a({code:"INVALID_VPAID_API",details:this.getVPAIDLogDetails()});const n=i.handshakeVersion(s_);if(!u_({versionSupported:s_,versionToCheck:n}))throw Object(Os.a)("[VpaidAdPodViewer]: vpaid version is NOT supported, call stopAd method"),r(),new ls.a({code:"VPAID_VERSION_ERROR",details:na({},this.getVPAIDLogDetails(),{playerSupportedVersion:s_,creativeVersion:n})});return{creative:i,stopAd:r}}getScriptSrc(){return this.getCurrentSource().url}getCurrentSource(){return this.mediaAd.getJSMediaFile()}setUpdatePositionInterval(e){const t=e.setInterval(this.updatePosition,i_);return this.addDestroyHandler(()=>{e.clearInterval(t)}),()=>{e.clearInterval(t)}}subscribeCreativeEvents(e,t){e.subscribe(()=>{var e,t;this.destroy({reason:"complete",details:{canUseMediaAfterPlayback:null!==(e=null===(t=this.completeLatch.getValue())||void 0===t?void 0:t.canUseMediaAfterPlayback)&&void 0!==e&&e}})},"AdStopped"),e.subscribe((e,t,i)=>{cs.c.event({name:"VpaidDispatchedAdClickThru",data:this.getVPAIDLogDetails(),probability:us.a}),this.clickThrough({url:e,id:t,playerHandles:Boolean(i)})},"AdClickThru"),e.subscribe(()=>{this.updateAdSkippableState()},"AdSkippableStateChange");const i=()=>{const t=e.getAdDuration();t>0&&this.mediaAd.actualizeDuration(t)};let r;e.subscribe(()=>{Object(Os.a)("VPAID dispatched AdDurationChange event"),i()},"AdDurationChange"),e.subscribe(()=>{this.creativeAdStartedCallback(),i(),Object(Cs.a)(r)&&r(),r=this.setUpdatePositionInterval(t)},"AdStarted"),e.subscribe(()=>{Object(Os.a)("VPAID dispatched AdPlaying event"),this.isAdPlayingCalled=!0,this.updatePosition(),Object(Cs.a)(r)&&r(),r=this.setUpdatePositionInterval(t),this.onResume.dispatch(void 0)},"AdPlaying"),e.subscribe(()=>{Object(Os.a)("VPAID dispatched AdPaused event"),this.updatePosition(),Object(Cs.a)(r)&&r(),this.onPause.dispatch(void 0)},"AdPaused"),e.subscribe(()=>{this.trackStartEvent()},"AdVideoStart"),e.subscribe(()=>{this.onImpression.dispatch(void 0)},"AdImpression"),e.subscribe(()=>{this.onFirstQuartile.dispatch(void 0)},"AdVideoFirstQuartile"),e.subscribe(()=>{this.onMidpoint.dispatch(void 0)},"AdVideoMidpoint"),e.subscribe(()=>{this.onThirdQuartile.dispatch(void 0)},"AdVideoThirdQuartile");const n=Object(ad.a)(()=>this.onBeforeComplete.dispatch(void 0));e.subscribe(()=>{n()},"AdVideoBeforeComplete"),e.subscribe(()=>{this.onVolumeChange.dispatch(void 0)},"AdVolumeChange"),e.subscribe(()=>{this.destroy({reason:"skip",details:void 0})},"AdSkipped");const a=Object(ad.a)(()=>{this.completeLatch.dispatch({canUseMediaAfterPlayback:this.canUseMediaAfterPlayback})});e.subscribe(()=>{Object(Os.a)("VPAID dispatched AdVideoComplete event"),a()},"AdVideoComplete"),e.subscribe(()=>{this.destroy({reason:"close",details:void 0})},"AdUserClose")}parseVpaidError(e,t){const i=this.getVPAIDLogDetails();return"string"===typeof e?new ls.a({code:t,message:"String error from vpaid ["+e+"]",details:i}):Object(_s.a)(e)?e:e?new ls.a(e,{code:t,details:i}):new ls.a({code:t,message:"unknown error from VPAID creative",details:i})}updateAdSkippableState(){const e=this.getAdSkippableState();this.adSkippableState!==e&&(this.adSkippableState=e,this.onAdSkippableStateChange.dispatch(e))}}const f_=e=>{const{adParametersObject:t}=e;if(!Object(is.a)(t))return;if(!Object(is.a)(t.subtitles))return;const{vtt:i}=t.subtitles;return Object(rd.a)(i)?i:void 0},__=500,b_=!1,g_=1e3,O_="https://yandex.ru/socialads-transparency-report",y_=(e,t)=>{const i=li(()=>{Ri(e)||(i(),t())});return i},T_=function(e){return"value"in e},E_=function(e){return"value"in e},S_={linear:e=>e,easeIn:e=>e*e,easeOut:e=>e*(2-e),easeInOut:e=>e<.5?2*e*e:(4-2*e)*e-1,easeOutBack:la(.6,.7,.61,1.09,.01)},w_="linear",I_={number:(e,t,i)=>{return t+(i-t)*e},boolean:(e,t)=>t},P_=Tn(e=>MA(e,Yl));P_.Provider.displayName="I18NContext";const C_=e=>{let{adDisplayController:t}=e;const{lang:i}=t.config;return e=>MA(e,i)},D_=()=>Nn(P_),N_="TRUE"===$l("ENABLE_ACTION_PANEL_ON_DESKTOP_MULTIROLL_BY_DEFAULT")||void 0,R_=qt("ENABLE_ACTION_PANEL_WITH_ARROW",["MULTIROLL","DESKTOP","EVERYWHERE","OUTSTREAM"]),k_=450,V_=Tn({actionButtonParameters:void 0,progress:0,clickThrough:nd.a,shouldUseActionPanel:!1});V_.Provider.displayName="SkinActionButtonContext";const L_=e=>{let{actionButtonParameters:t,actionButtonAnimationProgress:i,clickThrough:r,slotParameters:n}=e;const{width:a}=Un(n.size),o=Un(t),{title:s,body:d}=o||{},l=function(e,t){if(t)return!1;const i=e>=k_,r="Multiroll"===ll.c;let n;switch(R_){case"MULTIROLL":n=r;break;case"DESKTOP":n=i;break;case"EVERYWHERE":n=!0;break;case"OUTSTREAM":n=!r;break;case void 0:default:n=!!N_&&(i&&r)}return n}(a,Object(rd.a)(s)||Object(rd.a)(d));return{actionButtonParameters:o,progress:Un(i),clickThrough:Dn(e=>{r(e,"SkinActionButton")},[r]),shouldUseActionPanel:l}},B_=()=>Nn(V_),M_=e=>{const{width:t="1em",height:i="1em",style:r={}}=e;return nn("svg",{width:t,height:i,style:ua({margin:"0 -0.1em",fontSize:"0.6em",width:"0.87em",height:"1em"},r),viewBox:"14 14 38 38"},nn("g",{"fill-rule":"nonzero",fill:"currentcolor"},nn("path",{d:"M16.002 31.832c-.003.051-.003.102 0 .133a1.51 1.51 0 0 0 .453 1.096 1.55 1.55 0 0 0 1.104.444h24.216l-9.081 8.833a1.51 1.51 0 0 0-.478 1.497 1.53 1.53 0 0 0 1.113 1.117 1.55 1.55 0 0 0 1.509-.432l11.779-11.45a1.51 1.51 0 0 0 0-2.171L34.841 19.452c-.441-.44-1.108-.573-1.687-.336a1.52 1.52 0 0 0-.951 1.423 1.51 1.51 0 0 0 .479 1.081l9.093 8.844H17.561a1.54 1.54 0 0 0-1.559 1.369z"})))};var j_=i(151),U_=i.n(j_);const x_=e=>{let{children:t}=e;return Hn(U_.a),nn("div",{className:j_.locals.ActionButton},nn("div",{className:j_.locals.ActionButton__content},t,nn(M_,{style:{width:"2em",height:"2em",padding:"0 0.2em",marginLeft:t?"0.3em":"0px"}})))};var F_=i(92),H_=i.n(F_);const z_=e=>{let{title:t,greenUrl:i}=e;Hn(H_.a);const r=Pn(null),n=Pn(null),[a,o]=Sn(!1);In(()=>{o(r.current.clientHeight>n.current.clientHeight)},[t]);const s=nn("div",{ref:n,className:F_.locals.InfoBlock__titleSpy},t);return nn("div",{className:_f(F_.locals.InfoBlock,a&&F_.locals.InfoBlock_multiline)},s,nn("div",{ref:r,className:F_.locals.InfoBlock__title},t),i?nn("div",{className:F_.locals.InfoBlock__greenUrl},i):null)};var W_=i(83),G_=i.n(W_);const Y_=360,q_=1080,X_=function(e,t){const i=t.y-e.y,r=t.x-e.x;return t=>e.y+(t-e.x)*i/r}({x:Y_,y:.14},{x:q_,y:.07}),K_=700,Q_=da([{durationPortion:200/K_,values:[-42,10]}],K_),J_=da([{durationPortion:500/K_,value:0},{durationPortion:200/K_,values:[0,1]}],K_),Z_=da([{durationPortion:500/K_,value:0},{durationPortion:200/K_,values:[0,1]}],K_),$_=e=>{Hn(G_.a);const{progress:t}=B_(),i=Of(),r=D_(),n=r("THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE"),a=r("THEME_EMPTY_ACTION_BUTTON_LABEL"),{title:o,greenUrl:s,onButtonClick:d,buttonLabel:l=a,disableAnimation:c=!1,faviconSrc:u}=e,h=Dt(t*K_,0,K_),p=c?1:ca({position:h,unit:"number",steps:J_}),A=c?10:ca({position:h,unit:"number",steps:Q_}),m=c?1:ca({position:h,unit:"number",steps:Z_}),v=function(e){let{height:t,width:i}=e;const r=Math.min(t,i),n=Dt(r,Y_,q_),a=n*X_(n);let o="";return r<Y_&&(o="scale("+(1-(Y_-r)/Y_)+")"),{height:a,width:280*a/48,fontSize:a/4,transform:o,"transform-origin":"bottom left"}}(i);return nn("div",{className:W_.locals.YoutubeLikeActionButton,style:ha({},v)},nn("div",{className:W_.locals.YoutubeLikeActionButton__content},nn("div",{className:W_.locals.YoutubeLikeActionButton__mask,style:{opacity:p,maxWidth:v.width*m},onClick:d},nn("div",{className:_f(W_.locals.YoutubeLikeActionButton__wrapper,!u&&W_.locals.YoutubeLikeActionButton__wrapper_wide)},nn(z_,{greenUrl:s,title:Object(rd.a)(o)?o:n}),nn(x_,null,l))),u?nn("div",{className:W_.locals.YoutubeLikeActionButton__favicon,style:{left:A+"px"}},u?nn("img",{src:u,alt:"favicon"}):void 0):null))},eb=e=>"AbuseVariantChoose_"+e,tb=-1,ib=-1===oA&&!(lA&&dA>=15);var rb=i(135);const nb=new RegExp(["box-flex","box-flex-group","column-count","fill-opacity","flex","flex-grow","flex-positive","flex-shrink","flex-negative","font-weight","line-height","opacity","order","z-index","zoom"].join("|"),"i"),ab=(e,t,i,r)=>{Object(is.a)(t)?(r=Boolean(i),Object(Nd.a)(t,(t,i)=>{Aa(e,i,t,r)})):Aa(e,t,i,r)},ob=rr(window),sb=ob.requestAnimationFrame,db=ob.cancelAnimationFrame,lb=.8,cb=1.6,ub=1.2,hb=50,pb=5,Ab=2,mb=100,vb=1.8,fb=3,_b=.3,bb=.1;class gb extends qo.a{constructor(e){var t,i;super(),this.params=e,ma(this,"blurWrapper",void 0),ma(this,"canvas",void 0),ma(this,"context",void 0),ma(this,"isPlaying",new gs.a(!1)),ma(this,"framesInterval",mb),ma(this,"lastTime",void 0),ma(this,"slowFramesCounter",0),ma(this,"slowDevice",!1),ma(this,"repaintTimeoutId",0),ma(this,"rafId",0),ma(this,"repaint",()=>{const{duration:e,currentTime:t}=this.params.videoNode,i=e-t<=_b;if(!this.isPlaying.getValue()&&i)return this.clearRepaintTimeout(),void this.setVisibility(!1);const r=Cr(this.params.videoNode);if(!r)return void this.setRepaintTimeout();const{clientWidth:n,clientHeight:a}=this.params.container,o=n/a,s=r.width/r.height,d=s-o;this.prepareBlurCanvas(s,d),this.setVisibility(!0);const{context:l}=this,{videoNode:c}=this.params,{width:u,height:h}=this.canvas;if(this.slowDevice){const e=Ab;l.drawImage(c,0,0,r.width,r.height,0,0,e,e),l.drawImage(this.canvas,0,0,e,e,0,0,u,h)}else l.drawImage(c,0,0,r.width,r.height,0,0,u,h);l.globalAlpha=bb,this.handleSlowDevices(),this.setRepaintTimeout()}),this.blurWrapper=document.createElement("div"),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.blurWrapper.appendChild(this.canvas),t=this.params.container,i=this.blurWrapper,t.firstChild?t.insertBefore(i,t.firstChild):t.appendChild(i),this.appendStyles(),this.isPlaying.add(e=>{e?(this.repaint(),this.canvas.style.display=""):(this.clearRepaintTimeout(),this.setVisibility(!1))}),this.addDestroyHandler(()=>{this.setPlaying(!1),Object(Es.a)(this.blurWrapper)})}setPlaying(e){this.isPlaying.dispatch(e)}appendBlurScale(e,t){const i=[cb,Math.max(e,cb)];t&&i.reverse(),this.slowDevice||ab(this.canvas,{transform:"translate(-50%,-50%) scaleX("+i[0]+") scaleY("+i[1]+")"})}setCanvasOpacity(e){ab(this.canvas,{opacity:e})}simplifyBlur(){const e=2*pb,{clientWidth:t,clientHeight:i}=this.params.container;this.setCanvasSize(t+e,i+e);const r="-"+pb+"px";ab(this.canvas,{left:r,top:r,transform:"",filter:"blur("+pb+"px)",width:100*(1+e/t)+"%",height:100*(1+e/i)+"%"})}appendStyles(){const e={position:"absolute",margin:0,padding:0,top:0,bottom:0,left:0,right:0,overflow:"hidden"},t=Ci(this.params.videoNode).position;-1===Object(rb.a)(["fixed","absolute"],t)&&(e["z-index"]="-1"),ab(this.blurWrapper,e),ab(this.canvas,{position:"absolute",margin:0,padding:0,left:"50%",top:"50%",transform:"translate(-50%,-50%) scaleX("+ub+") scaleY("+ub+")",filter:"blur("+hb+"px)",opacity:0,transition:"opacity 1s"})}setRepaintTimeout(){this.clearRepaintTimeout(),this.repaintTimeoutId=window.setTimeout(()=>this.rafId=sb(this.repaint),this.framesInterval)}clearRepaintTimeout(){clearTimeout(this.repaintTimeoutId),db(this.rafId)}handleSlowDevices(){const e=Date.now();if(this.lastTime){const t=e-this.lastTime;t>this.framesInterval*vb?(this.slowFramesCounter++,this.slowFramesCounter>=fb&&(this.framesInterval+=t,this.slowFramesCounter=0,this.slowDevice||(this.slowDevice=!0,this.simplifyBlur()))):this.slowFramesCounter=0}this.lastTime=e}prepareBlurCanvas(e,t){const{container:i,videoNode:r}=this.params,n=t<0,a=n?r.offsetHeight*e:r.offsetWidth/e,o=n?a:r.offsetWidth,s=n?r.offsetHeight:a,d=(n?i.offsetWidth:i.offsetHeight)/a*lb;this.setCanvasSize(o,s),this.appendBlurScale(d*lb,n)}setCanvasSize(e,t){const{canvas:i}=this;i.width=e,i.height=t}setVisibility(e){this.setCanvasOpacity(e?1:0)}}const Ob=.1;var yb;!function(e){e.inline="inline",e.pictureInPicture="picture-in-picture"}(yb||(yb={}));const Tb=(e,t)=>{let i=0;return()=>{const r=Date.now();r-i>=t&&(e(),i=r)}},Eb=2,Sb=["pagehide","unload"],wb=/([0-9]{1,2})?:?([0-9]{2}):([0-9]{2}\.[0-9]{2,3})/;class Ib{constructor(e){var t,i,r;r=void 0,(i="cues")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r;const{cues:n}=_a(e);this.cues=n.sort((e,t)=>e.start-t.start)}findCuesByCurrentTime(e){return Object(Xo.a)(this.cues,t=>this.isCueApplicable(t,e))}isCueApplicable(e,t){const{start:i,end:r}=e;return t>=i&&t<=r}}const Pb=e=>{const t=ki(e,{crossorigin:null,loop:null,preload:"auto",autoplay:null}),i=Pi(e,{objectFit:""});return Object(ad.a)(()=>{t(),i()})},Cb=15,Db=1e3,Nb="Fullscreen is not supported";class Rb{constructor(e,t){void 0===e&&(e=window),Ea(this,"handlers",[]),Ea(this,"names",void 0),Ea(this,"onDestroy",new Ss.a),Ea(this,"win",void 0),Ea(this,"video",void 0),Ea(this,"fullscreenElement",null),Ea(this,"setFullScreenElementFromAPI",()=>{const e=Pr(this.win,this.video);this.setFullscreenElement(e)}),this.win=e,this.video=t,t&&lA&&(this.onDestroy.addOne(Object(Is.a)({element:t,eventName:"webkitbeginfullscreen",listener:()=>{this.setFullscreenElement(t)}})),this.onDestroy.addOne(Object(Is.a)({element:t,eventName:"webkitendfullscreen",listener:()=>{this.setFullscreenElement(null)}}))),this.names=Ir(e,t),this.names&&(this.onDestroy.addOne(Object(Is.a)({element:this.win.document,eventName:this.names.events.change,listener:this.setFullScreenElementFromAPI})),this.setFullScreenElementFromAPI())}requestFullscreenForElement(e,t){if(void 0===this.names)throw new this.win.Error(Nb);{const{request:i}=this.names;if(!(i in e))throw new this.win.Error(Nb);e[i](t)}}isFullscreen(){return null!==this.fullscreenElement}exit(){if(void 0===this.names)throw new Error(Nb);this.video&&this.fullscreenElement===this.video?this.video[this.names.exit]():this.win.document[this.names.exit]()}getFullscreenElement(){return this.fullscreenElement}addHandler(e){if("function"!==typeof e)throw new this.win.Error("Fullscreen handler must be a function");this.handlers.push(e)}removeHandler(e){this.handlers=Object(Xo.a)(this.handlers,t=>t!==e)}destroy(){this.handlers.length=0,this.onDestroy.dispatch(void 0)}setFullscreenElement(e){this.fullscreenElement=e,Object($o.a)(this.handlers,t=>t(e))}}class kb{constructor(e){Sa(this,"violatedSources",[]),Sa(this,"unsubscribeEvent",void 0),Sa(this,"securityPolicyViolationCallback",e=>{let{blockedURI:t,violatedDirective:i,originalPolicy:r}=e;if("media-src"!==i)return;const n={blockedURI:t,violatedDirective:i,originalPolicy:r};this.violatedSources.push(n)}),this.unsubscribeEvent=Object(Is.a)({element:e,eventName:"securitypolicyviolation",listener:this.securityPolicyViolationCallback})}getViolatedSourceBySrc(e){return Object(Yh.a)(this.violatedSources,t=>{let{blockedURI:i}=t;return 0===e.indexOf(i)})}destroy(){this.violatedSources=[],this.unsubscribeEvent()}}const Vb=.001,Lb=e=>{e.removeAttribute("src"),e.load()},Bb=function(e){return void 0===e&&(e=window),/firefox/.test(e.navigator.userAgent.toLowerCase())}(window);class Mb extends qo.a{constructor(e){var t,i,r;super(),this.params=e,r=void 0,(i="mediaSource")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r,this.mediaSource=new e.MediaSourceConstructor,Object(Is.a)({element:this.mediaSource,eventName:"error",listener:this.ignoreAfterDestroy(e=>{Object(Os.a)("MSEController: got an error inside of mediaSource");const t=e.error;this.destroy(new ls.a(t,{code:"MSE_CONTROLLER_MEDIA_SOURCE_ERROR",details:{}}))})}),Object(Os.a)("MSEController: attach BLOB URL"),this.params.videoSlot.src=URL.createObjectURL(this.mediaSource),this.addDestroyHandler(()=>{Object(Os.a)("MSEController: detach BLOB URL"),Lb(this.params.videoSlot)}),this.init().then(()=>{Object(Os.a)("MSEController: MSE successfully attached"),cs.c.event({name:"MSEControllerAttachSuccess",data:{},probability:us.a})}).catch(e=>{Object(Os.a)("MSEController: init error"),"AbortError"===e.name?cs.c.event({name:"MSEControllerFetchWasAborted",data:{message:e.message},probability:us.a}):cs.c.error({error:new ls.a(e,{code:"MSE_CONTROLLER_UNHANDLED_INIT_ERROR"})})})}async init(){const[e,t]=await Promise.all([this.getVideoReader(),this.getSourceBuffer()]);await this.doReadCycle(e,t),await this.finalize(t)}async getVideoReader(){const e=new AbortController;this.addDestroyHandler(()=>{if(e.signal.aborted)return Object(Os.a)("MSEController#reader: abort controller was already aborted"),void cs.c.error({error:new ls.a({code:"MSE_CONTROLLER_FETCH_ALREADY_ABORTED",details:{}})});Object(Os.a)("MSEController#reader: abort controller"),e.abort()});const t=await fetch(this.params.mediaFile.url,{signal:e.signal});if(!t.body)throw new ls.a({code:"MSE_CONTROLLER_FETCH_EMPTY_RESPONSE_BODY",details:{}});const i=t.body.getReader();return this.addDestroyHandler(()=>{Object(Os.a)("MSEController#reader: cancel reader"),$n(i.cancel())}),Object(Os.a)("MSEController#reader: got reader"),i}async getSourceBuffer(){"open"!==this.mediaSource.readyState&&await new Promise(e=>Object(Is.a)({element:this.mediaSource,eventName:"sourceopen",listener:e}));const{mediaFile:e}=this.params;let t;Object(rd.a)(e.type)&&Object(rd.a)(e.codec)?t=Ip(e):(cs.c.event({name:"MSEControllerSourceBufferUsesDefaultWebmContentType",data:{mediaFile:e},probability:us.a}),t=fp);const i=this.mediaSource.addSourceBuffer(t);return Object(Is.a)({element:i,eventName:"error",listener:this.ignoreAfterDestroy(e=>{Object(Os.a)("MSEController: got an error inside of sourceBuffer");const t=e.error;this.destroy(new ls.a(t,{code:"MSE_CONTROLLER_SOURCE_BUFFER_ERROR",details:{}}))})}),this.addDestroyHandler(()=>{"open"===this.mediaSource.readyState&&(Object(Os.a)("MSEController#abort source buffer"),i.abort())}),Object(Os.a)("MSEController: got source buffer"),i}async doReadCycle(e,t){Object(Os.a)("MSEController: start read cycle, MSE_CONTROLLER_USES_INTERMEDIATE_BUFFER="+Bb);let i=await e.read(),r=new Uint8Array;do{for(;t.updating;)await new Promise(e=>Object(Is.a)({element:t,eventName:"updateend",listener:e}));if(!i.value)break;if(this.isDestroyed)return;if(Bb){const e=new Uint8Array(r.length+i.value.length);e.set(r),e.set(i.value,r.length),r=e}else t.appendBuffer(i.value);for(;t.updating;)await new Promise(e=>Object(Is.a)({element:t,eventName:"updateend",listener:e}));i=await e.read()}while(i.value);for(Bb&&(Object(Os.a)("MSEController: buffer read complete, length=["+r.length+"]"),t.appendBuffer(r));t.updating;)await new Promise(e=>Object(Is.a)({element:t,eventName:"updateend",listener:e}));Object(Os.a)("MSEController: read cycle complete")}async finalize(e){for(Object(Os.a)("MSEController#close streams");e.updating;)await new Promise(t=>Object(Is.a)({element:e,eventName:"updateend",listener:t}));"open"===this.mediaSource.readyState?(Object(Os.a)("MSEController#finalize: close stream"),this.mediaSource.endOfStream()):Object(Os.a)("MSEController#finalize: media source is closed")}}const jb=e=>{if(!Mp||!Np)throw new ls.a({code:"MSE_CONTROLLER_ENVIRONMENT_IS_NOT_SUPPORTED",details:{}});return new Mb(Ia({},e,{MediaSourceConstructor:Np}))},Ub=e=>"canPlayMseForAbd"===Zt(e),xb=50,Fb=2;class Hb{constructor(e,t){this.video=e,this.onSeekRestore=t,Pa(this,"unsubscribeVideoTimeupdate",void 0),Pa(this,"lastLegalCurrentTime",void 0),Pa(this,"lastTimestamp",void 0),Pa(this,"seekAllowed",!0),Pa(this,"onVideoTimeUpdate",()=>{const{currentTime:e}=this.video;this.isSeekingIllegal()?(this.video.currentTime=this.lastLegalCurrentTime,this.onSeekRestore()):(this.lastLegalCurrentTime=e,this.lastTimestamp=Date.now())}),this.lastLegalCurrentTime=e.currentTime,this.lastTimestamp=Date.now(),this.unsubscribeVideoTimeupdate=Object(Is.a)({element:e,eventName:"timeupdate",listener:this.onVideoTimeUpdate})}setSeekAllowed(e){this.seekAllowed=e}isSeekingIllegal(){return!this.seekAllowed&&this.isSeekingVideo()}destroy(){this.seekAllowed=!0,this.unsubscribeVideoTimeupdate()}isSeekingVideo(){if(!this.lastLegalCurrentTime)return!1;const e=Date.now()-this.lastTimestamp;if(e<xb)return!1;const{currentTime:t,playbackRate:i}=this.video;return(t-this.lastLegalCurrentTime)/(e/1e3)>(i||1)*Fb}}const zb=1,Wb=Math.ceil(2/(250/fh)),Gb=1e3,Yb=.25,qb=1e3,Xb=1e3,Kb=.1,Qb=gp.a;class Jb extends qo.a{constructor(e,t){super(),this.videoNode=e,this.window=t,Da(this,"onClick",new Ss.a),Da(this,"currentPosition",new gs.a({currentTime:0,duration:0},vr)),Da(this,"playingState",new gs.a(this.videoNode.paused?LA.PAUSE:LA.PLAY)),Da(this,"onError",new Ss.a),Da(this,"onEnd",new Ss.a),Da(this,"onVolumeChange",new Ss.a),Da(this,"onPlay",new Ss.a),Da(this,"onPlayAfterPause",new Ss.a),Da(this,"onBufferingAfterPlay",new Ss.a),Da(this,"isBuffering",new gs.a(!1)),Da(this,"onPlaying",new Ss.a),Da(this,"fullscreenApi",void 0),Da(this,"onSeekRestore",new Ss.a),Da(this,"onCanPlay",new Ss.a),Da(this,"pauseRequest",new gs.a(-1)),Da(this,"seekController",void 0),Da(this,"cspErrorHandler",void 0),Da(this,"activeMSEController",void 0),Da(this,"win",void 0),this.seekController=new Hb(e,()=>this.onSeekRestore.dispatch(void 0)),this.win=dr(e)?e.ownerDocument.defaultView:this.window,this.fullscreenApi=new Rb(this.win,e),this.cspErrorHandler=new kb(this.win);let i=this.playingState.getValue();this.playingState.add(e=>{const{currentTime:t,duration:r,paused:n,ended:a}=this.videoNode;switch(Object(Os.a)("VideoNodeController.playingStateChange=["+JSON.stringify({previousPlayingState:i,nextPlayingState:e,currentTime:t,duration:r,paused:n,ended:a})+"]"),e){case LA.PLAY:"pause"===i&&this.onPlayAfterPause.dispatch(void 0),this.onPlay.dispatch(void 0);break;case LA.END:this.onEnd.dispatch(void 0);break;case LA.BUFFERING:"play"===i&&this.onBufferingAfterPlay.dispatch(void 0)}this.isBuffering.dispatch(e===LA.BUFFERING),i=e});const r={error:()=>{const{src:e}=this.videoNode,t=()=>{const t=this.cspErrorHandler.getViolatedSourceBySrc(e);return t?new ls.a({code:"MEDIA_SRC_VIOLATES_CSP_POLICY",details:{violatedSource:t}}):void 0},i=()=>{const e=t();e&&cs.c.error({error:e})};let r=t();if(!r){r=this.getVideoNodeError();const{promise:e,clear:t}=Object(es.a)(qb);this.addDestroyHandler(()=>{t(),i()}),e.then(i).catch(id.a)}this.onError.dispatch(r)},play:()=>{this.playingState.dispatch(LA.PLAY)},playing:()=>{this.currentPosition.dispatch(this.getCurrentPosition()),this.onPlaying.dispatch(void 0),this.playingState.dispatch(LA.PLAY)}};this.subscribeClick(),this.subscribeUpdatePositionInterval(),this.subscribePause(),this.subscribeEnded(),this.subscribeBuffering(),this.subscribeVolumeChange();for(const n in r)r.hasOwnProperty(n)&&e.addEventListener(n,r[n]);this.addDestroyHandler(()=>{for(const t in r)r.hasOwnProperty(t)&&e.removeEventListener(t,r[t]);this.fullscreenApi.destroy(),this.seekController.destroy(),this.cspErrorHandler.destroy(),this.onSeekRestore.removeAll(),this.onCanPlay.removeAll()})}play(){Object(Os.a)("VideoNodeController.play");const e=this.videoNode.play();ed(e)&&e.catch(e=>{this.shouldIgnorePlayRejection(e)||cs.c.error({error:new ls.a(e,{code:"VIDEO_PLAY_REJECTED",details:{errorCode:e.code,errorName:e.name,errorMessage:e.message}})})})}pause(){Object(Os.a)("VideoNodeController.pause"),this.pauseRequest.dispatch(this.win.Date.now()),this.currentPosition.dispatch(this.getCurrentPosition()),this.videoNode.pause()}setSrc(e){const{url:t}=e,{videoNode:i}=this;this.activeMSEController&&(this.activeMSEController.destroy(void 0),this.activeMSEController=void 0);const r=Ub(e);Object(Os.a)("VideoNodeController.setSrc playWithMSE=["+r+"] url=["+t+"]"),Ui(i,()=>{if(!r)return i.src=t,void i.load();const n=jb({mediaFile:e,videoSlot:i});this.activeMSEController=n,n.addDestroyHandler(this.ignoreAfterDestroy(e=>{this.activeMSEController=void 0,e&&this.onError.dispatch(e)})),this.addDestroyHandler(()=>{n.destroy(void 0)})})}getWidth(){return this.videoNode.clientWidth}getHeight(){return this.videoNode.clientHeight}getCurrentPosition(){return wa(this.videoNode)}setCurrentTime(e){this.videoNode.currentTime=e}setVisibleControls(e){this.videoNode.controls=e}isFullscreen(){return Pr(this.win,this.videoNode)===this.videoNode}getPaused(){return this.videoNode.paused}getMuted(){return 0===this.getVolume()}setMuted(e){!function(e,t){Ui(e,()=>{e.muted=t;const i=e.volume;if(!t&&0===i){const t=i>0?i:n_;e.volume=t}})}(this.videoNode,e)}getVolume(){return Ca(this.videoNode)}setVolume(e){!function(e,t){Ui(e,()=>{e.volume=t,e.muted=0===t})}(this.videoNode,e)}setSeekAllowed(e){this.seekController.setSeekAllowed(e)}getVideoNodeError(){const{videoNode:e}=this,{src:t,currentSrc:i,currentTime:r,duration:n,error:o,networkState:s,readyState:d}=e,l=o&&o.code,c={code:l,message:o&&o.message||"",src:t,currentSrc:i,currentTime:r,duration:n,networkState:s,readyState:d,selectedMediaFile:void 0,mediaFiles:void 0};if(!o||"undefined"===typeof MediaError)return new ls.a({code:"VIDEO_ERROR",details:c});switch(l){case MediaError.MEDIA_ERR_ABORTED:return new ls.a({code:"MEDIA_ERR_ABORTED",details:c});case MediaError.MEDIA_ERR_NETWORK:return new ls.a({code:"MEDIA_ERR_NETWORK",details:c});case MediaError.MEDIA_ERR_DECODE:return new ls.a({code:r>0?"MEDIA_ERR_DECODE_DURING_PLAYBACK":"MEDIA_ERR_DECODE_ON_START",details:c});case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:return a(s)&&a(d)&&d===e.HAVE_NOTHING&&s===e.NETWORK_NO_SOURCE?new ls.a({code:"MEDIA_ERR_NETWORK_FIRST_CHUNK_FAIL",details:c}):new ls.a({code:"MEDIA_ERR_SRC_NOT_SUPPORTED",details:c});default:return new ls.a({code:"MEDIA_ERROR_UNRECOGNIZED",details:c})}}subscribeClick(){const e=()=>{this.onClick.dispatch(void 0)},t=dA>=11?Ta(this.videoNode,e):Object(Is.a)({element:this.videoNode,eventName:"click",listener:e});this.addDestroyHandler(t)}subscribeUpdatePositionInterval(){let e;const{videoNode:t}=this,i=()=>{if(this.seekController.isSeekingIllegal())return;this.currentPosition.dispatch(this.getCurrentPosition());const{currentTime:e,duration:t}=this.getCurrentPosition();Object(Os.a)("[VideoNodeController]: updated position [currentTime = ["+e+"], duration = ["+t+"]]")},r=Object(Is.a)({element:t,eventName:"playing",listener:()=>{this.win.clearInterval(e),e=this.win.setInterval(i,i_)},options:{passive:!0}}),n=Object(Is.a)({element:t,eventName:"pause",listener:()=>{this.win.clearInterval(e)},options:{passive:!0}}),a=Object(Is.a)({element:t,eventName:"ended",listener:()=>{this.win.clearInterval(e)},options:{passive:!0}}),o=Object(Is.a)({element:t,eventName:"canplay",listener:()=>{this.onCanPlay.dispatch(void 0)}});this.addDestroyHandler(r),this.addDestroyHandler(n),this.addDestroyHandler(a),this.addDestroyHandler(o),this.addDestroyHandler(()=>{this.win.clearInterval(e)})}subscribePause(){const{videoNode:e}=this,t=Object(Is.a)({element:e,eventName:"pause",listener:()=>{const{currentTime:e,duration:t}=this.getCurrentPosition();e>=t||this.playingState.dispatch(LA.PAUSE)},options:{passive:!0}}),i=li(()=>{const{paused:t,ended:i}=e;if(this.playingState.getValue()===LA.PLAY&&t&&!i){const{currentTime:t,duration:i}=e;Object(Os.a)("DetectVideoPauseByPausedProperty currentTime=["+t+"] duration=["+i+"]"),cs.c.event({name:"DetectVideoPauseByPausedProperty",data:{currentTime:t,duration:i}}),this.playingState.dispatch(LA.PAUSE)}});this.addDestroyHandler(t),this.addDestroyHandler(i)}subscribeEnded(){const e=Object(Is.a)({element:this.videoNode,eventName:"ended",listener:()=>{if(this.seekController.isSeekingIllegal())return;const{currentTime:e,duration:t}=this.getCurrentPosition();e+Yb>=t?this.playingState.dispatch(LA.END):Object(Os.a)("video ended ignored with currentTime=["+e+"] duration=["+t+"]")},options:{passive:!0}});let t=0,i=NaN;const r=li(()=>{const{currentTime:e,duration:r}=this.getCurrentPosition(),{paused:n}=this.videoNode,a=this.playingState.getValue();if(r>0&&e>=r)return void(a!==LA.END&&(cs.c.event({name:"DetectVideoEndByCurrentTime",data:void 0}),this.playingState.dispatch(LA.END)));const o=!n&&r>0&&e===i&&r-e<zb&&this.playingState.getValue()===LA.PLAY;i=e,o?t>=Wb?(t=0,a!==LA.END&&(cs.c.event({name:"DetectVideoEndByStalledOffset",data:void 0}),this.playingState.dispatch(LA.END))):t++:t=0});this.addDestroyHandler(e),this.addDestroyHandler(r)}subscribeBuffering(){let e=nd.a;const t=Em(this.videoNode,t=>{const i=t?LA.BUFFERING:this.videoNode.paused?LA.PAUSE:LA.PLAY;if(e(),this.playingState.dispatch(i),t&&Qb){const{clear:t,promise:i}=Object(es.a)(Xb);e=t,this.addDestroyHandler(t),i.then(()=>{if("buffering"!==this.playingState.getValue())return;const{currentTime:e,duration:t}=this.getCurrentPosition(),i=e+Kb;this.setCurrentTime(i);const{currentSrc:r,src:n}=this.videoNode;cs.c.event({name:"RecoverSafariPlayingHangup",data:{currentSrc:r,src:n,currentTime:e,duration:t}})}).catch(id.a)}});this.addDestroyHandler(t)}subscribeVolumeChange(){this.addDestroyHandler(Object(Is.a)({element:this.videoNode,eventName:"volumechange",listener:()=>{this.onVolumeChange.dispatch(void 0)}}))}shouldIgnorePlayRejection(e){if(this.isDestroyed)return!0;if(20!==e.code&&"AbortError"!==e.name)return!1;if(this.isDestroyed)return!0;return Date.now()-this.pauseRequest.getValue()<=Gb}}const Zb=e=>{let{valueSignal:t,time:i,callback:r,win:n}=e,a=0;const o=()=>n.clearTimeout(a),s=t.add(e=>{e?a=n.setTimeout(()=>{r(),s()},i):o()});return()=>{o(),s()}},$b=e=>{var t;const{adParametersObject:i}=e;if(!Object(is.a)(i))return;const r=null!==(t=i.adParameters)&&void 0!==t?t:i;return{parsedParameters:rm(r),adParametersObject:i}},eg=["left-bottom","right-bottom"],tg=["left-bottom","right-bottom","left-center","right-center"],ig=.1,rg=.05,ng=140,ag=e=>!1!==e.abuse,og={isCloseAvailable:!1,isCloseDialogActive:!1},sg=(e,t)=>t>=Ov&&("play"===e||"pause"===e),dg=(e,t,i,r)=>{const n=e[t];let a=n;return i?a=Object(Xo.a)(n,e=>e!==r):i||Object(bs.a)(n,r)||(a=[...n]).push(r),La({},e,{[t]:a})},lg=e=>{let{win:t,callback:i,addDestroyHandler:r}=e;const n=new fm({win:t,duration:250,callback:e=>{const t=Dt(e,0,1);i(t),1===t&&n.stop()},onFinish:nd.a});r(()=>n.stop()),n.start()};let cg=0;const ug=100,hg=2e3;class pg extends qo.a{enableRetainLastMediaAfterPlayback(){this.retainLastMediaAfterPlayback=!0}disableCreativePackshot(){this.config.packshotSettings={isEnabled:!1}}constructor(e){let{config:t,videoNode:i,videoWrapperNode:r,renderSkin:n,backgroundSlot:a,visibilitySlotParameters:s,measurersSlot:d}=e;super(),Ma(this,"volumeButtonCollapseProgress",new gs.a(void 0)),Ma(this,"volumeStatus",new gs.a("unknown")),Ma(this,"videoContentSize",void 0),Ma(this,"videoSlotSize",void 0),Ma(this,"slotDocument",void 0),Ma(this,"slotWindow",void 0),Ma(this,"slotParameters",void 0),Ma(this,"visibilitySlotParameters",void 0),Ma(this,"onReady",new Ss.a),Ma(this,"onBeforeDestroy",new Ss.a),Ma(this,"onDestroy_PUBLIC_DO_NOT_USE",new Ss.a),Ma(this,"onBeforeAdStart",new Ss.a),Ma(this,"onAdStart",new Ss.a),Ma(this,"adSlowStart",new gs.a(!1)),Ma(this,"onAdMediaStart",new Ss.a),Ma(this,"onAdMediaEnd",new Ss.a),Ma(this,"onAdEnd",new Ss.a),Ma(this,"onAdSkipped",new Ss.a),Ma(this,"onClickThrough",new Ss.a),Ma(this,"isFinished",void 0),Ma(this,"config",void 0),Ma(this,"videoNodeController",void 0),Ma(this,"videoNode",void 0),Ma(this,"desiredBitrate",void 0),Ma(this,"autoplayAbilitySignal",new gs.a(Ba({},NA))),Ma(this,"onAdStartRejected",new Ss.a),Ma(this,"adContentSize",new gs.a(void 0,vr)),Ma(this,"onAdStop",new Ss.a),Ma(this,"onAdStartRequest",new Ss.a),Ma(this,"onAdPodPlayAdMedia",new Ss.a),Ma(this,"onAdPodStartRequest",new Ss.a),Ma(this,"onAdPodStart",new Ss.a),Ma(this,"onAdPodImpression",new Ss.a),Ma(this,"onAdPodFirstQuartile",new Ss.a),Ma(this,"onAdPodMidpoint",new Ss.a),Ma(this,"onAdPodThirdQuartile",new Ss.a),Ma(this,"onAdPodPause",new Ss.a),Ma(this,"onAdPodResume",new Ss.a),Ma(this,"onAdPodError",new Ss.a),Ma(this,"onAdPodComplete",new Ss.a),Ma(this,"onAdPodClose",new Ss.a),Ma(this,"onAdInteraction",new Ss.a),Ma(this,"adMediaState",new gs.a({name:"idle"},vr)),Ma(this,"isPackshotPlaying",new gs.a(!1)),Ma(this,"actionButtonParameters",new gs.a(void 0,vr)),Ma(this,"disclaimerParameters",new gs.a([],vr)),Ma(this,"actionButtonAnimationProgress",new gs.a(0)),Ma(this,"abuseParameters",new gs.a(GA,vr)),Ma(this,"adVolume",void 0),Ma(this,"adPodDuration",new gs.a(Cm)),Ma(this,"adHasBeenUnmuted",void 0),Ma(this,"adVolumeAvailability",new gs.a(b_)),Ma(this,"adPodRemainingTime",new gs.a(Wm)),Ma(this,"skinAnimationProgress",new gs.a(0)),Ma(this,"timeToSkip",new gs.a(tb)),Ma(this,"adSkippableState",new gs.a(Gm)),Ma(this,"wasAbuseClosedByClickOutsideVisibility",new gs.a(!1)),Ma(this,"playingState",new gs.a("idle",(e,t)=>"idle"===t?(cs.c.error({error:new ls.a({code:"ATTEMPT_TO_CHANGE_ADC_PLAYING_STATE_TO_IDLE",details:void 0})}),!0):e===t)),Ma(this,"adPodCloseState",new gs.a(og,vr)),Ma(this,"adTuneState",new gs.a(YA,vr)),Ma(this,"combinedSkinControlsVisibility",new gs.a({},vr)),Ma(this,"adSystemType",new gs.a(void 0)),Ma(this,"socialAdvertising",new gs.a(!1)),Ma(this,"abuseDisplayStatus",new gs.a("hidden")),Ma(this,"pauseByOpenAbuseScreen",new gs.a(!1)),Ma(this,"adPodsCount",new gs.a(0)),Ma(this,"playingAdPodIndex",new gs.a(0)),Ma(this,"adPodCurrentSubtitles",new gs.a([])),Ma(this,"logAbuseOpenFirstTime",Object(ad.a)(()=>{cs.c.event({name:"AbuseScreenOpenFirstTime",data:{},probability:us.b})})),Ma(this,"onAllAdPodComplete",new Ss.a),Ma(this,"lastMediaRetained",new gs.a(void 0)),Ma(this,"measurersSlot",void 0),Ma(this,"skinContainer",void 0),Ma(this,"retainLastMediaAfterPlayback",!1),Ma(this,"renderSkin",void 0),Ma(this,"skinControlsHideReasons",new gs.a(Object(md.a)(Object(Zo.a)(ac,e=>[e,[]])))),Ma(this,"publicApiControlsSettings",new gs.a({controlsVisibility:{}})),Ma(this,"isNonLinearAdPlaying",new gs.a(!1)),Ma(this,"isCreativeWithOwnControls",new gs.a(!1)),Ma(this,"vastAdControlsSettings",new gs.a(void 0)),Ma(this,"shouldHandleResize",!0),Ma(this,"emitAdEnd",void 0),Ma(this,"viewersList",[]),Ma(this,"currentViewer",void 0),Ma(this,"nativeControlsHideStyle",void 0),Ma(this,"adType",void 0),Ma(this,"showAdCounter",0),Ma(this,"shouldBlurBeVisibleByApiLogic",new gs.a(!0)),Ma(this,"adPodBackground",new gs.a(void 0)),Ma(this,"adPodDestroyReasonObjects",[]),Ma(this,"destroyBlur",nd.a),Ma(this,"adVideoIsBuffering",new gs.a(!1)),Ma(this,"onAdInteractionWrapper",Tb(()=>{this.onAdInteraction.dispatch(void 0)},__)),Ma(this,"isFakeVideoElementWithoutVolumeChangeSupport",void 0),Ma(this,"prepareSkin",Object(ad.a)(()=>{const e=this.skinContainer;l(e,{position:"absolute",top:"0",left:"0",right:"0",bottom:"0",zIndex:"1",pointerEvents:"none",fontSize:"16px"});const t=Qn(e);t||cs.c.event({name:"CouldNotCreateSkinShadowRoot",data:void 0});const{firstRenderPromise:i,runtimeErrorPromise:r,clear:n}=this.renderSkin(null!==t&&void 0!==t?t:e,this);i.catch(e=>{cs.c.error({error:new ls.a(e,{code:"PREACT_SKIN_FIRST_RENDER_ERROR",details:e})}),this.destroy(e)}),r.catch(e=>{cs.c.error({error:new ls.a(e,{code:"PREACT_SKIN_RUNTIME_ERROR",details:void 0})}),this.destroy(e)}),this.addDestroyHandler(()=>{n(),Object(Es.a)(e)})})),Ma(this,"backgroundSlot",void 0),Ma(this,"openAdSystemWebsite",()=>{const e=this.socialAdvertising.getValue(),t=e?O_:MA("YANDEX_DIRECT_LINK",this.config.lang),i=!this.getPaused(),r=Date.now();if(cs.c.event({name:"OpenAdSystemWebsite",data:{adSystemType:this.adSystemType.getValue(),pauseByOpenWebsite:i,adSystemWebsiteUrl:t,socialAdvertising:e}}),i&&this.pause(),null===window.open(t,"_blank"))return;const n=fr(window.document,a=>{a&&(cs.c.event({name:"ReturnBackAfterOpenAdSystemWebsite",data:{timeSpentBeforeReturn:Date.now()-r,adSystemType:this.adSystemType.getValue(),adSystemWebsiteUrl:t,pauseByOpenWebsite:i,socialAdvertising:e}}),n(),i&&this.resume())});this.addDestroyHandler(n)}),Ma(this,"clickThrough",(e,t)=>{this.currentViewer?(cs.c.event({name:"AdDisplayControllerClickThrough",data:{source:t,playbackParameters:this.config},probability:us.a}),this.viewerClickThrough(this.currentViewer,e,t)):cs.c.error({error:new ls.a({code:"CALL_CLICK_THROUGH_METHOD_WITHOUT_VIEWER",details:{source:t,playbackParameters:this.config}})})}),Ma(this,"destroyCurrentViewer",()=>{this.currentViewer&&(this.currentViewer.destroy({reason:"close",details:void 0}),this.closeAbuseScreen())}),Ma(this,"logAbuseEventToStats",e=>{cs.c.event({name:"AbuseVariantChoose",data:{pauseByOpenAbuseScreen:this.pauseByOpenAbuseScreen.getValue(),variant:e},probability:us.b});const t=eb(e);cs.c.event({name:t,data:{},probability:us.b})}),Ma(this,"abuseVariantChooseHandler",(e,t)=>{if(!this.currentViewer)return void cs.c.error({error:new ls.a({code:"ABUSE_CALLED_WITHOUT_VIEWER",details:void 0})});const{reason:i,action:r}=WA[e];this.sendAdTuneTracking({actionId:r,reasonId:i,options:t}),this.logAbuseEventToStats(e),(null===t||void 0===t?void 0:t.noDestroyOnClick)||this.destroyCurrentViewer()}),Ma(this,"onAbuseCopyLinkToClipboardClick",e=>{e?(cs.c.event({name:"AbuseScreenCopiedCountLink",data:{},probability:us.b}),function(e){const t=document.createElement("textarea"),i=window.pageYOffset||document.documentElement.scrollTop;t.style.fontSize="12pt",t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",t.style.top=i+"px",t.value=e,document.body.appendChild(t),t.select(),t.setSelectionRange(0,t.value.length);try{document.execCommand("copy")}catch(r){}document.body.removeChild(t)}(e)):cs.c.error({error:new ls.a({code:"ABUSE_COPY_COUNT_LINK_WITHOUT_URL",details:void 0})})}),Ma(this,"getSendBeaconParams",e=>{const t=null===e||void 0===e?void 0:e.UserResponse;if(!t)return;const i=JSON.stringify({UserResponse:t});return new Blob([i],{type:"application/json"})}),Ma(this,"abuseButtonClickHandler",()=>{const e=!("pause"===this.playingState.getValue());e&&this.pause(),cs.c.event({name:"AbuseScreenOpen",data:{pauseByOpenAbuseScreen:e},probability:us.b}),this.logAbuseOpenFirstTime(),this.pauseByOpenAbuseScreen.dispatch(e),this.abuseDisplayStatus.dispatch("selection"),this.sendAdTuneTracking({actionId:xA.open.action,reasonId:xA.open.reason})}),Ma(this,"abuseScreenCloseHandler",()=>{cs.c.event({name:"AbuseScreenClose",data:{pauseByOpenAbuseScreen:this.pauseByOpenAbuseScreen.getValue()},probability:us.b}),this.closeAbuseScreen(),this.sendAdTuneTracking({actionId:xA.close.action,reasonId:xA.close.reason})}),Ma(this,"handleAbuseScreenCloseByResumeError",()=>{cs.c.error({error:new ls.a({code:"ABUSE_SCREEN_CLOSE_BY_RESUME",details:void 0})}),this.abuseDisplayStatus.dispatch("hidden")}),Ma(this,"getCurrentViewerAssets",()=>{const e=this.currentViewer;if(!e)return void cs.c.event({name:"GetCurrentViewerAssetsCalledWithoutViewer",data:void 0,probability:us.b});const{adParametersObject:t}=e.mediaAd.vastAd,i=t?rm(t):void 0,r=this.getAdPlacementOptions(e),{adFormatType:n}=r,a="survey"===n?n:void 0;if(!i)return cs.c.event({name:"GetCurrentViewerAssetsReturnedEmpty",data:void 0,probability:us.b}),{logo:void 0,domain:void 0,greenUrl:void 0,punyDomain:void 0,title:void 0,body:void 0,age:void 0,buttonCaption:void 0,lang:void 0,targetUrl:void 0,socialAdvertising:void 0,app:void 0,icon:void 0,adFormatType:a,sendAdTuneTracking:void 0,clickThrough:void 0,clickThroughButtonAsset:void 0};const o=null===i||void 0===i?void 0:i.assets,s=null===o||void 0===o?void 0:o.button,{abuseUrl:d}=this.abuseParameters.getValue(),l={logo:null===o||void 0===o?void 0:o.logo,domain:null===i||void 0===i?void 0:i.domain,greenUrl:null===i||void 0===i?void 0:i.greenUrl,punyDomain:null===i||void 0===i?void 0:i.punyDomain,title:null===i||void 0===i?void 0:i.title,body:null===i||void 0===i?void 0:i.body,age:null===i||void 0===i?void 0:i.ageRestriction,buttonCaption:null===s||void 0===s?void 0:s.caption,lang:this.config.lang,targetUrl:null===i||void 0===i?void 0:i.targetUrl,socialAdvertising:this.socialAdvertising.getValue(),app:null===o||void 0===o?void 0:o.app,icon:null===o||void 0===o?void 0:o.icon,adFormatType:a,sendAdTuneTracking:d?e=>{cs.c.event({name:"GetCurrentViewerAssetsAdTuneTracking",data:void 0,probability:us.b}),this.sendAdTuneTracking(e)}:void 0,clickThrough:e.isClickable()?()=>{cs.c.event({name:"GetCurrentViewerAssetsClickThrough",data:void 0,probability:us.b}),this.viewerClickThrough(e,{},"PublicAssetsMethodCall")}:void 0,clickThroughButtonAsset:s?()=>{cs.c.event({name:"GetCurrentViewerAssetsClickThroughButtonAsset",data:void 0,probability:us.b}),this.viewerClickThrough(e,{id:s.key,url:s.href},"PublicAssetsButtonAssetMethodCall")}:void 0};return cs.c.event({name:"GetCurrentViewerAssetsReturnAssets",data:l,probability:us.b}),l}),Ma(this,"subscribeInteractionHandlers",()=>{if(!aA(this.slotParameters.element))return nd.a;const e=[],t=dr(this.videoNode);return Object($o.a)(t_,i=>{e.push(Object(Is.a)({element:this.slotParameters.element,eventName:i,listener:this.onAdInteractionWrapper,options:{passive:!0}})),t&&e.push(Object(Is.a)({element:this.slotParameters.element,eventName:i,listener:this.onAdInteractionWrapper,options:{passive:!0}}))}),()=>oi(e)}),Ma(this,"viewerClickThrough",(e,t,i)=>{e.userInteractionDispatchers.AdClickThru(t),e.clickThrough(t)}),this.addDestroyHandler(e=>{this.onBeforeDestroy.dispatch(e)}),this.backgroundSlot=a,this.visibilitySlotParameters=s,this.measurersSlot=d,Xn(window)&&Zf(),Kn(window)&&Jf(window);const c=void 0===i.volume||void 0===i.muted;c&&cs.c.error({error:new ls.a({code:"FAKE_VIDEO_ELEMENT_WITHOUT_VOLUME_CHANGE_SUPPORT",details:void 0})});const{config:u,errors:h}=sa(t);this.config=u,this.adVolume=new gs.a(Ca(i)),this.adHasBeenUnmuted=new gs.a(this.adVolume.getValue()>0),this.isFakeVideoElementWithoutVolumeChangeSupport=c;const p=new cv(r),A=p.onResize;A.add(e=>{this.shouldHandleResize&&this.resizeAd(e.width,e.height)}),A.add(()=>{this.isNeedToShowVolumeButtonText()||0!==this.volumeButtonCollapseProgress.getValue()||this.startVolumeButtonProgress()}),this.addDestroyHandler(()=>{p.destroy()}),this.slotParameters={element:r,size:A},this.slotDocument=this.slotParameters.element.ownerDocument,this.slotWindow=this.slotDocument.defaultView,this.skinContainer=this.slotDocument.createElement("div"),this.renderSkin=n,this.addDestroyHandler(y_(r,()=>{this.destroy({reason:"error",details:new ls.a({code:"VIDEO_WRAPPER_NODE_NOT_IN_DOM",details:void 0})})})),this.videoContentSize=new gs.a(void 0,vr);const m=new gs.a(sg(this.playingState.getValue(),this.visibilitySlotParameters.visibilityRatio.getValue()));if(this.addDestroyHandler(sr([this.playingState,this.visibilitySlotParameters.visibilityRatio],sg,e=>m.dispatch(e))),this.addDestroyHandler(Zb({valueSignal:m,time:hg,callback:()=>{0===this.volumeButtonCollapseProgress.getValue()&&this.startVolumeButtonProgress()},win:this.slotWindow})),this.onAdStart.addOne(()=>{this.addDestroyHandler(function(e,t){const i=()=>{const i=Cr(e);t(i)},r=[];return r.push(Object(Is.a)({element:e,eventName:"resize",listener:i}),li(i)),()=>{oi(r)}}(i,e=>{this.videoContentSize.dispatch(e)})),this.videoContentSize.dispatch(Cr(i))}),this.adHasBeenUnmuted.addOne(e=>{e&&0===this.volumeButtonCollapseProgress.getValue()&&this.startVolumeButtonProgress()}),this.volumeStatus.addOne(()=>{this.isNeedToShowVolumeButtonText()&&"mutedStart"===this.volumeStatus.getValue()?this.volumeButtonCollapseProgress.dispatch(0):this.volumeButtonCollapseProgress.dispatch(1)}),this.addDestroyHandler(()=>{p.destroy()}),dr(i)){const e=new cv(i);this.addDestroyHandler(()=>e.destroy()),this.videoSlotSize=e.onResize}else this.videoSlotSize=this.slotParameters.size;ie(h),this.videoNode=i,this.timeToSkip.add(e=>{this.adSkippableState.dispatch(0===e)});const v=this.adVolume.add(e=>{0!==e&&(this.adHasBeenUnmuted.dispatch(!0),v())});this.addDestroyHandler(sr([this.adVolume,this.adVolumeAvailability,this.adHasBeenUnmuted],(e,t,i)=>(function(e){let{adVolume:t,adVolumeAvailability:i,adHasBeenUnmuted:r}=e;return i?0!==t?"unmuted":r?"muted":"mutedStart":"unknown"})({adVolume:e,adVolumeAvailability:t,adHasBeenUnmuted:i}),e=>this.volumeStatus.dispatch(e))),++cg===ug&&cs.c.error({error:new ls.a({code:"TOO_MANY_CREATE_AD_DISPLAY_CONTROLLER_REQUESTS",details:void 0})}),cs.c.event({name:"CreateAdDisplayController",probability:us.a,data:{config:this.config}}),this.desiredBitrate=t.desiredBitrate,this.videoNodeController=new Jb(i,this.slotWindow),this.onAdEnd.add(()=>this.setVisibleNativeControls(!0)),this.onReady.add(()=>this.setVisibleNativeControls(!1));const f=this.config.controlsSettings;this.addDestroyHandler(function(e,t){let{isFakeVideoElementWithoutVolumeChangeSupport:i,playingState:r,showGuiForVpaid:n,controlsSettingsFromConfig:a,slotSize:o,isNonLinearAdPlaying:s,skinControlsHideReasons:d,isCreativeWithOwnControls:l,vastAdControlsSettings:c,publicApiControlsSettings:u}=e,h={};return sr([r,o,s,d,l,c,u],(e,t,r,o,s,d,l)=>{let{width:c}=t;if(!("idle"!==e)||!(c>=ng)||s&&!n||r)return oc;const u={controlsVisibility:U(o,e=>!(e.length>0)&&void 0)};return Qi(d,a,l,u,i?{controlsVisibility:{mute:!1}}:void 0).controlsVisibility},re(e=>{t(h=e)},e=>{for(const i of ac)if(e[i]!==h[i])return void t(h=e)}))}({isFakeVideoElementWithoutVolumeChangeSupport:this.isFakeVideoElementWithoutVolumeChangeSupport,playingState:this.playingState,showGuiForVpaid:this.config.showGuiForVpaid,controlsSettingsFromConfig:f,slotSize:this.slotParameters.size,isNonLinearAdPlaying:this.isNonLinearAdPlaying,skinControlsHideReasons:this.skinControlsHideReasons,isCreativeWithOwnControls:this.isCreativeWithOwnControls,vastAdControlsSettings:this.vastAdControlsSettings,publicApiControlsSettings:this.publicApiControlsSettings},e=>{this.combinedSkinControlsVisibility.dispatch(e)})),this.onAdPodPlayAdMedia.add(e=>{const{mediaAd:t}=e;this.isCreativeWithOwnControls.dispatch(t.isCreativeWithOwnControls()),this.adSystemType.dispatch(t.getIsYandexCreative()?"yandex":"external");const i=er(t.vastAd);this.vastAdControlsSettings.dispatch(i),this.actionButtonParameters.dispatch(function(e){if(!Na(e))return;const t=$b(e);if(!Object(is.a)(t))return;const{adParametersObject:i,parsedParameters:r}=t;if(!Object(is.a)(i)||!Object(is.a)(r))return;const n=Gi(i);if(!n)return;const{greenUrl:a,domain:o,punyDomain:s,title:d,body:l}=r;return{greenUrl:a,domain:o,punyDomain:s,clickUrl:n,buttonPlacement:Ra(i),oldButtonStyle:ka(i),label:Ji(i),title:d,body:l}}(t.vastAd)),(Na(t.vastAd)||Ct(t.vastAd))&&this.disclaimerParameters.dispatch(function(e,t){const i=[],{parsedParameters:r}=$b(e)||{};return r&&(r.hasDrugDisclaimer&&i.push({text:MA("MOTION_DRUG_DISCLAIMER",t),mandatoryHeightPortion:rg}),r.hasDietarysupplDisclaimer&&i.push({text:MA("MOTION_DIETARYSUPPL_DISCLAIMER",t),mandatoryHeightPortion:ig})),i}(t.vastAd,this.config.lang)),e.playbackPosition.subscribeValueConditionOnce(e=>{let{duration:t,remainingTime:i}=e;return!!o(t)&&(!!o(i)&&t-i>=1)},()=>{const t=new fm({win:window,duration:K_,callback:e=>{this.actionButtonAnimationProgress.dispatch(e)},onFinish:()=>{t.stop()}});t.start(),e.addDestroyHandler(()=>{t.stop()})}),e.packshotStartLatch.subscribe(()=>{this.isPackshotPlaying.dispatch(!0)})}),this.onAdMediaEnd.add(()=>{this.isCreativeWithOwnControls.dispatch(!1),this.adSystemType.dispatch(void 0),this.vastAdControlsSettings.dispatch(void 0),this.actionButtonParameters.dispatch(void 0),this.disclaimerParameters.dispatch([]),this.actionButtonAnimationProgress.dispatch(0),this.isPackshotPlaying.dispatch(!1),this.adVideoIsBuffering.dispatch(!1)}),this.onAdPodStartRequest.add(e=>{const{mediaAd:t}=e,{vastAd:i}=t;this.socialAdvertising.dispatch(function(e){var t;return!0===(null===(t=e.adParametersObject)||void 0===t?void 0:t.socialAdvertising)}(i));const{abuseUrl:r,adParametersObject:n}=i;if(!r)return;const{adParameters:a}=n||{},o=a?Ki(a).legalInfoText:void 0;this.abuseParameters.dispatch({abuseUrl:r,legalInfoText:o})}),this.onBeforeAdStart.addOne(()=>{const e=Date.now();let t;const i=()=>{void 0!==t&&(Object(Os.a)("cancel slow start timeout"),clearTimeout(t),t=void 0)};t=setTimeout(()=>{const t=Date.now()-e;Object(Os.a)("mark slow start, actual passed time=["+t+"]ms"),cs.c.event({name:"AdSlowStart",probability:us.a,data:{actualTime:t}}),this.adSlowStart.dispatch(!0)},g_),this.onAdStart.addOne(()=>{i()}),this.addDestroyHandler(()=>{i()})}),this.onAdMediaStart.add(e=>{let{viewer:t}=e;this.adPodBackground.dispatch(t.adPodViewerPlaybackParams.background)}),this.onAdMediaEnd.add(()=>{this.adPodBackground.dispatch(void 0)}),this.addDestroyHandler(e=>{this.isFinished=!0,this.playingState.dispatch("end"),Object($o.a)(this.viewersList,t=>{"unload"!==e.reason?t.destroy({reason:"destroy",details:void 0}):t.destroy({reason:"unload",details:void 0})}),this.viewersList.length=0,this.adVolume.removeAll(),this.volumeButtonCollapseProgress.removeAll(),this.volumeStatus.removeAll(),m.removeAll(),this.slotParameters.size.removeAll(),this.visibilitySlotParameters.visibilityRatio.removeAll(),this.visibilitySlotParameters.size.removeAll(),this.videoContentSize.removeAll(),this.timeToSkip.removeAll(),this.skinControlsHideReasons.removeAll(),this.abuseParameters.removeAll(),this.playingState.removeAll(),this.onAdStop.removeAll(),this.onAdPodPlayAdMedia.removeAll(),this.onAdPodStart.removeAll(),this.onAdPodPause.removeAll(),this.onAdPodResume.removeAll(),this.onAdPodComplete.removeAll(),this.onAdPodClose.removeAll(),this.onAdInteraction.removeAll(),this.adPodDuration.removeAll(),this.adPodRemainingTime.removeAll(),this.adHasBeenUnmuted.removeAll(),this.onBeforeAdStart.removeAll(),this.onAdStart.removeAll(),this.onAdMediaStart.removeAll(),this.onAdMediaEnd.removeAll(),this.onAdEnd.removeAll(),this.onReady.removeAll(),this.adContentSize.removeAll(),this.adSlowStart.removeAll(),this.adMediaState.removeAll(),this.adVolume.removeAll(),this.currentViewer&&(this.currentViewer.isCreativeStartRequested.getValue()&&(void 0===this.adType&&cs.c.error({error:new ls.a({code:"EMPTY_AD_TYPE_WHILE_PLAYING",details:void 0})}),this.onAdMediaEnd.dispatch({adType:this.adType})),this.currentViewer.destroy({reason:"destroy",details:void 0}),this.currentViewer=void 0),this.videoNodeController.destroy(),Object(Es.a)(this.nativeControlsHideStyle)}),this.addDestroyHandler(sr([this.vastAdControlsSettings,this.abuseParameters,this.abuseDisplayStatus],Va,e=>this.adPodCloseState.dispatch(e))),this.adPodCloseState.add(e=>{let{isCloseAvailable:t}=e;return this.adTuneState.dispatch({isAvailable:t})}),this.onAdPodPlayAdMedia.add(e=>{this.adPodCurrentSubtitles.dispatch([]);const t=f_(e.mediaAd.vastAd);let i;if(t)try{i=new Ib(t)}catch(r){cs.c.event({name:"SubtitleProviderInitializationError",data:{message:r.message},probability:us.a})}jA||e.addDestroyHandler(sr([this.adPodRemainingTime,this.adPodDuration,this.isPackshotPlaying],(e,t,i)=>({remainingTime:e,duration:t,isPackshotPlaying:i}),e=>{let{remainingTime:t,duration:r,isPackshotPlaying:n}=e;const a=Math.max(0,r-t);if(n)this.adPodCurrentSubtitles.dispatch([]);else if(i){const e=i.findCuesByCurrentTime(a);this.adPodCurrentSubtitles.dispatch(e)}}))}),this.prepareSkin(),this.addDestroyHandler(fa(()=>{this.destroy({reason:"unload",details:void 0})},null!==Yo.a&&void 0!==Yo.a?Yo.a:window)),this.addDestroyHandler(()=>{this.areAllAdPodsCompleted()&&this.onAllAdPodComplete.dispatch(void 0),this.lastMediaRetained.dispatch(this.isLastAdPodRetainedMedia())}),this.addDestroyHandler(e=>{this.onDestroy_PUBLIC_DO_NOT_USE.dispatch(e),this.onDestroy_PUBLIC_DO_NOT_USE.removeAll()})}async prepareToPlayAd(e){this.config.autoplay=!1;const t=this.onReady.promise(),i=this.onAdEnd.promise();this.showAd(e),await Promise.race([t,i.then(()=>{throw new ls.a({code:"AD_STOPPED_BEFORE_READY_TO_PLAY",details:void 0})})])}showAd(e){var t;const i=Date.now(),r=dr(this.videoNode)?Ri(this.videoNode):void 0;if(!1===r){const e=this.slotParameters.element,t=aA(e)?Ri(e):void 0;return cs.c.error({error:new ls.a({code:"WRAPPER_OR_VIDEO_NODE_NOT_IN_DOM",details:{videoNodeInDom:r,wrapperInDom:t}})}),Promise.resolve()}if(!e.mediaAds.length)return cs.c.error({error:new ls.a({code:"NO_AD_PODS_TO_PLAY_IN_SHOW_AD_METHOD",details:{config:this.config}})}),Promise.resolve();this.showAdCounter++,this.showAdCounter>1&&cs.c.event({name:"CallShowAdMultipleTimes",probability:us.a,data:void 0});const{adBreak:n}=e.getFirstMediaAd(),a=null!==(t=n.adType)&&void 0!==t?t:"preroll";return this.adType=a,this.isFinished=!1,new Promise((t,r)=>{this.slotParameters.element.appendChild(this.skinContainer),this.viewersList=Object(Zo.a)(e.mediaAds,e=>{e.vastAd.trackingEvents=B(e.vastAd.trackingEvents,this.config.trackingEvents);const t={adDisplayController:this,mediaAd:e,adPodViewerPlaybackParams:tr({playbackParameters:this.config,secureMode:e.adConfig.secureMode,vastAd:e.vastAd,adBreak:e.adBreak})},i="js"===e.contentType?new v_(t):new Fm(t);return i.adVideoIsBuffering.add(e=>this.adVideoIsBuffering.dispatch(e)),i.onImpression.add(this.onAdPodImpression),i.onFirstQuartile.add(this.onAdPodFirstQuartile),i.onMidpoint.add(this.onAdPodMidpoint),i.onThirdQuartile.add(this.onAdPodThirdQuartile),i.onAdInteraction.add(this.onAdInteractionWrapper),i}),this.adPodsCount.dispatch(this.viewersList.length),this.initBackground(this.viewersList),this.isNonLinearAdPlaying.dispatch(this.getIfIsNonLinear()),this.emitAdEnd=t,this.onBeforeAdStart.dispatch({adType:a}),this.onAdPodStart.addOne(()=>{cs.c.values({name:"AdStarted",probability:us.a,data:{config:this.config},labels:{},values:{startTime:Date.now()-i}})}),this.startAdPlayback(a).then(()=>t()).catch(e=>{this.isFinished=!0,this.playingState.dispatch("end"),this.onAdMediaEnd.dispatch({adType:a}),r(e)}),this.addDestroyHandler(this.subscribeInteractionHandlers())}).catch(e=>{cs.c.errorToStats(e)}).then(()=>{this.isFinished=!0,this.playingState.dispatch("end"),this.onAdEnd.dispatch({adType:a}),this.destroyBlur()})}getAdPlacementOptions(e){void 0===e&&(e=this.currentViewer);const{videoNode:t}=this;let i,r,n=0;if(e&&(n=e.getBufferingTime()),e&&(i=e.mediaAd.adBreak.adType),e){const t=e.mediaAd.getMediaFiles();t.length>0&&(r=function(e,t){let{type:i,url:r}=e,{vastAd:n}=t;if("js"!==Tt({type:i}))return"video";if(!S(r))return"external";try{const{adFormatType:e}=Be(n.adParameters);return e}catch(a){return"external"}}(t[0],{vastAd:e.mediaAd.vastAd}))}return Dr({win:this.slotWindow,slotSize:this.slotParameters.size.getValue(),videoSlotSize:this.videoSlotSize.getValue(),slotVisibilityRatio:this.visibilitySlotParameters.visibilityRatio.getValue(),videoNode:t,bufferingTime:n,adBreakType:i,adFormatType:r})}setMuted(e){this.currentViewer?this.currentViewer.setMuted(e):this.videoNodeController.setMuted(e)}resizeAd(e,t,i){var r;void 0===i&&(i=Yp.NORMAL),null===(r=this.currentViewer)||void 0===r||r.resizeAd(e,t,i)}async play(e){void 0===e&&(e=!0);const{currentViewer:t,config:i}=this;return e&&(i.autoplay=!0),t?(t.play(e),new Promise((e,i)=>{t.addDestroyHandler(t=>{const r=ir(t);r?i(r):e()})})):Promise.reject(new Error("AdSDK Error: play request without AdMedia"))}pause(){this.currentViewer?this.currentViewer.pause():this.isFinished||this.playingState.dispatch("pause")}resume(){this.currentViewer?this.currentViewer.resume():this.isFinished||this.playingState.dispatch("play")}close(){this.destroyNextViewers("close")}skipAllViewers(){this.skipCurrentViewer(),this.destroyNextViewers("skip")}skipCurrentViewer(){if(!this.currentViewer)return this.stop(),void cs.c.error({error:new ls.a({code:"SKIP_NOT_PLAYING_AD_POD",details:{isFinished:this.isFinished}})});this.currentViewer.getAdSkippableState()?this.currentViewer.skipAd():cs.c.error({error:new ls.a({code:"ATTEMPT_TO_SKIP_NOT_SKIPPABLE_AD_POD",details:void 0})})}sendAdTuneTracking(e){let{actionId:t,reasonId:i,options:r}=e;const{abuseUrl:n}=this.abuseParameters.getValue();n||cs.c.error({error:new ls.a({code:"ABUSE_CALLED_WITHOUT_URL",details:void 0})}),pt({eventName:"close",trackingEventDetails:void 0,trackingUrls:[Object(jd.b)(n,{"reason-id":""+i,"action-id":""+t},{override:!0})],options:this.getAdPlacementOptions(),sendBeaconParams:this.getSendBeaconParams(r)})}stop(){this.isFinished=!0,this.playingState.dispatch("end"),this.onAdStop.dispatch(void 0),this.emitAdEnd&&this.emitAdEnd()}getAdWidth(){var e,t;return null!==(e=null===(t=this.currentViewer)||void 0===t?void 0:t.getAdWidth())&&void 0!==e?e:gm}getAdHeight(){var e,t;return null!==(e=null===(t=this.currentViewer)||void 0===t?void 0:t.getAdHeight())&&void 0!==e?e:bm}trackEvent(e,t){var i;null===(i=this.currentViewer)||void 0===i||i.trackEvent(e,t)}getCurrentContentType(){return this.currentViewer?this.currentViewer.contentType:void 0}usesVideoNode(){if(this.currentViewer)return!this.currentViewer.mediaAd.getIsIndependentOnVideoElement()}getAdRemainingTime(){if(this.isFinished)return 0;if(this.currentViewer){let e=this.currentViewer.getAdRemainingTime();for(let t=this.getCurrentViewerIndex()+1;t<this.viewersList.length;t++){e+=this.viewersList[t].mediaAd.getDuration()}return e}return this.getDuration()}getAdPodRemainingTime(){var e;if(this.isFinished)return 0;if(this.currentViewer)return this.currentViewer.getAdRemainingTime();const[t]=this.viewersList;return null!==(e=null===t||void 0===t?void 0:t.mediaAd.getDuration())&&void 0!==e?e:0}getCurrentTime(){return this.currentViewer?this.getCurrentViewerStartTime()+this.currentViewer.getCurrentTime():0}getAdPodDuration(){if(this.currentViewer){const e=this.currentViewer.getDuration();if(e>0)return e}return 0}getDuration(){let e=0;return Object($o.a)(this.viewersList,t=>{const i=t.getDuration();i>0&&(e+=i)}),e}getPaused(){return this.currentViewer?"play"!==this.currentViewer.playingState.getValue():!!this.isFinished||"pause"===this.playingState.getValue()}getVolume(){return this.adVolume.getValue()}setVolume(e){this.adVolume.dispatch(e);const{currentViewer:t}=this;t?t.setVolume(e):this.videoNodeController.setVolume(e)}getMuted(){const{currentViewer:e}=this;return e?0===e.getVolume():this.videoNodeController.getMuted()}getAdVolumeAvailability(){return this.adVolumeAvailability.getValue()}setBlurDisplay(e){this.shouldBlurBeVisibleByApiLogic.dispatch(e)}getCurrentViewerIndex(){return this.currentViewer?Math.max(this.viewersList.indexOf(this.currentViewer),0):0}getViewersWithVideoCountBeforeCurrent(){let e=0;if(this.currentViewer)for(let t=0;t<this.viewersList.length;t++){const i=this.viewersList[t];if(i===this.currentViewer)break;i.mediaAd.getIsIndependentOnVideoElement()||e++}return e}getViewerLength(){return this.viewersList.length}disableResizeHandling(){this.shouldHandleResize=!1}enableResizeHandling(){const{width:e,height:t}=this.slotParameters.element.getBoundingClientRect();this.resizeAd(e,t),this.shouldHandleResize=!0}setSkinControlHideReason(e,t,i){this.skinControlsHideReasons.dispatch(dg(this.skinControlsHideReasons.getValue(),e,t,i))}setPublicApiControlsSettings(e){if(!Object(is.a)(e)&&!1!==e&&void 0!==e){const t=new ls.a({code:"INVALID_ARGUMENT_IN_SET_PUBLIC_API_CONTROLS",details:{argument:e}});throw cs.c.error({error:t}),Object(Ah.a)("setPublicApiControlsSettings: invalid input data, please check VAS documentation"),t}const t=this.publicApiControlsSettings.getValue();let i;i=Object(is.a)(e)?Ba({},t,{controlsVisibility:Ba({},t.controlsVisibility,e)}):Ba({},t,{visibility:e}),cs.c.event({name:"PublicSetControlVisibilityIsUsed",data:{previous:t,next:i},probability:us.a}),Object(Os.a)("AdDisplayController#setPublicApiControlsSettings: before=["+JSON.stringify(t)+"], after=["+i+"]"),this.publicApiControlsSettings.dispatch(i)}areAllAdPodsCompleted(){return Ic(this.adPodDestroyReasonObjects,e=>{let{reason:t}=e;return"complete"===t})}isLastAdPodRetainedMedia(){const e=this.adPodDestroyReasonObjects[this.adPodDestroyReasonObjects.length-1];return!!Boolean(e)&&(!!this.retainLastMediaAfterPlayback&&("complete"===e.reason&&e.details.canUseMediaAfterPlayback))}getAutoplay(){if(this.getViewersWithVideoCountBeforeCurrent()>0)return Object(Os.a)("autoplay=true due to subsequent viewer"),!0;if(this.autoplayAbilitySignal.getValue().requireUserGesture)return Object(Os.a)("autoplay=false due to requireUserGesture"),!1;const{autoplay:e}=this.config;if(void 0!==e)return Object(Os.a)("autoplay=["+e+"] due to config"),e;const t=this.playingState.getValue();if("idle"!==t){const e="pause"!==t;return Object(Os.a)("autoplay=["+e+"] due to playingStateValue"),e}return Object(Os.a)("autoplay=true due to default"),!0}setVisibleNativeControls(e){this.getIfIsNonLinear()||(e?Object(Es.a)(this.nativeControlsHideStyle):(this.videoNode.controls=!1,this.nativeControlsHideStyle||(this.nativeControlsHideStyle=xn(this.slotParameters.element,"\n                        #"+this.videoNode.id+"::-webkit-media-controls{\n                            display: none !important;\n                        }\n                    ")),document.head.appendChild(this.nativeControlsHideStyle)))}closeAbuseScreen(){this.pauseByOpenAbuseScreen.getValue()&&"inpage"!==this.adType&&this.resume(),this.abuseDisplayStatus.dispatch("hidden")}trackError(e){this.currentViewer&&this.currentViewer.trackError(e)}initBackgroundColor(e){let t=nd.a;this.addDestroyHandler(()=>t()),this.addDestroyHandler(this.adPodBackground.add(i=>{Object(is.a)(i)&&Object(rd.a)(i.color)?t=Pi(e,{backgroundColor:i.color}):t()}))}initBackground(e){let{backgroundSlot:t}=this.config;const i=Boolean(t);if(this.backgroundSlot?t=this.backgroundSlot:i||(t=function(e){if(!dr(e))return;const{parentElement:t}=e;if(t)return t;cs.c.error({error:new ls.a({code:"NO_PARENT_ELEMENT_FOR_BACKGROUND",details:void 0})})}(this.videoNode)),!t)return void Object(Os.a)("BackgroundBlur container cannot be created");if(this.initBackgroundColor(t),!kl(e,e=>{let{adPodViewerPlaybackParams:t}=e;return"blur"===t.background}))return;if(Object(Os.a)("BackgroundBlur is presented in AdBreak"),!ib)return void Object(Os.a)("BackgroundBlur is NOT supported");const r=new gb({container:t,videoNode:this.videoNode});this.destroyBlur=()=>{r.destroy()},cs.c.event({name:"InitBackgroundBlur",data:{isBackgroundSlotFromConfig:i},probability:us.a}),this.addDestroyHandler(sr([this.shouldBlurBeVisibleByApiLogic,this.adPodBackground,this.videoContentSize,this.slotParameters.size],(e,t,r,n)=>{if(!e)return!1;if(void 0===r)return!1;if("blur"!==t)return!1;if(i)return!0;const a=n.width/n.height,o=r.width/r.height-a;return Math.abs(o)>Ob},e=>{r.setPlaying(e)})),this.addDestroyHandler(()=>null===r||void 0===r?void 0:r.destroy())}playAdMedia(e,t){this.currentViewer=e,this.onAdPodStartRequest.dispatch(e),e.trackEvent("onCreativeInit",void 0);let i=NaN;e.playingState.subscribeValueConditionOnce(e=>"play"===e,()=>{i=Date.now()}),this.adContentSize.dispatch(e.mediaAd.getAdContentDimensions()),e.isStarted.addOne(()=>{this.adContentSize.dispatch(e.getAdContentSize())}),e.addDestroyHandler(()=>{this.adContentSize.dispatch(void 0)}),e.isStarted.add(()=>{isNaN(i)?cs.c.error({error:new ls.a({code:"AdPodStartWithoutPlayRequest",details:void 0})}):us.d&&cs.c.values({name:"AdPodStart",values:{startTime:Date.now()-i},data:{src:e.getSrc(),config:this.config,playRequestTime:String(i)},labels:{}})}),this.onAdPodPlayAdMedia.dispatch(e);const r=e.playingState.getValue();"idle"!==r&&cs.c.error({error:new ls.a({code:"VIEWER_PLAYING_STATE_INITIALIZED_BEFORE_START",details:{playingState:r}})}),e.playingState.subscribeValueCondition(e=>"end"!==e,t=>{this.currentViewer===e?this.playingState.dispatch(t):cs.c.error({error:new ls.a({code:"VIEWER_PLAYING_STATE_DISPATCHED_OUT_OF_LIFECYCLE",details:{playingState:t}})})});const n=this.getAutoplay();n&&(this.config.autoplay=!0),e.addDestroyHandler(i=>{const r=ir(i);r&&(this.trackError(r),cs.c.error({error:r}),pi("AdPod playing error",r),this.onAdPodError.dispatch({error:r,adPodId:e.mediaAd.getAdPodId()})),this.currentViewer=void 0,t(i)}),this.onAdPodComplete.add(()=>{e.isDestroyed||(e.destroy({reason:"destroy",details:void 0}),cs.c.error({error:new ls.a({code:"VIEWER_IS_NOT_DESTROYED_AFTER_COMPLETE",details:{src:e.getSrc()}})}))}),e.play(n)}getCurrentViewerStartTime(){const e=this.getCurrentViewerIndex();let t=0;for(let i=0;i<e;i++)t+=this.viewersList[i].getDuration();return t}async startAdPlayback(e){const{videoNode:t}=this,i=dr(t);if(!this.getIfIsNonLinear()&&i){const e=function(e){const{controls:t}=e,i=e.getAttribute("poster"),r={loop:e.getAttribute("loop"),autoplay:e.getAttribute("autoplay"),controls:e.getAttribute("controls"),height:e.getAttribute("height"),poster:""===i?null:i,preload:e.getAttribute("preload"),width:e.getAttribute("width"),style:e.getAttribute("style")},n=Pb(e),{parentElement:a}=e;return Object(ad.a)(()=>{e.controls=t,function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}(e),n(),c(e,r),Ui(e,()=>{e.load()}),a&&a!==e.parentElement&&cs.c.error({error:new ls.a({code:"VIDEO_NODE_DOM_POSITION_CHANGED",details:{hasParentAfterChange:Boolean(e.parentElement)}})})})}(t);this.onBeforeDestroy.addOne(t=>{let{reason:i}=t;"unload"!==i&&e()});const i=function(e){const{ownerDocument:t}=e;return Boolean(t)?"false"===e.getAttribute("pip")?nd.a:va(t,e)===e?nd.a:ki(e,{pip:"false"}):nd.a}(t);this.onBeforeDestroy.addOne(i);const r=function(e){if(!dr(e))return nd.a;const t=e.getAttribute("src")||e.src||null,i=Object(Zo.a)(Object(kd.a)(e.getElementsByTagName("source")),e=>({src:e.getAttribute("src"),type:e.getAttribute("type")}));return Object(ad.a)(()=>{t?e.setAttribute("src",t):e.removeAttribute("src"),Object($o.a)(i,t=>{const i=e.ownerDocument.createElement("source");e.appendChild(i),Object(Ql.a)(t,(e,t)=>{i.setAttribute(t,String(e))})}),Ui(e,()=>{e.load()})})}(t);this.onBeforeDestroy.addOne(e=>{let{reason:t}=e;this.isLastAdPodRetainedMedia()||"unload"!==t&&r()}),this.onBeforeDestroy.addOne(this.onAdPodStartRequest.add(()=>{Pb(t)}))}let r;const n=Ic(this.viewersList,e=>e.mediaAd.getIsIndependentOnVideoElement()),{videoSlotCanAutoPlay:a}=this.config;this.videoNode;if(n?(Object(Os.a)("autoplayAbility=positive for independentOnVideoElement ad"),r=RA):"boolean"===typeof a?(Object(Os.a)("autoplayAbility=["+a+"] due to videoSlotCanAutoPlay"),r=a?RA:NA):i?(Object(Os.a)("start autoplay ability request"),r=await this.requestAutoplayAbility(),Object(Os.a)("autoplayAbility=["+JSON.stringify(r)+"]")):(Object(Os.a)("autoplayAbility=positive for fake video element"),r=RA),this.isFinished)throw new ls.a({code:"AD_FINISHED_DURING_RAA",details:void 0});this.autoplayAbilitySignal.dispatch(r),r.requireUserGesture&&this.onAdStartRejected.dispatch(void 0),r.requireMute&&this.videoNodeController.setMuted(!0);const s=Object(ad.a)(()=>{this.onReady.dispatch(void 0)}),d=Object(ad.a)(()=>{this.onAdStart.dispatch({adType:e})});return Object($o.a)(this.viewersList,(t,i)=>{t.addDestroyHandler(t=>{let{reason:i}=t;"complete"===i?this.onAdPodComplete.dispatch(void 0):"skip"===i?this.onAdSkipped.dispatch({adType:e}):"close"===i&&this.onAdPodClose.dispatch(void 0)}),t.onReady.addOne(s),t.isStarted.addOne(d),t.isStarted.add(()=>{this.onAdPodStart.dispatch(void 0)}),t.onPause.add(()=>{this.onAdPodPause.dispatch(void 0)}),t.onResume.add(()=>{this.onAdPodResume.dispatch(void 0)}),t.onVolumeChange.add(()=>{this.adVolume.dispatch(t.getVolume())}),t.isStarted.addOne(()=>{this.adVolume.dispatch(t.getVolume())}),t.isStarted.addOne(()=>{this.onAdMediaStart.dispatch({viewer:t,adType:e}),this.adPodDuration.dispatch(t.getDuration())}),t.addDestroyHandler(function(e){let{win:t,adPodDuration:i,adPodRemainingTime:r,playingState:n,isStarted:a,isBuffering:s,callback:d}=e;const l=new _m,c=new gs.a(-1);return l.subscribe(()=>c.removeAll),a.addOne(()=>{const e=new fm({win:t,duration:i.getValue()*fh,callback:e=>{const t=Dt(e,0,1);d(t)},onFinish:nd.a});c.add(t=>{J(t)&&e.adjustPosition(t)}),l.subscribe(()=>{e.stop()}),l.subscribe(sr([r,i],(e,t)=>J(e)&&o(t)?(t-e)/t:-1,e=>{c.dispatch(e)})),l.subscribe(sr([c,n,s],(e,t,i)=>J(e)&&"play"===t&&!i,t=>{t?e.start():e.stop()}))}),()=>{l.dispatch(void 0)}}({win:this.slotWindow,adPodDuration:this.adPodDuration,adPodRemainingTime:this.adPodRemainingTime,playingState:this.playingState,isStarted:t.isStarted,isBuffering:this.adVideoIsBuffering,callback:e=>{this.skinAnimationProgress.dispatch(e)}})),t.isStarted.add(()=>{t.addDestroyHandler(this.videoNodeController.onBufferingAfterPlay.add(()=>{this.adMediaState.dispatch({name:"stalled"})})),t.addDestroyHandler(this.videoNodeController.playingState.add(e=>{e===LA.PLAY&&this.adMediaState.dispatch({name:"playing"})}))}),t.addDestroyHandler(()=>{this.adMediaState.dispatch({name:"idle"})}),t.addDestroyHandler(()=>{this.adPodRemainingTime.dispatch(Wm),this.skinAnimationProgress.dispatch(0)}),t.playbackPosition.add(e=>{let{duration:t,remainingTime:i}=e;this.adPodRemainingTime.dispatch(i),this.adPodDuration.dispatch(t)}),t.onClickThrough.add(e=>this.onClickThrough.dispatch(e));const{skipDelay:r}=t.adPodViewerPlaybackParams;(function(e){return!e.isVpaidAdPodViewer()||(!!e.adPodViewerPlaybackParams.showGuiForVpaid||(!!e.mediaAd.getIsYandexCreative()||!!Ai(e.mediaAd.vastAd)))})(t)?t.isStarted.addOne(()=>{t.playbackPosition.add(e=>{let{duration:t,remainingTime:i}=e;const n=function(e){let{remainingTime:t,duration:i,skipDelay:r}=e;if(0===r)return tb;if(r>i-Eb)return tb;if(!J(t))return tb;const n=i-t;return r<=n?0:r-n}({remainingTime:i,duration:t,skipDelay:r});this.timeToSkip.dispatch(n)})}):t.onAdSkippableStateChange.add(e=>{this.timeToSkip.dispatch(e?0:tb)})}),new Promise(t=>{this.playAdViewers(e,()=>{t([])})})}playAdViewers(e,t){this.adPodDestroyReasonObjects=[],this.onAdStartRequest.dispatch(void 0);const i=Object(Zo.a)(this.viewersList,(t,i)=>r=>{if(this.timeToSkip.dispatch(tb),this.isFinished){const e=new ls.a({code:"AD_BREAK_IS_STOPPED",details:void 0});return t.mediaAd.trackError(e),this.adPodDestroyReasonObjects.push({reason:"error",details:e}),r()}const n=this.getAdPodContainerSizeError(t);if(n)return t.mediaAd.trackError(n),this.onAdPodError.dispatch({error:n,adPodId:t.mediaAd.getAdPodId()}),this.adPodDestroyReasonObjects.push({reason:"error",details:n}),Object(Ah.a)('You are using unplayable "slot" sizes, check passed element dimensions.'),r();this.adVolume.dispatch(this.videoNodeController.getVolume()),this.adVolumeAvailability.dispatch(Zi(t.mediaAd.vastAd)),this.playingAdPodIndex.dispatch(i),this.playAdMedia(t,t=>{this.adPodDestroyReasonObjects.push(t),this.onAdMediaEnd.dispatch({adType:e}),r()})});let r=-1;!function e(){const n=i[++r];void 0!==n?n(e):t()}()}getAdPodContainerSizeError(e){if(!e.mediaAd.getIsYandexCreative())return;const{size:t,element:i}=this.visibilitySlotParameters,r=t.getValue();if(Tr(r,ic))return;if(Tr(i.getBoundingClientRect(),ic))return;const n=0===r.width||0===r.height,a="none"===Ci(i).display;let o;return o=n?a?"SLOT_DISPLAY_NONE":"SLOT_ZERO_SIZE":"SLOT_SMALL_SIZE",new ls.a({code:o,details:{adPodId:e.mediaAd.getAdPodId(),slotSize:r,config:this.config,adConfig:e.mediaAd.adConfig,usesVisibilitySlot:Boolean(this.visibilitySlotParameters)}})}async requestAutoplayAbility(){const e=Date.now(),{promise:t,stop:i}=function(e,t){let{checkSoundEnabled:i=!0}=void 0===t?{}:t;const r=Hi(e),n=new VA(e,{checkSoundEnabled:i,promise:r});return{promise:n.promise,stop:n.stop}}(this.videoNode,{checkSoundEnabled:!this.getMuted()});this.addDestroyHandler(i);let r=!1;return new Promise(n=>{t.then(t=>{r=!0,cs.c.values({name:"DetectAutoplayAbility",values:{duration:Date.now()-e},data:{config:this.config,autoplayAbility:t},labels:{},probability:us.a}),n(t)}).catch(()=>{r=!0,this.isFinished||cs.c.error({error:new ls.a({code:"RAA_WAS_STOPPED_WITHOUT_AD_FINISH",details:void 0})})}),"idle"===this.playingState.getValue()&&this.playingState.addOne(e=>{r||(Object(Os.a)("RAA stopped by playingState=["+e+"]"),i(),n(RA))})})}destroyNextViewers(e){const{viewersList:t,currentViewer:i}=this;i&&i.destroy({reason:"destroy",details:void 0});for(let r=this.getCurrentViewerIndex()+1;r<t.length;r++){const{mediaAd:i}=t[r];i.trackEvent(e,this.getAdPlacementOptions(t[r]),void 0)}this.stop()}getIfIsNonLinear(){return Ic(this.viewersList,e=>e.isNonLinear())}startVolumeButtonProgress(){lg({win:this.slotWindow,callback:e=>{this.volumeButtonCollapseProgress.dispatch(e)},addDestroyHandler:e=>this.addDestroyHandler(e)})}isNeedToShowVolumeButtonText(){return"DISABLE"!==UA&&"middle"===pa(this.slotParameters.size.getValue())}}class Ag extends qo.a{constructor(e){let{videoSlot:t,slot:i,mediaAds:r,playbackParameters:n,onPlayAd:a,renderSkin:o}=e;super(),ja(this,"pauseAd",this.createPlaybackMethod("pauseAd",()=>{Object(Os.a)("[AdPlaybackController]: method pauseAd() is called"),this.adDisplayController.pause()})),ja(this,"resumeAd",this.createPlaybackMethod("resumeAd",()=>{Object(Os.a)("[AdPlaybackController]: method resumeAd() is called"),this.adDisplayController.resume()})),ja(this,"isPlayAdCalled",!1),ja(this,"adDisplayController",void 0),ja(this,"videoSlot",void 0),ja(this,"slot",void 0),ja(this,"mediaAds",void 0),ja(this,"playbackParameters",void 0),ja(this,"onPlayAd",void 0),ja(this,"getPublicInstance",()=>({playAd:this.playAd,stopAd:this.stopAd,pauseAd:this.pauseAd,getAdPlayingState:this.getAdPlayingState,resumeAd:this.resumeAd,subscribe:this.subscribe,skipAd:this.skipAd,getAdSkippableState:this.getAdSkippableState,getAdPodTimeToSkip:this.getAdPodTimeToSkip,getAdPodCloseState:this.getAdPodCloseState,getAdVolume:this.getAdVolume,setAdVolume:this.setAdVolume,getAdVolumeAvailabilityState:this.getAdVolumeAvailabilityState,getAdRemainingTime:this.getAdRemainingTime,getAdPodRemainingTime:this.getAdPodRemainingTime,getAdDuration:this.getAdDuration,getAdPodDuration:this.getAdPodDuration,getAdContentSize:this.getAdContentSize,getAdMediaState:this.getAdMediaState,getMediaElementStatusAfterAdStopped:this.getMediaElementStatusAfterAdStopped,getAdPodAdTuneState:this.getAdPodAdTuneState,sendAdTuneTracking:this.sendAdTuneTracking,getCurrentViewerAssets:this.getCurrentViewerAssets,setControlsVisibility:this.setControlsVisibility})),ja(this,"getAdMediaState",()=>this.adDisplayController.adMediaState.getValue()),ja(this,"getAdContentSize",()=>this.adDisplayController.adContentSize.getValue()),ja(this,"setControlsVisibility",e=>this.adDisplayController.setPublicApiControlsSettings(e)),ja(this,"getMediaElementStatusAfterAdStopped",()=>{if(this.isDestroyed)return{lastMediaRetained:Boolean(this.adDisplayController.lastMediaRetained.getValue())}}),ja(this,"playAd",()=>{if(Object(Os.a)("[AdPlaybackController]: method playAd() is called"),this.isPlayAdCalled){X(new ls.a({code:"ATTEMPT_TO_PLAY_AD_SECOND_TIME",details:void 0}))}else this.isPlayAdCalled=!0,this.onPlayAd(),this.adDisplayController.showAd(this.mediaAds).then(()=>{this.destroy("adComplete")}).catch(id.a)}),ja(this,"stopAd",()=>{Object(Os.a)("[AdPlaybackController]: method stopAd() is called"),this.destroy("stopAd")}),ja(this,"getAdPlayingState",()=>this.isPlayAdCalled?this.adDisplayController.isFinished?"end":this.adDisplayController.playingState.getValue():"idle"),ja(this,"getAdSkippableState",()=>this.adDisplayController.adSkippableState.getValue()),ja(this,"getAdPodTimeToSkip",()=>!this.isPlayAdCalled||this.isDestroyed?tb:this.adDisplayController.timeToSkip.getValue()),ja(this,"getAdPodCloseState",()=>this.adDisplayController.adPodCloseState.getValue()),ja(this,"getAdPodAdTuneState",()=>this.adDisplayController.adTuneState.getValue()),ja(this,"getAdVolume",()=>!this.isPlayAdCalled||this.isDestroyed?os:this.adDisplayController.getVolume()),ja(this,"setAdVolume",e=>{this.isPlayAdCalled&&!this.isDestroyed&&(0===e?this.adDisplayController.setMuted(!0):this.adDisplayController.setVolume(e))}),ja(this,"sendAdTuneTracking",e=>{let{actionId:t,reasonId:i}=e;cs.c.event({name:"SendAdTuneTracking",data:{actionId:t,reasonId:i},probability:us.a}),this.adDisplayController.sendAdTuneTracking({actionId:t,reasonId:i})}),ja(this,"getAdVolumeAvailabilityState",()=>!this.isPlayAdCalled||this.isDestroyed?b_:this.adDisplayController.getAdVolumeAvailability()),ja(this,"getAdRemainingTime",()=>this.isPlayAdCalled?this.adDisplayController.getAdRemainingTime():this.getAdDuration()),ja(this,"getAdPodRemainingTime",()=>this.isPlayAdCalled?this.adDisplayController.getAdPodRemainingTime():this.getAdPodDuration()),ja(this,"getAdDuration",()=>this.isPlayAdCalled?this.adDisplayController.getDuration():this.mediaAds.getDuration()),ja(this,"getAdPodDuration",()=>{var e;if(this.isPlayAdCalled)return this.adDisplayController.getAdPodDuration();const[t]=this.mediaAds.mediaAds;return null!==(e=null===t||void 0===t?void 0:t.getDuration())&&void 0!==e?e:0}),ja(this,"skipAd",()=>{this.getAdSkippableState()?this.adDisplayController.skipAllViewers():cs.c.error({error:new ls.a({code:"ATTEMPT_TO_SKIP_NOT_SKIPPABLE_AD",details:void 0})})}),ja(this,"getCurrentViewerAssets",()=>this.adDisplayController.getCurrentViewerAssets()),ja(this,"subscribe",(e,t)=>{if("function"!==typeof t)return nd.a;const i=i=>{try{t(i)}catch(r){cs.c.error({error:new ls.a({code:"APC_CALLBACK_ERROR",details:{eventName:e,data:i}})}),Object(id.a)(r)}},r=()=>{i({})};switch(e){case"AdMediaStateChange":return this.adDisplayController.adMediaState.add(r);case"AdContentSizeChange":return this.adDisplayController.adContentSize.add(r);case"AdStartRequest":return this.adDisplayController.onAdStartRequest.add(r);case"AdStarted":return this.adDisplayController.onAdStart.add(r);case"AdPodStartRequest":return this.adDisplayController.onAdPodStartRequest.add(r);case"AdPodStarted":return this.adDisplayController.onAdMediaStart.add(r);case"AdPodImpression":return this.adDisplayController.onAdPodImpression.add(r);case"AdPodVideoFirstQuartile":return this.adDisplayController.onAdPodFirstQuartile.add(r);case"AdPodVideoMidpoint":return this.adDisplayController.onAdPodMidpoint.add(r);case"AdPodVideoThirdQuartile":return this.adDisplayController.onAdPodThirdQuartile.add(r);case"AdRemainingTimeChange":return this.adDisplayController.adPodRemainingTime.add(()=>{i({})});case"AdPodDurationChange":return this.adDisplayController.adPodDuration.add(r);case"AdPodSkipped":return this.adDisplayController.onAdSkipped.add(r);case"AdClickThru":return this.adDisplayController.onClickThrough.add(r);case"AdPodError":return this.adDisplayController.onAdPodError.add(e=>{let t,{error:r,adPodId:n}=e;"string"===typeof r.code?t=r.code:(t="AD_POD_UNRECOGNIZED_ERROR_CODE",cs.c.error({error:new ls.a({code:t,details:{error:r,adPodId:n}})})),i({code:t,adPodId:n})});case"AdPodStopped":return this.adDisplayController.onAdMediaEnd.add(r);case"AdPodComplete":return this.adDisplayController.onAdPodComplete.add(r);case"AdPodClose":return this.adDisplayController.onAdPodClose.add(r);case"AllAdPodVideoComplete":return this.adDisplayController.onAllAdPodComplete.add(r);case"AdStopped":return this.adDisplayController.onDestroy_PUBLIC_DO_NOT_USE.add(e=>{let{reason:t}=e;"unload"!==t&&r()});case"AdSkippableStateChange":return this.adDisplayController.adSkippableState.add(e=>{i({skippableState:e})});case"AdVolumeChange":return this.adDisplayController.adVolume.add(()=>{i({})});case"AdVolumeAvailabilityStateChange":return this.adDisplayController.adVolumeAvailability.add(()=>{i({})});case"AdPlayingStateChange":return this.adDisplayController.playingState.add(e=>{i({playingState:e})});case"AdStartRejected":return this.adDisplayController.onAdStartRejected.add(r);case"AdPodCloseStateChange":return this.adDisplayController.adPodCloseState.add(r);case"AdTuneStateChange":return this.adDisplayController.adTuneState.add(r);case"AdInteraction":return this.adDisplayController.onAdInteraction.add(r);default:return nd.a}}),this.videoSlot=t,this.slot=i,this.mediaAds=r,this.playbackParameters=n,this.onPlayAd=a;const s=new cv(i);this.addDestroyHandler(()=>{s.destroy()});const d=new Tv(i,{numberOfMeasurementSteps:Zm});this.addDestroyHandler(()=>{d.destroy(void 0)});const l={element:i,size:s.onResize,visibilityRatio:d.totalVisibilityRatioValueSignal};this.adDisplayController=new pg({config:this.playbackParameters,videoNode:this.videoSlot,videoWrapperNode:this.slot,renderSkin:o,visibilitySlotParameters:l}),this.playbackParameters.retainLastMediaAfterPlayback&&this.adDisplayController.enableRetainLastMediaAfterPlayback(),this.addDestroyHandler(e=>{this.adDisplayController.destroy({reason:e,details:void 0})}),this.addDestroyHandler(fa(()=>{this.destroy("unload")},null!==Yo.a&&void 0!==Yo.a?Yo.a:window))}createPlaybackMethod(e,t){return()=>{if(this.isPlayAdCalled&&!this.isDestroyed)t();else{X(new ls.a({code:this.isDestroyed?"CALL_PLAYBACK_METHOD_AFTER_STOP":"CALL_PLAYBACK_METHOD_BEFORE_PLAY",details:{methodName:e}}))}}}}const mg=Tn({isAbuseSupported:!1,abuseButtonClickHandler:nd.a,abuseDisplayStatus:"hidden",abuseScreenCloseHandler:nd.a,abuseVariantChooseHandler:nd.a,pauseByOpenAbuseScreen:!1,abuseCustomReasonText:"",abuseCustomReasonTextHandler:nd.a,abuseActiveDisplayType:"default",setAbuseActiveDisplayType:nd.a,abuseSubmittedOption:void 0,setAbuseSubmittedOption:nd.a,previousDisplayType:"default",setPreviousDisplayType:nd.a,destroyCurrentViewer:nd.a,abuseScaleRate:void 0,setAbuseScaleRate:nd.a,legalInfoText:void 0,onAbuseCopyLinkToClipboardClick:nd.a});mg.Provider.displayName="AbuseContext";const vg=e=>{var t;let{adDisplayController:i}=e;const r=Un(i.pauseByOpenAbuseScreen),n=Un(i.abuseDisplayStatus),{abuseParameters:a,playingState:o}=i,{abuseUrl:s,legalInfoText:d}=Un(a),[l,c]=Sn(""),[u,h]=Sn("default"),[p,A]=Sn(void 0),[m,v]=Sn("default"),[f,_]=Sn(void 0);wn(()=>{const e=o.subscribeValueCondition(e=>"play"===e,()=>{"hidden"!==n&&i.handleAbuseScreenCloseByResumeError()});return()=>{e()}},[n]);const b=null===(t=Un(i.actionButtonParameters))||void 0===t?void 0:t.clickUrl,g=b?()=>{i.onAbuseCopyLinkToClipboardClick(b)}:void 0;return{isAbuseSupported:Boolean(s),abuseButtonClickHandler:i.abuseButtonClickHandler,abuseDisplayStatus:n,abuseScreenCloseHandler:i.abuseScreenCloseHandler,abuseVariantChooseHandler:i.abuseVariantChooseHandler,pauseByOpenAbuseScreen:r,destroyCurrentViewer:i.destroyCurrentViewer,onAbuseCopyLinkToClipboardClick:g,abuseCustomReasonText:l,abuseCustomReasonTextHandler:c,abuseActiveDisplayType:u,setAbuseActiveDisplayType:h,abuseSubmittedOption:p,setAbuseSubmittedOption:A,previousDisplayType:m,setPreviousDisplayType:v,abuseScaleRate:f,setAbuseScaleRate:_,legalInfoText:d}},fg=()=>Nn(mg),_g=Tn({});_g.Provider.displayName="ControlsVisibilityContext";const bg=e=>{let{adDisplayController:t}=e;return Un(t.combinedSkinControlsVisibility)},gg=()=>Nn(_g),Og=Tn({socialAdvertising:!1});Og.Provider.displayName="SocialAdvertisingContext";const yg=e=>{let{adDisplayController:t}=e;return{socialAdvertising:Un(t.socialAdvertising)}},Tg=()=>Nn(Og);var Eg=i(50),Sg=i.n(Eg);const wg=e=>{let{isActive:t}=e;return Hn(Sg.a),nn("svg",{className:_f(Eg.locals.AbuseAnimationIcon,{[Eg.locals.AbuseAnimationIcon_cross]:t}),width:"24",height:"24",fill:"#fff",xmlns:"http://www.w3.org/2000/svg"},nn("g",{className:Eg.locals.AbuseAnimationIcon__lines},nn("path",{d:"M -4 -4 L 4 4","stroke-width":"2","stroke-linecap":"round",stroke:"#fff",class:_f(Eg.locals.AbuseAnimationIcon__line,Eg.locals.AbuseAnimationIcon__line_left)}),nn("path",{d:"M -4 -4 L 4 4","stroke-width":"2","stroke-linecap":"round",stroke:"#fff",class:_f(Eg.locals.AbuseAnimationIcon__line,Eg.locals.AbuseAnimationIcon__line_right)})),nn("g",null,nn("rect",{width:"24",height:"24",rx:"12","fill-opacity":"0.1"}),nn("g",null,nn("circle",{class:_f(Eg.locals.AbuseAnimationIcon__dot,Eg.locals.AbuseAnimationIcon__dot_top),fill:"#fff",cx:"12",cy:"6",r:"1.5"}),nn("circle",{class:Eg.locals.AbuseAnimationIcon__dot,cx:"12",cy:"12",r:"1.5"}),nn("circle",{class:_f(Eg.locals.AbuseAnimationIcon__dot,Eg.locals.AbuseAnimationIcon__dot_bottom),fill:"#fff",cx:"12",cy:"18",r:"1.5"}))))},Ig=e=>{let{width:t,height:i}=e;return t<=300||i<=300};var Pg=i(152),Cg=i.n(Pg);const Dg=e=>{let{onClickHandler:t,isActive:i}=e;Hn(Cg.a);const r=Ig(Of());return nn("div",{onClick:t,className:_f(Pg.locals.AbuseBurgerButton,{[Pg.locals.AbuseBurgerButton_inFullSize]:r})},nn(wg,{isActive:i}))};var Ng=i(93),Rg=i.n(Ng);const kg=e=>{let{children:t,isActive:i=!0,url:r,onClick:n,className:a,buttonClassName:o,contentClassName:s}=e;Hn(Rg.a);const d=_f(Ng.locals.Button,a,{[Ng.locals.Button_active]:i,[Ng.locals.Button_link]:Boolean(r)}),l=nn("div",{className:Ng.locals.Button__clickable},nn("div",{className:o},nn("div",{className:_f(Ng.locals.Button__content,s)},t)));return r?nn("a",{className:d,href:r,target:"_blank",onClick:n},l):nn("div",{className:d,onClick:n},l)};var Vg=i(94),Lg=i.n(Vg);const Bg=e=>{let{icon:t,className:i}=e;return t?nn("div",{className:i},t):null},Mg=e=>{let{buttonText:t,leftIcon:i,rightIcon:r,onClick:n,url:a}=e;Hn(Lg.a);const o=Dn(()=>{n&&n()},[n]);return nn(kg,{className:Vg.locals.AbuseOptionButton,url:a,buttonClassName:Vg.locals.AbuseOptionButton__clickable,contentClassName:Vg.locals.AbuseOptionButton__content,onClick:o},nn(Bg,{icon:i,className:Vg.locals.AbuseOptionButton__leftIcon}),t,nn(Bg,{icon:r,className:Vg.locals.AbuseOptionButton__rightIcon}))};var jg=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,nn("svg",Object.assign({width:"6",height:"10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[nn("path",{d:"M1 1l3.5 4L1 9",stroke:"#498BFF","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},[])])};const Ug=e=>{let{className:t}=e;return nn(jg,{className:t})};var xg=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,nn("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[nn("path",{d:"M4 1h5v5M9 1L1.5 8.5",stroke:"#C6CFD8","stroke-width":"1.25","stroke-linecap":"round","stroke-linejoin":"round"},[])])};const Fg=e=>{let{className:t}=e;return nn(xg,{className:t})},Hg=e=>"anotherReasonAd"===e?nn(Ug,null):"about"===e?nn(Fg,null):void 0;var zg=i(34),Wg=i.n(zg);const Gg=e=>{let{buttonTexts:t,onClickHandlers:i}=e;const r=D_();return nn("div",{className:zg.locals.AbuseDisplay__complaintDisplay},nn("div",{className:zg.locals.AbuseDisplay__text},r("ABUSE_IMPROVE_REASON_TEXT")),Object(Zo.a)(Object(Hs.a)(t),e=>nn(Mg,{key:e,onClick:i[e],rightIcon:Hg(e),buttonText:t[e]})))};var Yg=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,nn("svg",Object.assign({width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[nn("path",{d:"M9.117 7.349a2.5 2.5 0 000 3.535.833.833 0 11-1.179 1.179 4.167 4.167 0 010-5.893l2.946-2.946a4.167 4.167 0 115.893 5.892l-.91.911a.833.833 0 11-1.18-1.178l.911-.911a2.5 2.5 0 00-3.535-3.536L9.117 7.35zm1.767 5.302a2.5 2.5 0 000-3.535.833.833 0 111.178-1.179 4.167 4.167 0 010 5.892l-2.916 2.917a4.167 4.167 0 01-5.893-5.892l.855-.855a.833.833 0 111.178 1.179l-.854.854a2.5 2.5 0 003.535 3.536l2.917-2.917z",fill:"#498BFF"},[])])};const qg=e=>{let{className:t}=e;return nn(Yg,{className:t})};var Xg=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,nn("svg",Object.assign({width:"18",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[nn("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.598 5l2.743 4.75c.68 1.177 1.13 1.96 1.41 2.567.283.614.268.799.266.814a1.25 1.25 0 01-.508.88c-.012.009-.165.115-.839.176-.664.061-1.568.063-2.927.063H6.258c-1.36 0-2.263-.002-2.928-.063-.673-.061-.826-.167-.838-.176a1.25 1.25 0 01-.508-.88c-.002-.015-.017-.2.266-.814.28-.607.73-1.39 1.41-2.567L6.402 5c.68-1.177 1.133-1.959 1.518-2.504.39-.552.558-.632.572-.638a1.25 1.25 0 011.017 0c.013.006.181.086.571.638.386.545.839 1.327 1.518 2.504zm-6.64-.833C6.286 1.869 6.949.72 7.815.335a2.917 2.917 0 012.373 0c.865.386 1.529 1.534 2.855 3.832l2.742 4.75c1.326 2.297 1.99 3.445 1.89 4.388a2.917 2.917 0 01-1.186 2.055c-.766.557-2.093.557-4.745.557H6.258c-2.653 0-3.979 0-4.746-.557a2.917 2.917 0 01-1.186-2.055c-.099-.943.564-2.091 1.89-4.388l2.743-4.75zM8.995 10.5c-.578 0-1.035.433-1.035 1.036 0 .602.457 1.047 1.035 1.047.59 0 1.048-.445 1.048-1.047 0-.603-.458-1.036-1.048-1.036zM8.02 5.1a.417.417 0 01.417-.434h1.129c.237 0 .427.197.416.434l-.255 4.167a.417.417 0 01-.416.399h-.62a.417.417 0 01-.415-.399L8.02 5.1z",fill:"#498BFF"},[])])};const Kg=e=>{let{className:t}=e;return nn(Xg,{className:t})};var Qg=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,nn("svg",Object.assign({width:"18",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[nn("path",{d:"M16.256 15.256a.833.833 0 000-1.179L2.923.744a.833.833 0 10-1.179 1.179l1.594 1.593C1.32 4.948.25 6.902.25 8c0 1.875 3.125 6.25 8.75 6.25a9.83 9.83 0 004.171-.9l1.906 1.906a.833.833 0 001.179 0zm-4.357-3.178A8.309 8.309 0 019 12.583c-2.135 0-3.974-.745-5.373-1.997-1.06-.948-1.71-2.1-1.71-2.586 0-.486.65-1.638 1.71-2.586.285-.255.588-.489.909-.7l1.448 1.448A3.333 3.333 0 0010.42 10.6l1.478 1.479zm4.035-.68C17.125 10.175 17.75 8.838 17.75 8c0-1.875-3.125-6.25-8.75-6.25-.87 0-1.679.104-2.426.288l1.433 1.434c.324-.037.655-.055.993-.055 2.135 0 3.974.746 5.373 1.997 1.06.948 1.71 2.1 1.71 2.586 0 .425-.497 1.358-1.329 2.219l1.18 1.179z",fill:"#498BFF"},[])])};const Jg=e=>{let{className:t}=e;return nn(Qg,{className:t})};var Zg=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,nn("svg",Object.assign({width:"18",height:"16",viewBox:"0 0 10 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[nn("path",{d:"M7.36 15.5H9.97V.5H6.173C2.353.5.345 2.464.345 5.356c0 2.31 1.101 3.67 3.065 5.072L0 15.5h2.827l3.799-5.676-1.317-.885c-1.597-1.08-2.374-1.921-2.374-3.734 0-1.597 1.123-2.676 3.26-2.676H7.36V15.5z",fill:"#498BFF"},[])])};const $g=e=>{let{className:t}=e;return nn(Zg,{className:t})},eO=e=>{switch(e){case"hide":return nn(Jg,null);case"complaint":return nn(Kg,null);case"about":return nn($g,null);default:return}},tO=e=>{let{buttonTexts:t,onClickHandlers:i,legalInfoText:r,isVisibleAbuse:n}=e;const{onAbuseCopyLinkToClipboardClick:a}=fg(),o=D_(),[s,d]=Sn(!1);return wn(()=>{n||d(!1)},[n]),nn("div",null,r&&nn("div",{className:zg.locals.AbuseDisplay__legal},r),Object(Zo.a)(Object(Hs.a)(t),e=>nn(Mg,{key:e,url:"about"===e?"https://yandex.ru/adv/products":void 0,onClick:i[e],leftIcon:eO(e),rightIcon:Hg(e),buttonText:t[e]})),a&&nn(Mg,{key:"copy",onClick:()=>{a&&(a(),d(!0))},buttonText:o(s?"ABUSE_COPIED":"ABUSE_COPY_TEXT"),leftIcon:nn(qg,null)}))},iO=e=>{let{buttonTexts:t,onClickHandlers:i}=e;const r=D_();return nn("div",{className:zg.locals.AbuseDisplay__hideDisplay},nn("div",{className:zg.locals.AbuseDisplay__text},r("ABUSE_IMPROVE_REASON_TEXT")),Object(Zo.a)(Object(Hs.a)(t),e=>nn(Mg,{key:e,onClick:i[e],rightIcon:Hg(e),buttonText:t[e]})))};var rO=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,nn("svg",Object.assign({width:"16",height:"10",viewBox:"0 0 16 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[nn("path",{d:"M3.345 4.167h11.368c.435 0 .787.37.787.833 0 .46-.35.833-.787.833H3.345l1.91 1.911a.833.833 0 11-1.178 1.179L.744 5.589a.833.833 0 010-1.178l3.333-3.334a.833.833 0 111.179 1.179l-1.91 1.91z",fill:"#498BFF"},[])])};const nO=e=>{let{className:t}=e;return nn(rO,{className:t})},aO=e=>{let{previousDisplayType:t,onClickHandler:i}=e;const{abuseCustomReasonText:r,abuseCustomReasonTextHandler:n,setAbuseActiveDisplayType:a}=fg(),o=D_(),s=Dn(()=>{a(t)},[t]);return nn("div",{className:zg.locals.AbuseDisplay__customReasonDisplay},nn("div",{className:zg.locals.AbuseDisplay__customReasonDisplayHeader},nn("div",{className:zg.locals.AbuseDisplay__arrowLeftIcon,onClick:s},nn(nO,null)),nn("div",{className:zg.locals.AbuseDisplay__hint},o("ABUSE_OPTION_ANOTHER_REASON"))),nn("div",{className:zg.locals.AbuseDisplay__messageBox},nn("textarea",{className:zg.locals.AbuseDisplay__customReasonDisplayTextarea,placeholder:o("ABUSE_CUSTOM_FIELD_PLACEHOLDER"),onInput:e=>{const t=e.currentTarget.value;t&&n(t)},value:r}),nn(kg,{className:zg.locals.AbuseDisplay__customReasonDisplayButton,contentClassName:zg.locals.AbuseDisplay__customReasonDisplayButtonContent,onClick:()=>i("anotherReasonAd",{UserResponse:r})},o("ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT"))))},oO=e=>{let{isVisibleAbuse:t,socialAdvertising:i}=e;Hn(Wg.a);const{abuseVariantChooseHandler:r,abuseActiveDisplayType:n,setAbuseActiveDisplayType:a,abuseSubmittedOption:o,setAbuseSubmittedOption:s,previousDisplayType:d,destroyCurrentViewer:l,setPreviousDisplayType:c,legalInfoText:u}=fg(),[h,p]=Sn(null),A=Of(),m=Ig(A),v={};wn(()=>{!t&&o&&l()},[o,t]),wn(()=>{if(m)return;const e=v.current;t&&e&&p(e.offsetHeight+"px")},[n,t,m]),wn(()=>{m&&p(null)},[m]);const f=Cn(()=>U(WA,(e,t)=>()=>{if(c(n),"hide"===t){if(i)return void r(t);a("hide"),s(t),r(t,{noDestroyOnClick:!0})}else if("complaint"===t)a("complaint"),s(t),r(t,{noDestroyOnClick:!0});else if("anotherReasonAd"===t)a("message");else{const e="about"===t;s(void 0),r(t,{noDestroyOnClick:e})}}),[r,n,i]),_={height:null!==h&&void 0!==h?h:""},b=D_(),g=(e=>({hide:e("ABUSE_OPTION_HIDE"),complaint:e("ABUSE_OPTION_COMPLAINT"),about:e("ABUSE_OPTION_ABOUT")}))(b),O=(e=>Object(Qo.a)(Object(Hs.a)(FA),(t,i)=>{switch(i){case"anotherReasonAd":t[i]=e("ABUSE_OPTION_ANOTHER_REASON");break;case"notInterestedAd":t[i]=e("ABUSE_OPTION_NOT_INTERESTED");break;case"alreadyPurchasedAd":t[i]=e("ABUSE_OPTION_ALREADY_PURCHASED");break;case"seenTooOftenAd":t[i]=e("ABUSE_OPTION_SEEN_TOO_OFTEN");break;case"overlapContentAd":t[i]=e("ABUSE_OPTION_OVERLAP_CONTENT")}return t},{}))(b),y=((e,t)=>t?Object(Qo.a)(Object(Hs.a)(zA),(t,i)=>{switch(i){case"politicalSocialAd":t[i]=e("ABUSE_OPTION_POLITICAL_SOCIAL");break;case"shockingContentSocialAd":t[i]=e("ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL");break;case"falseInfoSocialAd":t[i]=e("ABUSE_OPTION_FALSE_INFO_SOCIAL")}return t},{}):Object(Qo.a)(Object(Hs.a)(HA),(t,i)=>{switch(i){case"unpleasantContentAd":t[i]=e("ABUSE_OPTION_UNPLEASANT_CONTENT");break;case"politicalAd":t[i]=e("ABUSE_OPTION_POLITICAL_SOCIAL");break;case"scammersAd":t[i]=e("ABUSE_OPTION_SCAMMERS");break;case"illegalGoodsOrServiceAd":t[i]=e("ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE");break;case"anotherReasonAd":t[i]=e("ABUSE_OPTION_ANOTHER_REASON")}return t},{}))(b,i);return nn("div",{className:_f(zg.locals.AbuseDisplay,{[zg.locals.AbuseDisplay_fullSize]:m,[zg.locals.AbuseDisplay_visible]:t}),style:_},nn("div",{className:zg.locals.AbuseDisplay__content,ref:v},"default"===n?nn(tO,{isVisibleAbuse:t,legalInfoText:u,buttonTexts:g,onClickHandlers:f}):null,"hide"===n?nn(iO,{buttonTexts:O,onClickHandlers:f}):null,"complaint"===n?nn(Gg,{buttonTexts:y,onClickHandlers:f}):null,"message"===n?nn(aO,{onClickHandler:r,previousDisplayType:d}):null))};var sO=i(159),dO=i.n(sO);const lO=e=>{let{isVisible:t}=e;Hn(dO.a);const{abuseScreenCloseHandler:i,abuseButtonClickHandler:r}=fg(),{socialAdvertising:n}=Tg();return nn("div",{className:sO.locals.AbuseContainer},nn(Dg,{onClickHandler:()=>t?i():r(),isActive:t}),nn(oO,{isVisibleAbuse:t,socialAdvertising:n}))},cO=Tn(void 0);cO.Provider.displayName="AdAnimationUnmuteButtonContext";const uO=e=>{let{adDisplayController:t}=e;return Un(t.volumeButtonCollapseProgress)},hO=()=>Nn(cO),pO=Tn([]),AO=e=>Un(e.disclaimerParameters),mO=Tn({playingState:"idle",play:nd.a,isStarted:!1,isSlowStart:!1});mO.Provider.displayName="PlayingStateContext";const vO=e=>{let{adDisplayController:t}=e;const[i,r]=Sn(!1),n=Un(t.playingState),a=Un(t.adSlowStart);return wn(()=>{const e=t.onAdStart.addOne(()=>{r(!0)});return()=>{e()}},[]),{playingState:n,play:Dn(()=>{t.resume(),cs.c.event({name:"SkinPlayByCircleButton",data:{}})},[]),isStarted:i,isSlowStart:a}},fO=()=>Nn(mO),_O=Tn({isPackshotPlaying:!1});_O.Provider.displayName="SkinPackshotContext";const bO=e=>{let{isPackshotPlaying:t}=e;return{isPackshotPlaying:Un(t)}},gO=()=>Nn(_O),OO=Tn({timeToSkip:tb,skipCurrentAdPod:nd.a});OO.Provider.displayName="SkipContext";const yO=e=>{let{adDisplayController:t}=e;const{timeToSkip:i}=t;return{timeToSkip:Un(i),skipCurrentAdPod:Dn(()=>{const e=i.getValue();0===i.getValue()?t.skipCurrentViewer():cs.c.event({name:"ClickToInactiveSkipButton",data:{timeToSkipValue:e}})},[])}},TO=()=>Nn(OO),EO=Tn({volumeStatus:"unknown",setMuted:nd.a});EO.Provider.displayName="VolumeContext";const SO=e=>{let{adDisplayController:t}=e;return{volumeStatus:Un(t.volumeStatus),setMuted:e=>t.setMuted(e)}},wO=()=>Nn(EO);var IO=i(153),PO=i.n(IO);const CO=e=>{let{text:t,textLength:i,viewBox:r}=e;return Hn(PO.a),nn("svg",{className:_f(IO.locals.DisclaimerSvg),xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",viewBox:r},nn("text",{className:IO.locals.DisclaimerSvg_text,lengthAdjust:"spacing",textLength:i,y:"85%"},t))};var DO=i(160),NO=i.n(DO);const RO=((e,t,i,r)=>{const n=((e,t,i,r)=>{const n=(t-r)/(e-i),a=t-n*e;return e=>n*e+a})(e,t,i,r),a=((e,t)=>i=>Math.max(e,Math.min(i,t)))(t,r);return e=>{const t=n(e);return a(t)}})(100,5,600,330),kO=e=>{let{text:t,heightPortion:i}=e;const r=Of();Hn(NO.a);const{textLength:n,viewBox:a,fontSize:o}=function(e,t){const{width:i,height:r}=e,n=r,a=Math.min(n,RO(i)),o=Math.max(i,t.length*a/1.2);return{fontSize:a,textLength:o,textPositionOffset:(n+a/2)/2,viewBox:"0 0 "+o+" "+n}}({width:r.width,height:r.height*i},t);return nn("div",{className:DO.locals.Disclaimer,style:{height:r.height*i,fontSize:o}},nn(CO,{text:t,textLength:n,viewBox:a}))};var VO=i(161),LO=i.n(VO),BO=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,nn("svg",Object.assign({width:"26",height:"24",viewBox:"0 0 26 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[nn("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M20.263 4.06c2.08 2.159 3.227 4.929 3.227 7.8 0 2.871-1.146 5.641-3.227 7.8l-1.73-1.42c1.703-1.768 2.641-4.032 2.641-6.38 0-2.347-.938-4.613-2.641-6.38l1.73-1.42zM7.61 9.26l3.964-3.9h1.33v13h-1.33l-3.97-3.9H3.64v-5.2h3.97zm11.248 2.6a7.666 7.666 0 00-2.053-5.2l-1.73 1.487a5.48 5.48 0 011.467 3.712 5.48 5.48 0 01-1.467 3.714l1.73 1.487a7.667 7.667 0 002.053-5.2z",fill:"#F2F2F2"},[])])};const MO=e=>{let{className:t}=e;return Hn(LO.a),nn(BO,{className:_f(VO.locals.MuteIcon,t)})};var jO=i(95),UO=i.n(jO);const xO=e=>{let{isActive:t=!0,className:i,size:r}=e,n=function(e,t){if(null==e)return{};var i,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)i=a[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}(e,["isActive","className","size"]);Hn(UO.a);const a=_f(jO.locals.SquareButton,i,{[jO.locals.SquareButton_active]:t,[jO.locals.SquareButton_middle]:"middle"===r});return nn(kg,Ua({},n,{isActive:t,className:a,buttonClassName:jO.locals.SquareButton__basebutton,contentClassName:jO.locals.SquareButton__basecontent}))};var FO=i(162),HO=i.n(FO),zO=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,nn("svg",Object.assign({width:"26",height:"24",viewBox:"0 0 26 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[nn("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.61 4L2.5 5.328 7.145 9.24H3.637v5.201h3.966l3.973 3.901h1.33v-4.25L19.92 20s.3-.292.62-.64c.242-.271.582-.697.582-.697L3.61 4zm12.907 8.412l2.002 1.686a7.556 7.556 0 00.346-2.258 7.666 7.666 0 00-2.054-5.2l-1.732 1.487a5.48 5.48 0 011.469 3.713c0 .192-.01.383-.031.572zm3.817 3.215l1.79 1.508A10.962 10.962 0 0023.5 11.84c0-2.871-1.147-5.642-3.23-7.801l-1.73 1.42c1.704 1.767 2.643 4.034 2.643 6.381a8.918 8.918 0 01-.85 3.787zM9.98 6.907l2.925 2.464V5.339h-1.33L9.981 6.907z",fill:"#F2F2F2"},[])])};const WO=e=>{let{className:t}=e;return Hn(HO.a),nn(zO,{className:_f(FO.locals.UnmuteIcon,t)})};var GO=i(62),YO=i.n(GO);const qO=()=>{Hn(YO.a);const e=D_(),{volumeStatus:t,setMuted:i}=wO(),r=S_.easeOut(hO()),n=1-r,a="unmuted"===t,o=Dn(()=>{i(!0)},[]),s=pa(Of()),d="middle"===s,l=Dn(()=>{i(!1)},[]),c=e("UNMUTE");return nn(xO,{className:_f(GO.locals.VolumeButton,GO.locals.UnmuteButton),onClick:a?o:l,size:s},nn("div",{className:GO.locals.VolumeButton__content},nn("div",{className:_f(GO.locals.VolumeButton__iconContainer,{[GO.locals.VolumeButton__iconContainer_middle]:d})},nn(a?MO:WO,{className:GO.locals.VolumeButton__icon})),1!==r&&nn("div",{className:_f(GO.locals.UnmuteButton__text,GO.locals.UnmuteButton__text_animation,{[GO.locals.UnmuteButton__text_middle]:d}),style:{maxWidth:140*n,transform:"scale("+n+")",opacity:n,marginRight:12*n}},c)))};var XO=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,nn("svg",Object.assign({width:"34",height:"28",viewBox:"0 0 34 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[nn("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M24 14L0 28V0l24 14zm10 14V0h-4v28h4z",fill:"#fff"},[])])};const KO=e=>{let{className:t}=e;return nn(XO,{className:t})},QO=e=>{let{timeToSkipString:t,iconClassName:i,digitsContainerClassName:r}=e;if(!t)return nn(KO,{className:i});const[n,a]=t;return nn("div",{className:r},nn("span",null,n),nn("span",null,a))};var JO=i(116),ZO=i.n(JO);const $O=e=>{let{isActive:t,onClick:i,countdownString:r}=e;return Hn(ZO.a),nn(xO,{className:_f(JO.locals.SkipButtonSmall,{[JO.locals.SkipButtonSmall__disabled]:!t}),onClick:i,size:"small",isActive:t},nn("div",{class:JO.locals.SkipButtonSmall__content},nn(QO,{timeToSkipString:r,iconClassName:JO.locals.SkipButtonSmall__timeToSkipString__icon})))};var ey=i(84),ty=i.n(ey);const iy=e=>{let{isActive:t,onClick:i,skipText:r,countdownString:n}=e;return Hn(ty.a),nn(xO,{className:ey.locals.SkipButtonWithText,onClick:i,size:"middle",isActive:t},nn("div",{className:ey.locals.SkipButtonWithText__content},nn("div",{className:ey.locals.SkipButtonWithText__text},r),nn("div",{className:ey.locals.SkipButtonWithText__timeToSkipString},nn(QO,{timeToSkipString:n,iconClassName:ey.locals.SkipButtonWithText__icon,digitsContainerClassName:ey.locals.SkipButtonWithText__digitsContainer}))))};var ry=i(89);const ny=2,ay=()=>{const e=Of(),{skipCurrentAdPod:t,timeToSkip:i}=TO(),r=D_(),n=pa(e),a=function(e){if(e<=0)return"";const t=Math.ceil(e)%100;return Object(ry.a)(String(t),ny,"0")}(i),o=0===i;return"small"===n?nn($O,{onClick:t,countdownString:a,isActive:o}):nn(iy,{onClick:t,skipText:r("SKIP"),countdownString:a,isActive:o})},oy=Tn(0);oy.Provider.displayName="AdAnimationProgressContext";const sy=e=>{let{skinAnimationProgress:t}=e;return Un(t)},dy=()=>Nn(oy),ly=Tn({adPodsCount:0,playingAdPodIndex:0});ly.Provider.displayName="MediaFileContext";const cy=e=>{let{adPodsCount:t,playingAdPodIndex:i}=e;return{adPodsCount:Un(t),playingAdPodIndex:Un(i)}};var uy=i(163),hy=i.n(uy);const py=()=>{Hn(hy.a);const{adPodsCount:e,playingAdPodIndex:t}=(()=>Nn(ly))(),i=dy();return nn("div",{className:uy.locals.Timeline},Object(Zo.a)(function(e){const t=[];for(let i=0;i<e;i++)t.push(i);return t}(e),r=>nn(xf,r<t?{key:r,adAnimationProgress:1,currentNumber:r,count:e,backgroundOpacity:.3}:r===t?{key:r,adAnimationProgress:i,currentNumber:r,count:e,backgroundOpacity:.3}:{key:r,adAnimationProgress:0,currentNumber:r,count:e,backgroundOpacity:.3})))},Ay=Tn(Cm);Ay.Provider.displayName="AdDurationContext";const my=e=>{let{adDisplayController:t}=e;return Un(t.adPodDuration)},vy=()=>Nn(Ay),fy=(e,t)=>{const{width:i,height:r}=e,{fontSize:n,lineHeight:a=n,noFontSizeLimit:o}=t,s=Math.min(r+i/20,Math.sqrt(i*i+r*r)/2);if(o)return{fontSize:n*s+"px",lineHeight:a*s+"px"};const d=Math.max(n*s,9);return{fontSize:d+"px",lineHeight:Math.max(a/n*d,9)+"px"}};var _y=i(124),by=i.n(_y);const gy=e=>{const{children:t,style:i,onClick:r}=e;return Hn(by.a),nn("button",{style:i,className:_y.locals.ArrowButton,onClick:r},nn("span",{className:_y.locals.ArrowButton__content},t&&nn("span",{className:_y.locals.ArrowButton__textContent},t),nn(M_,null)))},Oy={body:{fontSize:.035,lineHeight:.05},title:{fontSize:.057,lineHeight:.07},buttonWithoutText:{fontSize:.157,lineHeight:.157},buttonWithText:{fontSize:.107,lineHeight:.107}},yy=Tn(void 0);yy.Provider.displayName="VideoContentSizeContext";const Ty=e=>Un(e),Ey=()=>Nn(yy),Sy=Tn(ss);Sy.Provider.displayName="VideoSlotSizeContext";const wy=e=>Un(e),Iy=()=>Nn(Sy);var Py=i(70),Cy=i.n(Py);const Dy=e=>{let{disableAnimation:t=!1}=e;Hn(Cy.a);const{actionButtonParameters:i,clickThrough:r}=B_();if(!i)return null;const{oldButtonStyle:n,buttonPlacement:a,label:o}=i,s=dy(),d=vy(),l=d*s,{adjacentSize:c,innerSize:u,extraHorizontalSpace:h}=Gt({slotSize:Of(),videoContentSize:Ey(),videoSlotSize:Iy()}),p={height:h?u:c,width:h?c:u},A=p.width>451&&!Object(bs.a)(["left-center","right-center"],a.position)?70:"",m=t?void 0:function(e,t,i){return{[i]:ca({position:e,unit:"number",steps:[{duration:.06*t,values:[-100,5],easing:la(.54,1.25,.54,1.26,.01)},{duration:.62*t,value:5},{duration:.02*t,values:[5,4.9],easing:la(.5,1,.5,60,.01)},{duration:.04*t,values:[4.9,5],easing:la(.5,100,.5,-100,.01)}]})+"%"}}(l,d,a.side),v=Dn(()=>r({}),[r]);return nn("div",{className:_f({[Py.locals.OldActionButton__wrapper]:!0,[Py.locals.OldActionButton__bannerPosition_right_center]:"right-center"===a.position,[Py.locals.OldActionButton__bannerPosition_left_center]:"left-center"===a.position,[Py.locals.OldActionButton__bannerPosition_left_bottom]:"left-bottom"===a.position}),style:p},nn("div",{className:Py.locals.OldActionButton__body,style:{bottom:A}},nn("div",{className:Py.locals.OldActionButton__context}),nn("div",{className:Py.locals.OldActionButton__buttonContainer,style:m},nn(gy,{style:xa({},fy(p,o?Oy.buttonWithText:Oy.buttonWithoutText),n),onClick:v},o))))},Ny=e=>"https://favicon.yandex.net/favicon/"+e+"?size=32";var Ry=i(125),ky=i.n(Ry);const Vy=e=>{let{clickThrough:t,actionButtonParameters:i}=e;Hn(ky.a);const r=Of(),{clickUrl:n,domain:a,punyDomain:o,greenUrl:s,label:d,title:l,body:c}=i,u=pa(Of());let h;Object(rd.a)(o)?h=Ny(o):Object(rd.a)(a)&&(h=Ny(a));const p=Dn(()=>{t({url:n})},[n]),A=Boolean(c||l);let m=0;const v=Ud.a.getFlagValueAndActivateTestId("ACTION_PANEL_VERTICAL_SHIFT_IN_PERCENTS");return Object(rd.a)(v)&&(m=r.height*(parseFloat(v)/100)),nn("div",{className:_f(Ry.locals.SkinActionButton,"middle"===u&&Ry.locals.SkinActionButton__middle,A&&Ry.locals.SkinActionButton__lifted),style:{marginBottom:m}},nn($_,{greenUrl:s,buttonLabel:d,onButtonClick:p,faviconSrc:h}))},Ly=()=>{const e=vy(),{actionButtonParameters:t,clickThrough:i,shouldUseActionPanel:r}=B_(),{isPackshotPlaying:n}=gO();return!1===gg().actionButton?null:t?n?null:o(e)?r?nn(Vy,{clickThrough:i,actionButtonParameters:t}):nn(Dy,null):null:null},By=Tn([]);By.Provider.displayName="SubtitlesContext";const My=e=>{let{adDisplayController:t}=e;return Un(t.adPodCurrentSubtitles)};var jy=i(154),Uy=i.n(jy);const xy=()=>{Hn(Uy.a);const e=(()=>Nn(By))();return e.length>0?nn("div",{className:jy.locals.Subtitles__container},Object(Zo.a)(e,e=>{let{text:t}=e;return nn("div",{className:jy.locals.Subtitles__subtitle},t)})):null};var Fy=i(117),Hy=i.n(Fy);const zy=()=>{Hn(Hy.a);const{timeToSkip:e}=TO(),{playingState:t}=fO(),i=gg(),{volumeStatus:r}=wO(),{isPackshotPlaying:n}=gO(),a=hO(),o=Of(),s=(()=>Nn(pO))(),d=pa(o),l="idle"!==t&&"unknown"!==r&&void 0!==a&&!1!==i.mute,c=e!==tb&&!1!==i.skip,u=!1!==i.timeline&&!n,h="small"===d,p=s.length>0&&!1!==i.disclaimers,{shouldUseActionPanel:A}=B_();return nn(on,null,nn("div",{className:Fy.locals.BottomControls__container},A&&nn(Ly,null),!h&&nn(xy,null),nn("div",{className:_f(Fy.locals.ButtonControls,p&&Fy.locals.ButtonControls_OnDisclaimers)},l&&nn(qO,null),h&&nn(xy,null),c&&nn(ay,null)),p&&nn("div",{className:Fy.locals.DisclaimerContainer},Object(Zo.a)(s,(e,t)=>{let{text:i,mandatoryHeightPortion:r}=e;return nn(kO,{key:t,heightPortion:r,text:i})}))),u&&nn(py,null))};var Wy=i(164),Gy=i.n(Wy),Yy=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,nn("svg",Object.assign({width:"18",height:"18",viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},t),[nn("path",{fill:"#FC0",d:"M14.684 3.292Q17.053 5.661 17.053 9q0 3.34-2.369 5.708Q12.34 17.053 9 17.053V18q3.742 0 6.371-2.629Q18 12.742 18 9q0-3.718-2.629-6.371Q12.742 0 9 0v.947q3.34 0 5.684 2.345z"},[])])};Object(Xs.a)({propertyName:"SPINNER_ICON_GLOBAL_CALLBACK",win:window});const qy=e=>{let{className:t}=e;return Hn(Gy.a),nn(Yy,{className:_f(Wy.locals.SpinnerIcon__css_animated,t)})},Xy=qy;var Ky=i(165),Qy=i.n(Ky);const Jy=e=>{let{className:t}=e;return Hn(Qy.a),nn(Xy,{className:_f(Ky.locals.Spinner,t)})};var Zy=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,nn("svg",Object.assign({width:"60",height:"60",viewBox:"0 0 60 60",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[nn("path",{d:"M30 60c16.569 0 30-13.431 30-30C60 13.431 46.569 0 30 0 13.431 0 0 13.431 0 30c0 16.569 13.431 30 30 30z",fill:"#000","fill-opacity":".65"},[]),nn("path",{d:"M25.423 19.454c-.793-.476-1.19-.714-1.516-.684a1 1 0 00-.713.404C23 19.44 23 19.901 23 20.826v18.348c0 .925 0 1.388.194 1.652a1 1 0 00.713.404c.326.03.723-.208 1.516-.684l15.29-9.174c.755-.453 1.132-.679 1.26-.971a1 1 0 000-.802c-.128-.292-.505-.518-1.26-.971l-15.29-9.174z",fill:"#fff","fill-rule":"evenodd","clip-rule":"evenodd"},[])])};const $y=e=>{let{className:t}=e;return nn(Zy,{className:t})};var eT=i(96),tT=i.n(eT);const iT=e=>{let{onClick:t,size:i}=e;Hn(tT.a);const r=_f(eT.locals.CirclePlayButton,{[eT.locals.CirclePlayButton_middle]:"middle"===i}),n=_f(eT.locals.CirclePlayButton__icon,{[eT.locals.CirclePlayButton__icon_middle]:"middle"===i});return nn(kg,{className:r,contentClassName:eT.locals.CirclePlayButton__basecontent,onClick:t},nn($y,{className:n}))},rT=()=>{const e=pa(Of()),{play:t}=fO();return nn(iT,{size:e,onClick:t})};var nT=i(166),aT=i.n(nT);const oT=()=>{Hn(aT.a);const{playingState:e,isStarted:t,isSlowStart:i}=fO(),r=gg(),n="pause"===e,a=n&&!1!==r.play,o=!a&&!n&&!t&&i&&!1!==r.loader;return nn("div",{className:nT.locals.CenterControls},a&&nn(rT,null),o&&nn(Jy,null))},sT=Tn({adSystemType:void 0,openAdSystemWebsite:nd.a});sT.Provider.displayName="AdSystemContext";const dT=e=>{let{adDisplayController:t}=e;return{adSystemType:Un(t.adSystemType),openAdSystemWebsite:t.openAdSystemWebsite}};var lT=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,nn("svg",Object.assign({height:"14",viewBox:"0 0 67 14",width:"67",xmlns:"http://www.w3.org/2000/svg"},t),[nn("path",{d:"M4.133.977h-.616c-.932 0-1.834.616-1.834 2.405 0 1.728.827 2.284 1.834 2.284h.616zm-.962 5.65l-1.834 4.119H0l2.014-4.404C1.067 5.862.436 4.99.436 3.382.436 1.127 1.863 0 3.562 0H5.29v10.746H4.133V6.628zM27.774 6.958c0-2.374.916-3.892 2.69-3.892.676 0 1.067.18 1.397.39l-.165 1.113c-.315-.27-.766-.526-1.247-.526-.842 0-1.443.947-1.443 2.855 0 1.894.45 2.976 1.398 2.976.57 0 1.007-.225 1.277-.466l.27.872c-.405.346-.886.57-1.577.57-1.623 0-2.6-1.307-2.6-3.892zm-3.427.015v3.773h-1.172V3.17h1.172v3.502l1.818-3.502h1.188l-1.879 3.562 2.15 4.013h-1.278zm-5.516-.706h1.94c0-1.292-.211-2.24-.888-2.24-.721 0-.977.887-1.052 2.24zm1.293 4.584c-1.563 0-2.525-1.247-2.525-3.577 0-2.435.676-4.208 2.284-4.208 1.263 0 2.09.947 2.09 3.517v.646h-3.157c0 1.713.481 2.615 1.413 2.615.661 0 1.187-.3 1.488-.51l.27.9c-.48.376-1.112.617-1.863.617zm-4.99-6.733h-1.307v.135c0 1.593-.075 3.923-.707 5.531h2.014zm1.759 8.116H15.84v-1.488h-3.247v1.488h-1.052v-2.45h.466c.691-1.608.767-3.953.767-5.967v-.646h3.516v6.613h.602zM10.866 3.17v7.575H9.709V7.349H7.965v3.397H6.793V3.17h1.172v3.216H9.71V3.171zM39.121.616h-2.33c-.045 2.72-.12 4.794-.24 6.343-.135 1.608-.376 2.675-.781 3.17h3.351zm.796 10.13H35.32l-.106 1.788h-.586V10.13h.316c.526-.436.782-1.639.932-3.171.15-1.594.195-3.968.24-6.959h3.758v10.13h.736v2.404h-.586zM45.223 5.47c0-.39.03-.72.06-1.036h-.045c-.105.33-.24.646-.406.976l-2.464 5.336h-.602V3.17h.662v5.26c0 .406-.03.737-.06 1.067h.044c.106-.345.256-.676.406-1.007l2.465-5.32h.616v7.575h-.676zM51.294 6.793c0-1.984-.54-3.156-1.412-3.156-.676 0-1.247.721-1.578 1.533v4.238c.3.616.721.917 1.398.917.961 0 1.593-1.142 1.593-3.532zm-2.99 3.427v2.87h-.707V3.171h.617l.06 1.248c.33-.722.886-1.398 1.728-1.398 1.263 0 1.999 1.518 1.999 3.712 0 2.78-.932 4.148-2.345 4.148a1.716 1.716 0 01-1.352-.661zM53.67 6.523h2.75c.12-2.014-.482-2.916-1.248-2.916-.797 0-1.443 1.022-1.503 2.916zm1.652 3.757c1.007 0 1.533-.812 1.533-.812l.226.571s-.571.857-1.774.857c-1.608 0-2.344-1.458-2.344-3.937 0-2.48.932-3.938 2.21-3.938 1.307 0 2.148 1.368 1.908 4.058h-3.427c.03 2.074.571 3.2 1.668 3.2zM59.125 10.746h-.707V3.17h.707v3.562l2.54-3.562h.691l-2.495 3.517 2.675 4.058h-.781l-2.63-3.923zM65.257 3.757v6.989h-.707V3.757h-1.758v-.586H67v.586z"},[])])},cT=i(118),uT=i.n(cT);const hT=e=>{let{size:t,adSystemType:i,onClick:r}=e;Hn(uT.a);const n=D_(),a="yandex"===i;return nn("span",{className:_f(cT.locals.AdLabel,{[cT.locals.AdLabel_middle]:"middle"===t,[cT.locals.AdLabel_withIcon]:a}),title:n("YANDEX_DIRECT"),onClick:r},a?nn(lT,{className:cT.locals.AdLabel_icon}):n("AD_TITLE"))};var pT=i(167),AT=i.n(pT);const mT=e=>{let{onClick:t}=e;Hn(AT.a);const i=D_()("SOCIAL_ADVERTISING_AD_LABEL");return nn("a",{className:pT.locals.SocialAdvertisingAdLabel,onClick:t},i)},vT=()=>{const e=pa(Of()),{adSystemType:t,openAdSystemWebsite:i}=(()=>Nn(sT))(),{socialAdvertising:r}=Tg();return r?nn(mT,{onClick:i}):void 0===t||"yandex"===t?null:nn(hT,{size:e,adSystemType:t,onClick:i})};var fT=i(168),_T=i.n(fT);const bT=()=>{Hn(_T.a);const{playingState:e}=fO(),t=!1!==gg().adLabel&&"idle"!==e;return nn("div",{className:fT.locals.TopControls},t&&nn(vT,null))},gT=()=>{const{abuseDisplayStatus:e,isAbuseSupported:t}=fg(),i="selection"===e,r=gg(),n=ag(r),{shouldUseActionPanel:a}=B_();return nn(on,null,nn(bT,null),nn(zy,null),nn(oT,null),!a&&nn(Ly,null),n&&t&&nn(lO,{isVisible:i}))},OT=Tn(Jl.a);OT.Provider.displayName="ABFlagContext";const yT=()=>Jl.a,TT=[e=>nn(yf.Provider,{value:Tf(e.slotElement),children:e.children}),e=>nn(mO.Provider,{value:vO(e),children:e.children}),e=>nn(ly.Provider,{value:cy(e.adDisplayController),children:e.children}),e=>nn(oy.Provider,{value:sy(e.adDisplayController),children:e.children}),e=>nn(Ay.Provider,{value:my(e),children:e.children}),e=>nn(bf.Provider,{value:gf(e.adDisplayController.slotParameters.size),children:e.children}),e=>nn(Sy.Provider,{value:wy(e.adDisplayController.videoSlotSize)},e.children),e=>nn(yy.Provider,{value:Ty(e.adDisplayController.videoContentSize)},e.children),e=>nn(OO.Provider,{value:yO(e),children:e.children}),e=>nn(P_.Provider,{value:C_(e),children:e.children}),e=>nn(_g.Provider,{value:bg(e),children:e.children}),e=>nn(EO.Provider,{value:SO(e),children:e.children}),e=>nn(cO.Provider,{value:uO(e),children:e.children}),e=>nn(OT.Provider,{value:yT(),children:e.children}),e=>nn(mg.Provider,{value:vg(e),children:e.children}),e=>nn(sT.Provider,{value:dT(e),children:e.children}),e=>nn(Og.Provider,{value:yg(e),children:e.children}),e=>nn(V_.Provider,{value:L_(e.adDisplayController),children:e.children}),e=>nn(pO.Provider,{value:AO(e.adDisplayController),children:e.children}),e=>nn(_O.Provider,{value:bO(e.adDisplayController),children:e.children}),e=>nn(By.Provider,{value:My(e)},e.children)];const ET=(e=>(t,i)=>{const r=new Ss.a,n=new Ss.a,a=new Ss.a,o=new Promise((e,t)=>{r.addOne(()=>{r.removeAll(),n.removeAll(),e()}),n.addOne(e=>{r.removeAll(),n.removeAll(),t(e)})}),s=new Promise((e,t)=>{a.addOne(()=>{t()})}),d=nn(mf,{onFirstRender:e=>{"success"===e.status?r.dispatch(void 0):n.dispatch(e.error)},onRuntimeError:()=>{a.dispatch(void 0)}},nn(ff,{components:TT,componentsProps:{id:"skin",adDisplayController:i,slotElement:t}},e()));return Object(Os.a)("Skin: render skin"),yn(d,t),{firstRenderPromise:o,runtimeErrorPromise:s,clear:()=>{r.removeAll(),n.removeAll(),Object(Os.a)("Skin: destroy skin"),yn(null,t)}}})(()=>nn(gT,null));var ST=new WeakMap,wT=new WeakMap,IT=new WeakMap,PT=new WeakMap,CT=new WeakMap,DT=new WeakMap,NT=new WeakMap;class RT{constructor(e,t){var i=this;ST.set(this,{writable:!0,value:void 0}),wT.set(this,{writable:!0,value:[]}),IT.set(this,{writable:!0,value:[]}),PT.set(this,{writable:!0,value:void 0}),CT.set(this,{writable:!0,value:void 0}),Ha(this,"createPlaybackController",(function(e,t,r){void 0===r&&(r={}),cs.c.event({name:"CreatePlaybackController",probability:us.a,data:{config:r}});const n=Fa(r,["autoplay"]),{config:a,errors:o}=sa(n);ie(o);const s="VideoBannerAd"===ll.c||"Test"===ll.c,d=r.renderSkin,l=new Ag({videoSlot:e,slot:t,mediaAds:za(i,PT),playbackParameters:a,onPlayAd:()=>za(i,DT).call(i,"PublicControllerPlayAd"),renderSkin:s&&d?d:ET}).getPublicInstance(),c=Object(Xo.a)(za(i,IT),e=>{let{event:t}=e;return"CreateAdPlaybackController"===t});return Object($o.a)(c,e=>{let{handler:t}=e;return t({playbackController:l})}),l})),Ha(this,"showAd",(function(e,t,r){void 0===r&&(r={}),za(i,DT).call(i,"AdStoreShowAd");const n=i.createPlaybackController(e,t,r);za(i,wT).push(n);const a=new Promise(e=>{n.subscribe("AdStopped",()=>{Wa(i,wT,Object(Xo.a)(za(i,wT),e=>e!==n)),e()})});return n.playAd(),a})),Ha(this,"getAdDuration",()=>za(this,PT).getDuration()),Ha(this,"separateAdPods",()=>Object(Zo.a)(za(this,PT).mediaAds,e=>{const t=new RT(new nA([e]),za(this,CT));return Object($o.a)(za(this,IT),e=>{let{event:i,handler:r}=e;t.subscribe(i,r)}),t})),Ha(this,"getAdSourceTypes",()=>Object(Xo.a)(Object(Zo.a)(za(this,PT).mediaAds,e=>{let{contentType:t}=e;return t}),(e,t,i)=>i.indexOf(e)===t)),Ha(this,"setStatsRootFields",e=>{cs.c.setRootFields(e)}),Ha(this,"hasNotReplacedBroadcastAd",()=>kl(za(this,PT).mediaAds,e=>e.isNotReplacedBroadcastAd())),Ha(this,"hasYandexCreative",()=>kl(za(this,PT).mediaAds,e=>e.getIsYandexCreative())),Ha(this,"getNonYandexVastXmlTree",()=>this.hasYandexCreative()?void 0:function e(t){const i=Object(Zo.a)(t.children,t=>e(t));return{xmlString:t.xmlString,children:i}}(za(this,CT))),Ha(this,"destroy",()=>{Object($o.a)(za(this,wT),e=>{e.stopAd()}),za(this,wT).length=0,za(this,NT).call(this,"AdStoreDestroy"),Wa(this,ST,void 0),za(this,IT).length=0}),Ha(this,"preload",e=>{let{preloadTimeout:t=Kl}=e,i=Fa(e,["preloadTimeout"]);if(Object(Cs.a)(Object(Ps.a)(window)))return Promise.resolve();const r=Object(es.a)(t).promise.then(()=>za(this,NT).call(this,"Timeout"));if(void 0===za(this,ST)){const e=Object(Zo.a)(za(this,PT).mediaAds,e=>e.preload(i));Wa(this,ST,Promise.all(e).then(nd.a))}return Promise.race([za(this,ST),r])}),Ha(this,"filterAdPodsIndependentOnHtmlControls",e=>{const[t,i]=g(za(this,PT).mediaAds,e=>e.getIfIsRequiredHtmlControls());Wa(this,PT,new nA(i)),Object($o.a)(t,t=>{t.trackError(new ls.a({code:"CANNOT_SHOW_CPC_CONTROLS",details:{mediaFile:t.getJSMediaFile(),reason:e}}))})}),Ha(this,"preventPlaying",(e,t)=>{Object($o.a)(za(this,PT).mediaAds,i=>{i.trackError(new ls.a({code:"AD_STORE_PLAYING_PREVENTED",details:{mediaFiles:i.vastAd.mediaFiles,reason:e,details:t}}))}),Wa(this,PT,new nA([]))}),Ha(this,"getAdPodsCount",()=>za(this,PT).mediaAds.length),Ha(this,"subscribe",(e,t)=>(za(this,IT).push({event:e,handler:t}),()=>{Wa(this,IT,Object(Xo.a)(za(this,IT),i=>{return!(i.event===e&&i.handler===t)}))})),DT.set(this,{writable:!0,value:e=>{Object($o.a)(za(this,PT).mediaAds,t=>{t.isPreloaded()||t.cancelPreloading(e)})}}),NT.set(this,{writable:!0,value:e=>{Object($o.a)(za(this,PT).mediaAds,t=>{t.cancelPreloading(e)})}}),Wa(this,PT,e),Wa(this,CT,t)}}class kT extends qo.a{constructor(e){let{adConfig:t,whenVmapLoaded:i,adBreak:r,adPlacementOptions:n}=e;if(super(),Ga(this,"whenVmapLoaded",void 0),Ga(this,"adBreak",void 0),Ga(this,"vmap",void 0),Ga(this,"adConfig",void 0),Ga(this,"adPlacementOptions",void 0),Ga(this,"getPublicInstance",()=>({loadAd:this.loadAd,destroy:()=>this.destroy()})),Ga(this,"load",async e=>{await this.whenVmapLoaded;const{mediaAds:t}=await this.startLoadAd({adBreak:e});return t}),Ga(this,"loadAd",async()=>{try{await this.whenVmapLoaded;const e=this.adBreak?this.adBreak:this.getDefaultAdBreakToPlayAd();if(!e)throw new ls.a({code:"AD_BREAK_IS_NOT_FOUND",details:{adConfig:this.adConfig,adBreaks:this.getAdBreaks()}});const{mediaAds:t,vast:i}=await this.startLoadAd({adBreak:e});return new RT(t,i)}catch(e){throw pi(e),cs.c.errorToStats(e),e}}),Ga(this,"getInPageBlock",()=>Ii(this.getAdBreaks(),"inpage")[0]),Ga(this,"getPrerollBlock",()=>Ii(this.getAdBreaks(),"preroll")[0]),Ga(this,"getDefaultAdBreakToPlayAd",()=>{const{impId:e}=this.adConfig;return e?wi(this.getAdBreaks(),e):Ii(this.getAdBreaks(),"preroll")[0]}),this.adConfig=t,this.whenVmapLoaded=i,this.adBreak=r,this.adPlacementOptions=n,Object(Os.a)("AdLoader: create"),cs.c.event({name:"CreateAdLoader",probability:us.a,data:{adConfig:t,adBreak:r}}),Vc({secureMode:t.secureMode,url:void 0})){const e=Id();e.addUser(),this.addDestroyHandler(()=>{e.removeUser()}),"idle"===e.state.getValue().name&&e.init({container:document.body,initTimeout:o_})}i.then(e=>{this.vmap=e}).catch(e=>{cs.c.errorToStats(e)})}getAdBreaks(){if(this.adBreak)return[this.adBreak];if(this.vmap)return this.vmap.adBreaks;throw new ls.a({code:"NO_AD_BREAK_OR_VMAP_IN_AD_LOADER",details:void 0})}async startLoadAd(e){let{adBreak:t}=e;const{adConfig:i,adPlacementOptions:r}=this;return Si({adConfig:i,adBreak:t,adPlacementOptions:r,win:window})}}const VT=e=>{return(new XMLSerializer).serializeToString(e)},LT={start:"preroll",end:"postroll"},BT=Object(Hs.a)({inpage:0,preroll:0,midroll:0,pauseroll:0,overlay:0,postroll:0,replaced:0,notReplaced:0,inroll:0,"inroll-overlay":0}),MT="linear,nonlinear",jT="linear",UT="nonlinear",xT=0,FT=0,HT=0,zT={dark:"dark",light:"light"},WT={top:"top",bottom:"bottom",auto:"auto","bottom-right":"bottom-right","bottom-left":"bottom-left","top-left":"top-left","top-right":"top-right"},GT=e=>{const t=Qa("Collapse",e);return!0===Qa("Repeat",e)?"auto":!1===t?"manual":null},YT=async e=>{let{url:t,vmapLoadParams:i,timeout:r}=e;const n=Date.now();let a;cs.c.event({name:"VmapLoadStart",data:i,probability:us.a});try{const e=!Object(Cs.a)(Object(Ps.a)(window)),i="boolean"===typeof ms?ms:e;a=await te({url:t,data:null,timeout:r,withCredentials:i})}catch(l){const e=Oc({thrownError:l,errorCode:"VMAP_LOAD_ERROR",errorDetails:i,timeoutCode:"VMAP_LOAD_TIMEOUT",timeoutDetails:i});throw cs.c.error({error:e}),e}const{responseStatus:s,responseText:d}=a;if(200!==s){const e=(e=>{const t=e.match(/<!-- Page (\d+) disabled -->/i);if(!Array.isArray(t))return;const[,i]=t;return void 0!==i?parseInt(i,10):void 0})(d);if(o(e))throw new ls.a({code:"BAD_PARTNER_OR_DOMAIN_FOR_VMAP_REQUEST",details:no({},i,{responseStatus:s,disabledPageId:e})});throw new ls.a({code:"INVALID_VMAP_RESPONSE_STATUS",details:no({},i,{responseStatus:s,responseText:a.responseText})})}try{const e=ro(i.config),{vmap:t,events:r,errors:o}=to({vmapXmlObject:a,vmapLoadParams:i,vmapAdBreaksConfig:e});return ie(o),Object($o.a)(r,e=>cs.c.event(no({labels:void 0},e))),cs.c.values({name:"VmapLoadSuccess",data:no({},i,{vmap:t}),probability:us.a,labels:{},values:{adBreaksCount:t.adBreaks.length,timeSpent:Date.now()-n}}),t}catch(l){throw cs.c.errorToStats(l),l}},qT=3e3;var XT=i(119);const KT=()=>Object(XT.a)()/fh,QT="adsdksessionwatchedtimesinceadmap",JT=0;class ZT{constructor(){var e,t,i;i=void 0,(t="storage")in(e=this)?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,void 0!==localStorage&&(this.storage=localStorage)}update(e){let{category:t}=e;!function(e){let{category:t,storage:i,now:r=KT}=e;if(!i)return;const n=ao(i);n[t]=r();try{i.setItem(QT,JSON.stringify(n))}catch(a){}}({category:t,storage:this.storage})}getWatchedTimeSinceAd(e){let{category:t}=e;return function(e){let{category:t,storage:i,now:r=KT}=e;if(!i)return JT;const n=ao(i)[t];if(!o(n))return JT;const a=r();if(!o(a))return JT;const s=a-n;return o(s)?s:JT}({category:t,storage:this.storage})}}const $T="https://"+("TRUE"===$l("REQUEST_VMAP_FROM_YANDEX_RU")&&!ws.a.LOADER_LOADED_FROM_AN_YANDEX_RU?Vl.b+"/an/vmap/":Vl.a+"/vmap/"),eE=e=>{const{category:t,vmapScenarioId:i,hasPreroll:r}=e,n=function(e){let{vmapId:t,category:i}=e;return t&&i?{"vmap-id":String(t),"video-category-id":String(i)}:t?{"vmap-id":String(t),"video-category-id":void 0}:{"vmap-id":void 0,"video-category-id":String(i)}}(e),a=Ch(e);let o;try{o=new ZT}catch(d){}let s=JT;return"number"===typeof t&&o&&(s=o.getWatchedTimeSinceAd({category:t})),oo({[Ju.a]:$u},a,n,{"has-preroll":!1===r?String(r):void 0,"vmap-scenario-id":void 0===i?void 0:String(i),"wtime-since-ad":String(Math.floor(s)),client_type:"html"})};class tE{constructor(){co(this,"adBreaks",[]),co(this,"isSingleVideoSession",!1)}static async load(e,t){const i=lo(e),r=function(e){let{config:t,adPlacementOptions:i=ds,win:r=window}=e;const{partnerId:n}=t;if(!n)throw new ls.a({code:"VMAP_CONFIG_WITHOUT_PARTNER_ID",details:void 0});const a=eE(t),o=w({url:Object(jd.b)(""+$T+n,a),ignoreAbd:!0,options:i,win:window}),s=Object(Ps.a)(r);return"function"===typeof s?s(Object(jd.b)(o,{abd:"1"})):o}({config:i,adPlacementOptions:t,win:window}),{vmapLoadTimeout:n}=i;let a=qT;n&&(a=n);const o={url:r,config:e,timeout:a};return await YT({url:r,vmapLoadParams:o,timeout:a})}}const iE={impId:xT,sessionId:"",vastTimeout:3e3,videoTimeout:1e4,vpaidTimeout:1e4,wrapperTimeout:3e3,wrapperMaxCount:3,bufferFullTimeout:5e3,bufferEmptyLimit:5},rE={adTagURI:"",adFoxParameters:void 0,inlineVast:void 0},nE=uo({adType:"preroll"},rE,iE),aE=e=>{const t=P(e),{vmap:i,events:r,errors:n}=to({vmapXmlObject:{responseText:e,xml:t},vmapLoadParams:void 0,vmapAdBreaksConfig:void 0});return ie(n),Object($o.a)(r,e=>cs.c.event(ho({labels:void 0},e))),i},oE=e=>{if(!Object(is.a)(e))return;const{preferableAdSize:t}=e;if(!Object(is.a)(t))return;const{width:i,height:r}=t;return o(i)&&o(r)?{width:i,height:r}:void 0},sE=Object(Hs.a)(Dc),dE=e=>{if(!Object(is.a)(e))return"Unsafe";const{secureMode:t}=e;return t&&-1!==sE.indexOf(t)?t:"Unsafe"},lE="0",cE=fo({adType:"inpage",replayMode:null,stick:!1},rE,iE),uE={repeatAfter:HT,maxRepeatCount:FT,repeatNumber:0,timeOffset:10},hE=_o({adType:"midroll",broadcastReplace:!1},rE,uE,iE),pE=bo({adType:"overlay"},rE,uE,iE),AE=go({adType:"postroll"},rE,iE),mE={inpage:cE,preroll:nE,midroll:hE,postroll:AE,overlay:pE},vE=Object(Hs.a)(mE),fE=function(e){let t=0,i=e?Object(Zo.a)(e,e=>e[0]):[],r=e?Object(Zo.a)(e,e=>e[1]):[];const n=e=>-1<(t=i.indexOf(e)),a={get size(){return i.length},has:n,clear:()=>{i=[],r=[]},get:e=>r[i.indexOf(e)],keys:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(()=>i.slice()),values:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(()=>r.slice()),entries:()=>Object(Zo.a)(i,(e,t)=>[e,r[t]]),delete:e=>n(e)&&i.splice(t,1)&&Boolean(r.splice(t,1)),forEach(e,t){Object($o.a)(r,(r,n)=>e.call(t,r,i[n],a))},set:(e,o)=>(n(e)?r[t]=o:r[i.push(e)-1]=o,a)};return a},_E=((()=>Boolean(window.Map)&&"function"===typeof window.Map.prototype.keys?window.Map:fE)(),Object(ad.a)(e=>{let{code:t,selectionParams:i}=e;cs.c.error({error:new ls.a({code:t,details:{selectionParams:i}})})})),bE=function(e){return void 0===e&&(e=window),/Windows Phone/i.test(e.navigator.userAgent)},gE=function(e){void 0===e&&(e=window);const{userAgent:t=""}=e.navigator,i=/Android/.test(t),r=bE(e),n=/com\.yandex\.mobile\.metrica\.ads\.sdk.*?Android/.test(t);return i&&!r||n}();var OE=i(128);const yE=Object(OE.a)(),TE=function(e){return void 0===e&&(e=window),/xiaomi\/miuibrowser\/([\w\.]+)/i.test(e.navigator.userAgent)}(),EE=(e,t,i)=>{const r=new tE;r.adBreaks=[t];const{adType:n}=t,{adConfig:a}=Eo(Co({},e,{adBreakType:Oo(n)?n:void 0}),!0,n);return new kT({adConfig:a,whenVmapLoaded:Promise.resolve(r),adBreak:t,adPlacementOptions:i}).getPublicInstance()};class SE extends qo.a{constructor(e){super(),Ro(this,"multirollConfig",void 0),Ro(this,"adBreaks",void 0),Ro(this,"runtimeParams",void 0),Ro(this,"slotSize",void 0),Ro(this,"slotVisibilitySensor",void 0),Ro(this,"getBufferingTime",void 0),Ro(this,"isSingleVideoSession",void 0),Ro(this,"adSessionManager",void 0),Ro(this,"getAndIncrementMetaRequestIndexes",void 0),this.multirollConfig=e.multirollConfig,this.adBreaks=e.adBreaks,this.runtimeParams=e.runtimeParams,this.slotSize=e.slotSize,this.slotVisibilitySensor=e.slotVisibilitySensor,this.getBufferingTime=e.getBufferingTime,this.isSingleVideoSession=e.isSingleVideoSession,this.getAndIncrementMetaRequestIndexes=e.getAndIncrementMetaRequestIndexes;try{this.adSessionManager=new ZT}catch(t){cs.c.error({error:new ls.a({code:"CANNOT_INIT_AD_SESSION_MANAGER",details:{error:t}})})}}getAdPlacementOptions(){const{videoSlot:e}=this.multirollConfig.getPreloadParams(),t=this.slotSize.getValue();return Dr({win:window,videoNode:e,videoSlotSize:t,slotSize:t,slotVisibilityRatio:this.slotVisibilitySensor.totalVisibilityRatioValueSignal.getValue(),bufferingTime:this.getBufferingTime()})}subscribeForWatchedTimeSinceAdUpdate(e){const{category:t}=this.runtimeParams.getAdConfig();if("number"!==typeof t)return void cs.c.error({error:new ls.a({code:"CANNOT_UPDATE_WATCHED_TIME_SINCE_AD_DUE_TO_NON_NUMBER_CATEGORY",details:{category:t,type:typeof t}})});if(!this.adSessionManager)return;const{adSessionManager:i}=this,r=e.subscribe("CreateAdPlaybackController",e=>{let{playbackController:r}=e;const n=r.subscribe("AdPodImpression",()=>{try{i.update({category:t})}catch(e){cs.c.error({error:new ls.a({code:"CANNOT_UPDATE_WATCHED_TIME_SINCE_AD_DUE_TO_UPDATE_METHOD",details:{error:e}})})}});this.addDestroyHandler(n)});this.addDestroyHandler(r)}getAdBreakByImpId(e){let{impId:t}=e;return et(t)?wi(this.adBreaks,t):this.adBreaks[0]}}class wE extends SE{constructor(e){super(e),ko(this,"scheduleInrollAdBreakAsMidroll",void 0),ko(this,"loadViewers",()=>this.isDestroyed?Promise.resolve([]):this.loadInrollViewers()),ko(this,"schedule",e=>{if(this.isDestroyed)return;const{impId:t,timeOffset:i}=e,r=this.getAdBreakByImpId({impId:t});r?this.scheduleInrollAdBreakAsMidroll({adBreak:r,timeOffset:i}):cs.c.error({error:new ls.a({code:"NO_INROLL_AD_BREAKS_FOUND_TO_SCHEDULE",details:e})})}),this.scheduleInrollAdBreakAsMidroll=e.scheduleInrollAdBreakAsMidroll}async loadInrollViewers(){const e=await No({adConfig:this.runtimeParams.getAdConfig(),adBreaks:this.adBreaks,adPlacementOptions:this.getAdPlacementOptions(),getAndIncrementMetaRequestIndexes:this.getAndIncrementMetaRequestIndexes}),t=Object(Zo.a)(e,Po);if(this.isDestroyed)return Io(t),[];if(0===t.length)return[];const i=wo(t,this.runtimeParams);return Object($o.a)(i,e=>{this.subscribeForWatchedTimeSinceAdUpdate(e)}),i}}class IE extends SE{constructor(e){super(e)}loadViewers(e){let{impId:t}=e;return this.isDestroyed?Promise.resolve([]):this.loadInrollOverlayViewers({impId:t})}async loadInrollOverlayViewers(e){let{impId:t}=e;const i=this.getAdBreakByImpId({impId:t});if(!i)return cs.c.error({error:new ls.a({code:"NO_INROLL_OVERLAY_AD_BREAKS_FOUND_TO_SCHEDULE",details:{impId:t}})}),[];const r=await No({adConfig:this.runtimeParams.getAdConfig(),adBreaks:[i],adPlacementOptions:this.getAdPlacementOptions(),getAndIncrementMetaRequestIndexes:this.getAndIncrementMetaRequestIndexes}),n=Object(Zo.a)(r,Po);return this.isDestroyed?(Io(n),[]):wo(n,this.runtimeParams)}}const PE=Object(ad.a)(()=>{cs.c.error({error:new ls.a({code:"USING_SOURCE_WATCHED_TIME_AS_WATCHED_TIME",details:void 0})})});class CE extends SE{constructor(){var e,t,i;super(...arguments),i=[],(t="remainingAdBreaks")in(e=this)?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}getCorrectSelectionParams(e,t){let{isSingleVideoSession:i}=t;const{sourceWatchedTime:r}=e,n=function(e,t){if(null==e)return{};var i,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)i=a[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}(e,["sourceWatchedTime"]);return i&&"number"===typeof r?(n.watchedTime=r,PE(),n):n}}class DE extends CE{constructor(e){super(e),Mo(this,"preloadedAdStores",[]),Mo(this,"scheduledInrollAdBreaks",[]),Mo(this,"scheduleInrollAdBreakAsMidroll",e=>{this.scheduledInrollAdBreaks.push(e)}),Mo(this,"savePreloadedAdStores",e=>{this.isDestroyed?Io(Object(Zo.a)(e,Po)):this.preloadedAdStores.push(...e)}),this.remainingAdBreaks=[...e.adBreaks]}async loadViewers(e){if(this.isDestroyed)return[];const t=this.getCorrectSelectionParams(e,{isSingleVideoSession:this.isSingleVideoSession}),i=this.sliceCurrentAdBreaks(t,this.multirollConfig.midroll),[r,n]=g(i,e=>{let{timeOffset:i}=e;return t.watchedTime>=i}),a=this.getAdPlacementOptions(),[o,s]=Object(Zo.a)([r,n],e=>No({adConfig:this.runtimeParams.getAdConfig(),adBreaks:e,adPlacementOptions:a,getAndIncrementMetaRequestIndexes:this.getAndIncrementMetaRequestIndexes}));s.then(this.savePreloadedAdStores).catch(id.a),this.preloadFutureAdStores(t);const d=await o,l=Object(Zo.a)([...this.getPreloadedAdStoresToPlay(t),...d],Po);if(this.isDestroyed)return Io(l),[];if(0===l.length)return[];const c=wo(l,this.runtimeParams);return Object($o.a)(c,e=>{this.subscribeForWatchedTimeSinceAdUpdate(e)}),c}destroy(){super.destroy(),Io(Object(Zo.a)(this.preloadedAdStores,Po))}getNextAdInfo(e){const t=this.getCorrectSelectionParams(e,{isSingleVideoSession:this.isSingleVideoSession}),i=e=>{let{adBreak:i}=e;return i.timeOffset-t.watchedTime},r=Rt(this.preloadedAdStores,i);if(void 0!==r)return{remainingTime:i(r),adBreakType:"midroll"}}sliceCurrentAdBreaks(e,t){if(this.scheduledInrollAdBreaks.length>0){const t=Object(Zo.a)(this.scheduledInrollAdBreaks,t=>{let{adBreak:i,timeOffset:r}=t;return Bo({},i,{timeOffset:e.watchedTime+r,repeatAfter:HT,maxRepeatCount:1,repeatNumber:0,broadcastReplace:!1,adType:"midroll"})});cs.c.event({name:"ScheduleInrollAdBreaks",data:t}),this.remainingAdBreaks.push(...t),this.scheduledInrollAdBreaks=[]}const{current:i,remaining:r}=Lo(e,t,this.remainingAdBreaks);return this.remainingAdBreaks=r,i}getPreloadedAdStoresToPlay(e){const{currentAdStores:t,remainingAdStores:i}=function(e,t){let{watchedTime:i}=e;const[r,n]=g(t,e=>{let{adBreak:{timeOffset:t}}=e;return i>=t});return{currentAdStores:r,remainingAdStores:n}}(e,this.preloadedAdStores);return this.preloadedAdStores=i,t}preloadFutureAdStores(e){let{watchedTime:t}=e;const{preloadMinTime:i}=this.multirollConfig.midroll,r=this.multirollConfig.getPreloadParams();Object($o.a)(this.preloadedAdStores,e=>{let{adStore:n,adBreak:{timeOffset:a}}=e;a-t>=i&&n.preload(r)})}}class NE extends CE{constructor(e){super(e),this.remainingAdBreaks=[...e.adBreaks]}async loadViewers(e){if(this.isDestroyed)return[];const t=this.getCorrectSelectionParams(e,{isSingleVideoSession:this.isSingleVideoSession}),i=this.sliceCurrentAdBreaks(t,{preloadOffset:0}),r=await No({adConfig:this.runtimeParams.getAdConfig(),adBreaks:i,adPlacementOptions:this.getAdPlacementOptions(),getAndIncrementMetaRequestIndexes:this.getAndIncrementMetaRequestIndexes}),n=Object(Zo.a)(r,Po);return this.isDestroyed?(Io(n),[]):wo(n,this.runtimeParams)}sliceCurrentAdBreaks(e,t){const{current:i,remaining:r}=Lo(e,t,this.remainingAdBreaks);return this.remainingAdBreaks=r,i}}var RE;!function(e){e.LIVE="LIVE",e.EVENT="EVENT",e.VOD="VOD"}(RE||(RE={}));class kE extends SE{constructor(e){super(e),jo(this,"loadViewers",re(async()=>{await this.loadAndSaveAdStores();const e=Object(Zo.a)(this.adStores,Po);if(this.adStores=[],0===e.length)return[];const t=wo(e,this.runtimeParams);return Object($o.a)(t,e=>{this.subscribeForWatchedTimeSinceAdUpdate(e)}),t},()=>Promise.resolve([]))),jo(this,"adStores",[]),jo(this,"loadAndSaveAdStores",Object(ad.a)(async()=>{const e=await No({adConfig:this.runtimeParams.getAdConfig(),adBreaks:this.adBreaks,adPlacementOptions:this.getAdPlacementOptions(),getAndIncrementMetaRequestIndexes:this.getAndIncrementMetaRequestIndexes});this.isDestroyed?Io(Object(Zo.a)(e,Po)):this.adStores=e}))}preloadAdStores(e){let{videoType:t,duration:i,currentTime:r}=e;if(this.isDestroyed)return;const n=i-r,{preloadOffset:a,preloadMinTime:o}=this.multirollConfig.postroll;if(!(t!==RE.VOD||n>a)&&(this.loadAndSaveAdStores(),n>=o)){const e=this.multirollConfig.getPreloadParams();Object($o.a)(this.adStores,t=>{let{adStore:i}=t;return i.preload(e)})}}getNextAdInfo(e){let{duration:t,currentTime:i}=e;if(0!==this.adStores.length)return{remainingTime:t-i,adBreakType:"postroll"}}destroy(){super.destroy(),Io(Object(Zo.a)(this.adStores,Po))}}const VE=()=>Promise.resolve([]);class LE extends SE{constructor(e){super(e),Uo(this,"prerollRequested",!1),Uo(this,"getAdStoresPromise",VE),e.multirollConfig.preroll.shouldPreload()&&this.prepareAdStores()}loadViewers(){return this.prepareAdStores(),this.getAdStoresPromise()}destroy(){super.destroy(),this.getAdStoresPromise().then(Io).catch(id.a)}prepareAdStores(){if(this.prerollRequested||this.isDestroyed)return;this.prerollRequested=!0;const e=this.loadPrerollViewers();this.getAdStoresPromise=re(()=>e,VE)}async loadPrerollViewers(){const e=await No({adConfig:this.runtimeParams.getAdConfig(),adBreaks:this.adBreaks,adPlacementOptions:this.getAdPlacementOptions(),getAndIncrementMetaRequestIndexes:this.getAndIncrementMetaRequestIndexes}),t=Object(Zo.a)(e,Po);if(this.isDestroyed)return Io(t),[];if(0===t.length)return[];const{getPreloadParams:i,preroll:{shouldPreload:r}}=this.multirollConfig;r()&&Object($o.a)(t,e=>e.preload(i()));const n=wo(t,this.runtimeParams);return Object($o.a)(n,e=>{this.subscribeForWatchedTimeSinceAdUpdate(e)}),n}}class BE extends qo.a{constructor(e){let{adBreaks:t,adConfig:i,multirollConfig:r,slotSizeSensor:n,slotVisibilitySensor:a,getBufferingTime:s,destroyVideoBufferingTimeHandler:d,isSingleVideoSession:l}=e;super(),xo(this,"preroll",{loadViewers:()=>this.prerollController.loadViewers()}),xo(this,"inroll",{loadViewers:()=>this.inrollController.loadViewers(),schedule:e=>{try{const t=function(e){if(!Object(is.a)(e))throw new ls.a({code:"INVALID_INROLL_SCHEDULE_PARAMS",details:e});const{timeOffset:t,impId:i}=e;if(!J(t))throw new ls.a({code:"INVALID_INROLL_TIME_OFFSET",details:{impId:i,timeOffset:t}});if(void 0!==i&&!et(i))throw new ls.a({code:"INVALID_INROLL_IMP_ID",details:{impId:i,timeOffset:t}});return{impId:i,timeOffset:t}}(e);this.inrollController.schedule(t)}catch(t){throw cs.c.error({error:t}),t}}}),xo(this,"inrollOverlay",{loadViewers:e=>this.inrollOverlayController.loadViewers(e)}),xo(this,"midroll",{loadViewers:e=>{const t=function(e){if(!Object(is.a)(e))return"MIDROLL_SELECTION_PARAMS_IS_NOT_OBJECT";const{currentTime:t,duration:i}=e;if(!J(t))return"MIDROLL_SELECTION_PARAMS_CURRENT_TIME_IS_NOT_UNSIGNED_FINITE_NUMBER";const r=i===1/0,n=o(i);return r||n?e:"MIDROLL_SELECTION_PARAMS_DURATION_IS_NOT_POSITIVE_FINITE_NUMBER_OR_INFINITY"}(e);return Object(Vs.a)(t)?(_E({code:t,selectionParams:e}),Promise.resolve([])):(this.postrollController.preloadAdStores(t),this.midrollController.loadViewers(t))}}),xo(this,"overlay",{loadViewers:e=>this.overlayController.loadViewers(e)}),xo(this,"postroll",{loadViewers:()=>this.postrollController.loadViewers()}),xo(this,"prerollController",void 0),xo(this,"inrollController",void 0),xo(this,"inrollOverlayController",void 0),xo(this,"midrollController",void 0),xo(this,"overlayController",void 0),xo(this,"postrollController",void 0),xo(this,"adConfig",void 0),xo(this,"adBreaks",void 0),xo(this,"metaRequestIndexesParams",void 0),xo(this,"setStatsRootFields",e=>{cs.c.setRootFields(e)}),xo(this,"getPublicObject",()=>({destroy:this.destroy,setStatsRootFields:this.setStatsRootFields,updateAdConfig:this.updateAdConfig,getNextAdInfo:this.getNextAdInfo,preroll:this.preroll,inroll:this.inroll,inrollOverlay:this.inrollOverlay,midroll:this.midroll,overlay:this.overlay,postroll:this.postroll})),xo(this,"destroy",()=>{super.destroy(),this.prerollController.destroy(),this.inrollController.destroy(),this.inrollOverlayController.destroy(),this.midrollController.destroy(),this.overlayController.destroy(),this.postrollController.destroy()}),xo(this,"getAdConfig",()=>this.adConfig),xo(this,"updateAdConfig",e=>{this.adConfig=e}),xo(this,"getAndIncrementMetaRequestIndexes",e=>{let t=this.metaRequestIndexesParams.metaRequestIndex,i=this.metaRequestIndexesParams.metaRequestIndexesByImpId.get(e);return void 0===t?t=0:t++,void 0===i?i=0:i++,this.metaRequestIndexesParams.metaRequestIndex=t,this.metaRequestIndexesParams.metaRequestIndexesByImpId.set(e,i),{metaRequestIndex:t,metaImpIdRequestIndex:i}}),xo(this,"getNextAdInfo",e=>{const t=this.midrollController.getNextAdInfo(e),i=this.postrollController.getNextAdInfo(e);return void 0===t||void 0===i?t||i:t.remainingTime<i.remainingTime?t:i}),this.adConfig=i,this.adBreaks=t;const c=new fE;Object($o.a)(t,e=>{c.set(e.impId,void 0)}),this.metaRequestIndexesParams={metaRequestIndex:void 0,metaRequestIndexesByImpId:c};const{videoSlot:u}=r.getPreloadParams(),h=n.onResize;this.addDestroyHandler(()=>{n.destroy(),a.destroy(),d()});const p={videoSlot:u,videoSlotSizeSensor:n,getAdConfig:this.getAdConfig};this.prerollController=new LE({multirollConfig:r,adBreaks:Ii(this.adBreaks,"preroll"),runtimeParams:p,slotSize:h,slotVisibilitySensor:a,getBufferingTime:s,isSingleVideoSession:l,getAndIncrementMetaRequestIndexes:this.getAndIncrementMetaRequestIndexes}),this.midrollController=new DE({multirollConfig:r,adBreaks:Ii(this.adBreaks,"midroll"),runtimeParams:p,slotSize:h,slotVisibilitySensor:a,getBufferingTime:s,isSingleVideoSession:l,getAndIncrementMetaRequestIndexes:this.getAndIncrementMetaRequestIndexes}),this.inrollController=new wE({multirollConfig:r,adBreaks:Ii(this.adBreaks,"inroll"),runtimeParams:p,slotSize:h,slotVisibilitySensor:a,getBufferingTime:s,scheduleInrollAdBreakAsMidroll:this.midrollController.scheduleInrollAdBreakAsMidroll,isSingleVideoSession:l,getAndIncrementMetaRequestIndexes:this.getAndIncrementMetaRequestIndexes}),this.inrollOverlayController=new IE({multirollConfig:r,adBreaks:Ii(this.adBreaks,"inroll-overlay"),runtimeParams:p,slotSize:h,slotVisibilitySensor:a,getBufferingTime:s,isSingleVideoSession:l,getAndIncrementMetaRequestIndexes:this.getAndIncrementMetaRequestIndexes}),this.overlayController=new NE({multirollConfig:r,adBreaks:Ii(this.adBreaks,"overlay"),runtimeParams:p,slotSize:h,slotVisibilitySensor:a,getBufferingTime:s,isSingleVideoSession:l,getAndIncrementMetaRequestIndexes:this.getAndIncrementMetaRequestIndexes}),this.postrollController=new kE({multirollConfig:r,adBreaks:Ii(this.adBreaks,"postroll"),runtimeParams:p,slotSize:h,slotVisibilitySensor:a,getBufferingTime:s,isSingleVideoSession:l,getAndIncrementMetaRequestIndexes:this.getAndIncrementMetaRequestIndexes})}}const ME=["3000","4000","5000","6000","7000"],jE=["2","3","4","5","6"],UE=qt("TIMEOUT_NON_PREROLL_MULTIROLL_BUFFER_EMPTY_LIMIT",jE),xE=qt("TIMEOUT_NON_PREROLL_MULTIROLL_BUFFER_FULL_TIMEOUT",ME),FE=qt("TIMEOUT_NON_PREROLL_MULTIROLL_VIDEO_TIMEOUT",ME),HE=qt("TIMEOUT_NON_PREROLL_MULTIROLL_VPAID_TIMEOUT",ME),zE=qt("TIMEOUT_PREROLL_MULTIROLL_BUFFER_EMPTY_LIMIT",jE),WE=qt("TIMEOUT_PREROLL_MULTIROLL_BUFFER_FULL_TIMEOUT",ME),GE=qt("TIMEOUT_PREROLL_MULTIROLL_VIDEO_TIMEOUT",ME),YE=qt("TIMEOUT_PREROLL_MULTIROLL_VPAID_TIMEOUT",ME),qE={preroll:zr({bufferEmptyLimit:parseInt(null!==zE&&void 0!==zE?zE:"",10),bufferFullTimeout:parseInt(null!==WE&&void 0!==WE?WE:"",10),videoTimeout:parseInt(null!==GE&&void 0!==GE?GE:"",10),vpaidTimeout:parseInt(null!==YE&&void 0!==YE?YE:"",10)},e=>o(e)),non_preroll:zr({bufferEmptyLimit:parseInt(null!==UE&&void 0!==UE?UE:"",10),bufferFullTimeout:parseInt(null!==xE&&void 0!==xE?xE:"",10),videoTimeout:parseInt(null!==FE&&void 0!==FE?FE:"",10),vpaidTimeout:parseInt(null!==HE&&void 0!==HE?HE:"",10)},e=>o(e))};const XE={bufferEmptyLimit:5,bufferFullTimeout:5e3,videoTimeout:5e3,vpaidTimeout:5e3},KE=e=>Object(Zo.a)(e,e=>Go({},e,XE,qE["preroll"===e.adType?"preroll":"non_preroll"]));!function(e,t){at({videoAd:{loadedModules:{[e]:t},modules:{[Ns.a]:{[e]:t}}}},"ya")}("Multiroll",{AdLoader:{create:(e,t,i)=>(async function(e,t,i,r){void 0===t&&(t=!1),void 0===i&&(i="preroll"),void 0===r&&(r=ds);const{adConfig:n,adBreak:a,warnings:o}=Eo(e,t,i);ie(o);const{adFoxParameters:s}=n;if(s){const e=a||nE,t=new tE;return t.adBreaks=[e],new kT({adConfig:n,whenVmapLoaded:Promise.resolve(t),adBreak:e,adPlacementOptions:r})}if(a){const e=new tE;return e.adBreaks=[a],new kT({adConfig:n,whenVmapLoaded:Promise.resolve(e),adBreak:e.adBreaks[0],adPlacementOptions:r})}if(n.vmap){const e=aE(n.vmap);return new kT({adConfig:n,whenVmapLoaded:Promise.resolve(e),adPlacementOptions:r})}const d=tE.load(n,r),l=new kT({adConfig:n,whenVmapLoaded:d,adPlacementOptions:r});return l.addDestroyHandler(fa(()=>{l.destroy()},null!==Yo.a&&void 0!==Yo.a?Yo.a:window)),d.catch(()=>{l.destroy()}),d.then(()=>l)})(e,t,i).then(e=>e.getPublicInstance())},loadMultiroll:async function(e,t){cs.c.event({name:"MultirollLoadStart",data:{adConfig:e},probability:us.a});const i=function(e,t){if(!Object(is.a)(e))return{errorCode:"NON_OBJECT_MULTIROLL_CONFIG"};const{preroll:i,midroll:r,postroll:n,getPreloadParams:a}=e,s=e=>{let{callback:i,exceptionCode:r}=e;const n=Object(ad.a)(e=>t(e,r));return function(){try{return i(...arguments)}catch(e){n(e)}return{}}};if(!Object(is.a)(i))return{errorCode:"NON_OBJECT_PREROLL_MULTIROLL_CONFIG"};const d=i.shouldPreload;if(!Object(Cs.a)(d))return{errorCode:"NON_FUNCTION_PREROLL_SHOULD_PRELOAD"};const l=s({callback:()=>{const e=d();if("boolean"!==typeof e)throw new Error("invalid result=["+e+"]");return e},exceptionCode:"PREROLL_SHOULD_PRELOAD_EXCEPTION"});if(!Object(is.a)(r))return{errorCode:"NON_OBJECT_MIDROLL_MULTIROLL_CONFIG"};const c=r.preloadMinTime;if(!J(c))return{errorCode:"INVALID_MIDROLL_PRELOAD_MIN_TIME"};const u=r.preloadOffset;if(!o(u))return{errorCode:"INVALID_MIDROLL_PRELOAD_OFFSET"};if(!Object(is.a)(n))return{errorCode:"NON_OBJECT_POSTROLL_MULTIROLL_CONFIG"};const h=n.preloadMinTime;if(!J(h))return{errorCode:"INVALID_POSTROLL_PRELOAD_MIN_TIME"};const p=n.preloadOffset;return o(p)?Object(Cs.a)(a)?{config:{preroll:{shouldPreload:l},midroll:{preloadMinTime:c,preloadOffset:u},postroll:{preloadMinTime:h,preloadOffset:p},getPreloadParams:s({callback:()=>{const e=a();if(!Object(is.a)(e))throw new Error("result=["+e+"]");const{videoSlot:t,preloadTimeout:i,width:r,height:n,viewMode:s,desiredBitrate:d,preloadJS:l,preloadVideo:c}=e;if(!dr(t))throw new Error("videoSlot=["+t+"]");if(void 0!==i&&!J(i))throw new Error("preloadTimeout=["+i+"]");if(void 0!==r&&!J(r))throw new Error("width=["+r+"]");if(void 0!==n&&!J(n))throw new Error("height=["+n+"]");if(void 0!==d&&!o(d))throw new Error("desiredBitrate=["+d+"]");if(void 0!==l&&"boolean"!==typeof l)throw new Error("preloadJS=["+l+"]");if(void 0!==c&&"boolean"!==typeof c)throw new Error("preloadVideo=["+c+"]");return{videoSlot:t,preloadTimeout:i,width:r,height:n,viewMode:s,desiredBitrate:d,preloadJS:l,preloadVideo:c}},exceptionCode:"GET_PRELOAD_PARAMS_EXCEPTION"})}}:{errorCode:"NON_FUNCTION_GET_PRELOAD_PARAMS"}:{errorCode:"INVALID_POSTROLL_PRELOAD_OFFSET"}}(t,(i,r)=>{cs.c.error({error:new ls.a(i,{code:r,details:{adConfig:e,config:t}})})});if(i.errorCode){const r=new ls.a({code:i.errorCode,details:{adConfig:e,config:t}});throw cs.c.error({error:r}),r}const r=i.config,{config:n,errors:a}=function(e){let t;const i=[];if(Object(is.a)(e)){const{config:r,errors:n}=zo(e.adBreaks);t=r,i.push(...n)}const{config:r,errors:n}=mo(e);return i.push(...n),{config:Wo({},r,{adBreaks:t}),errors:i}}(e);ie(a);const{videoSlot:s}=r.getPreloadParams();if(!dr(s)){const e=new ls.a({code:"NON_REAL_VIDEO_ELEMENT_PASSED_IN_MULTIROLL",details:void 0});throw cs.c.error({error:e}),e}const d=new wm;d.start(s);const l=()=>{d.destroy()},c=new cv(s),u=new Tv(s,{numberOfMeasurementSteps:Zm}),h=()=>{c.destroy(),u.destroy(),l()};let p,A;if(n.adBreaks){if(0===n.adBreaks.length)throw h(),new ls.a({code:"MULTIROLL_HAS_NO_AD_BREAKS_TO_SHOW",details:{adConfig:e,multirollConfig:r}});p=Object(Zo.a)(n.adBreaks,Ho),A=!1}else{const e=c.getSize(),t=Dr({win:window,videoNode:s,slotSize:e,videoSlotSize:e,slotVisibilityRatio:u.totalVisibilityRatioValueSignal.getValue(),bufferingTime:d.getBufferingTime()});try{const e=Object(rd.a)(n.vmap)?aE(n.vmap):await tE.load(n,t);p=e.adBreaks,A=e.isSingleVideoSession,cs.c.event({name:A?"VMAPSingleVideoSessionEnabled":"VMAPSingleVideoSessionDisabled",data:{vmap:e,adConfig:n},probability:us.a})}catch(_){throw h(),_}}const m=KE(p),v=new BE({adConfig:n,multirollConfig:r,adBreaks:m,slotSizeSensor:c,slotVisibilitySensor:u,getBufferingTime:()=>d.getBufferingTime(),destroyVideoBufferingTimeHandler:l,isSingleVideoSession:A}),f=v.getPublicObject();return qp.a&&(Eh.videoAd.debugParameters.multiroll=f),v.addDestroyHandler(fa(()=>{f.destroy()},null!==Yo.a&&void 0!==Yo.a?Yo.a:window)),f}})}]);